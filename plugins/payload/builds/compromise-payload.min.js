var t,e;t=this,e=function(){var t=function(t){t.getPayloads().forEach((t=>{let{match:e,val:o}=t;console.log("\n────────"),e.debug("highlight"),console.log("    ",JSON.stringify(o)),console.log("\n")}))};return{mutate:function(e){e.model.one.db={},e.methods.one.debug.payload=t},api:function(t){t.prototype.getPayloads=function(){let t=[],e=this.world.model.one.db||{};return this.fullPointer.forEach((o=>{let l=o[0];if(e.hasOwnProperty(l)){let n=this.update([o]);e[l].forEach((e=>{let o=this.update([e.ptr]);n.has(o)&&(t=t.concat({match:o,val:e.val}))}))}})),t},t.prototype.addPayload=function(t){let e=this.world.model.one.db||{};return this.fullPointer.forEach((o=>{let l=o[0];if(e[l]=e[l]||[],"function"==typeof t){let n=this.update([o]),a=t(n);null!=a&&e[l].push({ptr:o,val:a})}else e[l].push({ptr:o,val:t})})),this},t.prototype.clearPayloads=function(){let t=this.world.model.one.db||{};return this.getPayloads().forEach((e=>{let o=e.match.fullPointer[0]||[],[l,n,a]=o;t[l]=t[l]||[],t[l]=t[l].filter((t=>t.ptr[1]!==n||t.ptr[2]!==a)),0===t[l].length&&delete t[l]})),this}}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).compromisePayload=e();

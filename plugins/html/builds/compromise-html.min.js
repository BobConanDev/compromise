!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).compromiseHtml=n()}(this,(function(){"use strict";function e(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var n=function e(n,t,r,o){var i;t[0]=0;for(var u=1;u<t.length;u++){var f=t[u++],s=t[u]?(t[0]|=f?1:2,r[t[u++]]):t[++u];3===f?o[0]=s:4===f?o[1]=Object.assign(o[1]||{},s):5===f?(o[1]=o[1]||{})[t[++u]]=s:6===f?o[1][t[++u]]+=s+"":f?(i=n.apply(s,e(n,s,r,["",null])),o.push(i),s[0]?t[0]|=2:(t[u-2]=0,t[u]=i)):o.push(s)}return o},t=new Map;var r=Object.freeze({__proto__:null,default:function(e){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(e)||(r.set(e,r=function(e){for(var n,t,r=1,o="",i="",u=[0],f=function(e){1===r&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,e,o):3===r&&(e||o)?(u.push(3,e,o),r=2):2===r&&"..."===o&&e?u.push(4,e,0):2===r&&o&&!e?u.push(5,0,!0,o):r>=5&&((o||!e&&5===r)&&(u.push(r,0,o,t),r=6),e&&(u.push(r,e,0,t),r=6)),o=""},s=0;s<e.length;s++){s&&(1===r&&f(),f(s));for(var a=0;a<e[s].length;a++)n=e[s][a],1===r?"<"===n?(f(),u=[u],r=3):o+=n:4===r?"--"===o&&">"===n?(r=1,o=""):o=n+o[0]:i?n===i?i="":o+=n:'"'===n||"'"===n?i=n:">"===n?(f(),r=1):r&&("="===n?(r=5,t=o,o=""):"/"===n&&(r<5||">"===e[s][a+1])?(f(),3===r&&(u=u[0]),r=u,(u=u[0]).push(2,0,r),r=0):" "===n||"\t"===n||"\n"===n||"\r"===n?(f(),r=2):o+=n),3===r&&"!--"===o&&(r=4,u=u[0])}return f(),u}(e)),r),arguments,[])).length>1?r:r[0]}});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function o(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var i,u,f=function(e){var n={exports:{}};return e(n,n.exports),n.exports}((function(e,n){e.exports=function(){var e=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],n=function(e){return String(e).replace(/[&<>"']/g,(function(e){return"&"+t[e]+";"}))},t={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},r="dangerouslySetInnerHTML",o={className:"class",htmlFor:"for"},i={};function u(t,u){var f=[],s="";u=u||{};for(var a=arguments.length;a-- >2;)f.push(arguments[a]);if("function"==typeof t)return u.children=f.reverse(),t(u);if(t){if(s+="<"+t,u)for(var l in u)!1!==u[l]&&null!=u[l]&&l!==r&&(s+=" "+(o[l]?o[l]:n(l))+'="'+n(u[l])+'"');s+=">"}if(-1===e.indexOf(t)){if(u[r])s+=u[r].__html;else for(;f.length;){var p=f.pop();if(p)if(p.pop)for(var c=p.length;c--;)f.push(p[c]);else s+=!0===i[p]?p:n(p)}s+=t?"</"+t+">":""}return i[s]=!0,s}return u}()})),s=o(r),a=function(n,t,r){var o=s.bind(f);r.bind&&(o=s.bind(r.bind));var a=[];return n.segment(t).forEach((function(n){var t=o(i||(i=e(["<span class=",">","</span>"])),n.segment,n.text);a.push(t)})),o(u||(u=e(["<pre>","</pre>"])),a)};return function(e){e.prototype.html=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(this,e,n)}}}));

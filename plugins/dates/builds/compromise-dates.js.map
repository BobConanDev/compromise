{"version":3,"file":"compromise-dates.js","sources":["../src/01-tagger/00-basic.js","../src/01-tagger/01-values.js","../src/01-tagger/02-dates.js","../src/01-tagger/03-sections.js","../src/01-tagger/04-time.js","../src/01-tagger/05-shifts.js","../src/01-tagger/06-intervals.js","../src/01-tagger/07-timezone.js","../src/01-tagger/08-fixup.js","../src/01-tagger/index.js","../src/data/_tags.js","../node_modules/spacetime/builds/spacetime.js","../src/data/_timezones.js","../src/data/words/dates.js","../src/data/words/durations.js","../src/data/words/holidays.js","../src/data/words/times.js","../src/data/words/index.js","../src/parseDate/units/Unit.js","../src/parseDate/units/_day.js","../src/parseDate/units/_year.js","../src/parseDate/units/_week.js","../src/parseDate/units/_time.js","../src/parseDate/units/index.js","../src/parseDate/01-tokenize/01-shift.js","../src/parseDate/01-tokenize/02-counter.js","../src/parseDate/01-tokenize/03-time.js","../src/parseDate/01-tokenize/04-relative.js","../src/parseDate/01-tokenize/05-section.js","../src/parseDate/01-tokenize/06-timezone.js","../src/parseDate/01-tokenize/07-weekday.js","../src/parseDate/02-parse/01-today.js","../node_modules/spacetime-holiday/builds/spacetime-holiday.js","../src/parseDate/02-parse/02-holidays.js","../src/parseDate/02-parse/03-next-last.js","../src/parseDate/02-parse/04-yearly.js","../src/parseDate/02-parse/05-explicit.js","../src/parseDate/03-transform/addCounter.js","../src/parseDate/parse.js","../src/02-ranges/intervals.js","../src/02-ranges/ranges.js","../src/02-ranges/index.js","../src/normalize.js","../src/generate.js","../src/parse.js","../src/data/_abbrevs.js","../src/methods.js","../src/durations/parse.js","../src/durations/index.js","../src/times/parse.js","../src/times/index.js","../src/find.js","../src/index.js"],"sourcesContent":["//ambiguous 'may' and 'march'\nconst preps = '(in|by|before|during|on|until|after|of|within|all)' //6\nconst thisNext = '(last|next|this|previous|current|upcoming|coming)' //2\nconst sections = '(start|end|middle|starting|ending|midpoint|beginning)' //2\nconst seasons = '(spring|summer|winter|fall|autumn)'\n\n//ensure a year is approximately typical for common years\n//please change in one thousand years\nconst tagYear = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1000 && num < 3000) {\n      p.tag('Year', reason)\n    }\n  })\n}\n//same, but for less-confident values\nconst tagYearSafe = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1900 && num < 2030) {\n      p.tag('Year', reason)\n    }\n  })\n}\n\nconst tagDates = function (doc) {\n  // in the evening\n  doc.match('in the (night|evening|morning|afternoon|day|daytime)').tag('Time', 'in-the-night')\n  // 8 pm\n  doc.match('(#Value|#Time) (am|pm)').tag('Time', 'value-ampm')\n  // 22-aug\n  // doc.match('/^[0-9]{2}-(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov)/').tag('Date', '20-jan')\n  // 2012-06\n  doc.match('/^[0-9]{4}-[0-9]{2}$/').tag('Date', '2012-06')\n\n  // misc weekday words\n  doc.match('(tue|thu)').tag('WeekDay', 'misc-weekday')\n\n  //months:\n  let month = doc.if('#Month')\n  if (month.found === true) {\n    //June 5-7th\n    month.match(`#Month #Date+`).tag('Date', 'correction-numberRange')\n    //5th of March\n    month.match('#Value of #Month').tag('Date', 'value-of-month')\n    //5 March\n    month.match('#Cardinal #Month').tag('Date', 'cardinal-month')\n    //march 5 to 7\n    month.match('#Month #Value to #Value').tag('Date', 'value-to-value')\n    //march the 12th\n    month.match('#Month the #Value').tag('Date', 'month-the-value')\n  }\n\n  //months:\n  let val = doc.if('#Value')\n  if (val.found === true) {\n    //june 7\n    val.match('(#WeekDay|#Month) #Value').ifNo('#Money').tag('Date', 'date-value')\n\n    //7 june\n    val.match('#Value (#WeekDay|#Month)').ifNo('#Money').tag('Date', 'value-date')\n\n    //may twenty five\n    val.match('#TextValue #TextValue').if('#Date').tag('#Date', 'textvalue-date')\n\n    //two thursdays back\n    val.match('#Value (#WeekDay|#Duration) back').tag('#Date', '3-back')\n\n    //eg 'year'\n    let duration = val.if('#Duration')\n    if (duration.found === true) {\n      //for 4 months\n      duration.match('for #Value #Duration').tag('Date', 'for-x-duration')\n      //two days before\n      duration.match('#Value #Duration #Conjunction').tag('Date', 'val-duration-conjunction')\n      //for four days\n      duration.match(`${preps}? #Value #Duration`).tag('Date', 'value-duration')\n      //two years old\n      duration.match('#Value #Duration old').unTag('Date', 'val-years-old')\n    }\n  }\n\n  //seasons\n  let season = doc.if(seasons)\n  if (season.found === true) {\n    season.match(`${preps}? ${thisNext} ${seasons}`).tag('Date', 'thisNext-season')\n    season.match(`the? ${sections} of ${seasons}`).tag('Date', 'section-season')\n    season.match(`${seasons} ${preps}? #Cardinal`).tag('Date', 'season-year')\n  }\n\n  //rest-dates\n  let date = doc.if('#Date')\n  if (date.found === true) {\n    //june the 5th\n    date.match('#Date the? #Ordinal').tag('Date', 'correction')\n    //last month\n    date.match(`${thisNext} #Date`).tag('Date', 'thisNext-date')\n    //by 5 March\n    date.match('due? (by|before|after|until) #Date').tag('Date', 'by')\n    //next feb\n    date.match('(last|next|this|previous|current|upcoming|coming|the) #Date').tag('Date', 'next-feb')\n    //start of june\n    date.match(`the? ${sections} of #Date`).tag('Date', 'section-of')\n    //fifth week in 1998\n    date.match('#Ordinal #Duration in #Date').tag('Date', 'duration-in')\n    //early in june\n    date.match('(early|late) (at|in)? the? #Date').tag('Time', 'early-evening')\n    //tomorrow before 3\n    date.match('#Date (by|before|after|at|@|about) #Cardinal').not('^#Date').tag('Time', 'date-before-Cardinal')\n    //saturday am\n    date.match('#Date [(am|pm)]', 0).unTag('Verb').unTag('Copula').tag('Time', 'date-am')\n    //feb to june\n    date.match('#Date (#Preposition|to) #Date').ifNo('#Duration').tag('Date', 'date-prep-date')\n    //2nd quarter of 2019\n    // date.match('#Date of #Date').tag('Date', 'date-of-date')\n  }\n\n  //year/cardinal tagging\n  let cardinal = doc.if('#Cardinal')\n  if (cardinal.found === true) {\n    let v = cardinal.match(`#Date #Value [#Cardinal]`, 0)\n    tagYear(v, 'date-value-year')\n    //scoops up a bunch\n    v = cardinal.match(`#Date [#Cardinal]`, 0)\n    tagYearSafe(v, 'date-year')\n    //middle of 1999\n    v = cardinal.match(`${sections} of [#Cardinal]`)\n    tagYearSafe(v, 'section-year')\n    //feb 8 2018\n    v = cardinal.match(`#Month #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-value-year')\n    //feb 8 to 10th 2018\n    v = cardinal.match(`#Month #Value to #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-range-year')\n    //in 1998\n    v = cardinal.match(`(in|of|by|during|before|starting|ending|for|year|since) [#Cardinal]`, 0)\n    tagYear(v, 'in-year-1')\n    //q2 2009\n    v = cardinal.match('(q1|q2|q3|q4) [#Cardinal]', 0)\n    tagYear(v, 'in-year-2')\n    //2nd quarter 2009\n    v = cardinal.match('#Ordinal quarter of? [#Cardinal]', 0)\n    tagYear(v, 'in-year-3')\n    //in the year 1998\n    v = cardinal.match('the year [#Cardinal]', 0)\n    tagYear(v, 'in-year-4')\n    //it was 1998\n    v = cardinal.match('it (is|was) [#Cardinal]', 0)\n    tagYearSafe(v, 'in-year-5')\n    // re-tag this part\n    cardinal.match(`${sections} of #Year`).tag('Date')\n    //between 1999 and 1998\n    let m = cardinal.match('between [#Cardinal] and [#Cardinal]')\n    tagYear(m.groups('0'), 'between-year-and-year-1')\n    tagYear(m.groups('1'), 'between-year-and-year-2')\n  }\n\n  let time = doc.if('#Time')\n  if (time.found === true) {\n    //by 6pm\n    time.match('(by|before|after|at|@|about) #Time').tag('Time', 'preposition-time')\n    //7 7pm\n    // time.match('#Cardinal #Time').not('#Year').tag('Time', 'value-time')\n    // //2pm est\n    // time.match('#Time [(eastern|pacific|central|mountain)]', 0).tag('Date', 'timezone')\n    // //6pm est\n    // time.match('#Time [(est|pst|gmt)]', 0).tag('Date', 'timezone abbr')\n  }\n  //'2020' bare input\n  let m = doc.match('^/^20[012][0-9]$/$')\n  tagYearSafe(m, '2020-ish')\n\n  // in 20mins\n  doc.match('(in|after) /^[0-9]+(min|sec|wk)s?/').tag('Date', 'shift-units')\n  //tuesday night\n  doc.match('#Date [(now|night|sometime)]', 0).tag('Time', 'date-now')\n  // 4 days from now\n  doc.match('(from|starting|until|by) now').tag('Date', 'for-now')\n  // every night\n  doc.match('(each|every) night').tag('Date', 'for-now')\n  return doc\n}\nmodule.exports = tagDates\n","const here = 'date-values'\n//\nconst values = function (doc) {\n  // a year ago\n  if (!doc.has('once [a] #Duration')) {\n    doc.match('[a] #Duration', 0).replaceWith('1').tag('Cardinal', here)\n  }\n  if (doc.has('#Value')) {\n    //june 5 to 7th\n    doc.match('#Month #Value to #Value of? #Year?').tag('Date', here)\n    //5 to 7th june\n    doc.match('#Value to #Value of? #Month #Year?').tag('Date', here)\n    //third week of may\n    doc.match('#Value #Duration of #Date').tag('Date', here)\n    //two days after\n    doc.match('#Value+ #Duration (after|before|into|later|afterwards|ago)?').tag('Date', here)\n    //two days\n    doc.match('#Value #Date').tag('Date', here)\n    //june 5th\n    doc.match('#Date #Value').tag('Date', here)\n    //tuesday at 5\n    doc.match('#Date #Preposition #Value').tag('Date', here)\n    //tomorrow before 3\n    doc.match('#Date (after|before|during|on|in) #Value').tag('Date', here)\n    //a year and a half\n    doc.match('#Value (year|month|week|day) and a half').tag('Date', here)\n    //5 and a half years\n    doc.match('#Value and a half (years|months|weeks|days)').tag('Date', here)\n    //on the fifth\n    doc.match('on the #Ordinal').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = values\n","const here = 'date-tagger'\n//\nconst dateTagger = function (doc) {\n  doc.match('(spring|summer|winter|fall|autumn|springtime|wintertime|summertime)').match('#Noun').tag('Season', here)\n  doc.match('(q1|q2|q3|q4)').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) quarter').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) season').tag('Season', here)\n\n  if (doc.has('#Date')) {\n    //friday to sunday\n    doc.match('#Date #Preposition #Date').tag('Date', here)\n    //once a day..\n    doc.match('(once|twice) (a|an|each) #Date').tag('Date', here)\n    //tuesday\n    doc.match('#Date+').tag('Date', here)\n    //by June\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', 'until-june')\n    //a year after..\n    doc.match('a #Duration').tag('Date', here)\n    //between x and y\n    doc.match('(between|from) #Date').tag('Date', here)\n    doc.match('(to|until|upto) #Date').tag('Date', here)\n    doc.match('#Date and #Date').tag('Date', here)\n    //during this june\n    doc.match('(by|until|after|before|during|on|in|following|since) (next|this|last)? (#Date|#Date)').tag('Date', here)\n    //day after next\n    doc.match('the? #Date after next one?').tag('Date', here)\n    //approximately...\n    doc.match('(about|approx|approximately|around) #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = dateTagger\n","const here = 'section-tagger'\n//\nconst sectionTagger = function (doc) {\n  if (doc.has('#Date')) {\n    // //next september\n    doc.match('this? (last|next|past|this|previous|current|upcoming|coming|the) #Date').tag('Date', here)\n    //starting this june\n    doc.match('(starting|beginning|ending) #Date').tag('Date', here)\n    //start of june\n    doc.match('the? (start|end|middle|beginning) of (last|next|this|the) (#Date|#Date)').tag('Date', here)\n    //this coming june\n    doc.match('(the|this) #Date').tag('Date', here)\n    //january up to june\n    doc.match('#Date up to #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = sectionTagger\n","const here = 'time-tagger'\n\n//\nconst timeTagger = function (doc) {\n  // 2 oclock\n  doc.match('#Cardinal oclock').tag('Time', here)\n  // 13h30\n  doc.match('/^[0-9]{2}h[0-9]{2}$/').tag('Time', here)\n  // 03/02\n  doc.match('/^[0-9]{2}/[0-9]{2}/').tag('Date', here).unTag('Value')\n  // 3 in the morning\n  doc.match('[#Value] (in|at) the? (morning|evening|night|nighttime)').tag('Time', here)\n  if (doc.has('#Cardinal') && !doc.has('#Month')) {\n    // quarter to seven (not march 5 to 7)\n    doc.match('1? (half|quarter|25|15|10|5) (past|after|to) #Cardinal').tag('Time', here)\n    // ten to seven\n    doc.match('(5|10|15|20|five|ten|fifteen|20) (to|after|past) [<hour>#Cardinal]').tag('Time', here) //add check for 1 to 1 etc.\n  }\n  //timezone\n  if (doc.has('#Date')) {\n    // iso  (2020-03-02T00:00:00.000Z)\n    doc.match('/^[0-9]{4}[:-][0-9]{2}[:-][0-9]{2}T[0-9]/').tag('Time', here)\n    // tuesday at 4\n    doc.match('#Date [at #Cardinal]', 0).notIf('#Year').tag('Time', here)\n    // half an hour\n    doc.match('half an (hour|minute|second)').tag('Date', here)\n    // in eastern time\n    doc.match('(in|for|by|near|at) #Timezone').tag('Timezone', here)\n  }\n  // around four thirty\n  doc.match('(at|around|near) [#Cardinal (thirty|fifteen) (am|pm)?]', 0).tag('Time', here)\n  return doc\n}\nmodule.exports = timeTagger\n","const here = 'shift-tagger'\n//\nconst shiftTagger = function (doc) {\n  if (doc.has('#Date')) {\n    //'two days before'/ 'nine weeks frow now'\n    doc.match('#Cardinal #Duration (before|after|ago|from|hence|back)').tag('DateShift', here)\n    // in two weeks\n    doc.match('in #Cardinal #Duration').tag('DateShift', here)\n    // in a few weeks\n    doc.match('in a (few|couple) of? #Duration').tag('DateShift', here)\n    //two weeks and three days before\n    doc.match('#Cardinal #Duration and? #DateShift').tag('DateShift', here)\n    doc.match('#DateShift and #Cardinal #Duration').tag('DateShift', here)\n    // 'day after tomorrow'\n    doc.match('[#Duration (after|before)] #Date', 0).tag('DateShift', here)\n    // in half an hour\n    doc.match('in half (a|an) #Duration').tag('DateShift', here)\n  }\n  return doc\n}\nmodule.exports = shiftTagger\n","const tagIntervals = function (doc) {\n  // july 3rd and 4th\n  doc.match('#Month #Ordinal and #Ordinal').tag('Date', 'ord-and-ord')\n  // every other week\n  doc.match('every other #Duration').tag('Date', 'every-other')\n  // every weekend\n  doc.match('(every|any|each|a) (day|weekday|week day|weekend|weekend day)').tag('Date', 'any-weekday')\n  // any-wednesday\n  doc.match('(every|any|each|a) (#WeekDay)').tag('Date', 'any-wednesday')\n  // any week\n  doc.match('(every|any|each|a) (#Duration)').tag('Date', 'any-week')\n}\nmodule.exports = tagIntervals\n","// timezone abbreviations\n// (from spencermountain/timezone-soft)\nconst zones = [\n  'act',\n  'aft',\n  'akst',\n  'anat',\n  'art',\n  'azot',\n  'azt',\n  'bnt',\n  'bot',\n  'bt',\n  'cast',\n  'cat',\n  'cct',\n  'chast',\n  'chut',\n  'ckt',\n  'cvt',\n  'cxt',\n  'davt',\n  'eat',\n  'ect',\n  'fjt',\n  'fkst',\n  'fnt',\n  'gamt',\n  'get',\n  'gft',\n  'gilt',\n  'gyt',\n  'hast',\n  'hncu',\n  'hneg',\n  'hnnomx',\n  'hnog',\n  'hnpm',\n  'hnpmx',\n  'hntn',\n  'hovt',\n  'iot',\n  'irkt',\n  'jst',\n  'kgt',\n  'kost',\n  'lint',\n  'magt',\n  'mart',\n  'mawt',\n  'mmt',\n  'nct',\n  'nft',\n  'novt',\n  'npt',\n  'nrt',\n  'nut',\n  'nzst',\n  'omst',\n  'pet',\n  'pett',\n  'phot',\n  'phst',\n  'pont',\n  'pwt',\n  'ret',\n  'sakt',\n  'samt',\n  'sbt',\n  'sct',\n  'sret',\n  'srt',\n  'syot',\n  'taht',\n  'tft',\n  'tjt',\n  'tkt',\n  'tlt',\n  'tmt',\n  'tot',\n  'tvt',\n  'ulat',\n  'vut',\n  'wakt',\n  'wat',\n  'wet',\n  'wft',\n  'wit',\n  'wst',\n  'yekt',\n].reduce((h, str) => {\n  h[str] = true\n  return h\n}, {})\n\nconst tagTz = function (doc) {\n  // 4pm PST\n  let m = doc.match('#Time [#Acronym]', 0)\n  if (m.found) {\n    let str = m.text('reduced')\n    if (zones[str] === true) {\n      m.tag('Timezone', 'tz-abbr')\n    }\n  }\n}\nmodule.exports = tagTz\n","const here = 'fix-tagger'\n//\nconst fixUp = function (doc) {\n  //fixups\n  if (doc.has('#Date')) {\n    //first day by monday\n    let oops = doc.match('#Date+ by #Date+')\n    if (oops.found && !oops.has('^due')) {\n      oops.match('^#Date+').unTag('Date', 'by-monday')\n    }\n\n    let d = doc.match('#Date+')\n    //'spa day'\n    d.match('^day$').unTag('Date', 'spa-day')\n    // tomorrow's meeting\n    d.match('(in|of|by|for)? (#Possessive && #Date)').unTag('Date', 'tomorrows meeting')\n\n    let knownDate = '(yesterday|today|tomorrow)'\n    if (d.has(knownDate)) {\n      //yesterday 7\n      d.match(`${knownDate} [#Value]$`).unTag('Date', 'yesterday-7')\n      //7 yesterday\n      d.match(`^[#Value] ${knownDate}$`, 0).unTag('Date', '7 yesterday')\n      //friday yesterday\n      d.match(`#WeekDay+ ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'fri-yesterday')\n\n      // yesterday yesterday\n      // d.match(`${knownDate}+ ${knownDate}$`)\n      //   .unTag('Date')\n      //   .lastTerm()\n      //   .tag('Date', here)\n      // d.match(`(this|last|next) #Date ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'this month yesterday')\n    }\n    //tomorrow on 5\n    d.match(`on #Cardinal$`).unTag('Date', here)\n    //this tomorrow\n    d.match(`this tomorrow`).terms(0).unTag('Date', 'this-tomorrow')\n    //q2 2019\n    d.match(`(q1|q2|q3|q4) #Year`).tag('Date', here)\n    //5 tuesday\n    // d.match(`^#Value #WeekDay`).terms(0).unTag('Date');\n    //5 next week\n    d.match(`^#Value (this|next|last)`).terms(0).unTag('Date', here)\n\n    if (d.has('(last|this|next)')) {\n      //this month 7\n      d.match(`(last|this|next) #Duration #Value`).terms(2).unTag('Date', here)\n      //7 this month\n      d.match(`!#Month #Value (last|this|next) #Date`).terms(0).unTag('Date', here)\n    }\n    //january 5 5\n    if (d.has('(#Year|#Time|#TextValue|#NumberRange)') === false) {\n      d.match('(#Month|#WeekDay) #Value #Value').terms(2).unTag('Date', here)\n    }\n    //between june\n    if (d.has('^between') && !d.has('and .')) {\n      d.unTag('Date', here)\n    }\n    //june june\n    if (d.has('#Month #Month') && !d.has('@hasHyphen') && !d.has('@hasComma')) {\n      d.match('#Month').lastTerm().unTag('Date', 'month-month')\n    }\n    // log the hours\n    if (d.has('(minutes|seconds|weeks|hours|days|months)') && !d.has('#Value #Duration')) {\n      d.match('(minutes|seconds|weeks|hours|days|months)').unTag('Date', 'log-hours')\n    }\n    // about thanksgiving\n    if (d.has('about #Holiday')) {\n      d.match('about').unTag('#Date', 'about-thanksgiving')\n    }\n\n    // second quarter of 2020\n    d.match('#Ordinal quarter of? #Year').unTag('Fraction')\n\n    // a month from now\n    d.match('(from|by|before) now').unTag('Time')\n    // dangling date-chunks\n    // if (d.has('!#Date (in|of|by|for) !#Date')) {\n    //   d.unTag('Date', 'dangling-date')\n    // }\n    // the day after next\n    d.match('#Date+').match('^the').unTag('Date')\n  }\n  return doc\n}\nmodule.exports = fixUp\n","const methods = [\n  require('./00-basic'),\n  require('./01-values'),\n  require('./02-dates'),\n  require('./03-sections'),\n  require('./04-time'),\n  require('./05-shifts'),\n  require('./06-intervals'),\n  require('./07-timezone'),\n  require('./08-fixup'),\n]\n\n// normalizations to run before tagger\nconst normalize = function (doc) {\n  // turn '20mins' into '20 mins'\n  if (typeof doc.numbers === 'function') {\n    doc.numbers().normalize()\n  } else {\n    console.warn(\n      `Warning: compromise-numbers plugin is not loaded.\\n   You should load this plugin \\n     - https://bit.ly/3t8RfFG`\n    )\n  }\n  return doc\n}\n\n// run each of the taggers\nconst tagDate = function (doc) {\n  doc = normalize(doc)\n  // run taggers\n  methods.forEach((fn) => fn(doc))\n  return doc\n}\nmodule.exports = tagDate\n","module.exports = {\n  FinancialQuarter: {\n    isA: 'Date',\n    notA: 'Fraction',\n  },\n  // 'summer'\n  Season: {\n    isA: 'Date',\n  },\n  // '1982'\n  Year: {\n    isA: ['Date'],\n    notA: 'RomanNumeral',\n  },\n  // 'months'\n  Duration: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'easter'\n  Holiday: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'two weeks before'\n  DateShift: {\n    isA: ['Date'],\n    notA: ['TimeZone', 'Holiday'],\n  },\n}\n","/* spencermountain/spacetime 6.13.1 Apache 2.0 */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.spacetime = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var MSEC_IN_HOUR = 60 * 60 * 1000; //convert our local date syntax a javascript UTC date\n\n  var toUtc = function toUtc(dstChange, offset, year) {\n    var _dstChange$split = dstChange.split('/'),\n        _dstChange$split2 = _slicedToArray(_dstChange$split, 2),\n        month = _dstChange$split2[0],\n        rest = _dstChange$split2[1];\n\n    var _rest$split = rest.split(':'),\n        _rest$split2 = _slicedToArray(_rest$split, 2),\n        day = _rest$split2[0],\n        hour = _rest$split2[1];\n\n    return Date.UTC(year, month - 1, day, hour) - offset * MSEC_IN_HOUR;\n  }; // compare epoch with dst change events (in utc)\n\n\n  var inSummerTime = function inSummerTime(epoch, start, end, summerOffset, winterOffset) {\n    var year = new Date(epoch).getUTCFullYear();\n    var startUtc = toUtc(start, winterOffset, year);\n    var endUtc = toUtc(end, summerOffset, year); // simple number comparison now\n\n    return epoch >= startUtc && epoch < endUtc;\n  };\n\n  var summerTime = inSummerTime;\n\n  // it reproduces some things in ./index.js, but speeds up spacetime considerably\n\n  var quickOffset = function quickOffset(s) {\n    var zones = s.timezones;\n    var obj = zones[s.tz];\n\n    if (obj === undefined) {\n      console.warn(\"Warning: couldn't find timezone \" + s.tz);\n      return 0;\n    }\n\n    if (obj.dst === undefined) {\n      return obj.offset;\n    } //get our two possible offsets\n\n\n    var jul = obj.offset;\n    var dec = obj.offset + 1; // assume it's the same for now\n\n    if (obj.hem === 'n') {\n      dec = jul - 1;\n    }\n\n    var split = obj.dst.split('->');\n    var inSummer = summerTime(s.epoch, split[0], split[1], jul, dec);\n\n    if (inSummer === true) {\n      return jul;\n    }\n\n    return dec;\n  };\n\n  var quick = quickOffset;\n\n  var _build = {\n  \t\"9|s\": \"2/dili,2/jayapura\",\n  \t\"9|n\": \"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau\",\n  \t\"9.5|s|04/04:03->10/03:02\": \"4/adelaide,4/broken_hill,4/south,4/yancowinna\",\n  \t\"9.5|s\": \"4/darwin,4/north\",\n  \t\"8|s|03/08:01->10/04:00\": \"12/casey\",\n  \t\"8|s\": \"2/kuala_lumpur,2/makassar,2/singapore,4/perth,4/west\",\n  \t\"8|n|03/25:03->09/29:23\": \"2/ulan_bator\",\n  \t\"8|n\": \"2/brunei,2/choibalsan,2/chongqing,2/chungking,2/harbin,2/hong_kong,2/irkutsk,2/kuching,2/macao,2/macau,2/manila,2/shanghai,2/taipei,2/ujung_pandang,2/ulaanbaatar\",\n  \t\"8.75|s\": \"4/eucla\",\n  \t\"7|s\": \"12/davis,2/jakarta,9/christmas\",\n  \t\"7|n\": \"2/bangkok,2/barnaul,2/ho_chi_minh,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/saigon,2/tomsk,2/vientiane\",\n  \t\"6|s\": \"12/vostok\",\n  \t\"6|n\": \"2/almaty,2/bishkek,2/dacca,2/dhaka,2/kashgar,2/omsk,2/qyzylorda,2/qostanay,2/thimbu,2/thimphu,2/urumqi,9/chagos\",\n  \t\"6.5|n\": \"2/rangoon,2/yangon,9/cocos\",\n  \t\"5|s\": \"12/mawson,9/kerguelen\",\n  \t\"5|n\": \"2/aqtau,2/aqtobe,2/ashgabat,2/ashkhabad,2/atyrau,2/baku,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives\",\n  \t\"5.75|n\": \"2/kathmandu,2/katmandu\",\n  \t\"5.5|n\": \"2/calcutta,2/colombo,2/kolkata\",\n  \t\"4|s\": \"9/reunion\",\n  \t\"4|n\": \"2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius\",\n  \t\"4.5|n|03/22:00->09/21:24\": \"2/tehran\",\n  \t\"4.5|n\": \"2/kabul\",\n  \t\"3|s\": \"12/syowa,9/antananarivo\",\n  \t\"3|n|03/28:03->10/31:04\": \"2/famagusta,2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/nicosia,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye\",\n  \t\"3|n|03/28:02->10/31:03\": \"8/chisinau,8/tiraspol\",\n  \t\"3|n|03/28:00->10/30:24\": \"2/beirut\",\n  \t\"3|n|03/27:00->10/30:01\": \"2/gaza,2/hebron\",\n  \t\"3|n|03/26:02->10/31:02\": \"2/jerusalem,2/tel_aviv\",\n  \t\"3|n|03/26:00->10/29:01\": \"2/amman\",\n  \t\"3|n|03/26:00->10/28:24\": \"2/damascus\",\n  \t\"3|n\": \"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/istanbul,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte\",\n  \t\"2|s|03/28:02->10/31:02\": \"12/troll\",\n  \t\"2|s\": \"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane\",\n  \t\"2|n|03/28:02->10/31:03\": \"0/ceuta,arctic/longyearbyen,3/jan_mayen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich\",\n  \t\"2|n\": \"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad\",\n  \t\"1|s|04/02:01->09/03:03\": \"0/windhoek\",\n  \t\"1|s\": \"0/kinshasa,0/luanda\",\n  \t\"1|n|04/11:03->05/16:02\": \"0/casablanca,0/el_aaiun\",\n  \t\"1|n|03/28:01->10/31:02\": \"3/canary,3/faeroe,3/faroe,3/madeira,8/belfast,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london\",\n  \t\"1|n\": \"0/algiers,0/bangui,0/brazzaville,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis\",\n  \t\"14|n\": \"11/kiritimati\",\n  \t\"13|s|04/04:04->09/26:03\": \"11/apia\",\n  \t\"13|s|01/15:02->11/05:03\": \"11/tongatapu\",\n  \t\"13|n\": \"11/enderbury,11/fakaofo\",\n  \t\"12|s|04/04:03->09/26:02\": \"12/mcmurdo,12/south_pole,11/auckland\",\n  \t\"12|s|01/17:03->11/14:02\": \"11/fiji\",\n  \t\"12|n\": \"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis\",\n  \t\"12.75|s|04/04:03->04/04:02\": \"11/chatham\",\n  \t\"11|s|04/04:03->10/03:02\": \"12/macquarie\",\n  \t\"11|s\": \"11/bougainville\",\n  \t\"11|n\": \"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape\",\n  \t\"11.5|n|04/04:03->10/03:02\": \"11/norfolk\",\n  \t\"10|s|04/04:03->10/03:02\": \"4/act,4/canberra,4/currie,4/hobart,4/melbourne,4/nsw,4/sydney,4/tasmania,4/victoria\",\n  \t\"10|s\": \"12/dumontdurville,4/brisbane,4/lindeman,4/queensland\",\n  \t\"10|n\": \"2/ust-nera,2/vladivostok,2/yakutsk,11/chuuk,11/guam,11/port_moresby,11/saipan,11/truk,11/yap\",\n  \t\"10.5|s|04/04:01->10/03:02\": \"4/lhi,4/lord_howe\",\n  \t\"0|n|03/28:00->10/31:01\": \"1/scoresbysund,3/azores\",\n  \t\"0|n\": \"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,0/timbuktu,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/gmt+0,13/gmt-0,13/gmt0,13/greenwich,13/utc,13/universal,13/zulu\",\n  \t\"-9|n|03/14:02->11/07:02\": \"1/adak,1/atka\",\n  \t\"-9|n\": \"11/gambier\",\n  \t\"-9.5|n\": \"11/marquesas\",\n  \t\"-8|n|03/14:02->11/07:02\": \"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat\",\n  \t\"-8|n\": \"11/pitcairn\",\n  \t\"-7|n|03/14:02->11/07:02\": \"1/ensenada,1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,6/pacific,10/bajanorte\",\n  \t\"-7|n|03/08:02->11/01:01\": \"1/dawson,1/whitehorse,6/yukon\",\n  \t\"-7|n\": \"1/creston,1/dawson_creek,1/fort_nelson,1/hermosillo,1/phoenix\",\n  \t\"-6|s|04/03:22->09/04:22\": \"7/easterisland,11/easter\",\n  \t\"-6|n|04/04:02->10/31:02\": \"1/chihuahua,1/mazatlan,10/bajasur\",\n  \t\"-6|n|03/14:02->11/07:02\": \"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/shiprock,1/yellowknife,6/mountain\",\n  \t\"-6|n\": \"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,6/east-saskatchewan,6/saskatchewan,11/galapagos\",\n  \t\"-5|s\": \"1/lima,1/rio_branco,5/acre\",\n  \t\"-5|n|04/04:02->10/31:02\": \"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general\",\n  \t\"-5|n|03/14:02->11/07:02\": \"1/chicago,1/knox_in,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,6/central\",\n  \t\"-5|n|03/12:03->11/05:01\": \"1/north_dakota\",\n  \t\"-5|n\": \"1/atikokan,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/porto_acre\",\n  \t\"-4|s|05/13:23->08/13:01\": \"12/palmer\",\n  \t\"-4|s|04/03:24->09/05:00\": \"1/santiago,7/continental\",\n  \t\"-4|s|03/27:24->10/03:00\": \"1/asuncion\",\n  \t\"-4|s|02/16:24->11/03:00\": \"1/campo_grande,1/cuiaba\",\n  \t\"-4|s\": \"1/la_paz,1/manaus,5/west\",\n  \t\"-4|n|03/14:02->11/07:02\": \"1/detroit,1/fort_wayne,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,6/eastern\",\n  \t\"-4|n|03/14:00->11/07:01\": \"1/havana\",\n  \t\"-4|n|03/12:03->11/05:01\": \"1/indiana,1/kentucky\",\n  \t\"-4|n\": \"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin\",\n  \t\"-3|s\": \"1/argentina,1/buenos_aires,1/cordoba,1/fortaleza,1/montevideo,1/punta_arenas,1/sao_paulo,12/rothera,3/stanley,5/east\",\n  \t\"-3|n|03/27:22->10/30:23\": \"1/nuuk\",\n  \t\"-3|n|03/14:02->11/07:02\": \"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic\",\n  \t\"-3|n\": \"1/araguaina,1/bahia,1/belem,1/catamarca,1/cayenne,1/jujuy,1/maceio,1/mendoza,1/paramaribo,1/recife,1/rosario,1/santarem\",\n  \t\"-2|s\": \"5/denoronha\",\n  \t\"-2|n|03/27:22->10/30:23\": \"1/godthab\",\n  \t\"-2|n|03/14:02->11/07:02\": \"1/miquelon\",\n  \t\"-2|n\": \"1/noronha,3/south_georgia\",\n  \t\"-2.5|n|03/14:02->11/07:02\": \"1/st_johns,6/newfoundland\",\n  \t\"-1|n\": \"3/cape_verde\",\n  \t\"-11|n\": \"11/midway,11/niue,11/pago_pago,11/samoa\",\n  \t\"-10|n\": \"11/honolulu,11/johnston,11/rarotonga,11/tahiti\"\n  };\n\n  var _build$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': _build\n  });\n\n  //prefixes for iana names..\n  var _prefixes = ['africa', 'america', 'asia', 'atlantic', 'australia', 'brazil', 'canada', 'chile', 'europe', 'indian', 'mexico', 'pacific', 'antarctica', 'etc'];\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  function getCjsExportFromNamespace (n) {\n  \treturn n && n['default'] || n;\n  }\n\n  var data = getCjsExportFromNamespace(_build$1);\n\n  var all = {};\n  Object.keys(data).forEach(function (k) {\n    var split = k.split('|');\n    var obj = {\n      offset: Number(split[0]),\n      hem: split[1]\n    };\n\n    if (split[2]) {\n      obj.dst = split[2];\n    }\n\n    var names = data[k].split(',');\n    names.forEach(function (str) {\n      str = str.replace(/(^[0-9]+)\\//, function (before, num) {\n        num = Number(num);\n        return _prefixes[num] + '/';\n      });\n      all[str] = obj;\n    });\n  });\n  all['utc'] = {\n    offset: 0,\n    hem: 'n' //default to northern hemisphere - (sorry!)\n\n  }; //add etc/gmt+n\n\n  for (var i = -14; i <= 14; i += 0.5) {\n    var num = i;\n\n    if (num > 0) {\n      num = '+' + num;\n    }\n\n    var name = 'etc/gmt' + num;\n    all[name] = {\n      offset: i * -1,\n      //they're negative!\n      hem: 'n' //(sorry)\n\n    };\n    name = 'utc/gmt' + num; //this one too, why not.\n\n    all[name] = {\n      offset: i * -1,\n      hem: 'n'\n    };\n  }\n\n  var unpack = all;\n\n  //find the implicit iana code for this machine.\n  //safely query the Intl object\n  //based on - https://bitbucket.org/pellepim/jstimezonedetect/src\n  var fallbackTZ = 'utc'; //\n  //this Intl object is not supported often, yet\n\n  var safeIntl = function safeIntl() {\n    if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n      return null;\n    }\n\n    var format = Intl.DateTimeFormat();\n\n    if (typeof format === 'undefined' || typeof format.resolvedOptions === 'undefined') {\n      return null;\n    }\n\n    var timezone = format.resolvedOptions().timeZone;\n\n    if (!timezone) {\n      return null;\n    }\n\n    return timezone.toLowerCase();\n  };\n\n  var guessTz = function guessTz() {\n    var timezone = safeIntl();\n\n    if (timezone === null) {\n      return fallbackTZ;\n    }\n\n    return timezone;\n  }; //do it once per computer\n\n\n  var guessTz_1 = guessTz;\n\n  var isOffset = /(\\-?[0-9]+)h(rs)?/i;\n  var isNumber = /(\\-?[0-9]+)/;\n  var utcOffset = /utc([\\-+]?[0-9]+)/i;\n  var gmtOffset = /gmt([\\-+]?[0-9]+)/i;\n\n  var toIana = function toIana(num) {\n    num = Number(num);\n\n    if (num >= -13 && num <= 13) {\n      num = num * -1; //it's opposite!\n\n      num = (num > 0 ? '+' : '') + num; //add plus sign\n\n      return 'etc/gmt' + num;\n    }\n\n    return null;\n  };\n\n  var parseOffset$1 = function parseOffset(tz) {\n    // '+5hrs'\n    var m = tz.match(isOffset);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    } // 'utc+5'\n\n\n    m = tz.match(utcOffset);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    } // 'GMT-5' (not opposite)\n\n\n    m = tz.match(gmtOffset);\n\n    if (m !== null) {\n      var num = Number(m[1]) * -1;\n      return toIana(num);\n    } // '+5'\n\n\n    m = tz.match(isNumber);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    }\n\n    return null;\n  };\n\n  var parseOffset_1$1 = parseOffset$1;\n\n  var local = guessTz_1(); //add all the city names by themselves\n\n  var cities = Object.keys(unpack).reduce(function (h, k) {\n    var city = k.split('/')[1] || '';\n    city = city.replace(/_/g, ' ');\n    h[city] = k;\n    return h;\n  }, {}); //try to match these against iana form\n\n  var normalize = function normalize(tz) {\n    tz = tz.replace(/ time/g, '');\n    tz = tz.replace(/ (standard|daylight|summer)/g, '');\n    tz = tz.replace(/\\b(east|west|north|south)ern/g, '$1');\n    tz = tz.replace(/\\b(africa|america|australia)n/g, '$1');\n    tz = tz.replace(/\\beuropean/g, 'europe');\n    tz = tz.replace(/\\islands/g, 'island');\n    return tz;\n  }; // try our best to reconcile the timzone to this given string\n\n\n  var lookupTz = function lookupTz(str, zones) {\n    if (!str) {\n      return local;\n    }\n\n    if (typeof str !== 'string') {\n      console.error(\"Timezone must be a string - recieved: '\", str, \"'\\n\");\n    }\n\n    var tz = str.trim();\n    var split = str.split('/'); //support long timezones like 'America/Argentina/Rio_Gallegos'\n\n    if (split.length > 2 && zones.hasOwnProperty(tz) === false) {\n      tz = split[0] + '/' + split[1];\n    }\n\n    tz = tz.toLowerCase();\n\n    if (zones.hasOwnProperty(tz) === true) {\n      return tz;\n    } //lookup more loosely..\n\n\n    tz = normalize(tz);\n\n    if (zones.hasOwnProperty(tz) === true) {\n      return tz;\n    } //try city-names\n\n\n    if (cities.hasOwnProperty(tz) === true) {\n      return cities[tz];\n    } // //try to parse '-5h'\n\n\n    if (/[0-9]/.test(tz) === true) {\n      var id = parseOffset_1$1(tz);\n\n      if (id) {\n        return id;\n      }\n    }\n\n    throw new Error(\"Spacetime: Cannot find timezone named: '\" + str + \"'. Please enter an IANA timezone id.\");\n  };\n\n  var find = lookupTz;\n\n  var o = {\n    millisecond: 1\n  };\n  o.second = 1000;\n  o.minute = 60000;\n  o.hour = 3.6e6; // dst is supported post-hoc\n\n  o.day = 8.64e7; //\n\n  o.date = o.day;\n  o.month = 8.64e7 * 29.5; //(average)\n\n  o.week = 6.048e8;\n  o.year = 3.154e10; // leap-years are supported post-hoc\n  //add plurals\n\n  Object.keys(o).forEach(function (k) {\n    o[k + 's'] = o[k];\n  });\n  var milliseconds = o;\n\n  var walk = function walk(s, n, fn, unit, previous) {\n    var current = s.d[fn]();\n\n    if (current === n) {\n      return; //already there\n    }\n\n    var startUnit = previous === null ? null : s.d[previous]();\n    var original = s.epoch; //try to get it as close as we can\n\n    var diff = n - current;\n    s.epoch += milliseconds[unit] * diff; //DST edge-case: if we are going many days, be a little conservative\n    // console.log(unit, diff)\n\n    if (unit === 'day') {\n      // s.epoch -= ms.minute\n      //but don't push it over a month\n      if (Math.abs(diff) > 28 && n < 28) {\n        s.epoch += milliseconds.hour;\n      }\n    } // 1st time: oops, did we change previous unit? revert it.\n\n\n    if (previous !== null && startUnit !== s.d[previous]()) {\n      // console.warn('spacetime warning: missed setting ' + unit)\n      s.epoch = original; // s.epoch += ms[unit] * diff * 0.89 // maybe try and make it close...?\n    } //repair it if we've gone too far or something\n    //(go by half-steps, just in case)\n\n\n    var halfStep = milliseconds[unit] / 2;\n\n    while (s.d[fn]() < n) {\n      s.epoch += halfStep;\n    }\n\n    while (s.d[fn]() > n) {\n      s.epoch -= halfStep;\n    } // 2nd time: did we change previous unit? revert it.\n\n\n    if (previous !== null && startUnit !== s.d[previous]()) {\n      // console.warn('spacetime warning: missed setting ' + unit)\n      s.epoch = original;\n    }\n  }; //find the desired date by a increment/check while loop\n\n\n  var units$3 = {\n    year: {\n      valid: function valid(n) {\n        return n > -4000 && n < 4000;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getFullYear', 'year', null);\n      }\n    },\n    month: {\n      valid: function valid(n) {\n        return n >= 0 && n <= 11;\n      },\n      walkTo: function walkTo(s, n) {\n        var d = s.d;\n        var current = d.getMonth();\n        var original = s.epoch;\n        var startUnit = d.getFullYear();\n\n        if (current === n) {\n          return;\n        } //try to get it as close as we can..\n\n\n        var diff = n - current;\n        s.epoch += milliseconds.day * (diff * 28); //special case\n        //oops, did we change the year? revert it.\n\n        if (startUnit !== s.d.getFullYear()) {\n          s.epoch = original;\n        } //increment by day\n\n\n        while (s.d.getMonth() < n) {\n          s.epoch += milliseconds.day;\n        }\n\n        while (s.d.getMonth() > n) {\n          s.epoch -= milliseconds.day;\n        }\n      }\n    },\n    date: {\n      valid: function valid(n) {\n        return n > 0 && n <= 31;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getDate', 'day', 'getMonth');\n      }\n    },\n    hour: {\n      valid: function valid(n) {\n        return n >= 0 && n < 24;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getHours', 'hour', 'getDate');\n      }\n    },\n    minute: {\n      valid: function valid(n) {\n        return n >= 0 && n < 60;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getMinutes', 'minute', 'getHours');\n      }\n    },\n    second: {\n      valid: function valid(n) {\n        return n >= 0 && n < 60;\n      },\n      walkTo: function walkTo(s, n) {\n        //do this one directly\n        s.epoch = s.seconds(n).epoch;\n      }\n    },\n    millisecond: {\n      valid: function valid(n) {\n        return n >= 0 && n < 1000;\n      },\n      walkTo: function walkTo(s, n) {\n        //do this one directly\n        s.epoch = s.milliseconds(n).epoch;\n      }\n    }\n  };\n\n  var walkTo = function walkTo(s, wants) {\n    var keys = Object.keys(units$3);\n    var old = s.clone();\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n      var n = wants[k];\n\n      if (n === undefined) {\n        n = old[k]();\n      }\n\n      if (typeof n === 'string') {\n        n = parseInt(n, 10);\n      } //make-sure it's valid\n\n\n      if (!units$3[k].valid(n)) {\n        s.epoch = null;\n\n        if (s.silent === false) {\n          console.warn('invalid ' + k + ': ' + n);\n        }\n\n        return;\n      }\n\n      units$3[k].walkTo(s, n);\n    }\n\n    return;\n  };\n\n  var walk_1 = walkTo;\n\n  var shortMonths = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sept', 'oct', 'nov', 'dec'];\n  var longMonths = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n\n  function buildMapping() {\n    var obj = {\n      sep: 8 //support this format\n\n    };\n\n    for (var i = 0; i < shortMonths.length; i++) {\n      obj[shortMonths[i]] = i;\n    }\n\n    for (var _i = 0; _i < longMonths.length; _i++) {\n      obj[longMonths[_i]] = _i;\n    }\n\n    return obj;\n  }\n\n  var months$1 = {\n    \"short\": function short() {\n      return shortMonths;\n    },\n    \"long\": function long() {\n      return longMonths;\n    },\n    mapping: function mapping() {\n      return buildMapping();\n    },\n    set: function set(i18n) {\n      shortMonths = i18n[\"short\"] || shortMonths;\n      longMonths = i18n[\"long\"] || longMonths;\n    }\n  };\n\n  //pull-apart ISO offsets, like \"+0100\"\n  var parseOffset = function parseOffset(s, offset) {\n    if (!offset) {\n      return s;\n    } //this is a fancy-move\n\n\n    if (offset === 'Z' || offset === 'z') {\n      offset = '+0000';\n    } // according to ISO8601, tz could be hh:mm, hhmm or hh\n    // so need few more steps before the calculation.\n\n\n    var num = 0; // for (+-)hh:mm\n\n    if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n      //support \"+01:00\"\n      if (/:00/.test(offset) === true) {\n        offset = offset.replace(/:00/, '');\n      } //support \"+01:30\"\n\n\n      if (/:30/.test(offset) === true) {\n        offset = offset.replace(/:30/, '.5');\n      }\n    } // for (+-)hhmm\n\n\n    if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n      offset = offset.replace(/30$/, '.5');\n    }\n\n    num = parseFloat(offset); //divide by 100 or 10 - , \"+0100\", \"+01\"\n\n    if (Math.abs(num) > 100) {\n      num = num / 100;\n    } //okay, try to match it to a utc timezone\n    //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n    //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n\n\n    num *= -1;\n\n    if (num >= 0) {\n      num = '+' + num;\n    }\n\n    var tz = 'etc/gmt' + num;\n    var zones = s.timezones;\n\n    if (zones[tz]) {\n      // log a warning if we're over-writing a given timezone?\n      // console.log('changing timezone to: ' + tz)\n      s.tz = tz;\n    }\n\n    return s;\n  };\n\n  var parseOffset_1 = parseOffset;\n\n  var parseTime = function parseTime(s) {\n    var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    str = str.replace(/^\\s+/, '').toLowerCase(); //trim\n    //formal time formats - 04:30.23\n\n    var arr = str.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\\.]?([0-9]{1,4})?/);\n\n    if (arr !== null) {\n      //validate it a little\n      var h = Number(arr[1]);\n\n      if (h < 0 || h > 24) {\n        return s.startOf('day');\n      }\n\n      var m = Number(arr[2]); //don't accept '5:3pm'\n\n      if (arr[2].length < 2 || m < 0 || m > 59) {\n        return s.startOf('day');\n      }\n\n      if (arr[4] > 999) {\n        // fix overflow issue with milliseconds, if input is longer than standard (e.g. 2017-08-06T09:00:00.123456Z)\n        arr[4] = parseInt(\"\".concat(arr[4]).substring(0, 3), 10);\n      }\n\n      s = s.hour(h);\n      s = s.minute(m);\n      s = s.seconds(arr[3] || 0);\n      s = s.millisecond(arr[4] || 0); //parse-out am/pm\n\n      var ampm = str.match(/[\\b0-9](am|pm)\\b/);\n\n      if (ampm !== null && ampm[1]) {\n        s = s.ampm(ampm[1]);\n      }\n\n      return s;\n    } //try an informal form - 5pm (no minutes)\n\n\n    arr = str.match(/([0-9]+) ?(am|pm)/);\n\n    if (arr !== null && arr[1]) {\n      var _h = Number(arr[1]); //validate it a little..\n\n\n      if (_h > 12 || _h < 1) {\n        return s.startOf('day');\n      }\n\n      s = s.hour(arr[1] || 0);\n      s = s.ampm(arr[2]);\n      s = s.startOf('hour');\n      return s;\n    } //no time info found, use start-of-day\n\n\n    s = s.startOf('day');\n    return s;\n  };\n\n  var parseTime_1 = parseTime;\n\n  var monthLengths = [31, // January - 31 days\n  28, // February - 28 days in a common year and 29 days in leap years\n  31, // March - 31 days\n  30, // April - 30 days\n  31, // May - 31 days\n  30, // June - 30 days\n  31, // July - 31 days\n  31, // August - 31 days\n  30, // September - 30 days\n  31, // October - 31 days\n  30, // November - 30 days\n  31 // December - 31 days\n  ];\n  var monthLengths_1 = monthLengths; // 28 - feb\n\n  var fns = createCommonjsModule(function (module, exports) {\n    //git:blame @JuliasCaesar https://www.timeanddate.com/date/leapyear.html\n    exports.isLeapYear = function (year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    }; // unsurprisingly-nasty `typeof date` call\n\n\n    exports.isDate = function (d) {\n      return Object.prototype.toString.call(d) === '[object Date]' && !isNaN(d.valueOf());\n    };\n\n    exports.isArray = function (input) {\n      return Object.prototype.toString.call(input) === '[object Array]';\n    };\n\n    exports.isObject = function (input) {\n      return Object.prototype.toString.call(input) === '[object Object]';\n    };\n\n    exports.isBoolean = function (input) {\n      return Object.prototype.toString.call(input) === '[object Boolean]';\n    };\n\n    exports.zeroPad = function (str) {\n      var len = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var pad = '0';\n      str = str + '';\n      return str.length >= len ? str : new Array(len - str.length + 1).join(pad) + str;\n    };\n\n    exports.titleCase = function (str) {\n      if (!str) {\n        return '';\n      }\n\n      return str[0].toUpperCase() + str.substr(1);\n    };\n\n    exports.ordinal = function (i) {\n      var j = i % 10;\n      var k = i % 100;\n\n      if (j === 1 && k !== 11) {\n        return i + 'st';\n      }\n\n      if (j === 2 && k !== 12) {\n        return i + 'nd';\n      }\n\n      if (j === 3 && k !== 13) {\n        return i + 'rd';\n      }\n\n      return i + 'th';\n    }; //strip 'st' off '1st'..\n\n\n    exports.toCardinal = function (str) {\n      str = String(str);\n      str = str.replace(/([0-9])(st|nd|rd|th)$/i, '$1');\n      return parseInt(str, 10);\n    }; //used mostly for cleanup of unit names, like 'months'\n\n\n    exports.normalize = function () {\n      var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      str = str.toLowerCase().trim();\n      str = str.replace(/ies$/, 'y'); //'centuries'\n\n      str = str.replace(/s$/, '');\n      str = str.replace(/-/g, '');\n\n      if (str === 'day' || str === 'days') {\n        return 'date';\n      }\n\n      if (str === 'min' || str === 'mins') {\n        return 'minute';\n      }\n\n      return str;\n    };\n\n    exports.getEpoch = function (tmp) {\n      //support epoch\n      if (typeof tmp === 'number') {\n        return tmp;\n      } //suport date objects\n\n\n      if (exports.isDate(tmp)) {\n        return tmp.getTime();\n      }\n\n      if (tmp.epoch) {\n        return tmp.epoch;\n      }\n\n      return null;\n    }; //make sure this input is a spacetime obj\n\n\n    exports.beADate = function (d, s) {\n      if (exports.isObject(d) === false) {\n        return s.clone().set(d);\n      }\n\n      return d;\n    };\n\n    exports.formatTimezone = function (offset) {\n      var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var sign = offset > 0 ? '+' : '-';\n      var absOffset = Math.abs(offset);\n      var hours = exports.zeroPad(parseInt('' + absOffset, 10));\n      var minutes = exports.zeroPad(absOffset % 1 * 60);\n      return \"\".concat(sign).concat(hours).concat(delimiter).concat(minutes);\n    };\n  });\n  fns.isLeapYear;\n  fns.isDate;\n  fns.isArray;\n  fns.isObject;\n  fns.isBoolean;\n  fns.zeroPad;\n  fns.titleCase;\n  fns.ordinal;\n  fns.toCardinal;\n  fns.normalize;\n  fns.getEpoch;\n  fns.beADate;\n  fns.formatTimezone;\n\n  var isLeapYear$2 = fns.isLeapYear; //given a month, return whether day number exists in it\n\n  var hasDate = function hasDate(obj) {\n    //invalid values\n    if (monthLengths_1.hasOwnProperty(obj.month) !== true) {\n      return false;\n    } //support leap-year in february\n\n\n    if (obj.month === 1) {\n      if (isLeapYear$2(obj.year) && obj.date <= 29) {\n        return true;\n      } else {\n        return obj.date <= 28;\n      }\n    } //is this date too-big for this month?\n\n\n    var max = monthLengths_1[obj.month] || 0;\n\n    if (obj.date <= max) {\n      return true;\n    }\n\n    return false;\n  };\n\n  var hasDate_1 = hasDate;\n\n  var months = months$1.mapping();\n\n  var parseYear = function parseYear() {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var today = arguments.length > 1 ? arguments[1] : undefined;\n    var year = parseInt(str.trim(), 10); // use a given year from options.today\n\n    if (!year && today) {\n      year = today.year;\n    } // fallback to this year\n\n\n    year = year || new Date().getFullYear();\n    return year;\n  };\n\n  var strFmt = [//iso-this 1998-05-30T22:00:00:000Z, iso-that 2017-04-03T08:00:00-0700\n  {\n    reg: /^(\\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\\-\\+:]+)?$/i,\n    parse: function parse(s, arr, givenTz, options) {\n      var month = parseInt(arr[2], 10) - 1;\n      var obj = {\n        year: arr[1],\n        month: month,\n        date: arr[3]\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      parseOffset_1(s, arr[5]);\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //iso \"2015-03-25\" or \"2015/03/25\" or \"2015/03/25 12:26:14 PM\"\n  {\n    reg: /^([0-9]{4})[\\-\\/.]([0-9]{1,2})[\\-\\/.]([0-9]{1,2}),?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var obj = {\n        year: arr[1],\n        month: parseInt(arr[2], 10) - 1,\n        date: parseInt(arr[3], 10)\n      };\n\n      if (obj.month >= 12) {\n        //support yyyy/dd/mm (weird, but ok)\n        obj.date = parseInt(arr[2], 10);\n        obj.month = parseInt(arr[3], 10) - 1;\n      }\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //mm/dd/yyyy - uk/canada \"6/28/2019, 12:26:14 PM\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/.]([0-9]{1,2})[\\-\\/.]?([0-9]{4})?,?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var month = parseInt(arr[1], 10) - 1;\n      var date = parseInt(arr[2], 10); //support dd/mm/yyy\n\n      if (s.british || month >= 12) {\n        date = parseInt(arr[1], 10);\n        month = parseInt(arr[2], 10) - 1;\n      }\n\n      var year = parseYear(arr[3], s._today) || new Date().getFullYear();\n      var obj = {\n        year: year,\n        month: month,\n        date: date\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, // '2012-06' last attempt at iso-like format\n  {\n    reg: /^([0-9]{4})[\\-\\/]([0-9]{2})$/i,\n    parse: function parse(s, arr, givenTz, options) {\n      var month = parseInt(arr[2], 10) - 1;\n      var obj = {\n        year: arr[1],\n        month: month,\n        date: 1\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      parseOffset_1(s, arr[5]);\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //common british format - \"25-feb-2015\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/]([a-z]+)[\\-\\/]?([0-9]{4})?$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[2].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[1] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //alt short format - \"feb-25-2015\"\n  {\n    reg: /^([a-z]+)[\\-\\/]([0-9]{1,2})[\\-\\/]?([0-9]{4})?$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[1].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[2] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //Long \"Mar 25 2015\"\n  //February 22, 2017 15:30:00\n  {\n    reg: /^([a-z]+) ([0-9]{1,2}(?:st|nd|rd|th)?),?( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[1].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[2] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //February 2017 (implied date)\n  {\n    reg: /^([a-z]+) ([0-9]{4})$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[1].toLowerCase()];\n      var year = parseYear(arr[2], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: s._today.date || 1\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //Long \"25 Mar 2015\"\n  {\n    reg: /^([0-9]{1,2}(?:st|nd|rd|th)?) ([a-z]+),?( [0-9]{4})?,? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[2].toLowerCase()];\n\n      if (!month) {\n        return null;\n      }\n\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[1])\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, {\n    // 'q2 2002'\n    reg: /^(q[0-9])( of)?( [0-9]{4})?/i,\n    parse: function parse(s, arr) {\n      var quarter = arr[1] || '';\n      s = s.quarter(quarter);\n      var year = arr[3] || '';\n\n      if (year) {\n        year = year.trim();\n        s = s.year(year);\n      }\n\n      return s;\n    }\n  }, {\n    // 'summer 2002'\n    reg: /^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,\n    parse: function parse(s, arr) {\n      var season = arr[1] || '';\n      s = s.season(season);\n      var year = arr[3] || '';\n\n      if (year) {\n        year = year.trim();\n        s = s.year(year);\n      }\n\n      return s;\n    }\n  }, {\n    // '200bc'\n    reg: /^[0-9,]+ ?b\\.?c\\.?$/i,\n    parse: function parse(s, arr) {\n      var str = arr[0] || ''; //make negative-year\n\n      str = str.replace(/^([0-9,]+) ?b\\.?c\\.?$/i, '-$1'); //remove commas\n\n      str = str.replace(/,/g, '');\n      var year = parseInt(str.trim(), 10);\n      var d = new Date();\n      var obj = {\n        year: year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }, {\n    // '200ad'\n    reg: /^[0-9,]+ ?(a\\.?d\\.?|c\\.?e\\.?)$/i,\n    parse: function parse(s, arr) {\n      var str = arr[0] || ''; //remove commas\n\n      str = str.replace(/,/g, '');\n      var year = parseInt(str.trim(), 10);\n      var d = new Date();\n      var obj = {\n        year: year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }, {\n    // '1992'\n    reg: /^[0-9]{4}( ?a\\.?d\\.?)?$/i,\n    parse: function parse(s, arr) {\n      var today = s._today;\n      var year = parseYear(arr[0], today);\n      var d = new Date(); // using today's date, but a new month is awkward.\n\n      if (today.month && !today.date) {\n        today.date = 1;\n      }\n\n      var obj = {\n        year: year,\n        month: today.month || d.getMonth(),\n        date: today.date || d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }];\n  var strParse = strFmt;\n\n  // pull in 'today' data for the baseline moment\n  var getNow = function getNow(s) {\n    s.epoch = Date.now();\n    Object.keys(s._today || {}).forEach(function (k) {\n      if (typeof s[k] === 'function') {\n        s = s[k](s._today[k]);\n      }\n    });\n    return s;\n  };\n\n  var dates = {\n    now: function now(s) {\n      return getNow(s);\n    },\n    today: function today(s) {\n      return getNow(s);\n    },\n    tonight: function tonight(s) {\n      s = getNow(s);\n      s = s.hour(18); //6pm\n\n      return s;\n    },\n    tomorrow: function tomorrow(s) {\n      s = getNow(s);\n      s = s.add(1, 'day');\n      s = s.startOf('day');\n      return s;\n    },\n    yesterday: function yesterday(s) {\n      s = getNow(s);\n      s = s.subtract(1, 'day');\n      s = s.startOf('day');\n      return s;\n    },\n    christmas: function christmas(s) {\n      var year = getNow(s).year();\n      s = s.set([year, 11, 25, 18, 0, 0]); // Dec 25\n\n      return s;\n    },\n    'new years': function newYears(s) {\n      var year = getNow(s).year();\n      s = s.set([year, 11, 31, 18, 0, 0]); // Dec 31\n\n      return s;\n    }\n  };\n  dates['new years eve'] = dates['new years'];\n  var namedDates = dates;\n\n  //  -  can't use built-in js parser ;(\n  //=========================================\n  // ISO Date\t  \"2015-03-25\"\n  // Short Date\t\"03/25/2015\" or \"2015/03/25\"\n  // Long Date\t\"Mar 25 2015\" or \"25 Mar 2015\"\n  // Full Date\t\"Wednesday March 25 2015\"\n  //=========================================\n  //-- also -\n  // if the given epoch is really small, they've probably given seconds and not milliseconds\n  // anything below this number is likely (but not necessarily) a mistaken input.\n  // this may seem like an arbitrary number, but it's 'within jan 1970'\n  // this is only really ambiguous until 2054 or so\n\n  var minimumEpoch = 2500000000;\n  var defaults = {\n    year: new Date().getFullYear(),\n    month: 0,\n    date: 1\n  }; //support [2016, 03, 01] format\n\n  var handleArray = function handleArray(s, arr, today) {\n    if (arr.length === 0) {\n      return s;\n    }\n\n    var order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond'];\n\n    for (var i = 0; i < order.length; i++) {\n      var num = arr[i] || today[order[i]] || defaults[order[i]] || 0;\n      s = s[order[i]](num);\n    }\n\n    return s;\n  }; //support {year:2016, month:3} format\n\n\n  var handleObject = function handleObject(s, obj, today) {\n    // if obj is empty, do nothing\n    if (Object.keys(obj).length === 0) {\n      return s;\n    }\n\n    obj = Object.assign({}, defaults, today, obj);\n    var keys = Object.keys(obj);\n\n    for (var i = 0; i < keys.length; i++) {\n      var unit = keys[i]; //make sure we have this method\n\n      if (s[unit] === undefined || typeof s[unit] !== 'function') {\n        continue;\n      } //make sure the value is a number\n\n\n      if (obj[unit] === null || obj[unit] === undefined || obj[unit] === '') {\n        continue;\n      }\n\n      var num = obj[unit] || today[unit] || defaults[unit] || 0;\n      s = s[unit](num);\n    }\n\n    return s;\n  }; //find the epoch from different input styles\n\n\n  var parseInput = function parseInput(s, input, givenTz) {\n    var today = s._today || defaults; //if we've been given a epoch number, it's easy\n\n    if (typeof input === 'number') {\n      if (input > 0 && input < minimumEpoch && s.silent === false) {\n        console.warn('  - Warning: You are setting the date to January 1970.');\n        console.warn('       -   did input seconds instead of milliseconds?');\n      }\n\n      s.epoch = input;\n      return s;\n    } //set tmp time\n\n\n    s.epoch = Date.now(); // overwrite tmp time with 'today' value, if exists\n\n    if (s._today && fns.isObject(s._today) && Object.keys(s._today).length > 0) {\n      var res = handleObject(s, today, defaults);\n\n      if (res.isValid()) {\n        s.epoch = res.epoch;\n      }\n    } // null input means 'now'\n\n\n    if (input === null || input === undefined || input === '') {\n      return s; //k, we're good.\n    } //support input of Date() object\n\n\n    if (fns.isDate(input) === true) {\n      s.epoch = input.getTime();\n      return s;\n    } //support [2016, 03, 01] format\n\n\n    if (fns.isArray(input) === true) {\n      s = handleArray(s, input, today);\n      return s;\n    } //support {year:2016, month:3} format\n\n\n    if (fns.isObject(input) === true) {\n      //support spacetime object as input\n      if (input.epoch) {\n        s.epoch = input.epoch;\n        s.tz = input.tz;\n        return s;\n      }\n\n      s = handleObject(s, input, today);\n      return s;\n    } //input as a string..\n\n\n    if (typeof input !== 'string') {\n      return s;\n    } //little cleanup..\n\n\n    input = input.replace(/\\b(mon|tues|wed|wednes|thu|thurs|fri|sat|satur|sun)(day)?\\b/i, '');\n    input = input.replace(/,/g, '');\n    input = input.replace(/ +/g, ' ').trim(); //try some known-words, like 'now'\n\n    if (namedDates.hasOwnProperty(input) === true) {\n      s = namedDates[input](s);\n      return s;\n    } //try each text-parse template, use the first good result\n\n\n    for (var i = 0; i < strParse.length; i++) {\n      var m = input.match(strParse[i].reg);\n\n      if (m) {\n        // console.log(strFmt[i].reg)\n        var _res = strParse[i].parse(s, m, givenTz);\n\n        if (_res !== null && _res.isValid()) {\n          return _res;\n        }\n      }\n    }\n\n    if (s.silent === false) {\n      console.warn(\"Warning: couldn't parse date-string: '\" + input + \"'\");\n    }\n\n    s.epoch = null;\n    return s;\n  };\n\n  var input = parseInput;\n\n  var shortDays = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n  var longDays = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n  var days = {\n    \"short\": function short() {\n      return shortDays;\n    },\n    \"long\": function long() {\n      return longDays;\n    },\n    set: function set(i18n) {\n      shortDays = i18n[\"short\"] || shortDays;\n      longDays = i18n[\"long\"] || longDays;\n    },\n    aliases: {\n      mo: 1,\n      tu: 2,\n      we: 3,\n      th: 4,\n      fr: 5,\n      sa: 6,\n      su: 7,\n      tues: 2,\n      weds: 3,\n      wedn: 3,\n      thur: 4,\n      thurs: 4\n    }\n  };\n\n  var titleCaseEnabled = true;\n  var caseFormat = {\n    useTitleCase: function useTitleCase() {\n      return titleCaseEnabled;\n    },\n    set: function set(useTitleCase) {\n      titleCaseEnabled = useTitleCase;\n    }\n  };\n\n  // it's kind of nuts how involved this is\n  // \"+01:00\", \"+0100\", or simply \"+01\"\n\n  var isoOffset = function isoOffset(s) {\n    var offset = s.timezone().current.offset;\n    return !offset ? 'Z' : fns.formatTimezone(offset, ':');\n  };\n\n  var _offset = isoOffset;\n\n  var applyCaseFormat = function applyCaseFormat(str) {\n    if (caseFormat.useTitleCase()) {\n      return fns.titleCase(str);\n    }\n\n    return str;\n  };\n\n  var format = {\n    day: function day(s) {\n      return applyCaseFormat(s.dayName());\n    },\n    'day-short': function dayShort(s) {\n      return applyCaseFormat(days[\"short\"]()[s.day()]);\n    },\n    'day-number': function dayNumber(s) {\n      return s.day();\n    },\n    'day-ordinal': function dayOrdinal(s) {\n      return fns.ordinal(s.day());\n    },\n    'day-pad': function dayPad(s) {\n      return fns.zeroPad(s.day());\n    },\n    date: function date(s) {\n      return s.date();\n    },\n    'date-ordinal': function dateOrdinal(s) {\n      return fns.ordinal(s.date());\n    },\n    'date-pad': function datePad(s) {\n      return fns.zeroPad(s.date());\n    },\n    month: function month(s) {\n      return applyCaseFormat(s.monthName());\n    },\n    'month-short': function monthShort(s) {\n      return applyCaseFormat(months$1[\"short\"]()[s.month()]);\n    },\n    'month-number': function monthNumber(s) {\n      return s.month();\n    },\n    'month-ordinal': function monthOrdinal(s) {\n      return fns.ordinal(s.month());\n    },\n    'month-pad': function monthPad(s) {\n      return fns.zeroPad(s.month());\n    },\n    'iso-month': function isoMonth(s) {\n      return fns.zeroPad(s.month() + 1);\n    },\n    //1-based months\n    year: function year(s) {\n      var year = s.year();\n\n      if (year > 0) {\n        return year;\n      }\n\n      year = Math.abs(year);\n      return year + ' BC';\n    },\n    'year-short': function yearShort(s) {\n      var year = s.year();\n\n      if (year > 0) {\n        return \"'\".concat(String(s.year()).substr(2, 4));\n      }\n\n      year = Math.abs(year);\n      return year + ' BC';\n    },\n    'iso-year': function isoYear(s) {\n      var year = s.year();\n      var isNegative = year < 0;\n      var str = fns.zeroPad(Math.abs(year), 4); //0-padded\n\n      if (isNegative) {\n        //negative years are for some reason 6-digits ('-00008')\n        str = fns.zeroPad(str, 6);\n        str = '-' + str;\n      }\n\n      return str;\n    },\n    time: function time(s) {\n      return s.time();\n    },\n    'time-24': function time24(s) {\n      return \"\".concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    },\n    hour: function hour(s) {\n      return s.hour12();\n    },\n    'hour-pad': function hourPad(s) {\n      return fns.zeroPad(s.hour12());\n    },\n    'hour-24': function hour24(s) {\n      return s.hour24();\n    },\n    'hour-24-pad': function hour24Pad(s) {\n      return fns.zeroPad(s.hour24());\n    },\n    minute: function minute(s) {\n      return s.minute();\n    },\n    'minute-pad': function minutePad(s) {\n      return fns.zeroPad(s.minute());\n    },\n    second: function second(s) {\n      return s.second();\n    },\n    'second-pad': function secondPad(s) {\n      return fns.zeroPad(s.second());\n    },\n    ampm: function ampm(s) {\n      return s.ampm();\n    },\n    quarter: function quarter(s) {\n      return 'Q' + s.quarter();\n    },\n    season: function season(s) {\n      return s.season();\n    },\n    era: function era(s) {\n      return s.era();\n    },\n    json: function json(s) {\n      return s.json();\n    },\n    timezone: function timezone(s) {\n      return s.timezone().name;\n    },\n    offset: function offset(s) {\n      return _offset(s);\n    },\n    numeric: function numeric(s) {\n      return \"\".concat(s.year(), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n    },\n    // yyyy/mm/dd\n    'numeric-us': function numericUs(s) {\n      return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()), \"/\").concat(s.year());\n    },\n    // mm/dd/yyyy\n    'numeric-uk': function numericUk(s) {\n      return \"\".concat(fns.zeroPad(s.date()), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(s.year());\n    },\n    //dd/mm/yyyy\n    'mm/dd': function mmDd(s) {\n      return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n    },\n    //mm/dd\n    // ... https://en.wikipedia.org/wiki/ISO_8601 ;(((\n    iso: function iso(s) {\n      var year = s.format('iso-year');\n      var month = fns.zeroPad(s.month() + 1); //1-based months\n\n      var date = fns.zeroPad(s.date());\n      var hour = fns.zeroPad(s.h24());\n      var minute = fns.zeroPad(s.minute());\n      var second = fns.zeroPad(s.second());\n      var ms = fns.zeroPad(s.millisecond(), 3);\n      var offset = _offset(s);\n      return \"\".concat(year, \"-\").concat(month, \"-\").concat(date, \"T\").concat(hour, \":\").concat(minute, \":\").concat(second, \".\").concat(ms).concat(offset); //2018-03-09T08:50:00.000-05:00\n    },\n    'iso-short': function isoShort(s) {\n      var month = fns.zeroPad(s.month() + 1); //1-based months\n\n      var date = fns.zeroPad(s.date());\n      return \"\".concat(s.year(), \"-\").concat(month, \"-\").concat(date); //2017-02-15\n    },\n    'iso-utc': function isoUtc(s) {\n      return new Date(s.epoch).toISOString(); //2017-03-08T19:45:28.367Z\n    },\n    //i made these up\n    nice: function nice(s) {\n      return \"\".concat(months$1[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n    },\n    'nice-24': function nice24(s) {\n      return \"\".concat(months$1[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    },\n    'nice-year': function niceYear(s) {\n      return \"\".concat(months$1[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.year());\n    },\n    'nice-day': function niceDay(s) {\n      return \"\".concat(days[\"short\"]()[s.day()], \" \").concat(applyCaseFormat(months$1[\"short\"]()[s.month()]), \" \").concat(fns.ordinal(s.date()));\n    },\n    'nice-full': function niceFull(s) {\n      return \"\".concat(s.dayName(), \" \").concat(applyCaseFormat(s.monthName()), \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n    },\n    'nice-full-24': function niceFull24(s) {\n      return \"\".concat(s.dayName(), \" \").concat(applyCaseFormat(s.monthName()), \" \").concat(fns.ordinal(s.date()), \", \").concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    }\n  }; //aliases\n\n  var aliases = {\n    'day-name': 'day',\n    'month-name': 'month',\n    'iso 8601': 'iso',\n    'time-h24': 'time-24',\n    'time-12': 'time',\n    'time-h12': 'time',\n    tz: 'timezone',\n    'day-num': 'day-number',\n    'month-num': 'month-number',\n    'month-iso': 'iso-month',\n    'year-iso': 'iso-year',\n    'nice-short': 'nice',\n    'nice-short-24': 'nice-24',\n    mdy: 'numeric-us',\n    dmy: 'numeric-uk',\n    ymd: 'numeric',\n    'yyyy/mm/dd': 'numeric',\n    'mm/dd/yyyy': 'numeric-us',\n    'dd/mm/yyyy': 'numeric-us',\n    'little-endian': 'numeric-uk',\n    'big-endian': 'numeric',\n    'day-nice': 'nice-day'\n  };\n  Object.keys(aliases).forEach(function (k) {\n    return format[k] = format[aliases[k]];\n  });\n\n  var printFormat = function printFormat(s) {\n    var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    //don't print anything if it's an invalid date\n    if (s.isValid() !== true) {\n      return '';\n    } //support .format('month')\n\n\n    if (format.hasOwnProperty(str)) {\n      var out = format[str](s) || '';\n\n      if (str !== 'json') {\n        out = String(out);\n\n        if (str !== 'ampm') {\n          out = applyCaseFormat(out);\n        }\n      }\n\n      return out;\n    } //support '{hour}:{minute}' notation\n\n\n    if (str.indexOf('{') !== -1) {\n      var sections = /\\{(.+?)\\}/g;\n      str = str.replace(sections, function (_, fmt) {\n        fmt = fmt.toLowerCase().trim();\n\n        if (format.hasOwnProperty(fmt)) {\n          var _out = String(format[fmt](s));\n\n          if (fmt !== 'ampm') {\n            return applyCaseFormat(_out);\n          }\n\n          return _out;\n        }\n\n        return '';\n      });\n      return str;\n    }\n\n    return s.format('iso-short');\n  };\n\n  var format_1 = printFormat;\n\n  var pad = fns.zeroPad;\n  var formatTimezone = fns.formatTimezone; //parse this insane unix-time-templating thing, from the 19th century\n  //http://unicode.org/reports/tr35/tr35-25.html#Date_Format_Patterns\n  //time-symbols we support\n\n  var mapping = {\n    G: function G(s) {\n      return s.era();\n    },\n    GG: function GG(s) {\n      return s.era();\n    },\n    GGG: function GGG(s) {\n      return s.era();\n    },\n    GGGG: function GGGG(s) {\n      return s.era() === 'AD' ? 'Anno Domini' : 'Before Christ';\n    },\n    //year\n    y: function y(s) {\n      return s.year();\n    },\n    yy: function yy(s) {\n      //last two chars\n      return parseInt(String(s.year()).substr(2, 4), 10);\n    },\n    yyy: function yyy(s) {\n      return s.year();\n    },\n    yyyy: function yyyy(s) {\n      return s.year();\n    },\n    yyyyy: function yyyyy(s) {\n      return '0' + s.year();\n    },\n    // u: (s) => {},//extended non-gregorian years\n    //quarter\n    Q: function Q(s) {\n      return s.quarter();\n    },\n    QQ: function QQ(s) {\n      return s.quarter();\n    },\n    QQQ: function QQQ(s) {\n      return s.quarter();\n    },\n    QQQQ: function QQQQ(s) {\n      return s.quarter();\n    },\n    //month\n    M: function M(s) {\n      return s.month() + 1;\n    },\n    MM: function MM(s) {\n      return pad(s.month() + 1);\n    },\n    MMM: function MMM(s) {\n      return s.format('month-short');\n    },\n    MMMM: function MMMM(s) {\n      return s.format('month');\n    },\n    //week\n    w: function w(s) {\n      return s.week();\n    },\n    ww: function ww(s) {\n      return pad(s.week());\n    },\n    //week of month\n    // W: (s) => s.week(),\n    //date of month\n    d: function d(s) {\n      return s.date();\n    },\n    dd: function dd(s) {\n      return pad(s.date());\n    },\n    //date of year\n    D: function D(s) {\n      return s.dayOfYear();\n    },\n    DD: function DD(s) {\n      return pad(s.dayOfYear());\n    },\n    DDD: function DDD(s) {\n      return pad(s.dayOfYear(), 3);\n    },\n    // F: (s) => {},//date of week in month\n    // g: (s) => {},//modified julian day\n    //day\n    E: function E(s) {\n      return s.format('day-short');\n    },\n    EE: function EE(s) {\n      return s.format('day-short');\n    },\n    EEE: function EEE(s) {\n      return s.format('day-short');\n    },\n    EEEE: function EEEE(s) {\n      return s.format('day');\n    },\n    EEEEE: function EEEEE(s) {\n      return s.format('day')[0];\n    },\n    e: function e(s) {\n      return s.day();\n    },\n    ee: function ee(s) {\n      return s.day();\n    },\n    eee: function eee(s) {\n      return s.format('day-short');\n    },\n    eeee: function eeee(s) {\n      return s.format('day');\n    },\n    eeeee: function eeeee(s) {\n      return s.format('day')[0];\n    },\n    //am/pm\n    a: function a(s) {\n      return s.ampm().toUpperCase();\n    },\n    aa: function aa(s) {\n      return s.ampm().toUpperCase();\n    },\n    aaa: function aaa(s) {\n      return s.ampm().toUpperCase();\n    },\n    aaaa: function aaaa(s) {\n      return s.ampm().toUpperCase();\n    },\n    //hour\n    h: function h(s) {\n      return s.h12();\n    },\n    hh: function hh(s) {\n      return pad(s.h12());\n    },\n    H: function H(s) {\n      return s.hour();\n    },\n    HH: function HH(s) {\n      return pad(s.hour());\n    },\n    // j: (s) => {},//weird hour format\n    m: function m(s) {\n      return s.minute();\n    },\n    mm: function mm(s) {\n      return pad(s.minute());\n    },\n    s: function s(_s) {\n      return _s.second();\n    },\n    ss: function ss(s) {\n      return pad(s.second());\n    },\n    //milliseconds in the day\n    A: function A(s) {\n      return s.epoch - s.startOf('day').epoch;\n    },\n    //timezone\n    z: function z(s) {\n      return s.timezone().name;\n    },\n    zz: function zz(s) {\n      return s.timezone().name;\n    },\n    zzz: function zzz(s) {\n      return s.timezone().name;\n    },\n    zzzz: function zzzz(s) {\n      return s.timezone().name;\n    },\n    Z: function Z(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZ: function ZZ(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZZ: function ZZZ(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZZZ: function ZZZZ(s) {\n      return formatTimezone(s.timezone().current.offset, ':');\n    }\n  };\n\n  var addAlias = function addAlias(_char, to, n) {\n    var name = _char;\n    var toName = to;\n\n    for (var i = 0; i < n; i += 1) {\n      mapping[name] = mapping[toName];\n      name += _char;\n      toName += to;\n    }\n  };\n\n  addAlias('q', 'Q', 4);\n  addAlias('L', 'M', 4);\n  addAlias('Y', 'y', 4);\n  addAlias('c', 'e', 4);\n  addAlias('k', 'H', 2);\n  addAlias('K', 'h', 2);\n  addAlias('S', 's', 2);\n  addAlias('v', 'z', 4);\n  addAlias('V', 'Z', 4); // support unix-style escaping with ' character\n\n  var escapeChars = function escapeChars(arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (arr[i] === \"'\") {\n        // greedy-search for next apostrophe\n        for (var o = i + 1; o < arr.length; o += 1) {\n          if (arr[o]) {\n            arr[i] += arr[o];\n          }\n\n          if (arr[o] === \"'\") {\n            arr[o] = null;\n            break;\n          }\n\n          arr[o] = null;\n        }\n      }\n    }\n\n    return arr.filter(function (ch) {\n      return ch;\n    });\n  }; //combine consecutive chars, like 'yyyy' as one.\n\n\n  var combineRepeated = function combineRepeated(arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n      var c = arr[i]; // greedy-forward\n\n      for (var o = i + 1; o < arr.length; o += 1) {\n        if (arr[o] === c) {\n          arr[i] += arr[o];\n          arr[o] = null;\n        } else {\n          break;\n        }\n      }\n    } // '' means one apostrophe\n\n\n    arr = arr.filter(function (ch) {\n      return ch;\n    });\n    arr = arr.map(function (str) {\n      if (str === \"''\") {\n        str = \"'\";\n      }\n\n      return str;\n    });\n    return arr;\n  };\n\n  var unixFmt = function unixFmt(s, str) {\n    var arr = str.split(''); // support character escaping\n\n    arr = escapeChars(arr); //combine 'yyyy' as string.\n\n    arr = combineRepeated(arr);\n    return arr.reduce(function (txt, c) {\n      if (mapping[c] !== undefined) {\n        txt += mapping[c](s) || '';\n      } else {\n        // 'unescape'\n        if (/^'.{1,}'$/.test(c)) {\n          c = c.replace(/'/g, '');\n        }\n\n        txt += c;\n      }\n\n      return txt;\n    }, '');\n  };\n\n  var unixFmt_1 = unixFmt;\n\n  var units$2 = ['year', 'season', 'quarter', 'month', 'week', 'day', 'quarterHour', 'hour', 'minute'];\n\n  var doUnit = function doUnit(s, k) {\n    var start = s.clone().startOf(k);\n    var end = s.clone().endOf(k);\n    var duration = end.epoch - start.epoch;\n    var percent = (s.epoch - start.epoch) / duration;\n    return parseFloat(percent.toFixed(2));\n  }; //how far it is along, from 0-1\n\n\n  var progress = function progress(s, unit) {\n    if (unit) {\n      unit = fns.normalize(unit);\n      return doUnit(s, unit);\n    }\n\n    var obj = {};\n    units$2.forEach(function (k) {\n      obj[k] = doUnit(s, k);\n    });\n    return obj;\n  };\n\n  var progress_1 = progress;\n\n  var nearest = function nearest(s, unit) {\n    //how far have we gone?\n    var prog = s.progress();\n    unit = fns.normalize(unit); //fix camel-case for this one\n\n    if (unit === 'quarterhour') {\n      unit = 'quarterHour';\n    }\n\n    if (prog[unit] !== undefined) {\n      // go forward one?\n      if (prog[unit] > 0.5) {\n        s = s.add(1, unit);\n      } // go to start\n\n\n      s = s.startOf(unit);\n    } else if (s.silent === false) {\n      console.warn(\"no known unit '\" + unit + \"'\");\n    }\n\n    return s;\n  };\n\n  var nearest_1 = nearest;\n\n  //increment until dates are the same\n  var climb = function climb(a, b, unit) {\n    var i = 0;\n    a = a.clone();\n\n    while (a.isBefore(b)) {\n      //do proper, expensive increment to catch all-the-tricks\n      a = a.add(1, unit);\n      i += 1;\n    } //oops, we went too-far..\n\n\n    if (a.isAfter(b, unit)) {\n      i -= 1;\n    }\n\n    return i;\n  }; // do a thurough +=1 on the unit, until they match\n  // for speed-reasons, only used on day, month, week.\n\n\n  var diffOne = function diffOne(a, b, unit) {\n    if (a.isBefore(b)) {\n      return climb(a, b, unit);\n    } else {\n      return climb(b, a, unit) * -1; //reverse it\n    }\n  };\n\n  var one = diffOne;\n\n  // 2020 - 2019 may be 1 year, or 0 years\n  // - '1 year difference' means 366 days during a leap year\n\n  var fastYear = function fastYear(a, b) {\n    var years = b.year() - a.year(); // should we decrement it by 1?\n\n    a = a.year(b.year());\n\n    if (a.isAfter(b)) {\n      years -= 1;\n    }\n\n    return years;\n  }; // use a waterfall-method for computing a diff of any 'pre-knowable' units\n  // compute years, then compute months, etc..\n  // ... then ms-math for any very-small units\n\n\n  var diff$1 = function diff(a, b) {\n    // an hour is always the same # of milliseconds\n    // so these units can be 'pre-calculated'\n    var msDiff = b.epoch - a.epoch;\n    var obj = {\n      milliseconds: msDiff,\n      seconds: parseInt(msDiff / 1000, 10)\n    };\n    obj.minutes = parseInt(obj.seconds / 60, 10);\n    obj.hours = parseInt(obj.minutes / 60, 10); //do the year\n\n    var tmp = a.clone();\n    obj.years = fastYear(tmp, b);\n    tmp = a.add(obj.years, 'year'); //there's always 12 months in a year...\n\n    obj.months = obj.years * 12;\n    tmp = a.add(obj.months, 'month');\n    obj.months += one(tmp, b, 'month'); // there's always atleast 52 weeks in a year..\n    // (month * 4) isn't as close\n\n    obj.weeks = obj.years * 52;\n    tmp = a.add(obj.weeks, 'week');\n    obj.weeks += one(tmp, b, 'week'); // there's always atleast 7 days in a week\n\n    obj.days = obj.weeks * 7;\n    tmp = a.add(obj.days, 'day');\n    obj.days += one(tmp, b, 'day');\n    return obj;\n  };\n\n  var waterfall = diff$1;\n\n  var reverseDiff = function reverseDiff(obj) {\n    Object.keys(obj).forEach(function (k) {\n      obj[k] *= -1;\n    });\n    return obj;\n  }; // this method counts a total # of each unit, between a, b.\n  // '1 month' means 28 days in february\n  // '1 year' means 366 days in a leap year\n\n\n  var main$1 = function main(a, b, unit) {\n    b = fns.beADate(b, a); //reverse values, if necessary\n\n    var reversed = false;\n\n    if (a.isAfter(b)) {\n      var tmp = a;\n      a = b;\n      b = tmp;\n      reversed = true;\n    } //compute them all (i know!)\n\n\n    var obj = waterfall(a, b);\n\n    if (reversed) {\n      obj = reverseDiff(obj);\n    } //return just the requested unit\n\n\n    if (unit) {\n      //make sure it's plural-form\n      unit = fns.normalize(unit);\n\n      if (/s$/.test(unit) !== true) {\n        unit += 's';\n      }\n\n      if (unit === 'dates') {\n        unit = 'days';\n      }\n\n      return obj[unit];\n    }\n\n    return obj;\n  };\n\n  var diff = main$1;\n\n  //our conceptual 'break-points' for each unit\n\n  var qualifiers = {\n    months: {\n      almost: 10,\n      over: 4\n    },\n    days: {\n      almost: 25,\n      over: 10\n    },\n    hours: {\n      almost: 20,\n      over: 8\n    },\n    minutes: {\n      almost: 50,\n      over: 20\n    },\n    seconds: {\n      almost: 50,\n      over: 20\n    }\n  }; //get number of hours/minutes... between the two dates\n\n  function getDiff(a, b) {\n    var isBefore = a.isBefore(b);\n    var later = isBefore ? b : a;\n    var earlier = isBefore ? a : b;\n    earlier = earlier.clone();\n    var diff = {\n      years: 0,\n      months: 0,\n      days: 0,\n      hours: 0,\n      minutes: 0,\n      seconds: 0\n    };\n    Object.keys(diff).forEach(function (unit) {\n      if (earlier.isSame(later, unit)) {\n        return;\n      }\n\n      var max = earlier.diff(later, unit);\n      earlier = earlier.add(max, unit);\n      diff[unit] = max;\n    }); //reverse it, if necessary\n\n    if (isBefore) {\n      Object.keys(diff).forEach(function (u) {\n        if (diff[u] !== 0) {\n          diff[u] *= -1;\n        }\n      });\n    }\n\n    return diff;\n  } // Expects a plural unit arg\n\n\n  function pluralize(value, unit) {\n    if (value === 1) {\n      unit = unit.slice(0, -1);\n    }\n\n    return value + ' ' + unit;\n  } //create the human-readable diff between the two dates\n\n\n  var since = function since(start, end) {\n    end = fns.beADate(end, start);\n    var diff = getDiff(start, end);\n    var isNow = Object.keys(diff).every(function (u) {\n      return !diff[u];\n    });\n\n    if (isNow === true) {\n      return {\n        diff: diff,\n        rounded: 'now',\n        qualified: 'now',\n        precise: 'now'\n      };\n    }\n\n    var rounded;\n    var qualified;\n    var precise;\n    var englishValues = []; //go through each value and create its text-representation\n\n    Object.keys(diff).forEach(function (unit, i, units) {\n      var value = Math.abs(diff[unit]);\n\n      if (value === 0) {\n        return;\n      }\n\n      var englishValue = pluralize(value, unit);\n      englishValues.push(englishValue);\n\n      if (!rounded) {\n        rounded = qualified = englishValue;\n\n        if (i > 4) {\n          return;\n        } //is it a 'almost' something, etc?\n\n\n        var nextUnit = units[i + 1];\n        var nextValue = Math.abs(diff[nextUnit]);\n\n        if (nextValue > qualifiers[nextUnit].almost) {\n          rounded = pluralize(value + 1, unit);\n          qualified = 'almost ' + rounded;\n        } else if (nextValue > qualifiers[nextUnit].over) qualified = 'over ' + englishValue;\n      }\n    }); //make them into a string\n\n    precise = englishValues.splice(0, 2).join(', '); //handle before/after logic\n\n    if (start.isAfter(end) === true) {\n      rounded += ' ago';\n      qualified += ' ago';\n      precise += ' ago';\n    } else {\n      rounded = 'in ' + rounded;\n      qualified = 'in ' + qualified;\n      precise = 'in ' + precise;\n    }\n\n    return {\n      diff: diff,\n      rounded: rounded,\n      qualified: qualified,\n      precise: precise\n    };\n  };\n\n  var since_1 = since;\n\n  //https://www.timeanddate.com/calendar/aboutseasons.html\n  // Spring - from March 1 to May 31;\n  // Summer - from June 1 to August 31;\n  // Fall (autumn) - from September 1 to November 30; and,\n  // Winter - from December 1 to February 28 (February 29 in a leap year).\n  var seasons = {\n    north: [['spring', 2, 1], //spring march 1\n    ['summer', 5, 1], //june 1\n    ['fall', 8, 1], //sept 1\n    ['autumn', 8, 1], //sept 1\n    ['winter', 11, 1] //dec 1\n    ],\n    south: [['fall', 2, 1], //march 1\n    ['autumn', 2, 1], //march 1\n    ['winter', 5, 1], //june 1\n    ['spring', 8, 1], //sept 1\n    ['summer', 11, 1] //dec 1\n    ]\n  };\n\n  var quarters = [null, [0, 1], //jan 1\n  [3, 1], //apr 1\n  [6, 1], //july 1\n  [9, 1] //oct 1\n  ];\n\n  var units$1 = {\n    minute: function minute(s) {\n      walk_1(s, {\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    quarterhour: function quarterhour(s) {\n      var minute = s.minutes();\n\n      if (minute >= 45) {\n        s = s.minutes(45);\n      } else if (minute >= 30) {\n        s = s.minutes(30);\n      } else if (minute >= 15) {\n        s = s.minutes(15);\n      } else {\n        s = s.minutes(0);\n      }\n\n      walk_1(s, {\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    hour: function hour(s) {\n      walk_1(s, {\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    day: function day(s) {\n      walk_1(s, {\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    week: function week(s) {\n      var original = s.clone();\n      s = s.day(s._weekStart); //monday\n\n      if (s.isAfter(original)) {\n        s = s.subtract(1, 'week');\n      }\n\n      walk_1(s, {\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    month: function month(s) {\n      walk_1(s, {\n        date: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    quarter: function quarter(s) {\n      var q = s.quarter();\n\n      if (quarters[q]) {\n        walk_1(s, {\n          month: quarters[q][0],\n          date: quarters[q][1],\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        });\n      }\n\n      return s;\n    },\n    season: function season(s) {\n      var current = s.season();\n      var hem = 'north';\n\n      if (s.hemisphere() === 'South') {\n        hem = 'south';\n      }\n\n      for (var i = 0; i < seasons[hem].length; i++) {\n        if (seasons[hem][i][0] === current) {\n          //winter goes between years\n          var year = s.year();\n\n          if (current === 'winter' && s.month() < 3) {\n            year -= 1;\n          }\n\n          walk_1(s, {\n            year: year,\n            month: seasons[hem][i][1],\n            date: seasons[hem][i][2],\n            hour: 0,\n            minute: 0,\n            second: 0,\n            millisecond: 0\n          });\n          return s;\n        }\n      }\n\n      return s;\n    },\n    year: function year(s) {\n      walk_1(s, {\n        month: 0,\n        date: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    decade: function decade(s) {\n      s = s.startOf('year');\n      var year = s.year();\n      var decade = parseInt(year / 10, 10) * 10;\n      s = s.year(decade);\n      return s;\n    },\n    century: function century(s) {\n      s = s.startOf('year');\n      var year = s.year(); // near 0AD goes '-1 | +1'\n\n      var decade = parseInt(year / 100, 10) * 100;\n      s = s.year(decade);\n      return s;\n    }\n  };\n  units$1.date = units$1.day;\n\n  var startOf = function startOf(a, unit) {\n    var s = a.clone();\n    unit = fns.normalize(unit);\n\n    if (units$1[unit]) {\n      return units$1[unit](s);\n    }\n\n    if (unit === 'summer' || unit === 'winter') {\n      s = s.season(unit);\n      return units$1.season(s);\n    }\n\n    return s;\n  }; //piggy-backs off startOf\n\n\n  var endOf = function endOf(a, unit) {\n    var s = a.clone();\n    unit = fns.normalize(unit);\n\n    if (units$1[unit]) {\n      // go to beginning, go to next one, step back 1ms\n      s = units$1[unit](s); // startof\n\n      s = s.add(1, unit);\n      s = s.subtract(1, 'millisecond');\n      return s;\n    }\n\n    return s;\n  };\n\n  var startOf_1 = {\n    startOf: startOf,\n    endOf: endOf\n  };\n\n  var isDay = function isDay(unit) {\n    if (days[\"short\"]().find(function (s) {\n      return s === unit;\n    })) {\n      return true;\n    }\n\n    if (days[\"long\"]().find(function (s) {\n      return s === unit;\n    })) {\n      return true;\n    }\n\n    return false;\n  }; // return a list of the weeks/months/days between a -> b\n  // returns spacetime objects in the timezone of the input\n\n\n  var every = function every(start) {\n    var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var end = arguments.length > 2 ? arguments[2] : undefined;\n\n    if (!unit || !end) {\n      return [];\n    } //cleanup unit param\n\n\n    unit = fns.normalize(unit); //cleanup to param\n\n    end = start.clone().set(end); //swap them, if they're backwards\n\n    if (start.isAfter(end)) {\n      var tmp = start;\n      start = end;\n      end = tmp;\n    } //support 'every wednesday'\n\n\n    var d = start.clone();\n\n    if (isDay(unit)) {\n      d = d.next(unit);\n      unit = 'week';\n    } else {\n      d = d.next(unit);\n    } //okay, actually start doing it\n\n\n    var result = [];\n\n    while (d.isBefore(end)) {\n      result.push(d);\n      d = d.add(1, unit);\n    }\n\n    return result;\n  };\n\n  var every_1 = every;\n\n  var parseDst = function parseDst(dst) {\n    if (!dst) {\n      return [];\n    }\n\n    return dst.split('->');\n  };\n\n  var titleCase = function titleCase(str) {\n    str = str[0].toUpperCase() + str.substr(1);\n    str = str.replace(/\\/gmt/, '/GMT');\n    str = str.replace(/[\\/_]([a-z])/gi, function (s) {\n      return s.toUpperCase();\n    });\n    return str;\n  }; //get metadata about this timezone\n\n\n  var timezone = function timezone(s) {\n    var zones = s.timezones;\n    var tz = s.tz;\n\n    if (zones.hasOwnProperty(tz) === false) {\n      tz = find(s.tz, zones);\n    }\n\n    if (tz === null) {\n      if (s.silent === false) {\n        console.warn(\"Warn: could not find given or local timezone - '\" + s.tz + \"'\");\n      }\n\n      return {\n        current: {\n          epochShift: 0\n        }\n      };\n    }\n\n    var found = zones[tz];\n    var result = {\n      name: titleCase(tz),\n      hasDst: Boolean(found.dst),\n      default_offset: found.offset,\n      //do north-hemisphere version as default (sorry!)\n      hemisphere: found.hem === 's' ? 'South' : 'North',\n      current: {}\n    };\n\n    if (result.hasDst) {\n      var arr = parseDst(found.dst);\n      result.change = {\n        start: arr[0],\n        back: arr[1]\n      };\n    } //find the offsets for summer/winter times\n    //(these variable names are north-centric)\n\n\n    var summer = found.offset; // (july)\n\n    var winter = summer; // (january) assume it's the same for now\n\n    if (result.hasDst === true) {\n      if (result.hemisphere === 'North') {\n        winter = summer - 1;\n      } else {\n        //southern hemisphere\n        winter = found.offset + 1;\n      }\n    } //find out which offset to use right now\n    //use 'summer' time july-time\n\n\n    if (result.hasDst === false) {\n      result.current.offset = summer;\n      result.current.isDST = false;\n    } else if (summerTime(s.epoch, result.change.start, result.change.back, summer, winter) === true) {\n      result.current.offset = summer;\n      result.current.isDST = result.hemisphere === 'North'; //dst 'on' in winter in north\n    } else {\n      //use 'winter' january-time\n      result.current.offset = winter;\n      result.current.isDST = result.hemisphere === 'South'; //dst 'on' in summer in south\n    }\n\n    return result;\n  };\n\n  var timezone_1 = timezone;\n\n  var units = ['century', 'decade', 'year', 'month', 'date', 'day', 'hour', 'minute', 'second', 'millisecond']; //the spacetime instance methods (also, the API)\n\n  var methods$4 = {\n    set: function set(input$1, tz) {\n      var s = this.clone();\n      s = input(s, input$1, null);\n\n      if (tz) {\n        this.tz = find(tz);\n      }\n\n      return s;\n    },\n    timezone: function timezone() {\n      return timezone_1(this);\n    },\n    isDST: function isDST() {\n      return timezone_1(this).current.isDST;\n    },\n    hasDST: function hasDST() {\n      return timezone_1(this).hasDst;\n    },\n    offset: function offset() {\n      return timezone_1(this).current.offset * 60;\n    },\n    hemisphere: function hemisphere() {\n      return timezone_1(this).hemisphere;\n    },\n    format: function format(fmt) {\n      return format_1(this, fmt);\n    },\n    unixFmt: function unixFmt(fmt) {\n      return unixFmt_1(this, fmt);\n    },\n    startOf: function startOf(unit) {\n      return startOf_1.startOf(this, unit);\n    },\n    endOf: function endOf(unit) {\n      return startOf_1.endOf(this, unit);\n    },\n    leapYear: function leapYear() {\n      var year = this.year();\n      return fns.isLeapYear(year);\n    },\n    progress: function progress(unit) {\n      return progress_1(this, unit);\n    },\n    nearest: function nearest(unit) {\n      return nearest_1(this, unit);\n    },\n    diff: function diff$1(d, unit) {\n      return diff(this, d, unit);\n    },\n    since: function since(d) {\n      if (!d) {\n        d = this.clone().set();\n      }\n\n      return since_1(this, d);\n    },\n    next: function next(unit) {\n      var s = this.add(1, unit);\n      return s.startOf(unit);\n    },\n    //the start of the previous year/week/century\n    last: function last(unit) {\n      var s = this.subtract(1, unit);\n      return s.startOf(unit);\n    },\n    isValid: function isValid() {\n      //null/undefined epochs\n      if (!this.epoch && this.epoch !== 0) {\n        return false;\n      }\n\n      return !isNaN(this.d.getTime());\n    },\n    //travel to this timezone\n    \"goto\": function goto(tz) {\n      var s = this.clone();\n      s.tz = find(tz, s.timezones); //science!\n\n      return s;\n    },\n    //get each week/month/day between a -> b\n    every: function every(unit, to) {\n      // allow swapping these params:\n      if (_typeof(unit) === 'object' && typeof to === 'string') {\n        var tmp = to;\n        to = unit;\n        unit = tmp;\n      }\n\n      return every_1(this, unit, to);\n    },\n    isAwake: function isAwake() {\n      var hour = this.hour(); //10pm -> 8am\n\n      if (hour < 8 || hour > 22) {\n        return false;\n      }\n\n      return true;\n    },\n    isAsleep: function isAsleep() {\n      return !this.isAwake();\n    },\n    //pretty-printing\n    log: function log() {\n      console.log('');\n      console.log(format_1(this, 'nice-short'));\n      return this;\n    },\n    logYear: function logYear() {\n      console.log('');\n      console.log(format_1(this, 'full-short'));\n      return this;\n    },\n    json: function json() {\n      var _this = this;\n\n      return units.reduce(function (h, unit) {\n        h[unit] = _this[unit]();\n        return h;\n      }, {});\n    },\n    debug: function debug() {\n      var tz = this.timezone();\n      var date = this.format('MM') + ' ' + this.format('date-ordinal') + ' ' + this.year();\n      date += '\\n     - ' + this.format('time');\n      console.log('\\n\\n', date + '\\n     - ' + tz.name + ' (' + tz.current.offset + ')');\n      return this;\n    },\n    //alias of 'since' but opposite - like moment.js\n    from: function from(d) {\n      d = this.clone().set(d);\n      return d.since(this);\n    },\n    fromNow: function fromNow() {\n      var d = this.clone().set(Date.now());\n      return d.since(this);\n    },\n    weekStart: function weekStart(input) {\n      //accept a number directly\n      if (typeof input === 'number') {\n        this._weekStart = input;\n        return this;\n      }\n\n      if (typeof input === 'string') {\n        // accept 'wednesday'\n        input = input.toLowerCase().trim();\n        var num = days[\"short\"]().indexOf(input);\n\n        if (num === -1) {\n          num = days[\"long\"]().indexOf(input);\n        }\n\n        if (num === -1) {\n          num = 1; //go back to default\n        }\n\n        this._weekStart = num;\n      } else {\n        console.warn('Spacetime Error: Cannot understand .weekStart() input:', input);\n      }\n\n      return this;\n    }\n  }; // aliases\n\n  methods$4.inDST = methods$4.isDST;\n  methods$4.round = methods$4.nearest;\n  methods$4.each = methods$4.every;\n  var methods_1 = methods$4;\n\n  //these methods wrap around them.\n\n  var isLeapYear$1 = fns.isLeapYear;\n\n  var validate = function validate(n) {\n    //handle number as a string\n    if (typeof n === 'string') {\n      n = parseInt(n, 10);\n    }\n\n    return n;\n  };\n\n  var order$1 = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond']; //reduce hostile micro-changes when moving dates by millisecond\n\n  var confirm = function confirm(s, tmp, unit) {\n    var n = order$1.indexOf(unit);\n    var arr = order$1.slice(n, order$1.length);\n\n    for (var i = 0; i < arr.length; i++) {\n      var want = tmp[arr[i]]();\n      s[arr[i]](want);\n    }\n\n    return s;\n  };\n\n  var set = {\n    milliseconds: function milliseconds(s, n) {\n      n = validate(n);\n      var current = s.millisecond();\n      var diff = current - n; //milliseconds to shift by\n\n      return s.epoch - diff;\n    },\n    seconds: function seconds(s, n) {\n      n = validate(n);\n      var diff = s.second() - n;\n      var shift = diff * milliseconds.second;\n      return s.epoch - shift;\n    },\n    minutes: function minutes(s, n) {\n      n = validate(n);\n      var old = s.clone();\n      var diff = s.minute() - n;\n      var shift = diff * milliseconds.minute;\n      s.epoch -= shift; // check against a screw-up\n      // if (old.hour() != s.hour()) {\n      //   walkTo(old, {\n      //     minute: n\n      //   })\n      //   return old.epoch\n      // }\n\n      confirm(s, old, 'second');\n      return s.epoch;\n    },\n    hours: function hours(s, n) {\n      n = validate(n);\n\n      if (n >= 24) {\n        n = 24;\n      } else if (n < 0) {\n        n = 0;\n      }\n\n      var old = s.clone();\n      var diff = s.hour() - n;\n      var shift = diff * milliseconds.hour;\n      s.epoch -= shift; // oops, did we change the day?\n\n      if (s.date() !== old.date()) {\n        s = old.clone();\n\n        if (diff > 1) {\n          diff -= 1;\n        }\n\n        if (diff < 1) {\n          diff += 1;\n        }\n\n        shift = diff * milliseconds.hour;\n        s.epoch -= shift;\n      }\n\n      walk_1(s, {\n        hour: n\n      });\n      confirm(s, old, 'minute');\n      return s.epoch;\n    },\n    //support setting time by '4:25pm' - this isn't very-well developed..\n    time: function time(s, str) {\n      var m = str.match(/([0-9]{1,2})[:h]([0-9]{1,2})(:[0-9]{1,2})? ?(am|pm)?/);\n\n      if (!m) {\n        //fallback to support just '2am'\n        m = str.match(/([0-9]{1,2}) ?(am|pm)/);\n\n        if (!m) {\n          return s.epoch;\n        }\n\n        m.splice(2, 0, '0'); //add implicit 0 minutes\n\n        m.splice(3, 0, ''); //add implicit seconds\n      }\n\n      var h24 = false;\n      var hour = parseInt(m[1], 10);\n      var minute = parseInt(m[2], 10);\n\n      if (hour > 12) {\n        h24 = true;\n      } //make the hour into proper 24h time\n\n\n      if (h24 === false) {\n        if (m[4] === 'am' && hour === 12) {\n          //12am is midnight\n          hour = 0;\n        }\n\n        if (m[4] === 'pm' && hour < 12) {\n          //12pm is noon\n          hour += 12;\n        }\n      } // handle seconds\n\n\n      m[3] = m[3] || '';\n      m[3] = m[3].replace(/:/, '');\n      var sec = parseInt(m[3], 10) || 0;\n      s = s.hour(hour);\n      s = s.minute(minute);\n      s = s.second(sec);\n      s = s.millisecond(0);\n      return s.epoch;\n    },\n    date: function date(s, n) {\n      n = validate(n); //avoid setting february 31st\n\n      if (n > 28) {\n        var month = s.month();\n        var max = monthLengths_1[month]; // support leap day in february\n\n        if (month === 1 && n === 29 && isLeapYear$1(s.year())) {\n          max = 29;\n        }\n\n        if (n > max) {\n          n = max;\n        }\n      } //avoid setting < 0\n\n\n      if (n <= 0) {\n        n = 1;\n      }\n\n      walk_1(s, {\n        date: n\n      });\n      return s.epoch;\n    },\n    //this one's tricky\n    month: function month(s, n) {\n      if (typeof n === 'string') {\n        n = months$1.mapping()[n.toLowerCase()];\n      }\n\n      n = validate(n); //don't go past december\n\n      if (n >= 12) {\n        n = 11;\n      }\n\n      if (n <= 0) {\n        n = 0;\n      }\n\n      var date = s.date(); //there's no 30th of february, etc.\n\n      if (date > monthLengths_1[n]) {\n        //make it as close as we can..\n        date = monthLengths_1[n];\n      }\n\n      walk_1(s, {\n        month: n,\n        date: date\n      });\n      return s.epoch;\n    },\n    year: function year(s, n) {\n      // support '97\n      if (typeof n === 'string' && /^'[0-9]{2}$/.test(n)) {\n        n = n.replace(/'/, '').trim();\n        n = Number(n); // '89 is 1989\n\n        if (n > 30) {\n          //change this in 10y\n          n = 1900 + n;\n        } else {\n          // '12 is 2012\n          n = 2000 + n;\n        }\n      }\n\n      n = validate(n);\n      walk_1(s, {\n        year: n\n      });\n      return s.epoch;\n    },\n    dayOfYear: function dayOfYear(s, n) {\n      n = validate(n);\n      var old = s.clone();\n      n -= 1; //days are 1-based\n\n      if (n <= 0) {\n        n = 0;\n      } else if (n >= 365) {\n        n = 364;\n      }\n\n      s = s.startOf('year');\n      s = s.add(n, 'day');\n      confirm(s, old, 'hour');\n      return s.epoch;\n    }\n  };\n\n  var methods$3 = {\n    millisecond: function millisecond(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.milliseconds(s, num);\n        return s;\n      }\n\n      return this.d.getMilliseconds();\n    },\n    second: function second(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.seconds(s, num);\n        return s;\n      }\n\n      return this.d.getSeconds();\n    },\n    minute: function minute(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.minutes(s, num);\n        return s;\n      }\n\n      return this.d.getMinutes();\n    },\n    hour: function hour(num) {\n      var d = this.d;\n\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.hours(s, num);\n        return s;\n      }\n\n      return d.getHours();\n    },\n    //'3:30' is 3.5\n    hourFloat: function hourFloat(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n\n        var _minute = num % 1;\n\n        _minute = _minute * 60;\n\n        var _hour = parseInt(num, 10);\n\n        s.epoch = set.hours(s, _hour);\n        s.epoch = set.minutes(s, _minute);\n        return s;\n      }\n\n      var d = this.d;\n      var hour = d.getHours();\n      var minute = d.getMinutes();\n      minute = minute / 60;\n      return hour + minute;\n    },\n    // hour in 12h format\n    hour12: function hour12(str) {\n      var d = this.d;\n\n      if (str !== undefined) {\n        var s = this.clone();\n        str = '' + str;\n        var m = str.match(/^([0-9]+)(am|pm)$/);\n\n        if (m) {\n          var hour = parseInt(m[1], 10);\n\n          if (m[2] === 'pm') {\n            hour += 12;\n          }\n\n          s.epoch = set.hours(s, hour);\n        }\n\n        return s;\n      } //get the hour\n\n\n      var hour12 = d.getHours();\n\n      if (hour12 > 12) {\n        hour12 = hour12 - 12;\n      }\n\n      if (hour12 === 0) {\n        hour12 = 12;\n      }\n\n      return hour12;\n    },\n    //some ambiguity here with 12/24h\n    time: function time(str) {\n      if (str !== undefined) {\n        var s = this.clone();\n        str = str.toLowerCase().trim();\n        s.epoch = set.time(s, str);\n        return s;\n      }\n\n      return \"\".concat(this.h12(), \":\").concat(fns.zeroPad(this.minute())).concat(this.ampm());\n    },\n    // either 'am' or 'pm'\n    ampm: function ampm(input) {\n      var which = 'am';\n      var hour = this.hour();\n\n      if (hour >= 12) {\n        which = 'pm';\n      }\n\n      if (typeof input !== 'string') {\n        return which;\n      } //okay, we're doing a setter\n\n\n      var s = this.clone();\n      input = input.toLowerCase().trim(); //ampm should never change the day\n      // - so use `.hour(n)` instead of `.minus(12,'hour')`\n\n      if (hour >= 12 && input === 'am') {\n        //noon is 12pm\n        hour -= 12;\n        return s.hour(hour);\n      }\n\n      if (hour < 12 && input === 'pm') {\n        hour += 12;\n        return s.hour(hour);\n      }\n\n      return s;\n    },\n    //some hard-coded times of day, like 'noon'\n    dayTime: function dayTime(str) {\n      if (str !== undefined) {\n        var times = {\n          morning: '7:00am',\n          breakfast: '7:00am',\n          noon: '12:00am',\n          lunch: '12:00pm',\n          afternoon: '2:00pm',\n          evening: '6:00pm',\n          dinner: '6:00pm',\n          night: '11:00pm',\n          midnight: '23:59pm'\n        };\n        var s = this.clone();\n        str = str || '';\n        str = str.toLowerCase();\n\n        if (times.hasOwnProperty(str) === true) {\n          s = s.time(times[str]);\n        }\n\n        return s;\n      }\n\n      var h = this.hour();\n\n      if (h < 6) {\n        return 'night';\n      }\n\n      if (h < 12) {\n        //until noon\n        return 'morning';\n      }\n\n      if (h < 17) {\n        //until 5pm\n        return 'afternoon';\n      }\n\n      if (h < 22) {\n        //until 10pm\n        return 'evening';\n      }\n\n      return 'night';\n    },\n    //parse a proper iso string\n    iso: function iso(num) {\n      if (num !== undefined) {\n        return this.set(num);\n      }\n\n      return this.format('iso');\n    }\n  };\n  var _01Time = methods$3;\n\n  var methods$2 = {\n    // # day in the month\n    date: function date(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        num = parseInt(num, 10);\n\n        if (num) {\n          s.epoch = set.date(s, num);\n        }\n\n        return s;\n      }\n\n      return this.d.getDate();\n    },\n    //like 'wednesday' (hard!)\n    day: function day(input) {\n      if (input === undefined) {\n        return this.d.getDay();\n      }\n\n      var original = this.clone();\n      var want = input; // accept 'wednesday'\n\n      if (typeof input === 'string') {\n        input = input.toLowerCase();\n\n        if (days.aliases.hasOwnProperty(input)) {\n          want = days.aliases[input];\n        } else {\n          want = days[\"short\"]().indexOf(input);\n\n          if (want === -1) {\n            want = days[\"long\"]().indexOf(input);\n          }\n        }\n      } //move approx\n\n\n      var day = this.d.getDay();\n      var diff = day - want;\n      var s = this.subtract(diff, 'days'); //tighten it back up\n\n      walk_1(s, {\n        hour: original.hour(),\n        minute: original.minute(),\n        second: original.second()\n      });\n      return s;\n    },\n    //these are helpful name-wrappers\n    dayName: function dayName(input) {\n      if (input === undefined) {\n        return days[\"long\"]()[this.day()];\n      }\n\n      var s = this.clone();\n      s = s.day(input);\n      return s;\n    },\n    //either name or number\n    month: function month(input) {\n      if (input !== undefined) {\n        var s = this.clone();\n        s.epoch = set.month(s, input);\n        return s;\n      }\n\n      return this.d.getMonth();\n    }\n  };\n  var _02Date = methods$2;\n\n  var clearMinutes = function clearMinutes(s) {\n    s = s.minute(0);\n    s = s.second(0);\n    s = s.millisecond(1);\n    return s;\n  };\n\n  var methods$1 = {\n    // day 0-366\n    dayOfYear: function dayOfYear(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.dayOfYear(s, num);\n        return s;\n      } //days since newyears - jan 1st is 1, jan 2nd is 2...\n\n\n      var sum = 0;\n      var month = this.d.getMonth();\n      var tmp; //count the num days in each month\n\n      for (var i = 1; i <= month; i++) {\n        tmp = new Date();\n        tmp.setDate(1);\n        tmp.setFullYear(this.d.getFullYear()); //the year matters, because leap-years\n\n        tmp.setHours(1);\n        tmp.setMinutes(1);\n        tmp.setMonth(i);\n        tmp.setHours(-2); //the last day of the month\n\n        sum += tmp.getDate();\n      }\n\n      return sum + this.d.getDate();\n    },\n    //since the start of the year\n    week: function week(num) {\n      // week-setter\n      if (num !== undefined) {\n        var s = this.clone();\n        s = s.month(0);\n        s = s.date(1);\n        s = s.day('monday');\n        s = clearMinutes(s); //first week starts first Thurs in Jan\n        // so mon dec 28th is 1st week\n        // so mon dec 29th is not the week\n\n        if (s.monthName() === 'december' && s.date() >= 28) {\n          s = s.add(1, 'week');\n        }\n\n        num -= 1; //1-based\n\n        s = s.add(num, 'weeks');\n        return s;\n      } //find-out which week it is\n\n\n      var tmp = this.clone();\n      tmp = tmp.month(0);\n      tmp = tmp.date(1);\n      tmp = clearMinutes(tmp);\n      tmp = tmp.day('monday'); //don't go into last-year\n\n      if (tmp.monthName() === 'december' && tmp.date() >= 28) {\n        tmp = tmp.add(1, 'week');\n      } // is first monday the 1st?\n\n\n      var toAdd = 1;\n\n      if (tmp.date() === 1) {\n        toAdd = 0;\n      }\n\n      tmp = tmp.minus(1, 'second');\n      var thisOne = this.epoch; //if the week technically hasn't started yet\n\n      if (tmp.epoch > thisOne) {\n        return 1;\n      } //speed it up, if we can\n\n\n      var i = 0;\n      var skipWeeks = this.month() * 4;\n      tmp.epoch += milliseconds.week * skipWeeks;\n      i += skipWeeks;\n\n      for (; i <= 52; i++) {\n        if (tmp.epoch > thisOne) {\n          return i + toAdd;\n        }\n\n        tmp = tmp.add(1, 'week');\n      }\n\n      return 52;\n    },\n    //'january'\n    monthName: function monthName(input) {\n      if (input === undefined) {\n        return months$1[\"long\"]()[this.month()];\n      }\n\n      var s = this.clone();\n      s = s.month(input);\n      return s;\n    },\n    //q1, q2, q3, q4\n    quarter: function quarter(num) {\n      if (num !== undefined) {\n        if (typeof num === 'string') {\n          num = num.replace(/^q/i, '');\n          num = parseInt(num, 10);\n        }\n\n        if (quarters[num]) {\n          var s = this.clone();\n          var _month = quarters[num][0];\n          s = s.month(_month);\n          s = s.date(1);\n          s = s.startOf('day');\n          return s;\n        }\n      }\n\n      var month = this.d.getMonth();\n\n      for (var i = 1; i < quarters.length; i++) {\n        if (month < quarters[i][0]) {\n          return i - 1;\n        }\n      }\n\n      return 4;\n    },\n    //spring, summer, winter, fall\n    season: function season(input) {\n      var hem = 'north';\n\n      if (this.hemisphere() === 'South') {\n        hem = 'south';\n      }\n\n      if (input !== undefined) {\n        var s = this.clone();\n\n        for (var i = 0; i < seasons[hem].length; i++) {\n          if (input === seasons[hem][i][0]) {\n            s = s.month(seasons[hem][i][1]);\n            s = s.date(1);\n            s = s.startOf('day');\n          }\n        }\n\n        return s;\n      }\n\n      var month = this.d.getMonth();\n\n      for (var _i = 0; _i < seasons[hem].length - 1; _i++) {\n        if (month >= seasons[hem][_i][1] && month < seasons[hem][_i + 1][1]) {\n          return seasons[hem][_i][0];\n        }\n      }\n\n      return 'winter';\n    },\n    //the year number\n    year: function year(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.year(s, num);\n        return s;\n      }\n\n      return this.d.getFullYear();\n    },\n    //bc/ad years\n    era: function era(str) {\n      if (str !== undefined) {\n        var s = this.clone();\n        str = str.toLowerCase(); //TODO: there is no year-0AD i think. may have off-by-1 error here\n\n        var year = s.d.getFullYear(); //make '1992' into 1992bc..\n\n        if (str === 'bc' && year > 0) {\n          s.epoch = set.year(s, year * -1);\n        } //make '1992bc' into '1992'\n\n\n        if (str === 'ad' && year < 0) {\n          s.epoch = set.year(s, year * -1);\n        }\n\n        return s;\n      }\n\n      if (this.d.getFullYear() < 0) {\n        return 'BC';\n      }\n\n      return 'AD';\n    },\n    // 2019 -> 2010\n    decade: function decade(input) {\n      if (input !== undefined) {\n        input = String(input);\n        input = input.replace(/([0-9])'?s$/, '$1'); //1950's\n\n        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n        if (!input) {\n          console.warn('Spacetime: Invalid decade input');\n          return this;\n        } // assume 20th century?? for '70s'.\n\n\n        if (input.length === 2 && /[0-9][0-9]/.test(input)) {\n          input = '19' + input;\n        }\n\n        var year = Number(input);\n\n        if (isNaN(year)) {\n          return this;\n        } // round it down to the decade\n\n\n        year = Math.floor(year / 10) * 10;\n        return this.year(year); //.startOf('decade')\n      }\n\n      return this.startOf('decade').year();\n    },\n    // 1950 -> 19+1\n    century: function century(input) {\n      if (input !== undefined) {\n        if (typeof input === 'string') {\n          input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n          input = input.replace(/([0-9]+) ?(b\\.?c\\.?|a\\.?d\\.?)/i, function (a, b, c) {\n            if (c.match(/b\\.?c\\.?/i)) {\n              b = '-' + b;\n            }\n\n            return b;\n          });\n          input = input.replace(/c$/, ''); //20thC\n        }\n\n        var year = Number(input);\n\n        if (isNaN(input)) {\n          console.warn('Spacetime: Invalid century input');\n          return this;\n        } // there is no century 0\n\n\n        if (year === 0) {\n          year = 1;\n        }\n\n        if (year >= 0) {\n          year = (year - 1) * 100;\n        } else {\n          year = (year + 1) * 100;\n        }\n\n        return this.year(year);\n      } // century getter\n\n\n      var num = this.startOf('century').year();\n      num = Math.floor(num / 100);\n\n      if (num < 0) {\n        return num - 1;\n      }\n\n      return num + 1;\n    },\n    // 2019 -> 2+1\n    millenium: function millenium(input) {\n      if (input !== undefined) {\n        if (typeof input === 'string') {\n          input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n          input = Number(input);\n\n          if (isNaN(input)) {\n            console.warn('Spacetime: Invalid millenium input');\n            return this;\n          }\n        }\n\n        if (input > 0) {\n          input -= 1;\n        }\n\n        var year = input * 1000; // there is no year 0\n\n        if (year === 0) {\n          year = 1;\n        }\n\n        return this.year(year);\n      } // get the current millenium\n\n\n      var num = Math.floor(this.year() / 1000);\n\n      if (num >= 0) {\n        num += 1;\n      }\n\n      return num;\n    }\n  };\n  var _03Year = methods$1;\n\n  var methods = Object.assign({}, _01Time, _02Date, _03Year); //aliases\n\n  methods.milliseconds = methods.millisecond;\n  methods.seconds = methods.second;\n  methods.minutes = methods.minute;\n  methods.hours = methods.hour;\n  methods.hour24 = methods.hour;\n  methods.h12 = methods.hour12;\n  methods.h24 = methods.hour24;\n  methods.days = methods.day;\n\n  var addMethods$4 = function addMethods(Space) {\n    //hook the methods into prototype\n    Object.keys(methods).forEach(function (k) {\n      Space.prototype[k] = methods[k];\n    });\n  };\n\n  var query = addMethods$4;\n\n  var isLeapYear = fns.isLeapYear;\n\n  var getMonthLength = function getMonthLength(month, year) {\n    if (month === 1 && isLeapYear(year)) {\n      return 29;\n    }\n\n    return monthLengths_1[month];\n  }; //month is the one thing we 'model/compute'\n  //- because ms-shifting can be off by enough\n\n\n  var rollMonth = function rollMonth(want, old) {\n    //increment year\n    if (want.month > 0) {\n      var years = parseInt(want.month / 12, 10);\n      want.year = old.year() + years;\n      want.month = want.month % 12;\n    } else if (want.month < 0) {\n      //decrement year\n      var _years = Math.floor(Math.abs(want.month) / 13, 10);\n\n      _years = Math.abs(_years) + 1;\n      want.year = old.year() - _years; //ignore extras\n\n      want.month = want.month % 12;\n      want.month = want.month + 12;\n\n      if (want.month === 12) {\n        want.month = 0;\n      }\n    }\n\n    return want;\n  }; // briefly support day=-2 (this does not need to be perfect.)\n\n\n  var rollDaysDown = function rollDaysDown(want, old, sum) {\n    want.year = old.year();\n    want.month = old.month();\n    var date = old.date();\n    want.date = date - Math.abs(sum);\n\n    while (want.date < 1) {\n      want.month -= 1;\n\n      if (want.month < 0) {\n        want.month = 11;\n        want.year -= 1;\n      }\n\n      var max = getMonthLength(want.month, want.year);\n      want.date += max;\n    }\n\n    return want;\n  }; // briefly support day=33 (this does not need to be perfect.)\n\n\n  var rollDaysUp = function rollDaysUp(want, old, sum) {\n    var year = old.year();\n    var month = old.month();\n    var max = getMonthLength(month, year);\n\n    while (sum > max) {\n      sum -= max;\n      month += 1;\n\n      if (month >= 12) {\n        month -= 12;\n        year += 1;\n      }\n\n      max = getMonthLength(month, year);\n    }\n\n    want.month = month;\n    want.date = sum;\n    return want;\n  };\n\n  var _model = {\n    months: rollMonth,\n    days: rollDaysUp,\n    daysBack: rollDaysDown\n  };\n\n  // but briefly:\n  // millisecond-math, and some post-processing covers most-things\n  // we 'model' the calendar here only a little bit\n  // and that usually works-out...\n\n  var order = ['millisecond', 'second', 'minute', 'hour', 'date', 'month'];\n  var keep = {\n    second: order.slice(0, 1),\n    minute: order.slice(0, 2),\n    quarterhour: order.slice(0, 2),\n    hour: order.slice(0, 3),\n    date: order.slice(0, 4),\n    month: order.slice(0, 4),\n    quarter: order.slice(0, 4),\n    season: order.slice(0, 4),\n    year: order,\n    decade: order,\n    century: order\n  };\n  keep.week = keep.hour;\n  keep.season = keep.date;\n  keep.quarter = keep.date; // Units need to be dst adjuested\n\n  var dstAwareUnits = {\n    year: true,\n    quarter: true,\n    season: true,\n    month: true,\n    week: true,\n    day: true\n  };\n  var keepDate = {\n    month: true,\n    quarter: true,\n    season: true,\n    year: true\n  };\n\n  var addMethods$3 = function addMethods(SpaceTime) {\n    SpaceTime.prototype.add = function (num, unit) {\n      var s = this.clone();\n\n      if (!unit || num === 0) {\n        return s; //don't bother\n      }\n\n      var old = this.clone();\n      unit = fns.normalize(unit);\n\n      if (unit === 'millisecond') {\n        s.epoch += num;\n        return s;\n      } // support 'fortnight' alias\n\n\n      if (unit === 'fortnight') {\n        num *= 2;\n        unit = 'week';\n      } //move forward by the estimated milliseconds (rough)\n\n\n      if (milliseconds[unit]) {\n        s.epoch += milliseconds[unit] * num;\n      } else if (unit === 'week') {\n        s.epoch += milliseconds.day * (num * 7);\n      } else if (unit === 'quarter' || unit === 'season') {\n        s.epoch += milliseconds.month * (num * 3);\n      } else if (unit === 'quarterhour') {\n        s.epoch += milliseconds.minute * 15 * num;\n      } //now ensure our milliseconds/etc are in-line\n\n\n      var want = {};\n\n      if (keep[unit]) {\n        keep[unit].forEach(function (u) {\n          want[u] = old[u]();\n        });\n      }\n\n      if (dstAwareUnits[unit]) {\n        var diff = old.timezone().current.offset - s.timezone().current.offset;\n        s.epoch += diff * 3600 * 1000;\n      } //ensure month/year has ticked-over\n\n\n      if (unit === 'month') {\n        want.month = old.month() + num; //month is the one unit we 'model' directly\n\n        want = _model.months(want, old);\n      } //support coercing a week, too\n\n\n      if (unit === 'week') {\n        var sum = old.date() + num * 7;\n\n        if (sum <= 28 && sum > 1) {\n          want.date = sum;\n        }\n      } //support 25-hour day-changes on dst-changes\n      else if (unit === 'date') {\n          if (num < 0) {\n            want = _model.daysBack(want, old, num);\n          } else {\n            //specify a naive date number, if it's easy to do...\n            var _sum = old.date() + num; // ok, model this one too\n\n\n            want = _model.days(want, old, _sum);\n          } //manually punt it if we haven't moved at all..\n\n\n          if (num !== 0 && old.isSame(s, 'day')) {\n            want.date = old.date() + num;\n          }\n        } // ensure a quarter is 3 months over\n        else if (unit === 'quarter') {\n            want.month = old.month() + num * 3;\n            want.year = old.year(); // handle rollover\n\n            if (want.month < 0) {\n              var years = Math.floor(want.month / 12);\n              var remainder = want.month + Math.abs(years) * 12;\n              want.month = remainder;\n              want.year += years;\n            } else if (want.month >= 12) {\n              var _years = Math.floor(want.month / 12);\n\n              want.month = want.month % 12;\n              want.year += _years;\n            }\n\n            want.date = old.date();\n          } //ensure year has changed (leap-years)\n          else if (unit === 'year') {\n              var wantYear = old.year() + num;\n              var haveYear = s.year();\n\n              if (haveYear < wantYear) {\n                s.epoch += milliseconds.day;\n              } else if (haveYear > wantYear) {\n                s.epoch += milliseconds.day;\n              }\n            } //these are easier\n            else if (unit === 'decade') {\n                want.year = s.year() + 10;\n              } else if (unit === 'century') {\n                want.year = s.year() + 100;\n              } //keep current date, unless the month doesn't have it.\n\n\n      if (keepDate[unit]) {\n        var max = monthLengths_1[want.month];\n        want.date = old.date();\n\n        if (want.date > max) {\n          want.date = max;\n        }\n      }\n\n      if (Object.keys(want).length > 1) {\n        walk_1(s, want);\n      }\n\n      return s;\n    }; //subtract is only add *-1\n\n\n    SpaceTime.prototype.subtract = function (num, unit) {\n      var s = this.clone();\n      return s.add(num * -1, unit);\n    }; //add aliases\n\n\n    SpaceTime.prototype.minus = SpaceTime.prototype.subtract;\n    SpaceTime.prototype.plus = SpaceTime.prototype.add;\n  };\n\n  var add = addMethods$3;\n\n  //make a string, for easy comparison between dates\n  var print = {\n    millisecond: function millisecond(s) {\n      return s.epoch;\n    },\n    second: function second(s) {\n      return [s.year(), s.month(), s.date(), s.hour(), s.minute(), s.second()].join('-');\n    },\n    minute: function minute(s) {\n      return [s.year(), s.month(), s.date(), s.hour(), s.minute()].join('-');\n    },\n    hour: function hour(s) {\n      return [s.year(), s.month(), s.date(), s.hour()].join('-');\n    },\n    day: function day(s) {\n      return [s.year(), s.month(), s.date()].join('-');\n    },\n    week: function week(s) {\n      return [s.year(), s.week()].join('-');\n    },\n    month: function month(s) {\n      return [s.year(), s.month()].join('-');\n    },\n    quarter: function quarter(s) {\n      return [s.year(), s.quarter()].join('-');\n    },\n    year: function year(s) {\n      return s.year();\n    }\n  };\n  print.date = print.day;\n\n  var addMethods$2 = function addMethods(SpaceTime) {\n    SpaceTime.prototype.isSame = function (b, unit) {\n      var tzAware = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var a = this;\n\n      if (!unit) {\n        return null;\n      } // support swapped params\n\n\n      if (typeof b === 'string' && _typeof(unit) === 'object') {\n        var tmp = b;\n        b = unit;\n        unit = tmp;\n      }\n\n      if (typeof b === 'string' || typeof b === 'number') {\n        b = new SpaceTime(b, this.timezone.name);\n      } //support 'seconds' aswell as 'second'\n\n\n      unit = unit.replace(/s$/, ''); // make them the same timezone for proper comparison\n\n      if (tzAware === true && a.tz !== b.tz) {\n        b = b.clone();\n        b.tz = a.tz;\n      }\n\n      if (print[unit]) {\n        return print[unit](a) === print[unit](b);\n      }\n\n      return null;\n    };\n  };\n\n  var same = addMethods$2;\n\n  var addMethods$1 = function addMethods(SpaceTime) {\n    var methods = {\n      isAfter: function isAfter(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch > epoch;\n      },\n      isBefore: function isBefore(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch < epoch;\n      },\n      isEqual: function isEqual(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch === epoch;\n      },\n      isBetween: function isBetween(start, end) {\n        var isInclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        start = fns.beADate(start, this);\n        end = fns.beADate(end, this);\n        var startEpoch = fns.getEpoch(start);\n\n        if (startEpoch === null) {\n          return null;\n        }\n\n        var endEpoch = fns.getEpoch(end);\n\n        if (endEpoch === null) {\n          return null;\n        }\n\n        if (isInclusive) {\n          return this.isBetween(start, end) || this.isEqual(start) || this.isEqual(end);\n        }\n\n        return startEpoch < this.epoch && this.epoch < endEpoch;\n      }\n    }; //hook them into proto\n\n    Object.keys(methods).forEach(function (k) {\n      SpaceTime.prototype[k] = methods[k];\n    });\n  };\n\n  var compare = addMethods$1;\n\n  var addMethods = function addMethods(SpaceTime) {\n    var methods = {\n      i18n: function i18n(data) {\n        //change the day names\n        if (fns.isObject(data.days)) {\n          days.set(data.days);\n        } //change the month names\n\n\n        if (fns.isObject(data.months)) {\n          months$1.set(data.months);\n        } // change the the display style of the month / day names\n\n\n        if (fns.isBoolean(data.useTitleCase)) {\n          caseFormat.set(data.useTitleCase);\n        }\n      }\n    }; //hook them into proto\n\n    Object.keys(methods).forEach(function (k) {\n      SpaceTime.prototype[k] = methods[k];\n    });\n  };\n\n  var i18n = addMethods;\n\n  var timezones = unpack; //fake timezone-support, for fakers (es5 class)\n\n  var SpaceTime = function SpaceTime(input$1, tz) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    //the holy moment\n    this.epoch = null; //the shift for the given timezone\n\n    this.tz = find(tz, timezones); //whether to output warnings to console\n\n    this.silent = options.silent || true; // favour british interpretation of 02/02/2018, etc\n\n    this.british = options.dmy || options.british; //does the week start on sunday, or monday:\n\n    this._weekStart = 1; //default to monday\n\n    if (options.weekStart !== undefined) {\n      this._weekStart = options.weekStart;\n    } // the reference today date object, (for testing)\n\n\n    this._today = {};\n\n    if (options.today !== undefined) {\n      this._today = options.today;\n    } //add getter/setters\n\n\n    Object.defineProperty(this, 'd', {\n      //return a js date object\n      get: function get() {\n        var offset = quick(this); //every computer is somewhere- get this computer's built-in offset\n\n        var bias = new Date(this.epoch).getTimezoneOffset() || 0; //movement\n\n        var shift = bias + offset * 60; //in minutes\n\n        shift = shift * 60 * 1000; //in ms\n        //remove this computer's offset\n\n        var epoch = this.epoch + shift;\n        var d = new Date(epoch);\n        return d;\n      }\n    }); //add this data on the object, to allow adding new timezones\n\n    Object.defineProperty(this, 'timezones', {\n      get: function get() {\n        return timezones;\n      },\n      set: function set(obj) {\n        timezones = obj;\n        return obj;\n      }\n    }); //parse the various formats\n\n    var tmp = input(this, input$1, tz);\n    this.epoch = tmp.epoch;\n  }; //(add instance methods to prototype)\n\n\n  Object.keys(methods_1).forEach(function (k) {\n    SpaceTime.prototype[k] = methods_1[k];\n  }); // ¯\\_(ツ)_/¯\n\n  SpaceTime.prototype.clone = function () {\n    return new SpaceTime(this.epoch, this.tz, {\n      silent: this.silent,\n      weekStart: this._weekStart,\n      today: this._today\n    });\n  }; //return native date object at the same epoch\n\n\n  SpaceTime.prototype.toLocalDate = function () {\n    return new Date(this.epoch);\n  }; //append more methods\n\n\n  query(SpaceTime);\n  add(SpaceTime);\n  same(SpaceTime);\n  compare(SpaceTime);\n  i18n(SpaceTime);\n  var spacetime = SpaceTime;\n\n  var whereIts = function whereIts(a, b) {\n    var start = new spacetime(null);\n    var end = new spacetime(null);\n    start = start.time(a); //if b is undefined, use as 'within one hour'\n\n    if (b) {\n      end = end.time(b);\n    } else {\n      end = start.add(59, 'minutes');\n    }\n\n    var startHour = start.hour();\n    var endHour = end.hour();\n    var tzs = Object.keys(start.timezones).filter(function (tz) {\n      if (tz.indexOf('/') === -1) {\n        return false;\n      }\n\n      var m = new spacetime(null, tz);\n      var hour = m.hour(); //do 'calendar-compare' not real-time-compare\n\n      if (hour >= startHour && hour <= endHour) {\n        //test minutes too, if applicable\n        if (hour === startHour && m.minute() < start.minute()) {\n          return false;\n        }\n\n        if (hour === endHour && m.minute() > end.minute()) {\n          return false;\n        }\n\n        return true;\n      }\n\n      return false;\n    });\n    return tzs;\n  };\n\n  var whereIts_1 = whereIts;\n\n  var _version = '6.13.1';\n\n  var main = function main(input, tz, options) {\n    return new spacetime(input, tz, options);\n  }; // set all properties of a given 'today' object\n\n\n  var setToday = function setToday(s) {\n    var today = s._today || {};\n    Object.keys(today).forEach(function (k) {\n      s = s[k](today[k]);\n    });\n    return s;\n  }; //some helper functions on the main method\n\n\n  main.now = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s;\n  };\n\n  main.today = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.startOf('day');\n  };\n\n  main.tomorrow = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.add(1, 'day').startOf('day');\n  };\n\n  main.yesterday = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.subtract(1, 'day').startOf('day');\n  };\n\n  main.extend = function (obj) {\n    Object.keys(obj).forEach(function (k) {\n      spacetime.prototype[k] = obj[k];\n    });\n    return this;\n  };\n\n  main.timezones = function () {\n    var s = new spacetime();\n    return s.timezones;\n  }; //find tz by time\n\n\n  main.whereIts = whereIts_1;\n  main.version = _version; //aliases:\n\n  main.plugin = main.extend;\n  var src = main;\n\n  return src;\n\n})));\n","// some opinionated-but-common-sense timezone abbreviations\n// these timezone abbreviations are wholly made-up by me, Spencer Kelly, with no expertise in geography\n// generated humbly from https://github.com/spencermountain/spacetime-informal\nconst spacetime = require('spacetime')\n\nconst america = 'America/'\nconst asia = 'Asia/'\nconst europe = 'Europe/'\nconst africa = 'Africa/'\nconst aus = 'Australia/'\nconst pac = 'Pacific/'\n\nconst informal = {\n  //europe\n  'british summer time': europe + 'London',\n  bst: europe + 'London',\n  'british time': europe + 'London',\n  'britain time': europe + 'London',\n  'irish summer time': europe + 'Dublin',\n  'irish time': europe + 'Dublin',\n  ireland: europe + 'Dublin',\n  'central european time': europe + 'Berlin',\n  cet: europe + 'Berlin',\n  'central european summer time': europe + 'Berlin',\n  cest: europe + 'Berlin',\n  'central europe': europe + 'Berlin',\n  'eastern european time': europe + 'Riga',\n  eet: europe + 'Riga',\n  'eastern european summer time': europe + 'Riga',\n  eest: europe + 'Riga',\n  'eastern europe time': europe + 'Riga',\n  'western european time': europe + 'Lisbon',\n  // wet: europe+'Lisbon',\n  'western european summer time': europe + 'Lisbon',\n  // west: europe+'Lisbon',\n  'western europe': europe + 'Lisbon',\n  'turkey standard time': europe + 'Istanbul',\n  trt: europe + 'Istanbul',\n  'turkish time': europe + 'Istanbul',\n\n  //africa\n  etc: africa + 'Freetown',\n  utc: africa + 'Freetown',\n  'greenwich standard time': africa + 'Freetown',\n  gmt: africa + 'Freetown',\n  'east africa time': africa + 'Nairobi',\n  // eat: africa+'Nairobi',\n  'east african time': africa + 'Nairobi',\n  'eastern africa time': africa + 'Nairobi',\n  'central africa time': africa + 'Khartoum',\n  // cat: africa+'Khartoum',\n  'central african time': africa + 'Khartoum',\n  'south africa standard time': africa + 'Johannesburg',\n  sast: africa + 'Johannesburg',\n  'southern africa': africa + 'Johannesburg',\n  'south african': africa + 'Johannesburg',\n  'west africa standard time': africa + 'Lagos',\n  // wat: africa+'Lagos',\n  'western africa time': africa + 'Lagos',\n  'west african time': africa + 'Lagos',\n\n  'australian central standard time': aus + 'Adelaide',\n  acst: aus + 'Adelaide',\n  'australian central daylight time': aus + 'Adelaide',\n  acdt: aus + 'Adelaide',\n  'australia central': aus + 'Adelaide',\n  'australian eastern standard time': aus + 'Brisbane',\n  aest: aus + 'Brisbane',\n  'australian eastern daylight time': aus + 'Brisbane',\n  aedt: aus + 'Brisbane',\n  'australia east': aus + 'Brisbane',\n  'australian western standard time': aus + 'Perth',\n  awst: aus + 'Perth',\n  'australian western daylight time': aus + 'Perth',\n  awdt: aus + 'Perth',\n  'australia west': aus + 'Perth',\n  'australian central western standard time': aus + 'Eucla',\n  acwst: aus + 'Eucla',\n  'australia central west': aus + 'Eucla',\n  'lord howe standard time': aus + 'Lord_Howe',\n  lhst: aus + 'Lord_Howe',\n  'lord howe daylight time': aus + 'Lord_Howe',\n  lhdt: aus + 'Lord_Howe',\n  'russian standard time': europe + 'Moscow',\n  msk: europe + 'Moscow',\n  russian: europe + 'Moscow',\n\n  //america\n  'central standard time': america + 'Chicago',\n  'central time': america + 'Chicago',\n  cst: america + 'Havana',\n  'central daylight time': america + 'Chicago',\n  cdt: america + 'Havana',\n  'mountain standard time': america + 'Denver',\n  'mountain time': america + 'Denver',\n  mst: america + 'Denver',\n  'mountain daylight time': america + 'Denver',\n  mdt: america + 'Denver',\n  'atlantic standard time': america + 'Halifax',\n  'atlantic time': america + 'Halifax',\n  ast: asia + 'Baghdad',\n  'atlantic daylight time': america + 'Halifax',\n  adt: america + 'Halifax',\n  'eastern standard time': america + 'New_York',\n  'eastern time': america + 'New_York',\n  est: america + 'New_York',\n  'eastern daylight time': america + 'New_York',\n  edt: america + 'New_York',\n  'pacific time': america + 'Los_Angeles',\n  'pacific standard time': america + 'Los_Angeles',\n  pst: america + 'Los_Angeles',\n  'pacific daylight time': america + 'Los_Angeles',\n  pdt: america + 'Los_Angeles',\n  'alaskan standard time': america + 'Anchorage',\n  'alaskan time': america + 'Anchorage',\n  ahst: america + 'Anchorage',\n  'alaskan daylight time': america + 'Anchorage',\n  ahdt: america + 'Anchorage',\n  'hawaiian standard time': pac + 'Honolulu',\n  'hawaiian time': pac + 'Honolulu',\n  hst: pac + 'Honolulu',\n  'aleutian time': pac + 'Honolulu',\n  'hawaii time': pac + 'Honolulu',\n  'newfoundland standard time': america + 'St_Johns',\n  'newfoundland time': america + 'St_Johns',\n  nst: america + 'St_Johns',\n  'newfoundland daylight time': america + 'St_Johns',\n  ndt: america + 'St_Johns',\n  'brazil time': america + 'Sao_Paulo',\n  brt: america + 'Sao_Paulo',\n  brasília: america + 'Sao_Paulo',\n  brasilia: america + 'Sao_Paulo',\n  'brazilian time': america + 'Sao_Paulo',\n  'argentina time': america + 'Buenos_Aires',\n  // art: a+'Buenos_Aires',\n  'argentinian time': america + 'Buenos_Aires',\n  'amazon time': america + 'Manaus',\n  amt: america + 'Manaus',\n  'amazonian time': america + 'Manaus',\n  'easter island standard time': 'Chile/Easterisland',\n  east: 'Chile/Easterisland',\n  'easter island summer time': 'Chile/Easterisland',\n  easst: 'Chile/Easterisland',\n  'venezuelan standard time': america + 'Caracas',\n  'venezuelan time': america + 'Caracas',\n  vet: america + 'Caracas',\n  'venezuela time': america + 'Caracas',\n  'paraguay time': america + 'Asuncion',\n  pyt: america + 'Asuncion',\n  'paraguay summer time': america + 'Asuncion',\n  pyst: america + 'Asuncion',\n  'cuba standard time': america + 'Havana',\n  'cuba time': america + 'Havana',\n  'cuba daylight time': america + 'Havana',\n  'cuban time': america + 'Havana',\n  'bolivia time': america + 'La_Paz',\n  // bot: a+'La_Paz',\n  'bolivian time': america + 'La_Paz',\n  'colombia time': america + 'Bogota',\n  cot: america + 'Bogota',\n  'colombian time': america + 'Bogota',\n  'acre time': america + 'Eirunepe',\n  // act: a+'Eirunepe',\n  'peru time': america + 'Lima',\n  // pet: a+'Lima',\n  'chile standard time': america + 'Punta_Arenas',\n  'chile time': america + 'Punta_Arenas',\n  clst: america + 'Punta_Arenas',\n  'chile summer time': america + 'Punta_Arenas',\n  cldt: america + 'Punta_Arenas',\n  'uruguay time': america + 'Montevideo',\n  uyt: america + 'Montevideo',\n\n  //asia\n  ist: asia + 'Jerusalem',\n  'arabic standard time': asia + 'Baghdad',\n  'arabic time': asia + 'Baghdad',\n  'arab time': asia + 'Baghdad',\n  'iran standard time': asia + 'Tehran',\n  'iran time': asia + 'Tehran',\n  irst: asia + 'Tehran',\n  'iran daylight time': asia + 'Tehran',\n  irdt: asia + 'Tehran',\n  iranian: asia + 'Tehran',\n  'pakistan standard time': asia + 'Karachi',\n  'pakistan time': asia + 'Karachi',\n  pkt: asia + 'Karachi',\n  'india standard time': asia + 'Kolkata',\n  'indian time': asia + 'Kolkata',\n  'indochina time': asia + 'Bangkok',\n  ict: asia + 'Bangkok',\n  'south east asia': asia + 'Bangkok',\n  'china standard time': asia + 'Shanghai',\n  ct: asia + 'Shanghai',\n  'chinese time': asia + 'Shanghai',\n  'alma-ata time': asia + 'Almaty',\n  almt: asia + 'Almaty',\n  'oral time': asia + 'Oral',\n  'orat time': asia + 'Oral',\n  'yakutsk time': asia + 'Yakutsk',\n  yakt: asia + 'Yakutsk',\n  'gulf standard time': asia + 'Dubai',\n  'gulf time': asia + 'Dubai',\n  gst: asia + 'Dubai',\n  uae: asia + 'Dubai',\n  'hong kong time': asia + 'Hong_Kong',\n  hkt: asia + 'Hong_Kong',\n  'western indonesian time': asia + 'Jakarta',\n  wib: asia + 'Jakarta',\n  'indonesia time': asia + 'Jakarta',\n  'central indonesian time': asia + 'Makassar',\n  wita: asia + 'Makassar',\n  'israel daylight time': asia + 'Jerusalem',\n  idt: asia + 'Jerusalem',\n  'israel standard time': asia + 'Jerusalem',\n  'israel time': asia + 'Jerusalem',\n  israeli: asia + 'Jerusalem',\n  'krasnoyarsk time': asia + 'Krasnoyarsk',\n  krat: asia + 'Krasnoyarsk',\n  'malaysia time': asia + 'Kuala_Lumpur',\n  myt: asia + 'Kuala_Lumpur',\n  'singapore time': asia + 'Singapore',\n  sgt: asia + 'Singapore',\n  'korea standard time': asia + 'Seoul',\n  'korea time': asia + 'Seoul',\n  kst: asia + 'Seoul',\n  'korean time': asia + 'Seoul',\n  'uzbekistan time': asia + 'Samarkand',\n  uzt: asia + 'Samarkand',\n  'vladivostok time': asia + 'Vladivostok',\n  vlat: asia + 'Vladivostok',\n\n  //indian\n  'maldives time': 'Indian/Maldives',\n  mvt: 'Indian/Maldives',\n  'mauritius time': 'Indian/Mauritius',\n  mut: 'Indian/Mauritius',\n\n  // pacific\n  'marshall islands time': pac + 'Kwajalein',\n  mht: pac + 'Kwajalein',\n  'samoa standard time': pac + 'Midway',\n  sst: pac + 'Midway',\n  'somoan time': pac + 'Midway',\n  'chamorro standard time': pac + 'Guam',\n  chst: pac + 'Guam',\n  'papua new guinea time': pac + 'Bougainville',\n  pgt: pac + 'Bougainville',\n}\n\n//add the official iana zonefile names\nlet iana = spacetime().timezones\nlet formal = Object.keys(iana).reduce((h, k) => {\n  h[k] = k\n  return h\n}, {})\nmodule.exports = Object.assign({}, informal, formal)\n","module.exports = [\n  'weekday',\n\n  'summer',\n  'winter',\n  'autumn',\n\n  'some day',\n  'one day',\n  'all day',\n  'some point',\n\n  'eod',\n  'eom',\n  'eoy',\n  'standard time',\n  'daylight time',\n  'tommorrow',\n]\n","module.exports = [\n  'centuries',\n  'century',\n  'day',\n  'days',\n  'decade',\n  'decades',\n  'hour',\n  'hours',\n  'hr',\n  'hrs',\n  'millisecond',\n  'milliseconds',\n  'minute',\n  'minutes',\n  'min',\n  'mins',\n  'month',\n  'months',\n  'seconds',\n  'sec',\n  'secs',\n  'week end',\n  'week ends',\n  'weekend',\n  'weekends',\n  'week',\n  'weeks',\n  'wk',\n  'wks',\n  'year',\n  'years',\n  'yr',\n  'yrs',\n  'quarter',\n  // 'quarters',\n  'qtr',\n  'qtrs',\n  'season',\n  'seasons',\n]\n","module.exports = [\n  'all hallows eve',\n  'all saints day',\n  'all sts day',\n  'april fools',\n  'armistice day',\n  'australia day',\n  'bastille day',\n  'boxing day',\n  'canada day',\n  'christmas eve',\n  'christmas',\n  'cinco de mayo',\n  'day of the dead',\n  'dia de muertos',\n  'dieciseis de septiembre',\n  'emancipation day',\n  'grito de dolores',\n  'groundhog day',\n  'halloween',\n  'harvey milk day',\n  'inauguration day',\n  'independence day',\n  'independents day',\n  'juneteenth',\n  'labour day',\n  'national freedom day',\n  'national nurses day',\n  'new years eve',\n  'new years',\n  'purple heart day',\n  'rememberance day',\n  'rosa parks day',\n  'saint andrews day',\n  'saint patricks day',\n  'saint stephens day',\n  'saint valentines day',\n  'st andrews day',\n  'st patricks day',\n  'st stephens day',\n  'st valentines day ',\n  'valentines day',\n  'valentines',\n  'veterans day',\n  'victoria day',\n  'womens equality day',\n  'xmas',\n  // Fixed religious and cultural holidays\n  // Catholic + Christian\n  'epiphany',\n  'orthodox christmas day',\n  'orthodox new year',\n  'assumption of mary',\n  'all souls day',\n  'feast of the immaculate conception',\n  'feast of our lady of guadalupe',\n\n  // Kwanzaa\n  'kwanzaa',\n  // Pagan / metal 🤘\n  'imbolc',\n  'beltaine',\n  'lughnassadh',\n  'samhain',\n  'martin luther king day',\n  'mlk day',\n  'presidents day',\n  'mardi gras',\n  'tax day',\n  'commonwealth day',\n  'mothers day',\n  'memorial day',\n  'fathers day',\n  'columbus day',\n  'indigenous peoples day',\n  'canadian thanksgiving',\n  'election day',\n  'thanksgiving',\n  't-day',\n  'turkey day',\n  'black friday',\n  'cyber monday',\n  // Astronomical religious and cultural holidays\n  'ash wednesday',\n  'palm sunday',\n  'maundy thursday',\n  'good friday',\n  'holy saturday',\n  'easter',\n  'easter sunday',\n  'easter monday',\n  'orthodox good friday',\n  'orthodox holy saturday',\n  'orthodox easter',\n  'orthodox easter monday',\n  'ascension day',\n  'pentecost',\n  'whitsunday',\n  'whit sunday',\n  'whit monday',\n  'trinity sunday',\n  'corpus christi',\n  'advent',\n  // Jewish\n  'tu bishvat',\n  'tu bshevat',\n  'purim',\n  'passover',\n  'yom hashoah',\n  'lag baomer',\n  'shavuot',\n  'tisha bav',\n  'rosh hashana',\n  'yom kippur',\n  'sukkot',\n  'shmini atzeret',\n  'simchat torah',\n  'chanukah',\n  'hanukkah',\n  // Muslim\n  'isra and miraj',\n  'lailat al-qadr',\n  'eid al-fitr',\n  'id al-Fitr',\n  'eid ul-Fitr',\n  'ramadan',\n  'eid al-adha',\n  'muharram',\n  'the prophets birthday',\n  'ostara',\n  'march equinox',\n  'vernal equinox',\n  'litha',\n  'june solistice',\n  'summer solistice',\n  'mabon',\n  'september equinox',\n  'fall equinox',\n  'autumnal equinox',\n  'yule',\n  'december solstice',\n  'winter solstice',\n  // Additional important holidays\n  'chinese new year',\n  'diwali',\n]\n","module.exports = [\n  'noon',\n  'midnight',\n  'morning',\n  'tonight',\n  'evening',\n  'afternoon',\n  'breakfast time',\n  'lunchtime',\n  'dinnertime',\n  'midday',\n  'eod',\n  'oclock',\n  'oclock',\n  'at night',\n  // 'now',\n  // 'night',\n  // 'sometime',\n  // 'all day',\n]\n","const timezones = require('../_timezones')\nconst data = [\n  [require('./dates'), '#Date'],\n  [require('./durations'), '#Duration'],\n  [require('./holidays'), '#Holiday'],\n  [require('./times'), '#Time'],\n  [Object.keys(timezones), '#Timezone'],\n]\nlet lex = {\n  'a couple': 'Value',\n  thur: 'WeekDay',\n}\ndata.forEach((a) => {\n  for (let i = 0; i < a[0].length; i++) {\n    lex[a[0][i]] = a[1]\n  }\n})\n\nmodule.exports = lex\n","const spacetime = require('spacetime')\n\nclass Unit {\n  constructor(input, unit, context) {\n    this.unit = unit || 'day'\n    context = context || {}\n    let today = {}\n    if (context.today) {\n      today = {\n        date: context.today.date(),\n        month: context.today.month(),\n        year: context.today.year(),\n      }\n    }\n    // set it to the beginning of the given unit\n    let d = spacetime(input, context.timezone, { today: today })\n\n    // set to beginning?\n    // if (d.isValid() && keepTime !== true) {\n    //   d = d.startOf(this.unit)\n    // }\n    Object.defineProperty(this, 'd', {\n      enumerable: false,\n      writable: true,\n      value: d,\n    })\n    Object.defineProperty(this, 'context', {\n      enumerable: false,\n      writable: true,\n      value: context,\n    })\n  }\n  // make a new one\n  clone() {\n    let d = new Unit(this.d, this.unit, this.context)\n    return d\n  }\n  log() {\n    console.log('--')\n    this.d.log()\n    console.log('\\n')\n    return this\n  }\n  applyShift(obj = {}) {\n    Object.keys(obj).forEach((unit) => {\n      this.d = this.d.add(obj[unit], unit)\n    })\n    return this\n  }\n  applyTime(str) {\n    if (str) {\n      this.d = this.d.time(str)\n    } else {\n      this.d = this.d.startOf('day') //zero-out time\n    }\n    return this\n  }\n  applyWeekDay(day) {\n    if (day) {\n      let epoch = this.d.epoch\n      this.d = this.d.day(day)\n      if (this.d.epoch < epoch) {\n        this.d = this.d.add(1, 'week')\n      }\n    }\n    return this\n  }\n  applyRel(rel) {\n    if (rel === 'next') {\n      return this.next()\n    }\n    if (rel === 'last' || rel === 'this-past') {\n      // special 'this past' logic is handled in WeekDay\n      return this.last()\n    }\n    return this\n  }\n  applySection(section) {\n    if (section === 'start') {\n      return this.start()\n    }\n    if (section === 'end') {\n      return this.end()\n    }\n    if (section === 'middle') {\n      return this.middle()\n    }\n    return this\n  }\n  format(fmt) {\n    return this.d.format(fmt)\n  }\n  start() {\n    // do we have a custom day-start?\n    if (this.context.dayStart) {\n      let dayStart = this.d.time(this.context.dayStart)\n      if (dayStart.isBefore(this.d)) {\n        this.d = dayStart\n        return this\n      }\n    }\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  end() {\n    // do we have a custom day-end?\n    if (this.context.dayEnd) {\n      let dayEnd = this.d.time(this.context.dayEnd)\n      if (dayEnd.isAfter(this.d)) {\n        this.d = dayEnd\n        return this\n      }\n    }\n    this.d = this.d.endOf(this.unit)\n    return this\n  }\n  middle() {\n    let diff = this.d.diff(this.d.endOf(this.unit))\n    let minutes = Math.round(diff.minutes / 2)\n    this.d = this.d.add(minutes, 'minutes')\n    return this\n  }\n  // move it to 3/4s through\n  beforeEnd() {\n    let diff = this.d.startOf(this.unit).diff(this.d.endOf(this.unit))\n    let mins = Math.round(diff.minutes / 4)\n    this.d = this.d.endOf(this.unit)\n    this.d = this.d.minus(mins, 'minutes')\n    if (this.context.dayStart) {\n      this.d = this.d.time(this.context.dayStart)\n    }\n    return this\n  }\n  // the millescond before\n  before() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.endOf(this.unit)\n    if (this.context.dayEnd) {\n      this.d = this.d.time(this.context.dayEnd)\n    }\n    return this\n  }\n  // 'after 2019'\n  after() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'next june' 'next tuesday'\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'last june' 'last tuesday'\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nmodule.exports = Unit\n","const spacetime = require('spacetime')\nconst Unit = require('./Unit')\n\nclass Day extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  middle() {\n    this.d = this.d.time('10am')\n    return this\n  }\n  beforeEnd() {\n    this.d = this.d.time('2pm')\n    return this\n  }\n}\n\n// like 'feb 2'\nclass CalendarDate extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    return this\n  }\n}\n\nclass WeekDay extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    // is the input just a weekday?\n    if (typeof input === 'string') {\n      this.d = spacetime(context.today, context.timezone)\n      this.d = this.d.day(input)\n      // assume a wednesday in the future\n      if (this.d.isBefore(context.today)) {\n        this.d = this.d.add(7, 'days')\n      }\n    } else {\n      this.d = input\n    }\n    this.weekDay = this.d.dayName()\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  clone() {\n    return new WeekDay(this.d, this.unit, this.context)\n  }\n  next() {\n    this.d = this.d.add(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n  // the millescond before\n  before() {\n    this.d = this.d.minus(1, 'day')\n    this.d = this.d.endOf('day')\n    if (this.context.dayEnd) {\n      this.d = this.d.time(this.context.dayEnd)\n    }\n    return this\n  }\n  applyRel(rel) {\n    if (rel === 'next') {\n      let tooFar = this.context.today.endOf('week').add(1, 'week')\n      this.next()\n      //  did we go too-far?\n      if (this.d.isAfter(tooFar)) {\n        this.last() // go back\n      }\n      return this\n    }\n    // the closest-one backwards\n    if (rel === 'this-past') {\n      return this.last()\n    }\n    if (rel === 'last') {\n      let start = this.context.today.startOf('week')\n      this.last()\n      // are we still in 'this week' though?\n      if (this.d.isBefore(start) === false) {\n        this.last() // do it again\n      }\n      return this\n    }\n    return this\n  }\n}\n\n// like 'haloween'\nclass Holiday extends CalendarDate {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n}\n\nmodule.exports = {\n  Day: Day,\n  WeekDay: WeekDay,\n  CalendarDate: CalendarDate,\n  Holiday: Holiday,\n}\n","const Unit = require('./Unit')\n\n// a specific month, like 'March'\nclass AnyMonth extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n}\n\n// a specific month, like 'March'\nclass Month extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n}\n\nclass AnyQuarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  last() {\n    this.d = this.d.minus(1, 'quarter')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\n\nclass Quarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Season extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'season'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Year extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'year'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('year')\n    }\n  }\n}\n\nmodule.exports = {\n  AnyMonth: AnyMonth,\n  Month: Month,\n  Quarter: Quarter,\n  AnyQuarter: AnyQuarter,\n  Season: Season,\n  Year: Year,\n}\n","const Unit = require('./Unit')\n\nclass Week extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('week')\n    }\n  }\n  clone() {\n    return new Week(this.d, this.unit, this.context)\n  }\n  middle() {\n    this.d = this.d.add(2, 'days') //wednesday\n    return this\n  }\n  // move it to 3/4s through\n  beforeEnd() {\n    this.d = this.d.day('friday')\n    return this\n  }\n}\n\n//may need some work\nclass WeekEnd extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.day('saturday')\n      this.d = this.d.startOf('day')\n    }\n  }\n  start() {\n    this.d = this.d.day('saturday').startOf('day')\n    return this\n  }\n  // end() {\n  //   this.d = this.d.day('sunday').endOf('day')\n  //   return this\n  // }\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n}\n\nmodule.exports = {\n  Week: Week,\n  WeekEnd: WeekEnd,\n}\n","const Unit = require('./Unit')\n\nclass Hour extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'hour'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('hour')\n    }\n  }\n}\nclass Minute extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'minute'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('minute')\n    }\n  }\n}\nclass Moment extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'millisecond'\n  }\n}\n\nmodule.exports = {\n  Hour: Hour,\n  Minute: Minute,\n  Moment: Moment,\n}\n","module.exports = Object.assign(\n  { Unit: require('./Unit') },\n  require('./_day'),\n  require('./_year'),\n  require('./_week'),\n  require('./_time')\n)\n","const knownUnits = {\n  second: true,\n  minute: true,\n  hour: true,\n  day: true,\n  week: true,\n  weekend: true,\n  month: true,\n  season: true,\n  quarter: true,\n  year: true,\n}\n\nconst aliases = {\n  wk: 'week',\n  min: 'minute',\n  sec: 'second',\n  weekend: 'week', //for now...\n}\n\nconst parseUnit = function (m) {\n  let unit = m.match('#Duration').text('normal')\n  unit = unit.replace(/s$/, '')\n  // support shorthands like 'min'\n  if (aliases.hasOwnProperty(unit)) {\n    unit = aliases[unit]\n  }\n  return unit\n}\n\n//turn '5 weeks before' to {weeks:5}\nconst parseShift = function (doc) {\n  let result = {}\n  let shift = doc.match('#DateShift+')\n  if (shift.found === false) {\n    return result\n  }\n  // '5 weeks'\n  shift.match('#Cardinal #Duration').forEach((ts) => {\n    let num = ts.match('#Cardinal').text('normal')\n    num = parseFloat(num)\n    if (num && typeof num === 'number') {\n      let unit = parseUnit(ts)\n      if (knownUnits[unit] === true) {\n        result[unit] = num\n      }\n    }\n  })\n  //is it 2 weeks ago?  → -2\n  if (shift.has('(before|ago|hence|back)$') === true) {\n    Object.keys(result).forEach((k) => (result[k] *= -1))\n  }\n  shift.remove('#Cardinal #Duration')\n  // supoprt '1 day after tomorrow'\n  let m = shift.match('[<unit>#Duration] [<dir>(after|before)]')\n  if (m.found) {\n    let unit = m.groups('unit').text('reduced')\n    // unit = unit.replace(/s$/, '')\n    let dir = m.groups('dir').text('reduced')\n    if (dir === 'after') {\n      result[unit] = 1\n    } else if (dir === 'before') {\n      result[unit] = -1\n    }\n  }\n  // in half an hour\n  m = shift.match('half (a|an) [#Duration]', 0)\n  if (m.found) {\n    let unit = parseUnit(m)\n    result[unit] = 0.5\n  }\n  // finally, remove it from our text\n  doc.remove('#DateShift')\n  return result\n}\nmodule.exports = parseShift\n","/*\na 'counter' is a Unit determined after a point\n  * first hour of x\n  * 7th week in x\n  * last year in x\n  * \nunlike a shift, like \"2 weeks after x\"\n*/\nconst oneBased = {\n  minute: true,\n}\nconst getCounter = function (doc) {\n  // 7th week of\n  let m = doc.match('[<num>#Value] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let num = obj.num.text('reduced')\n    let unit = obj.unit.text('reduced')\n    let found = {\n      unit: unit,\n      num: Number(num) || 0,\n    }\n    // 0-based or 1-based units\n    if (!oneBased[unit]) {\n      found.num -= 1\n    }\n    doc = doc.remove(m)\n    return found\n  }\n  // first week of\n  m = doc.match('[<dir>(first|initial|last|final)] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let dir = obj.dir.text('reduced')\n    let unit = obj.unit.text('reduced')\n    if (dir === 'initial') {\n      dir = 'first'\n    }\n    if (dir === 'final') {\n      dir = 'last'\n    }\n    let found = {\n      unit: unit,\n      dir: dir,\n    }\n    doc = doc.remove(m)\n    return found\n  }\n\n  return {}\n}\nmodule.exports = getCounter\n","const spacetime = require('spacetime')\n\nconst hardCoded = {\n  daybreak: '7:00am', //ergh\n  breakfast: '8:00am',\n  morning: '9:00am',\n  noon: '12:00pm',\n  midday: '12:00pm',\n  afternoon: '2:00pm',\n  lunchtime: '12:00pm',\n  evening: '6:00pm',\n  dinnertime: '6:00pm',\n  night: '8:00pm',\n  eod: '10:00pm',\n  midnight: '12:00am',\n}\n\nconst halfPast = function (m, s) {\n  let hour = m.match('#Cardinal$').text('reduced')\n\n  let term = m.match('(half|quarter|25|15|10|5)')\n  let mins = term.text('reduced')\n  if (term.has('half')) {\n    mins = '30'\n  }\n  if (term.has('quarter')) {\n    mins = '15'\n  }\n  let behind = m.has('to')\n  // apply it\n  s = s.hour(hour)\n  s = s.startOf('hour')\n  // assume 'half past 5' is 5pm\n  if (hour < 6) {\n    s = s.ampm('pm')\n  }\n  if (behind) {\n    s = s.subtract(mins, 'minutes')\n  } else {\n    s = s.add(mins, 'minutes')\n  }\n  return s\n}\n\nconst parseTime = function (doc, context) {\n  let time = doc.match('(at|by|for|before|this)? #Time+')\n  if (time.found) {\n    doc.remove(time)\n  }\n  // get the main part of the time\n  time = time.not('^(at|by|for|before|this)')\n  time = time.not('sharp')\n  time = time.not('on the dot')\n  let s = spacetime.now(context.timezone)\n  let now = s.clone()\n\n  // check for known-times (like 'today')\n  let timeStr = time.text('reduced')\n  if (hardCoded.hasOwnProperty(timeStr)) {\n    return hardCoded[timeStr]\n  }\n\n  // '5 oclock'\n  let m = time.match('^#Cardinal oclock (am|pm)?')\n  if (m.found) {\n    m = m.not('oclock')\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      let ampm = m.match('(am|pm)').text('reduced')\n      s = s.ampm(ampm)\n      return s.time()\n    }\n  }\n\n  // 'quarter to two'\n  m = time.match('(half|quarter|25|15|10|5) (past|after|to) #Cardinal')\n  if (m.found) {\n    s = halfPast(m, s)\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n  // '4 in the evening'\n  m = time.match('[<time>#Time] (in|at) the? [<desc>(morning|evening|night|nighttime)]')\n  if (m.found) {\n    let str = m.groups('time').text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3 in the morning\n      s = s.startOf('hour')\n    } else {\n      s = s.time(str) // 3:30 in the morning\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = m.groups('desc').text('reduced')\n      if (desc === 'evening' || desc === 'night') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'this morning at 4'\n  m = time.match('this? [<desc>(morning|evening|tonight)] at [<time>(#Cardinal|#Time)]')\n  if (m.found) {\n    let g = m.groups()\n    let str = g.time.text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3\n      s = s.startOf('hour')\n    } else {\n      s = s.time(str) // 3:30\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = g.desc.text('reduced')\n      if (desc === 'morning') {\n        s = s.ampm('am')\n      }\n      if (desc === 'evening' || desc === 'tonight') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'at 4' -> '4'\n  m = time.match('^#Cardinal$')\n  if (m.found) {\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n\n  // parse random a time like '4:54pm'\n  let str = time.text('reduced')\n  s = s.time(str)\n  if (s.isValid() && !s.isEqual(now)) {\n    return s.time()\n  }\n  // should we fallback to a dayStart default?\n  if (context.dayStart) {\n    return context.dayStart\n  }\n  return null\n}\nmodule.exports = parseTime\n","// interpret 'this halloween' or 'next june'\nconst parseRelative = function (doc) {\n  // avoid parsing 'day after next'\n  if (doc.has('(next|last|this)$')) {\n    return null\n  }\n  // next monday\n  let m = doc.match('^this? (next|upcoming|coming)')\n  if (m.found) {\n    doc.remove(m)\n    return 'next'\n  }\n  // 'this past monday' is not-always 'last monday'\n  m = doc.match('^this? (past)')\n  if (m.found) {\n    doc.remove(m)\n    return 'this-past'\n  }\n  // last monday\n  m = doc.match('^this? (last|previous)')\n  if (m.found) {\n    doc.remove(m)\n    return 'last'\n  }\n  // this monday\n  m = doc.match('^(this|current)')\n  if (m.found) {\n    doc.remove(m)\n    return 'this'\n  }\n  return null\n}\nmodule.exports = parseRelative\n","// 'start of october', 'middle of june 1st'\nconst parseSection = function (doc) {\n  // start of 2019\n  let m = doc.match('[(start|beginning) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'start'\n  }\n  // end of 2019\n  m = doc.match('[end of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'end'\n  }\n  // middle of 2019\n  m = doc.match('[(middle|midpoint|center) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'middle'\n  }\n  return null\n}\nmodule.exports = parseSection\n","const informal = require('../../data/_timezones')\n\nconst isOffset = /(\\-?[0-9]+)h(rs)?/i\nconst isNumber = /(\\-?[0-9]+)/\nconst utcOffset = /utc([\\-+]?[0-9]+)/i\nconst gmtOffset = /gmt([\\-+]?[0-9]+)/i\n\nconst toIana = function(num) {\n  num = Number(num)\n  if (num > -13 && num < 13) {\n    num = num * -1 //it's opposite!\n    num = (num > 0 ? '+' : '') + num //add plus sign\n    return 'Etc/GMT' + num\n  }\n  return null\n}\n\nconst parseOffset = function(tz) {\n  // '+5hrs'\n  let m = tz.match(isOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'utc+5'\n  m = tz.match(utcOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'GMT-5' (not opposite)\n  m = tz.match(gmtOffset)\n  if (m !== null) {\n    let num = Number(m[1]) * -1\n    return toIana(num)\n  }\n  // '+5'\n  m = tz.match(isNumber)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  return null\n}\n\nconst parseTimezone = function(doc) {\n  let m = doc.match('#Timezone+')\n  //remove prepositions\n  m = m.remove('(in|for|by|near|at)')\n  let str = m.text('reduced')\n\n  // remove it from our doc, either way\n  doc.remove('#Timezone+')\n\n  // check our list of informal tz names\n  if (informal.hasOwnProperty(str)) {\n    return informal[str]\n  }\n  let tz = parseOffset(str)\n  if (tz) {\n    return tz\n  }\n\n  return null\n}\nmodule.exports = parseTimezone\n","// pull-out 'thurs' from 'thurs next week'\nconst parseWeekday = function (doc) {\n  let day = doc.match('#WeekDay')\n  if (day.found && !doc.has('^#WeekDay$')) {\n    // handle relative-day logic elsewhere.\n    if (doc.has('(this|next|last) (next|upcoming|coming|past)? #WeekDay')) {\n      return null\n    }\n    doc.remove(day)\n    return day.text('reduced')\n  }\n  return null\n}\nmodule.exports = parseWeekday\n","const { Day, Moment } = require('../units')\n\nconst knownWord = {\n  today: (context) => {\n    return new Day(context.today, null, context)\n  },\n  yesterday: (context) => {\n    return new Day(context.today.minus(1, 'day'), null, context)\n  },\n  tomorrow: (context) => {\n    return new Day(context.today.plus(1, 'day'), null, context)\n  },\n  eom: (context) => {\n    let d = context.today.endOf('month')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n  // eod: (context) => {\n  //   let d = context.today.endOf('day')\n  //   d = d.startOf('hour').minus(4, 'hours') //rough\n  //   return new Hour(d, null, context)\n  // },\n  eoy: (context) => {\n    let d = context.today.endOf('year')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n}\nknownWord.tommorrow = knownWord.tomorrow\nknownWord.tmrw = knownWord.tomorrow\n\nconst today = function (doc, context, section) {\n  let unit = null\n  // is it empty?\n  if (doc.found === false) {\n    // do we have just a time?\n    if (section.time !== null) {\n      unit = new Moment(context.today, null, context) // choose today\n    }\n    //do we just have a shift?\n    if (Object.keys(section.shift).length > 0) {\n      if (section.shift.hour || section.shift.minute) {\n        unit = new Moment(context.today, null, context) // choose now\n      } else {\n        unit = new Day(context.today, null, context) // choose today\n      }\n    }\n  }\n\n  // today, yesterday, tomorrow\n  let str = doc.text('reduced')\n  if (knownWord.hasOwnProperty(str) === true) {\n    return knownWord[str](context)\n  }\n  // day after next\n  if (str === 'next' && Object.keys(section.shift).length > 0) {\n    return knownWord.tomorrow(context)\n  }\n  return unit\n}\nmodule.exports = today\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('spacetime')) :\n  typeof define === 'function' && define.amd ? define(['spacetime'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.spacetimeHoliday = factory(global.spacetime));\n}(this, (function (spacetime) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var spacetime__default = /*#__PURE__*/_interopDefaultLegacy(spacetime);\n\n  //yep,\n  var jan = 'january';\n  var feb = 'february';\n  var mar = 'march';\n  var apr = 'april';\n  var may = 'may';\n  var jun = 'june';\n  var jul = 'july';\n  var aug = 'august';\n  var sep = 'september';\n  var oct = 'october';\n  var nov = 'november';\n  var dec = 'december';\n  var fixedHolidays = {\n    'new years eve': [dec, 31],\n    'new years': [jan, 1],\n    'new years day': [jan, 1],\n    'inauguration day': [jan, 20],\n    'australia day': [jan, 26],\n    'national freedom day': [feb, 1],\n    'groundhog day': [feb, 2],\n    'rosa parks day': [feb, 4],\n    'valentines day': [feb, 14],\n    'saint valentines day': [feb, 14],\n    'st valentines day ': [feb, 14],\n    'saint patricks day': [mar, 17],\n    'st patricks day': [mar, 17],\n    'april fools': [apr, 1],\n    'april fools day': [apr, 1],\n    'emancipation day': [apr, 16],\n    'tax day': [apr, 15],\n    //US\n    'labour day': [may, 1],\n    'cinco de mayo': [may, 5],\n    'national nurses day': [may, 6],\n    'harvey milk day': [may, 22],\n    'victoria day': [may, 24],\n    juneteenth: [jun, 19],\n    'canada day': [jul, 1],\n    'independence day': [jul, 4],\n    'independents day': [jul, 4],\n    'bastille day': [jul, 14],\n    'purple heart day': [aug, 7],\n    'womens equality day': [aug, 26],\n    '16 de septiembre': [sep, 16],\n    'dieciseis de septiembre': [sep, 16],\n    'grito de dolores': [sep, 16],\n    halloween: [oct, 31],\n    'all hallows eve': [oct, 31],\n    'day of the dead': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'dia de muertos': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'veterans day': [nov, 11],\n    'st andrews day': [nov, 30],\n    'saint andrews day': [nov, 30],\n    'all saints day': [nov, 1],\n    'all sts day': [nov, 1],\n    'armistice day': [nov, 11],\n    'rememberance day': [nov, 11],\n    'christmas eve': [dec, 24],\n    christmas: [dec, 25],\n    xmas: [dec, 25],\n    'boxing day': [dec, 26],\n    'st stephens day': [dec, 26],\n    'saint stephens day': [dec, 26],\n    // Fixed religious and cultural holidays\n    // Catholic + Christian\n    epiphany: [jan, 6],\n    'orthodox christmas day': [jan, 7],\n    'orthodox new year': [jan, 14],\n    'assumption of mary': [aug, 15],\n    'all souls day': [nov, 2],\n    'feast of the immaculate conception': [dec, 8],\n    'feast of our lady of guadalupe': [dec, 12],\n    // Kwanzaa\n    kwanzaa: [dec, 26],\n    // Ranged holiday [jan, 1],\n    // Pagan / metal 🤘\n    imbolc: [feb, 2],\n    beltaine: [may, 1],\n    lughnassadh: [aug, 1],\n    samhain: [oct, 31]\n  };\n\n  var fixedDates = function fixedDates(str, normal, year, tz) {\n    if (fixedHolidays.hasOwnProperty(str) || fixedHolidays.hasOwnProperty(normal)) {\n      var arr = fixedHolidays[str] || fixedHolidays[normal] || [];\n      var s = spacetime__default['default'].now(tz);\n      s = s.year(year);\n      s = s.startOf('year');\n      s = s.month(arr[0]);\n      s = s.date(arr[1]);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _01FixedDates = fixedDates;\n\n  //these are holidays on the 'nth weekday of month'\n  var jan$1 = 'january';\n  var feb$1 = 'february';\n  var mar$1 = 'march'; // const apr = 'april'\n\n  var may$1 = 'may';\n  var jun$1 = 'june'; // const jul = 'july'\n  // const aug = 'august'\n\n  var sep$1 = 'september';\n  var oct$1 = 'october';\n  var nov$1 = 'november'; // const dec = 'december'\n\n  var mon = 'monday'; // const tues = 'tuesday'\n  // const wed = 'wednesday'\n\n  var thurs = 'thursday';\n  var fri = 'friday'; // const sat = 'saturday'\n\n  var sun = 'sunday';\n  var holidays = {\n    'martin luther king day': [3, mon, jan$1],\n    //[third monday in january],\n    'presidents day': [3, mon, feb$1],\n    //[third monday in february],\n    'commonwealth day': [2, mon, mar$1],\n    //[second monday in march],\n    'mothers day': [2, sun, may$1],\n    //[second Sunday in May],\n    'fathers day': [3, sun, jun$1],\n    //[third Sunday in June],\n    'labor day': [1, mon, sep$1],\n    //[first monday in september],\n    'columbus day': [2, mon, oct$1],\n    //[second monday in october],\n    'canadian thanksgiving': [2, mon, oct$1],\n    //[second monday in october],\n    thanksgiving: [4, thurs, nov$1],\n    // [fourth Thursday in November],\n    'black friday': [4, fri, nov$1] //[fourth friday in november],\n    // 'memorial day': [may], //[last monday in may],\n    // 'us election': [nov], // [Tuesday following the first Monday in November],\n    // 'cyber monday': [nov]\n    // 'advent': [] // fourth Sunday before Christmas\n\n  }; // add aliases\n\n  holidays['turday day'] = holidays.thanksgiving;\n  holidays['indigenous peoples day'] = holidays['columbus day'];\n  holidays['mlk day'] = holidays['martin luther king day'];\n  var calendarHolidays = holidays;\n\n  var fixedDates$1 = function fixedDates(str, normal, year, tz) {\n    if (calendarHolidays.hasOwnProperty(str) || calendarHolidays.hasOwnProperty(normal)) {\n      var arr = calendarHolidays[str] || calendarHolidays[normal] || [];\n      var s = spacetime__default['default'].now(tz);\n      s = s.year(year); // [3rd, 'monday', 'january']\n\n      s = s.month(arr[2]);\n      s = s.startOf('month'); // make it january\n\n      var month = s.month(); // make it the 1st monday\n\n      s = s.day(arr[1]);\n\n      if (s.month() !== month) {\n        s = s.add(1, 'week');\n      } // make it nth monday\n\n\n      if (arr[0] > 1) {\n        s = s.add(arr[0] - 1, 'week');\n      }\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _02NthWeekday = fixedDates$1;\n\n  // https://www.timeanddate.com/calendar/determining-easter-date.html\n  var dates = {\n    easter: 0,\n    'ash wednesday': -46,\n    // (46 days before easter)\n    'palm sunday': 7,\n    // (1 week before easter)\n    'maundy thursday': -3,\n    // (3 days before easter)\n    'good friday': -2,\n    // (2 days before easter)\n    'holy saturday': -1,\n    // (1 days before easter)\n    'easter saturday': -1,\n    // (1 day before easter)\n    'easter monday': 1,\n    // (1 day after easter)\n    'ascension day': 39,\n    // (39 days after easter)\n    'whit sunday': 49,\n    // / pentecost (49 days after easter)\n    'whit monday': 50,\n    // (50 days after easter)\n    'trinity sunday': 65,\n    // (56 days after easter)\n    'corpus christi': 60,\n    // (60 days after easter)\n    'mardi gras': -47 //(47 days before easter)\n\n  };\n  dates['easter sunday'] = dates.easter;\n  dates['pentecost'] = dates['whit sunday'];\n  dates['whitsun'] = dates['whit sunday'];\n  var easterHolidays = dates;\n\n  // by John Dyer\n  // based on the algorithm by Oudin (1940) from http://www.tondering.dk/claus/cal/easter.php\n  var calcEaster = function calcEaster(year) {\n    var f = Math.floor,\n        // Golden Number - 1\n    G = year % 19,\n        C = f(year / 100),\n        // related to Epact\n    H = (C - f(C / 4) - f((8 * C + 13) / 25) + 19 * G + 15) % 30,\n        // number of days from 21 March to the Paschal full moon\n    I = H - f(H / 28) * (1 - f(29 / (H + 1)) * f((21 - G) / 11)),\n        // weekday for the Paschal full moon\n    J = (year + f(year / 4) + I + 2 - C + f(C / 4)) % 7,\n        // number of days from 21 March to the Sunday on or before the Paschal full moon\n    L = I - J,\n        month = 3 + f((L + 40) / 44),\n        date = L + 28 - 31 * f(month / 4);\n    month = month === 4 ? 'April' : 'March';\n    return month + ' ' + date;\n  };\n\n  var calcEaster_1 = calcEaster;\n\n  var easterDates = function easterDates(str, normal, year, tz) {\n    if (easterHolidays.hasOwnProperty(str) || easterHolidays.hasOwnProperty(normal)) {\n      var days = easterHolidays[str] || easterHolidays[normal] || [];\n      var date = calcEaster_1(year);\n\n      if (!date) {\n        return null; //no easter for this year\n      }\n\n      var e = spacetime__default['default'](date, tz);\n      e = e.year(year);\n      var s = e.add(days, 'day');\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _03EasterDates = easterDates;\n\n  // http://www.astropixels.com/ephemeris/soleq2001.html\n  // years 2000-2100\n  var exceptions = {\n    spring: [2003, 2007, 2044, 2048, 2052, 2056, 2060, 2064, 2068, 2072, 2076, 2077, 2080, 2081, 2084, 2085, 2088, 2089, 2092, 2093, 2096, 2097],\n    summer: [2021, 2016, 2020, 2024, 2028, 2032, 2036, 2040, 2041, 2044, 2045, 2048, 2049, 2052, 2053, 2056, 2057, 2060, 2061, 2064, 2065, 2068, 2069, 2070, 2072, 2073, 2074, 2076, 2077, 2078, 2080, 2081, 2082, 2084, 2085, 2086, 2088, 2089, 2090, 2092, 2093, 2094, 2096, 2097, 2098, 2099],\n    fall: [2002, 2003, 2004, 2006, 2007, 2010, 2011, 2014, 2015, 2018, 2019, 2022, 2023, 2026, 2027, 2031, 2035, 2039, 2043, 2047, 2051, 2055, 2059, 2092, 2096],\n    winter: [2002, 2003, 2006, 2007, 2011, 2015, 2019, 2023, 2027, 2031, 2035, 2039, 2043, 2080, 2084, 2088, 2092, 2096]\n  };\n  var winter20th = [2080, 2084, 2088, 2092, 2096];\n\n  var calcSeasons = function calcSeasons(year) {\n    // most common defaults\n    var res = {\n      spring: 'March 20 ' + year,\n      summer: 'June 21 ' + year,\n      fall: 'Sept 22 ' + year,\n      winter: 'Dec 21 ' + year\n    };\n\n    if (exceptions.spring.indexOf(year) !== -1) {\n      res.spring = 'March 19 ' + year;\n    }\n\n    if (exceptions.summer.indexOf(year) !== -1) {\n      res.summer = 'June 20 ' + year;\n    }\n\n    if (exceptions.fall.indexOf(year) !== -1) {\n      res.fall = 'Sept 21 ' + year;\n    } // winter can be 20th, 21st, or 22nd\n\n\n    if (exceptions.winter.indexOf(year) !== -1) {\n      res.winter = 'Dec 22 ' + year;\n    }\n\n    if (winter20th.indexOf(year) !== -1) {\n      res.winter = 'Dec 20 ' + year;\n    }\n\n    return res;\n  };\n\n  var seasons = calcSeasons;\n\n  // these are properly calculated in ./lib/seasons\n  var dates$1 = {\n    'spring equinox': 'spring',\n    'summer solistice': 'summer',\n    'fall equinox': 'fall',\n    'winter solstice': 'winter'\n  }; // aliases\n\n  dates$1['march equinox'] = dates$1['spring equinox'];\n  dates$1['vernal equinox'] = dates$1['spring equinox'];\n  dates$1['ostara'] = dates$1['spring equinox'];\n  dates$1['june solstice'] = dates$1['summer solistice'];\n  dates$1['litha'] = dates$1['summer solistice'];\n  dates$1['autumn equinox'] = dates$1['fall equinox'];\n  dates$1['autumnal equinox'] = dates$1['fall equinox'];\n  dates$1['september equinox'] = dates$1['fall equinox'];\n  dates$1['sept equinox'] = dates$1['fall equinox'];\n  dates$1['mabon'] = dates$1['fall equinox'];\n  dates$1['december solstice'] = dates$1['winter solistice'];\n  dates$1['dec solstice'] = dates$1['winter solistice'];\n  dates$1['yule'] = dates$1['winter solistice'];\n  var astroHolidays = dates$1;\n\n  var astroDates = function astroDates(str, normal, year, tz) {\n    if (astroHolidays.hasOwnProperty(str) || astroHolidays.hasOwnProperty(normal)) {\n      var season = astroHolidays[str] || astroHolidays[normal];\n      var seasons$1 = seasons(year);\n\n      if (!season || !seasons$1 || !seasons$1[season]) {\n        return null; // couldn't figure it out\n      }\n\n      var s = spacetime__default['default'](seasons$1[season], tz);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _04Astronomical = astroDates;\n\n  var dates$2 = {\n    // Muslim holidays\n    'isra and miraj': 'april 13',\n    'lailat al-qadr': 'june 10',\n    'eid al-fitr': 'june 15',\n    'id al-Fitr': 'june 15',\n    'eid ul-Fitr': 'june 15',\n    ramadan: 'may 16',\n    // Range holiday\n    'eid al-adha': 'sep 22',\n    muharram: 'sep 12',\n    'prophets birthday': 'nov 21'\n  };\n  var lunarHolidays = dates$2;\n\n  var dayDiff = -10.64;\n\n  var lunarDates = function lunarDates(str, normal, year, tz) {\n    if (lunarHolidays.hasOwnProperty(str) || lunarHolidays.hasOwnProperty(normal)) {\n      var date = lunarHolidays[str] || lunarHolidays[normal] || [];\n\n      if (!date) {\n        return null;\n      } // start at 2018\n\n\n      var s = spacetime__default['default'](date + ' 2018', tz);\n      var diff = year - 2018;\n      var toAdd = diff * dayDiff;\n      s = s.add(toAdd, 'day');\n      s = s.startOf('day'); // now set the correct year\n\n      s = s.year(year);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _05LunarDates = lunarDates;\n\n  var nowYear = spacetime__default['default'].now().year();\n\n  var spacetimeHoliday = function spacetimeHoliday(str, year, tz) {\n    year = year || nowYear;\n    str = str || '';\n    str = String(str);\n    str = str.trim().toLowerCase();\n    str = str.replace(/'s/, 's'); // 'mother's day'\n\n    var normal = str.replace(/ day$/, '');\n    normal = normal.replace(/^the /, '');\n    normal = normal.replace(/^orthodox /, ''); //orthodox good friday\n    // try easier, unmoving holidays\n\n    var s = _01FixedDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // try 'nth monday' holidays\n\n\n    s = _02NthWeekday(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // easter-based holidays\n\n\n    s = _03EasterDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // solar-based holidays\n\n\n    s = _04Astronomical(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // mostly muslim holidays\n\n\n    s = _05LunarDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    }\n\n    return null;\n  };\n\n  var src = spacetimeHoliday;\n\n  return src;\n\n})));\n//# sourceMappingURL=spacetime-holiday.js.map\n","const { Holiday } = require('../units')\nconst spacetimeHoliday = require('spacetime-holiday')\n\nconst parseHoliday = function (doc, context) {\n  let unit = null\n  let m = doc.match('[<holiday>#Holiday+] [<year>#Year?]')\n  let year = context.today.year()\n  if (m.groups('year').found) {\n    year = Number(m.groups('year').text('reduced')) || year\n  }\n  let str = m.groups('holiday').text('reduced')\n  let s = spacetimeHoliday(str, year, context.timezone)\n  if (s !== null) {\n    // assume the year in the future..\n    if (s.isBefore(context.today) && year === context.today.year()) {\n      s = spacetimeHoliday(str, year + 1, context.timezone)\n    }\n    unit = new Holiday(s, null, context)\n  }\n  return unit\n}\nmodule.exports = parseHoliday\n","const { Week, WeekEnd, AnyMonth, AnyQuarter, Year, Season, WeekDay, Day, Hour, Minute, Moment } = require('../units')\nconst mapping = {\n  day: Day,\n  hour: Hour,\n  evening: Hour,\n  second: Moment,\n  milliscond: Moment,\n  instant: Moment,\n  minute: Minute,\n  week: Week,\n  weekend: WeekEnd,\n  month: AnyMonth,\n  quarter: AnyQuarter,\n  year: Year,\n  season: Season,\n  // set aliases\n  yr: Year,\n  qtr: AnyQuarter,\n  wk: Week,\n  sec: Moment,\n  hr: Hour,\n}\n\nlet matchStr = `^(${Object.keys(mapping).join('|')})$`\n\n// when a unit of time is spoken of as 'this month' - instead of 'february'\nconst nextLast = function (doc, context) {\n  //this month, last quarter, next year\n  let m = doc.match(matchStr)\n  if (m.found === true) {\n    let str = m.text('reduced')\n    if (mapping.hasOwnProperty(str)) {\n      let Model = mapping[str]\n      if (!Model) {\n        return null\n      }\n      let unit = new Model(null, str, context)\n      return unit\n    }\n  }\n\n  //'next friday, last thursday'\n  m = doc.match('^#WeekDay$')\n  if (m.found === true) {\n    let str = m.text('reduced')\n    let unit = new WeekDay(str, null, context)\n    return unit\n  }\n\n  // tuesday next week\n  // m = doc.match('^#WeekDay (this|next)')\n  // if (m.found === true) {\n  //   let str = m.text('reduced')\n  //   let unit = new WeekDay(str, null, context)\n  //   return unit\n  // }\n  return null\n}\nmodule.exports = nextLast\n","const { Quarter, Season, Year } = require('../units')\nconst spacetime = require('spacetime')\n\nconst fmtToday = function (context) {\n  return {\n    date: context.today.date(),\n    month: context.today.month(),\n    year: context.today.year(),\n  }\n}\n\nconst parseYearly = function (doc, context) {\n  // support 'summer 2002'\n  let m = doc.match('(spring|summer|winter|fall|autumn) [<year>#Year?]')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    let unit = new Season(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'q4 2020'\n  m = doc.match('[<q>#FinancialQuarter] [<year>#Year?]')\n  if (m.found) {\n    let str = m.groups('q').text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '4th quarter 2020'\n  m = doc.match('[<q>#Value] quarter (of|in)? [<year>#Year?]')\n  if (m.found) {\n    let q = m.groups('q').text('reduced')\n    let s = spacetime(`q${q}`, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '2020'\n  m = doc.match('^#Year$')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(null, context.timezone, { today: fmtToday(context) })\n    s = s.year(str)\n    let unit = new Year(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  return null\n}\nmodule.exports = parseYearly\n","const { Day, CalendarDate, Month, Moment } = require('../units')\n\n// parse things like 'june 5th 2019'\n// most of this is done in spacetime\nconst parseExplicit = function (doc, context) {\n  let impliedYear = context.today.year()\n  // 'fifth of june 1992'\n  // 'june the fifth 1992'\n  let m = doc.match('[<date>#Value] of? [<month>#Month] [<year>#Year]')\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value] [<year>#Year]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // 'march 1992'\n  m = doc.match('[<month>#Month] of? [<year>#Year]')\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new Month(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  //no-years\n  // 'fifth of june'\n  m = doc.match('[<date>#Value] of? [<month>#Month]')\n  // 'june the fifth'\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new CalendarDate(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support 'december'\n  if (doc.has('#Month')) {\n    let obj = {\n      month: doc.match('#Month').text(),\n      date: 1, //assume 1st\n      year: context.today.year(),\n    }\n    let unit = new Month(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new Month(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'thursday 21st'\n  m = doc.match('#WeekDay [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support date-only 'the 21st'\n  m = doc.match('the [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      // assume it's forward\n      if (unit.d.isBefore(context.today)) {\n        unit.d = unit.d.add(1, 'month')\n      }\n      return unit\n    }\n  }\n  // parse ISO as a Moment\n  m = doc.match('/[0-9]{4}-[0-9]{2}-[0-9]{2}t[0-9]{2}:/')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let unit = new Moment(str, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  let str = doc.text('reduced')\n  // punt it to spacetime, for the heavy-lifting\n  let unit = new Day(str, null, context)\n  // console.log(str, unit, context.today.year())\n  // did we find a date?\n  if (unit.d.isValid() === false) {\n    return null\n  }\n  return unit\n}\nmodule.exports = parseExplicit\n","const { Quarter, Season, Week, Day, Hour, Minute, Month, WeekEnd } = require('../units')\n\nconst units = {\n  day: Day,\n  week: Week,\n  weekend: WeekEnd,\n  month: Month,\n  quarter: Quarter,\n  season: Season,\n  hour: Hour,\n  minute: Minute,\n}\n\nconst applyCounter = function (unit, counter = {}) {\n  let Unit = units[counter.unit]\n  if (!Unit) {\n    return unit\n  }\n  let d = unit.d\n\n  // support 'first' or 0th\n  if (counter.dir === 'first' || counter.num === 0) {\n    d = unit.start().d\n    d = d.startOf(counter.unit)\n  } else if (counter.dir === 'last') {\n    d = d.endOf(unit.unit)\n    d = d.startOf(counter.unit)\n  } else if (counter.num) {\n    // support 'nth week', eg.\n    d = d.add(counter.num, counter.unit)\n  }\n  let u = new Unit(d, null, unit.context)\n  if (u.d.isValid() === true) {\n    return u\n  }\n  return unit //fallback\n}\nmodule.exports = applyCounter\n","const { WeekDay } = require('./units')\nconst tokens = {\n  shift: require('./01-tokenize/01-shift'),\n  counter: require('./01-tokenize/02-counter'),\n  time: require('./01-tokenize/03-time'),\n  relative: require('./01-tokenize/04-relative'),\n  section: require('./01-tokenize/05-section'),\n  timezone: require('./01-tokenize/06-timezone'),\n  weekday: require('./01-tokenize/07-weekday'),\n}\n\nconst parse = {\n  today: require('./02-parse/01-today'),\n  holiday: require('./02-parse/02-holidays'),\n  nextLast: require('./02-parse/03-next-last'),\n  yearly: require('./02-parse/04-yearly'),\n  explicit: require('./02-parse/05-explicit'),\n}\n\nconst transform = {\n  counter: require('./03-transform/addCounter'),\n}\n\nconst parseDate = function (doc, context) {\n  // quick normalization\n  doc.match('[^the] !#Value', 0).remove() // keep 'the 17th'\n  //parse-out any sections\n  let shift = tokens.shift(doc)\n  let counter = tokens.counter(doc)\n  let tz = tokens.timezone(doc)\n  let time = tokens.time(doc, context)\n  let weekDay = tokens.weekday(doc, context)\n  let section = tokens.section(doc, context)\n  let rel = tokens.relative(doc)\n\n  //set our new timezone\n  if (tz) {\n    context = Object.assign({}, context, { timezone: tz })\n    let iso = context.today.format('iso-short')\n    context.today = context.today.goto(context.timezone).set(iso)\n  }\n  let unit = null\n  //'in two days'\n  unit = unit || parse.today(doc, context, { shift, time, rel })\n  // 'this haloween'\n  unit = unit || parse.holiday(doc, context)\n  // 'this month'\n  unit = unit || parse.nextLast(doc, context)\n  // 'q2 2002'\n  unit = unit || parse.yearly(doc, context)\n  // 'this june 2nd'\n  unit = unit || parse.explicit(doc, context)\n  // debugging\n  // console.log('\\n\\n=-=-=-=-=-=-=-=-=-=-=-=Date-=-=-=-=-=-=-=-=-=-=-=-=-\\n')\n  // console.log(`  shift:      ${JSON.stringify(shift)}`)\n  // console.log(`  counter:   `, counter)\n  // console.log(`  rel:        ${rel || '-'}`)\n  // console.log(`  section:    ${section || '-'}`)\n  // console.log(`  time:       ${time || '-'}`)\n  // console.log(`  str:       '${doc.text()}'`)\n  // console.log('  unit:     ', unit, '\\n')\n  // doc.debug()\n  // console.log('=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\\n\\n')\n\n  if (!unit) {\n    return null\n  }\n\n  // 2 days after..\n  if (shift) {\n    unit.applyShift(shift)\n  }\n  // wednesday next week\n  if (weekDay && unit.unit !== 'day') {\n    unit.applyWeekDay(weekDay)\n    unit = new WeekDay(unit.d, null, unit.context)\n  }\n  // this/next/last\n  if (rel) {\n    unit.applyRel(rel)\n  }\n  // end of\n  if (section) {\n    unit.applySection(section)\n  }\n  // at 5:40pm\n  if (time) {\n    unit.applyTime(time)\n  }\n  // apply counter\n  if (counter && counter.unit) {\n    unit = transform.counter(unit, counter)\n  }\n  return unit\n}\nmodule.exports = parseDate\n","const dayNames = {\n  mon: 'monday',\n  tue: 'tuesday',\n  tues: 'wednesday',\n  wed: 'wednesday',\n  thu: 'thursday',\n  fri: 'friday',\n  sat: 'saturday',\n  sun: 'sunday',\n  monday: 'monday',\n  tuesday: 'tuesday',\n  wednesday: 'wednesday',\n  thursday: 'thursday',\n  friday: 'friday',\n  saturday: 'saturday',\n  sunday: 'sunday',\n}\n// 'any tuesday' vs 'every tuesday'\nconst parseLogic = function (m) {\n  if (m.match('(every|each)').found) {\n    return 'AND'\n  }\n  if (m.match('(any|a)').found) {\n    return 'OR'\n  }\n  return null\n}\n\n// parse repeating dates, like 'every week'\nconst parseIntervals = function (doc) {\n  // 'every week'\n  let m = doc.match('[<logic>(every|any|each)] [<skip>other?] [<unit>#Duration] (starting|beginning|commencing)?')\n  if (m.found) {\n    let repeat = { interval: {} }\n    let unit = m.groups('unit').text('reduced')\n    repeat.interval[unit] = 1\n    repeat.choose = parseLogic(m)\n    // 'every other week'\n    if (m.groups('skip').found) {\n      repeat.interval[unit] = 2\n    }\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n\n  // 'every two weeks'\n  m = doc.match('[<logic>(every|any|each)] [<num>#Value] [<unit>#Duration] (starting|beginning|commencing)?')\n  if (m.found) {\n    let repeat = { interval: {} }\n    let units = m.groups('unit')\n    units.nouns().toSingular()\n    let unit = units.text('reduced')\n    repeat.interval[unit] = m.groups('num').numbers().get(0)\n    repeat.choose = parseLogic(m)\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n\n  // 'every friday'\n  m = doc.match('[<logic>(every|any|each|a)] [<skip>other?] [<day>#WeekDay+] (starting|beginning|commencing)?')\n  if (m.found) {\n    let repeat = { interval: { day: 1 }, filter: { weekDays: {} } }\n    let str = m.groups('day').text('reduced')\n    str = dayNames[str] //normalize it\n    if (str) {\n      repeat.filter.weekDays[str] = true\n      repeat.choose = parseLogic(m)\n      doc = doc.remove(m)\n      return { repeat: repeat }\n    }\n  }\n\n  // 'every weekday'\n  m = doc.match(\n    '[<logic>(every|any|each|a)] [<day>(weekday|week day|weekend|weekend day)] (starting|beginning|commencing)?'\n  )\n  if (m.found) {\n    let repeat = { interval: { day: 1 }, filter: { weekDays: {} } }\n    let day = m.groups('day')\n    if (day.has('(weekday|week day)')) {\n      repeat.filter.weekDays = {\n        monday: true,\n        tuesday: true,\n        wednesday: true,\n        thursday: true,\n        friday: true,\n      }\n    } else if (day.has('(weekend|weekend day)')) {\n      repeat.filter.weekDays = {\n        saturday: true,\n        sunday: true,\n      }\n    }\n    repeat.choose = parseLogic(m)\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n  return null\n}\nmodule.exports = parseIntervals\n","const parseDate = require('../parseDate/parse')\nconst Unit = require('../parseDate/units/Unit')\n\nconst punt = function (unit, context) {\n  unit = unit.applyShift(context.punt)\n  return unit\n}\n\nmodule.exports = [\n  {\n    // two explicit dates - 'between friday and sunday'\n    match: 'between [<start>*] and [<end>*]',\n    parse: (m, context) => {\n      let start = m.groups('start')\n      start = parseDate(start, context)\n      let end = m.groups('end')\n      end = parseDate(end, context)\n      end = end.before()\n      if (start && end) {\n        return {\n          start: start,\n          end: end,\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // two months, no year - 'june 5 to june 7'\n    match: '[<from>#Month #Value] (to|through|thru|and) [<to>#Month #Value] [<year>#Year?]',\n    parse: (m, context) => {\n      let res = m.groups()\n      let start = res.from\n      if (res.year) {\n        start = start.append(res.year)\n      }\n      start = parseDate(start, context)\n      if (start) {\n        let end = res.to\n        if (res.year) {\n          end = end.append(res.year)\n        }\n        end = parseDate(end, context)\n        // reverse the order?\n        if (start.d.isAfter(end.d)) {\n          let tmp = start\n          start = end\n          end = tmp\n        }\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, first form - 'january 5 to 7 1998'\n    match: '[<month>#Month] [<from>#Value] (to|through|thru) [<to>#Value] of? [<year>#Year]',\n    parse: (m, context) => {\n      let { month, from, to, year } = m.groups()\n      let year2 = year.clone()\n      let start = from.prepend(month.text()).append(year.text())\n      start = parseDate(start, context)\n      if (start) {\n        let end = to.prepend(month.text()).append(year2)\n        end = parseDate(end, context)\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, second form - '5 to 7 of january 1998'\n    match: '[<from>#Value] (to|through|thru|and) [<to>#Value of? #Month of? #Year]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('to')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - '5 to 7 of january'\n    match: '[<from>#Value] (to|through|thru|and) [<to>#Value of? #Month]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('from')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - 'january 5 to 7'\n    match: '[<from>#Month #Value] (to|through|thru|and) [<to>#Value]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      from = parseDate(from, context)\n      if (from) {\n        let toDate = m.groups('to')\n        let to = from.clone()\n        to.d = to.d.date(toDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'january to may 2020'\n    match: 'from? [<from>#Month] (to|until|upto|through|thru|and) [<to>#Month] [<year>#Year]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      let year = from.groups('year').numbers().get(0)\n      let to = m.groups('to')\n      from = parseDate(from, context)\n      to = parseDate(to, context)\n      from.d = from.d.year(year)\n      to.d = to.d.year(year)\n      if (from && to) {\n        // reverse the order?\n        if (from.d.isAfter(to.d)) {\n          let tmp = from\n          from = to\n          to = tmp\n        }\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'from A to B'\n    match: 'from? [<from>*] (to|until|upto|through|thru|and) [<to>*]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      let to = m.groups('to')\n      from = parseDate(from, context)\n      to = parseDate(to, context)\n      if (from && to) {\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'before june'\n    match: '^due? (by|before) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        let start = new Unit(context.today, null, context)\n        if (start.d.isAfter(unit.d)) {\n          start = unit.clone().applyShift({ weeks: -2 })\n        }\n        // end the night before\n        let end = unit.clone().applyShift({ day: -1 })\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'in june'\n    match: '^(on|in|at|@) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return { start: unit, end: unit.clone().end() }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'after june'\n    match: '^(after|following) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        unit = unit.after()\n        return {\n          start: unit.clone(),\n          end: punt(unit.clone(), context),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // 'in june'\n    match: '^(on|during|in|during) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return {\n          start: unit,\n          end: unit.clone().end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // 'middle of'\n    match: '^(middle|center|midpoint) of [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      let start = unit.clone().middle()\n      let end = unit.beforeEnd()\n      if (unit) {\n        return {\n          start: start,\n          end: end,\n        }\n      }\n      return null\n    },\n  },\n  {\n    // 'tuesday after 5pm'\n    match: '* after #Time+$',\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      let start = unit.clone()\n      let end = unit.end()\n      if (unit) {\n        return {\n          start: start,\n          end: end,\n        }\n      }\n      return null\n    },\n  },\n  {\n    // 'tuesday before noon'\n    match: '* before #Time+$',\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      let end = unit.clone()\n      let start = unit.start()\n      if (unit) {\n        return {\n          start: start,\n          end: end,\n        }\n      }\n      return null\n    },\n  },\n]\n","const parseDate = require('../parseDate/parse')\nconst parseInterval = require('./intervals')\nconst ranges = require('./ranges')\n\n// loop thru each range template\nconst parseRange = function (doc, context) {\n  // parse-out 'every week ..'\n  let interval = parseInterval(doc, context) || {}\n  // if it's *only* an interval response\n  if (doc.found === false) {\n    return Object.assign({}, interval, { start: null, end: null })\n  }\n  // try each template in order\n  for (let i = 0; i < ranges.length; i += 1) {\n    let fmt = ranges[i]\n    let m = doc.match(fmt.match)\n    if (m.found) {\n      if (fmt.group !== undefined) {\n        m = m.groups(fmt.group)\n      }\n      let res = fmt.parse(m, context)\n      if (res !== null) {\n        // console.log(fmt.match)\n        return Object.assign({}, interval, res)\n      }\n    }\n  }\n  //else, try whole thing\n  let res = {\n    start: null,\n    end: null,\n  }\n  let unit = parseDate(doc, context)\n  if (unit) {\n    let end = unit.clone().end()\n    res = {\n      start: unit,\n      end: end,\n    }\n  }\n  let combined = Object.assign({}, interval, res)\n  // ensure start is not after end\n  // console.log(combined)\n  if (combined.start && combined.end && combined.start.d.epoch > combined.end.d.epoch) {\n    // console.warn('Warning: Start date is after End date')\n    combined.start = combined.start.start()\n    // combined.end = combined.start.clone()\n  }\n\n  return combined\n}\nmodule.exports = parseRange\n","const normalize = function (doc) {\n  doc = doc.clone()\n\n  // 'four thirty' -> 4:30\n  let m = doc.match('[<hour>#Cardinal] [<min>(thirty|fifteen)]').match('#Time+')\n  if (m.found) {\n    let hour = m.groups('hour')\n    let min = m.groups('min')\n    let num = hour.values().get(0)\n    if (num > 0 && num <= 12) {\n      let mins = min.values().get(0)\n      let str = `${num}:${mins}`\n      m.replaceWith(str)\n    }\n  }\n\n  if (!doc.numbers) {\n    console.warn(\"Compromise: compromise-dates cannot find plugin dependency 'compromise-number'\")\n  } else {\n    // convert 'two' to 2\n    let num = doc.numbers()\n    num.toNumber()\n    num.toCardinal(false)\n  }\n  // // expand 'aug 20-21'\n  doc.contractions().expand()\n  // // remove adverbs\n  doc.adverbs().remove()\n  // // 'week-end'\n  doc.replace('week end', 'weekend').tag('Date')\n  // // 'a up to b'\n  doc.replace('up to', 'upto').tag('Date')\n  // 'in a few years'\n  m = doc.match('in [a few] #Duration')\n  if (m.found) {\n    m.groups('0').replaceWith('2')\n    m.tag('DateShift')\n  }\n  return doc\n}\nmodule.exports = normalize\n","const spacetime = require('spacetime')\nconst maxDate = 8640000000000000\nconst max_loops = 500\n\nconst shouldPick = function (s, byDay) {\n  if (byDay && byDay[s.dayName()] !== true) {\n    return false\n  }\n  return true\n}\n\n// list possible dates of a repeating date\nconst generateDates = function (result, context) {\n  let list = []\n  let max_count = context.max_repeat || 12\n  let s = spacetime(result.start || context.today, context.timezone)\n  s = s.startOf('day')\n  if (context.dayStart) {\n    s = s.time(context.dayStart)\n  }\n  // should we stop at the end date?\n  let end = spacetime(result.end, context.timezone)\n  let toAdd = Object.keys(result.repeat.interval)\n  if (toAdd[0] && s.isSame(end, toAdd[0]) === true) {\n    // ignore the end date!\n    end = spacetime(maxDate, context.timezone)\n  }\n  // should we only include these days?\n  let byDay = null\n  if (result.repeat.filter) {\n    byDay = result.repeat.filter.weekDays\n  }\n  // start going!\n  let loops = 0\n  // TODO: learn how to write better software.\n  for (let i = 0; i < max_loops; i += 1) {\n    if (list.length >= max_count || s.epoch >= end.epoch) {\n      break\n    }\n    if (shouldPick(s, byDay, end)) {\n      list.push(s.iso())\n    }\n    toAdd.forEach((unit) => {\n      s = s.add(result.repeat.interval[unit], unit)\n    })\n    loops += 1\n    if (loops > 10000) {\n      console.warn('Warning: Possible infinite loop in date-parser')\n      console.log(result.repeat)\n      break\n    }\n  }\n  result.repeat.generated = list\n  // if we got an interval, but not a start/end\n  if (!result.start && result.repeat.generated && result.repeat.generated.length > 1) {\n    let arr = result.repeat.generated\n    result.start = arr[0]\n    result.end = arr[arr.length - 1]\n  }\n  return result\n}\nmodule.exports = generateDates\n","const spacetime = require('spacetime')\nconst parseRanges = require('./02-ranges')\nconst normalize = require('./normalize')\nconst generate = require('./generate')\n\nconst addDuration = function (start, end) {\n  let duration = {}\n  if (start && end) {\n    duration = start.d.diff(end.d)\n    // we don't need these\n    delete duration.milliseconds\n    delete duration.seconds\n  }\n  return duration\n}\n\nconst toISO = function (unit) {\n  if (unit && unit.d) {\n    return unit.d.format('iso')\n  }\n  return null\n}\n\nconst getDate = function (doc, context) {\n  // validate context a bit\n  context = context || {}\n  context.timezone = context.timezone || 'ETC/UTC'\n  context.today = spacetime(context.today || null, context.timezone)\n  //turn 'five' into 5..\n  doc = normalize(doc)\n  //interpret 'between [A] and [B]'...\n  let result = parseRanges(doc, context)\n  // add duration\n  result.duration = addDuration(result.start, result.end)\n  // format as iso\n  result.start = toISO(result.start)\n  result.end = toISO(result.end)\n  // generate interval dates\n  if (result.repeat) {\n    result = generate(result, context)\n  }\n\n  return result\n}\nmodule.exports = getDate\n","let arr = [\n  ['mon', 'monday'],\n  ['tue', 'tuesday'],\n  ['tues', 'tuesday'],\n  ['wed', 'wednesday'],\n  ['thu', 'thursday'],\n  ['thurs', 'thursday'],\n  ['fri', 'friday'],\n  ['sat', 'saturday'],\n  ['sun', 'sunday'],\n\n  ['jan', 'january'],\n  ['feb', 'february'],\n  ['mar', 'march'],\n  ['apr', 'april'],\n  ['jun', 'june'],\n  ['jul', 'july'],\n  ['aug', 'august'],\n  ['sep', 'september'],\n  ['sept', 'september'],\n  ['oct', 'october'],\n  ['nov', 'november'],\n  ['dec', 'december'],\n]\n\narr = arr.map(a => {\n  return { short: a[0], long: a[1] }\n})\n\nmodule.exports = arr\n","const parse = require('./parse')\nconst spacetime = require('spacetime')\nconst abbrevs = require('./data/_abbrevs')\n\nmodule.exports = {\n  /** easy getter for the start/end dates */\n  get: function (options) {\n    let arr = []\n    this.forEach((doc) => {\n      let found = parse(doc, this.context)\n      arr.push(found)\n    })\n    if (typeof options === 'number') {\n      return arr[options]\n    }\n    return arr\n  },\n  /** overload the original json with date information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    this.forEach((doc) => {\n      let json = doc.json(options)[0]\n      let found = parse(doc, this.context)\n      json.date = found\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n\n  /** render all dates according to a specific format */\n  format: function (fmt) {\n    this.forEach((doc) => {\n      let obj = parse(doc, this.context)\n      if (obj.start) {\n        let start = spacetime(obj.start, this.context.timezone)\n        let str = start.format(fmt)\n        if (obj.end) {\n          let end = spacetime(obj.end, this.context.timezone)\n          if (start.isSame(end, 'day') === false) {\n            str += ' to ' + end.format(fmt)\n          }\n        }\n        doc.replaceWith(str, { keepTags: true, keepCase: false })\n      }\n    })\n    return this\n  },\n  /** replace 'Fri' with 'Friday', etc*/\n  toLongForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.short, a.long, true)\n    })\n    return this\n  },\n  /** replace 'Friday' with 'Fri', etc*/\n  toShortForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.long, a.short, true)\n    })\n    return this\n  },\n}\n","const known = {\n  century: true,\n  day: true,\n  decade: true,\n  hour: true,\n  millisecond: true,\n  minute: true,\n  month: true,\n  second: true,\n  weekend: true,\n  week: true,\n  year: true,\n  quarter: true,\n  season: true,\n}\n\nlet mapping = {\n  m: 'minute',\n  h: 'hour',\n  hr: 'hour',\n  min: 'minute',\n  sec: 'second',\n  'week end': 'weekend',\n  wk: 'week',\n  yr: 'year',\n  qtr: 'quarter',\n}\n// add plurals\nObject.keys(mapping).forEach((k) => {\n  mapping[k + 's'] = mapping[k]\n})\n\nconst parse = function (doc) {\n  let duration = {}\n  //parse '8 minutes'\n  let twoWord = doc.match('#Value+ #Duration')\n  if (twoWord.found) {\n    twoWord.forEach((m) => {\n      let num = m.numbers().get(0)\n      let unit = m.terms().last().nouns().toSingular().text()\n      // turn 'mins' into 'minute'\n      if (mapping.hasOwnProperty(unit)) {\n        unit = mapping[unit]\n      }\n      if (known.hasOwnProperty(unit) && num !== null) {\n        duration[unit] = num\n      }\n    })\n  } else {\n    let oneWord = doc.match('(#Duration && /[0-9][a-z]+$/)')\n    if (oneWord.found) {\n      let str = doc.text()\n      let num = str.match(/([0-9]+)/)\n      let unit = str.match(/([a-z]+)/)\n      if (num && unit) {\n        num = num[0] || null\n        unit = unit[0] || null\n        if (mapping.hasOwnProperty(unit)) {\n          unit = mapping[unit]\n        }\n        if (known.hasOwnProperty(unit) && num !== null) {\n          duration[unit] = Number(num)\n        }\n      }\n    }\n  }\n  return duration\n}\nmodule.exports = parse\n","const parse = require('./parse')\n\nconst methods = {\n  /** easy getter for the time */\n  get: function (options) {\n    let arr = []\n    this.forEach((doc) => {\n      let res = parse(doc)\n      arr.push(res)\n    })\n    if (typeof options === 'number') {\n      return arr[options]\n    }\n    return arr\n  },\n  /** overload the original json with duration information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    this.forEach((doc) => {\n      let json = doc.json(options)\n      json.duration = parse(doc)\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n  /** change to a standard duration format */\n  normalize: function () {\n    this.forEach((doc) => {\n      let duration = parse(doc)\n      let list = []\n      Object.keys(duration).forEach((unit) => {\n        let num = duration[unit]\n        let word = unit\n        if (num !== 1) {\n          word += 's'\n        }\n        list.push(`${num} ${word}`)\n      })\n      // splice-in an 'and'\n      if (list.length > 1) {\n        let beforeEnd = list.length - 1\n        list.splice(beforeEnd, 0, 'and')\n      }\n      let text = list.join(' ')\n      doc.replaceWith(text)\n    })\n    return this\n  },\n}\n\nconst addDurations = function (Doc) {\n  /** phrases like '2 months', or '2mins' */\n  class Durations extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = {}\n    }\n  }\n  //add-in methods\n  Object.assign(Durations.prototype, methods)\n\n  /** phrases like '2 months' */\n  Doc.prototype.durations = function (n) {\n    let m = this.match('#Value+ #Duration (and? #Value+ #Duration)?')\n    // add '20mins'\n    m = m.concat(this.match('(#Duration && /[0-9][a-z]+$/)'))\n\n    // not 'in 20 minutes'\n    m = m.notIf('#DateShift')\n\n    if (typeof n === 'number') {\n      m = m.get(n)\n    }\n    return new Durations(m.list, this, this.world)\n  }\n}\nmodule.exports = addDurations\n","const normalize = require('../normalize')\nconst parseTime = require('../parseDate/01-tokenize/03-time')\n\nconst parse = function (m, context) {\n  m = normalize(m)\n  let res = parseTime(m, context)\n  return res\n}\nmodule.exports = parse\n","const parse = require('./parse')\n\nconst methods = {\n  /** easy getter for the time */\n  get: function (options) {\n    let arr = []\n    this.forEach((doc) => {\n      let res = parse(doc, this.context)\n      arr.push(res)\n    })\n    if (typeof options === 'number') {\n      return arr[options]\n    }\n    return arr\n  },\n  /** overload the original json with duration information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    this.forEach((doc) => {\n      let json = doc.json(options)\n      json.time = parse(doc, this.context)\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n}\n\nconst addTimes = function (Doc) {\n  /** phrases like '2 months', or '2mins' */\n  class Times extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = {}\n    }\n  }\n  //add-in methods\n  Object.assign(Times.prototype, methods)\n\n  /** phrases like '4pm' */\n  Doc.prototype.times = function (n) {\n    let m = this.match('#Time+ (am|pm)?')\n    // m.debug()\n    if (typeof n === 'number') {\n      m = m.get(n)\n    }\n    return new Times(m.list, this, this.world)\n  }\n}\nmodule.exports = addTimes\n","const findDate = function (doc) {\n  // let r = this.clauses()\n  let dates = doc.match('#Date+')\n\n  // ignore only-durations like '20 minutes'\n  dates = dates.filter((m) => {\n    let isDuration = m.has('^#Duration+$') || m.has('^#Value #Duration+$')\n    // allow 'q4', etc\n    if (isDuration === true && m.has('(#FinancialQuarter|quarter)')) {\n      return true\n    }\n    return isDuration === false\n  })\n  // 30 minutes on tuesday\n  let m = dates.match('[#Cardinal #Duration (in|on|this|next|during|for)] #Date', 0)\n  if (m.found) {\n    dates = dates.not(m)\n  }\n  // 30 minutes tuesday\n  m = dates.match('[#Cardinal #Duration] #WeekDay', 0)\n  if (m.found) {\n    dates = dates.not(m)\n  }\n  // tuesday for 30 mins\n  m = dates.match('#Date [for #Value #Duration]$', 0)\n  if (m.found) {\n    dates = dates.not(m)\n  }\n  // 'tuesday, wednesday'\n  m = dates.match('^[#WeekDay] and? #WeekDay$', 0)\n  if (m.found) {\n    if (m.first().has('@hasDash') === false) {\n      dates = dates.splitAfter(m)\n      dates = dates.not('^and')\n    }\n  }\n  // 'june, august'\n  m = dates.match('^[#Month] and? #Month #Ordinal?$', 0)\n  if (m.found) {\n    dates = dates.splitAfter(m)\n    dates = dates.not('^and')\n  }\n\n  // 'tuesday, wednesday, and friday'\n  m = dates.match('#WeekDay #WeekDay and? #WeekDay')\n  if (m.found) {\n    dates = dates.splitOn('#WeekDay')\n    dates = dates.not('^and')\n  }\n  // '5 june, 10 june'\n  m = dates.match('[#Value #Month] #Value #Month', 0)\n  if (m.found) {\n    dates = dates.splitAfter(m)\n  }\n  // 'june 5th, june 10th'\n  m = dates.match('[#Month #Value] #Month', 0)\n  if (m.found) {\n    dates = dates.splitAfter(m)\n  }\n  // '20 minutes june 5th'\n  m = dates.match('[#Cardinal #Duration] #Date', 0) //but allow '20 minutes ago'\n  if (m.found && !dates.has('#Cardinal #Duration] (ago|from|before|after|back)')) {\n    dates = dates.not(m)\n  }\n  // for 20 minutes\n  m = dates.match('for #Cardinal #Duration')\n  if (m.found) {\n    dates = dates.not(m)\n  }\n  // 'one saturday'\n  dates = dates.notIf('^one (#WeekDay|#Month)$')\n\n  // next week tomorrow\n  m = dates.match('(this|next) #Duration [(today|tomorrow|yesterday)]', 0)\n  if (m.found) {\n    dates = dates.splitBefore(m)\n  }\n  // tomorrow 15 march\n  m = dates.match('[(today|tomorrow|yesterday)] #Value #Month', 0)\n  if (m.found) {\n    dates = dates.splitAfter(m)\n  }\n  // tomorrow yesterday\n  m = dates.match('[(today|tomorrow|yesterday)] (today|tomorrow|yesterday)', 0)\n  if (m.found) {\n    dates = dates.splitAfter(m)\n  }\n  return dates\n}\nmodule.exports = findDate\n","const tagger = require('./01-tagger')\nconst tags = require('./data/_tags')\nconst words = require('./data/words')\nconst methods = require('./methods')\nconst addDurations = require('./durations')\nconst addTimes = require('./times')\nconst spacetime = require('spacetime')\nconst findDates = require('./find')\n\nconst opts = {\n  punt: { weeks: 2 },\n}\n\nconst addMethods = function (Doc, world) {\n  // our new tags\n  world.addTags(tags)\n  // add info for the date plugin\n  world.addWords(words)\n  // run our tagger\n  world.postProcess(tagger)\n\n  // add .durations() class + methods\n  addDurations(Doc, world)\n  // add .times() class + methods\n  addTimes(Doc, world)\n\n  /** phraes like 'nov 2nd' or 'on tuesday' */\n  class Dates extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = opts\n    }\n  }\n  //add-in methods\n  Object.assign(Dates.prototype, methods)\n\n  Doc.prototype.dates = function (n) {\n    let context = {}\n    if (n && typeof n === 'object') {\n      context = n\n      n = null\n    }\n    context = Object.assign({}, context, opts)\n    // use the user's timezone, by default\n    if (context.timezone === undefined) {\n      context.timezone = spacetime().timezone().name\n    }\n\n    let dates = findDates(this)\n    if (typeof n === 'number') {\n      dates = dates.get(n)\n    }\n    let d = new Dates(dates.list, this, this.world)\n    if (context.today) {\n      context.today = spacetime(context.today, context.timezone)\n    }\n    d.context = context\n    return d\n  }\n}\n\nmodule.exports = addMethods\n"],"names":["preps","thisNext","sections","seasons","tagYear","m","reason","found","forEach","p","str","text","num","parseInt","tag","tagYearSafe","tagDates","doc","match","month","val","ifNo","duration","unTag","season","date","not","cardinal","v","groups","time","here","values","has","replaceWith","dateTagger","sectionTagger","timeTagger","notIf","shiftTagger","tagIntervals","zones","reduce","h","tagTz","fixUp","oops","d","knownDate","lastTerm","terms","methods","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","normalize","numbers","console","warn","tagDate","fn","FinancialQuarter","isA","notA","Season","Year","Duration","Holiday","DateShift","global","factory","module","this","_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","Object","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","o","minLen","_arrayLikeToArray","n","toString","call","slice","name","from","test","len","arr2","TypeError","MSEC_IN_HOUR","toUtc","dstChange","offset","year","_dstChange$split","split","_dstChange$split2","rest","_rest$split","_rest$split2","day","hour","Date","UTC","inSummerTime","epoch","start","end","summerOffset","winterOffset","getUTCFullYear","startUtc","endUtc","summerTime","quickOffset","s","timezones","tz","dst","jul","dec","hem","inSummer","quick","_build","_build$1","freeze","__proto__","_prefixes","createCommonjsModule","exports","getCjsExportFromNamespace","data","all","keys","k","Number","names","replace","before","unpack","fallbackTZ","safeIntl","Intl","DateTimeFormat","format","resolvedOptions","timezone","timeZone","toLowerCase","guessTz","guessTz_1","isOffset","isNumber","utcOffset","gmtOffset","toIana","parseOffset$1","parseOffset","parseOffset_1$1","local","cities","city","lookupTz","error","trim","hasOwnProperty","id","Error","find","millisecond","second","minute","week","milliseconds","walk","unit","previous","current","startUnit","original","diff","Math","abs","halfStep","units$3","valid","walkTo","getMonth","getFullYear","seconds","wants","old","clone","silent","walk_1","shortMonths","longMonths","buildMapping","sep","months$1","short","long","mapping","set","i18n","parseFloat","parseOffset_1","parseTime","arguments","startOf","concat","substring","ampm","_h","parseTime_1","monthLengths","monthLengths_1","fns","isLeapYear","isDate","isNaN","valueOf","input","isObject","isBoolean","zeroPad","pad","join","titleCase","toUpperCase","substr","ordinal","j","toCardinal","String","getEpoch","tmp","getTime","beADate","formatTimezone","delimiter","sign","absOffset","hours","minutes","isLeapYear$2","hasDate","max","hasDate_1","months","parseYear","today","strFmt","reg","parse","givenTz","options","british","_today","quarter","getDate","strParse","getNow","now","dates","tonight","tomorrow","add","yesterday","subtract","christmas","newYears","namedDates","minimumEpoch","defaults","handleArray","order","handleObject","assign","parseInput","res","isValid","_res","shortDays","longDays","days","aliases","mo","tu","we","th","fr","sa","su","tues","weds","wedn","thur","thurs","titleCaseEnabled","caseFormat","useTitleCase","isoOffset","_offset","applyCaseFormat","dayName","dayShort","dayNumber","dayOrdinal","dayPad","dateOrdinal","datePad","monthName","monthShort","monthNumber","monthOrdinal","monthPad","isoMonth","yearShort","isoYear","isNegative","time24","hour24","hour12","hourPad","hour24Pad","minutePad","secondPad","era","json","numeric","numericUs","numericUk","mmDd","iso","h24","ms","isoShort","isoUtc","toISOString","nice","nice24","niceYear","niceDay","niceFull","niceFull24","mdy","dmy","ymd","printFormat","out","indexOf","_","fmt","_out","format_1","G","GG","GGG","GGGG","y","yy","yyy","yyyy","yyyyy","Q","QQ","QQQ","QQQQ","M","MM","MMM","MMMM","w","ww","dd","D","dayOfYear","DD","DDD","E","EE","EEE","EEEE","EEEEE","e","ee","eee","eeee","eeeee","a","aa","aaa","aaaa","h12","hh","H","HH","mm","ss","A","z","zz","zzz","zzzz","Z","ZZ","ZZZ","ZZZZ","addAlias","_char","to","toName","escapeChars","filter","ch","combineRepeated","c","map","unixFmt","txt","unixFmt_1","units$2","doUnit","endOf","percent","toFixed","progress","progress_1","nearest","prog","nearest_1","climb","b","isBefore","isAfter","diffOne","one","fastYear","years","diff$1","msDiff","weeks","waterfall","reverseDiff","main$1","main","reversed","qualifiers","almost","over","getDiff","later","earlier","isSame","u","pluralize","since","isNow","every","rounded","qualified","precise","englishValues","units","englishValue","nextUnit","nextValue","splice","since_1","north","south","quarters","units$1","quarterhour","_weekStart","q","hemisphere","decade","century","startOf_1","isDay","result","every_1","parseDst","epochShift","hasDst","Boolean","default_offset","change","back","summer","winter","isDST","timezone_1","methods$4","input$1","hasDST","leapYear","last","goto","isAwake","isAsleep","log","logYear","_this","debug","fromNow","weekStart","inDST","round","each","methods_1","isLeapYear$1","validate","order$1","confirm","want","shift","sec","methods$3","getMilliseconds","getSeconds","getMinutes","getHours","hourFloat","_minute","_hour","which","dayTime","times","morning","breakfast","noon","lunch","afternoon","evening","dinner","night","midnight","_01Time","methods$2","getDay","_02Date","clearMinutes","methods$1","sum","setDate","setFullYear","setHours","setMinutes","setMonth","toAdd","minus","thisOne","skipWeeks","_month","floor","millenium","_03Year","addMethods$4","addMethods","Space","query","getMonthLength","rollMonth","_years","rollDaysDown","rollDaysUp","_model","daysBack","keep","dstAwareUnits","keepDate","addMethods$3","SpaceTime","_sum","remainder","wantYear","haveYear","plus","print","addMethods$2","tzAware","same","addMethods$1","isEqual","isBetween","isInclusive","startEpoch","endEpoch","compare","defineProperty","get","bias","getTimezoneOffset","toLocalDate","spacetime","whereIts","startHour","endHour","tzs","whereIts_1","_version","setToday","extend","version","plugin","src","america","asia","europe","africa","aus","pac","informal","bst","ireland","cet","cest","eet","eest","trt","etc","utc","gmt","sast","acst","acdt","aest","aedt","awst","awdt","acwst","lhst","lhdt","msk","russian","cst","cdt","mst","mdt","ast","adt","est","edt","pst","pdt","ahst","ahdt","hst","nst","ndt","brt","brasília","brasilia","amt","east","easst","vet","pyt","pyst","cot","clst","cldt","uyt","ist","irst","irdt","iranian","pkt","ict","ct","almt","yakt","gst","uae","hkt","wib","wita","idt","israeli","krat","myt","sgt","kst","uzt","vlat","mvt","mut","mht","sst","chst","pgt","iana","formal","lex","Unit","context","enumerable","writable","rel","section","middle","dayStart","dayEnd","mins","Day","CalendarDate","WeekDay","weekDay","tooFar","AnyMonth","Month","AnyQuarter","Quarter","Week","WeekEnd","Hour","Minute","Moment","knownUnits","weekend","wk","min","parseUnit","parseShift","ts","remove","dir","oneBased","getCounter","hardCoded","daybreak","midday","lunchtime","dinnertime","eod","halfPast","term","behind","timeStr","desc","g","parseRelative","parseSection","parseTimezone","parseWeekday","knownWord","eom","eoy","tommorrow","tmrw","define","feb","apr","oct","parseHoliday","spacetimeHoliday","milliscond","instant","yr","qtr","hr","matchStr","nextLast","Model","fmtToday","parseYearly","parseExplicit","impliedYear","applyCounter","counter","tokens","relative","weekday","holiday","require$$9","require$$10","yearly","require$$11","explicit","require$$12","transform","require$$13","parseDate","applyShift","applyWeekDay","applyRel","applySection","applyTime","dayNames","mon","tue","wed","thu","fri","sat","sun","monday","tuesday","wednesday","thursday","friday","saturday","sunday","parseLogic","parseIntervals","repeat","interval","choose","nouns","toSingular","weekDays","punt","append","year2","prepend","fromDate","toDate","group","after","beforeEnd","parseRange","parseInterval","ranges","combined","toNumber","contractions","expand","adverbs","maxDate","max_loops","shouldPick","byDay","generateDates","list","max_count","max_repeat","loops","generated","addDuration","toISO","parseRanges","generate","keepTags","keepCase","toLongForm","abbrevs","toShortForm","known","twoWord","oneWord","word","addDurations","Doc","Durations","durations","world","addTimes","Times","findDate","isDuration","first","splitAfter","splitOn","splitBefore","opts","addTags","tags","addWords","words","postProcess","tagger","Dates","findDates"],"mappings":"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"}
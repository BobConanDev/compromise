{"version":3,"file":"compromise-dates.js","sources":["../src/01-tagger/00-basic.js","../src/01-tagger/01-values.js","../src/01-tagger/02-dates.js","../src/01-tagger/03-sections.js","../src/01-tagger/04-time.js","../src/01-tagger/05-shifts.js","../src/01-tagger/06-intervals.js","../src/01-tagger/07-fixup.js","../src/01-tagger/index.js","../src/data/_tags.js","../node_modules/spacetime/builds/spacetime.js","../src/data/_timezones.js","../src/data/words/dates.js","../src/data/words/durations.js","../src/data/words/holidays.js","../src/data/words/times.js","../src/data/words/index.js","../src/parseDate/units/Unit.js","../src/parseDate/units/_day.js","../src/parseDate/units/_year.js","../src/parseDate/units/_week.js","../src/parseDate/units/_time.js","../src/parseDate/units/index.js","../src/parseDate/01-tokenize/01-shift.js","../src/parseDate/01-tokenize/02-counter.js","../src/parseDate/01-tokenize/03-time.js","../src/parseDate/01-tokenize/04-relative.js","../src/parseDate/01-tokenize/05-section.js","../src/parseDate/01-tokenize/06-timezone.js","../src/parseDate/01-tokenize/07-weekday.js","../src/parseDate/02-parse/01-today.js","../node_modules/spacetime-holiday/builds/spacetime-holiday.js","../src/parseDate/02-parse/02-holidays.js","../src/parseDate/02-parse/03-next-last.js","../src/parseDate/02-parse/04-yearly.js","../src/parseDate/02-parse/05-explicit.js","../src/parseDate/03-transform/addCounter.js","../src/parseDate/parse.js","../src/02-ranges/intervals.js","../src/02-ranges/ranges.js","../src/02-ranges/index.js","../src/normalize.js","../src/generate.js","../src/parse.js","../src/data/_abbrevs.js","../src/methods.js","../src/durations/parse.js","../src/durations/index.js","../src/times/parse.js","../src/times/index.js","../src/find.js","../src/index.js"],"sourcesContent":["//ambiguous 'may' and 'march'\nconst preps = '(in|by|before|during|on|until|after|of|within|all)' //6\nconst thisNext = '(last|next|this|previous|current|upcoming|coming)' //2\nconst sections = '(start|end|middle|starting|ending|midpoint|beginning)' //2\nconst seasons = '(spring|summer|winter|fall|autumn)'\n\n//ensure a year is approximately typical for common years\n//please change in one thousand years\nconst tagYear = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1000 && num < 3000) {\n      p.tag('Year', reason)\n    }\n  })\n}\n//same, but for less-confident values\nconst tagYearSafe = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1900 && num < 2030) {\n      p.tag('Year', reason)\n    }\n  })\n}\n\nconst tagDates = function (doc) {\n  // in the evening\n  doc.match('in the (night|evening|morning|afternoon|day|daytime)').tag('Time', 'in-the-night')\n  // 8 pm\n  doc.match('(#Value|#Time) (am|pm)').tag('Time', 'value-ampm')\n  // 22-aug\n  // doc.match('/^[0-9]{2}-(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov)/').tag('Date', '20-jan')\n  // 2012-06\n  doc.match('/^[0-9]{4}-[0-9]{2}$/').tag('Date', '2012-06')\n\n  // misc weekday words\n  doc.match('(tue|thu)').tag('WeekDay', 'misc-weekday')\n\n  //months:\n  let month = doc.if('#Month')\n  if (month.found === true) {\n    //June 5-7th\n    month.match(`#Month #Date+`).tag('Date', 'correction-numberRange')\n    //5th of March\n    month.match('#Value of #Month').tag('Date', 'value-of-month')\n    //5 March\n    month.match('#Cardinal #Month').tag('Date', 'cardinal-month')\n    //march 5 to 7\n    month.match('#Month #Value to #Value').tag('Date', 'value-to-value')\n    //march the 12th\n    month.match('#Month the #Value').tag('Date', 'month-the-value')\n  }\n\n  //months:\n  let val = doc.if('#Value')\n  if (val.found === true) {\n    //june 7\n    val.match('(#WeekDay|#Month) #Value').ifNo('#Money').tag('Date', 'date-value')\n\n    //7 june\n    val.match('#Value (#WeekDay|#Month)').ifNo('#Money').tag('Date', 'value-date')\n\n    //may twenty five\n    val.match('#TextValue #TextValue').if('#Date').tag('#Date', 'textvalue-date')\n\n    //two thursdays back\n    val.match('#Value (#WeekDay|#Duration) back').tag('#Date', '3-back')\n\n    //eg 'year'\n    let duration = val.if('#Duration')\n    if (duration.found === true) {\n      //for 4 months\n      duration.match('for #Value #Duration').tag('Date', 'for-x-duration')\n      //two days before\n      duration.match('#Value #Duration #Conjunction').tag('Date', 'val-duration-conjunction')\n      //for four days\n      duration.match(`${preps}? #Value #Duration`).tag('Date', 'value-duration')\n      //two years old\n      duration.match('#Value #Duration old').unTag('Date', 'val-years-old')\n    }\n  }\n\n  //seasons\n  let season = doc.if(seasons)\n  if (season.found === true) {\n    season.match(`${preps}? ${thisNext} ${seasons}`).tag('Date', 'thisNext-season')\n    season.match(`the? ${sections} of ${seasons}`).tag('Date', 'section-season')\n    season.match(`${seasons} ${preps}? #Cardinal`).tag('Date', 'season-year')\n  }\n\n  //rest-dates\n  let date = doc.if('#Date')\n  if (date.found === true) {\n    //june the 5th\n    date.match('#Date the? #Ordinal').tag('Date', 'correction')\n    //last month\n    date.match(`${thisNext} #Date`).tag('Date', 'thisNext')\n    //by 5 March\n    date.match('due? (by|before|after|until) #Date').tag('Date', 'by')\n    //next feb\n    date.match('(last|next|this|previous|current|upcoming|coming|the) #Date').tag('Date', 'next-feb')\n    //start of june\n    date.match(`the? ${sections} of #Date`).tag('Date', 'section-of')\n    //fifth week in 1998\n    date.match('#Ordinal #Duration in #Date').tag('Date', 'duration-in')\n    //early in june\n    date.match('(early|late) (at|in)? the? #Date').tag('Time', 'early-evening')\n    //tomorrow before 3\n    date.match('#Date (by|before|after|at|@|about) #Cardinal').not('^#Date').tag('Time', 'date-before-Cardinal')\n    //saturday am\n    date.match('#Date [(am|pm)]', 0).unTag('Verb').unTag('Copula').tag('Time', 'date-am')\n    //feb to june\n    date.match('#Date (#Preposition|to) #Date').ifNo('#Duration').tag('Date', 'date-prep-date')\n    //2nd quarter of 2019\n    // date.match('#Date of #Date').tag('Date', 'date-of-date')\n  }\n\n  //year/cardinal tagging\n  let cardinal = doc.if('#Cardinal')\n  if (cardinal.found === true) {\n    let v = cardinal.match(`#Date #Value [#Cardinal]`, 0)\n    tagYear(v, 'date-value-year')\n    //scoops up a bunch\n    v = cardinal.match(`#Date [#Cardinal]`, 0)\n    tagYearSafe(v, 'date-year')\n    //middle of 1999\n    v = cardinal.match(`${sections} of [#Cardinal]`)\n    tagYearSafe(v, 'section-year')\n    //feb 8 2018\n    v = cardinal.match(`#Month #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-value-year')\n    //feb 8 to 10th 2018\n    v = cardinal.match(`#Month #Value to #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-range-year')\n    //in 1998\n    v = cardinal.match(`(in|of|by|during|before|starting|ending|for|year|since) [#Cardinal]`, 0)\n    tagYear(v, 'in-year-1')\n    //q2 2009\n    v = cardinal.match('(q1|q2|q3|q4) [#Cardinal]', 0)\n    tagYear(v, 'in-year-2')\n    //2nd quarter 2009\n    v = cardinal.match('#Ordinal quarter of? [#Cardinal]', 0)\n    tagYear(v, 'in-year-3')\n    //in the year 1998\n    v = cardinal.match('the year [#Cardinal]', 0)\n    tagYear(v, 'in-year-4')\n    //it was 1998\n    v = cardinal.match('it (is|was) [#Cardinal]', 0)\n    tagYearSafe(v, 'in-year-5')\n    // re-tag this part\n    cardinal.match(`${sections} of #Year`).tag('Date')\n    //between 1999 and 1998\n    let m = cardinal.match('between [#Cardinal] and [#Cardinal]')\n    tagYear(m.groups('0'), 'between-year-and-year-1')\n    tagYear(m.groups('1'), 'between-year-and-year-2')\n  }\n\n  let time = doc.if('#Time')\n  if (time.found === true) {\n    //by 6pm\n    time.match('(by|before|after|at|@|about) #Time').tag('Time', 'preposition-time')\n    //7 7pm\n    // time.match('#Cardinal #Time').not('#Year').tag('Time', 'value-time')\n    //2pm est\n    time.match('#Time [(eastern|pacific|central|mountain)]', 0).tag('Date', 'timezone')\n    //6pm est\n    time.match('#Time [(est|pst|gmt)]', 0).tag('Date', 'timezone abbr')\n  }\n  //'2020' bare input\n  let m = doc.match('^/^20[012][0-9]$/$')\n  tagYearSafe(m, '2020-ish')\n\n  // in 20mins\n  doc.match('(in|after) /^[0-9]+(min|sec|wk)s?/').tag('Date', 'shift-units')\n  //tuesday night\n  doc.match('#Date [(now|night|sometime)]', 0).tag('Time', 'date-now')\n  // 4 days from now\n  doc.match('(from|starting|until|by) now').tag('Date', 'for-now')\n  // every night\n  doc.match('(each|every) night').tag('Date', 'for-now')\n  return doc\n}\nmodule.exports = tagDates\n","const here = 'date-values'\n//\nconst values = function (doc) {\n  // a year ago\n  if (!doc.has('once [a] #Duration')) {\n    doc.match('[a] #Duration', 0).replaceWith('1').tag('Cardinal', here)\n  }\n  if (doc.has('#Value')) {\n    //june 5 to 7th\n    doc.match('#Month #Value to #Value of? #Year?').tag('Date', here)\n    //5 to 7th june\n    doc.match('#Value to #Value of? #Month #Year?').tag('Date', here)\n    //third week of may\n    doc.match('#Value #Duration of #Date').tag('Date', here)\n    //two days after\n    doc.match('#Value+ #Duration (after|before|into|later|afterwards|ago)?').tag('Date', here)\n    //two days\n    doc.match('#Value #Date').tag('Date', here)\n    //june 5th\n    doc.match('#Date #Value').tag('Date', here)\n    //tuesday at 5\n    doc.match('#Date #Preposition #Value').tag('Date', here)\n    //tomorrow before 3\n    doc.match('#Date (after|before|during|on|in) #Value').tag('Date', here)\n    //a year and a half\n    doc.match('#Value (year|month|week|day) and a half').tag('Date', here)\n    //5 and a half years\n    doc.match('#Value and a half (years|months|weeks|days)').tag('Date', here)\n    //on the fifth\n    doc.match('on the #Ordinal').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = values\n","const here = 'date-tagger'\n//\nconst dateTagger = function (doc) {\n  doc.match('(spring|summer|winter|fall|autumn|springtime|wintertime|summertime)').match('#Noun').tag('Season', here)\n  doc.match('(q1|q2|q3|q4)').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) quarter').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) season').tag('Season', here)\n\n  if (doc.has('#Date')) {\n    //friday to sunday\n    doc.match('#Date #Preposition #Date').tag('Date', here)\n    //once a day..\n    doc.match('(once|twice) (a|an|each) #Date').tag('Date', here)\n    //tuesday\n    doc.match('#Date+').tag('Date', here)\n    //by June\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', 'until-june')\n    //a year after..\n    doc.match('a #Duration').tag('Date', here)\n    //between x and y\n    doc.match('(between|from) #Date').tag('Date', here)\n    doc.match('(to|until|upto) #Date').tag('Date', here)\n    doc.match('#Date and #Date').tag('Date', here)\n    //during this june\n    doc.match('(by|until|after|before|during|on|in|following|since) (next|this|last)? (#Date|#Date)').tag('Date', here)\n    //day after next\n    doc.match('the? #Date after next one?').tag('Date', here)\n    //approximately...\n    doc.match('(about|approx|approximately|around) #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = dateTagger\n","const here = 'section-tagger'\n//\nconst sectionTagger = function (doc) {\n  if (doc.has('#Date')) {\n    // //next september\n    doc.match('this? (last|next|past|this|previous|current|upcoming|coming|the) #Date').tag('Date', here)\n    //starting this june\n    doc.match('(starting|beginning|ending) #Date').tag('Date', here)\n    //start of june\n    doc.match('the? (start|end|middle|beginning) of (last|next|this|the) (#Date|#Date)').tag('Date', here)\n    //this coming june\n    doc.match('(the|this) #Date').tag('Date', here)\n    //january up to june\n    doc.match('#Date up to #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = sectionTagger\n","const here = 'time-tagger'\n\n//\nconst timeTagger = function (doc) {\n  // 2 oclock\n  doc.match('#Cardinal oclock').tag('Time', here)\n  // 13h30\n  doc.match('/^[0-9]{2}h[0-9]{2}$/').tag('Time', here)\n  // 03/02\n  doc.match('/^[0-9]{2}/[0-9]{2}/').tag('Date', here).unTag('Value')\n  // 3 in the morning\n  doc.match('[#Value] (in|at) the? (morning|evening|night|nighttime)').tag('Time', here)\n  if (doc.has('#Cardinal') && !doc.has('#Month')) {\n    // quarter to seven (not march 5 to 7)\n    doc.match('1? (half|quarter|25|15|10|5) (past|after|to) #Cardinal').tag('Time', here)\n    // ten to seven\n    doc.match('(5|10|15|20|five|ten|fifteen|20) (to|after|past) [<hour>#Cardinal]').tag('Time', here) //add check for 1 to 1 etc.\n  }\n  //timezone\n  if (doc.has('#Date')) {\n    // iso  (2020-03-02T00:00:00.000Z)\n    doc.match('/^[0-9]{4}[:-][0-9]{2}[:-][0-9]{2}T[0-9]/').tag('Time', here)\n    // tuesday at 4\n    doc.match('#Date [at #Cardinal]', 0).notIf('#Year').tag('Time', here)\n    // half an hour\n    doc.match('half an (hour|minute|second)').tag('Date', here)\n    //eastern daylight time\n    doc.match('#Noun (standard|daylight|central|mountain)? time').tag('Timezone', here)\n    //utc+5\n    doc.match('/^utc[+-][0-9]/').tag('Timezone', here)\n    doc.match('/^gmt[+-][0-9]/').tag('Timezone', here)\n\n    doc.match('(in|for|by|near|at) #Timezone').tag('Timezone', here)\n    // 2pm eastern\n    doc.match('#Time [(eastern|mountain|pacific|central)]', 0).tag('Timezone', here)\n  }\n  // around four thirty\n  doc.match('(at|around|near) [#Cardinal (thirty|fifteen) (am|pm)?]', 0).tag('Time', here)\n  return doc\n}\nmodule.exports = timeTagger\n","const here = 'shift-tagger'\n//\nconst shiftTagger = function (doc) {\n  if (doc.has('#Date')) {\n    //'two days before'/ 'nine weeks frow now'\n    doc.match('#Cardinal #Duration (before|after|ago|from|hence|back)').tag('DateShift', here)\n    // in two weeks\n    doc.match('in #Cardinal #Duration').tag('DateShift', here)\n    // in a few weeks\n    doc.match('in a (few|couple) of? #Duration').tag('DateShift', here)\n    //two weeks and three days before\n    doc.match('#Cardinal #Duration and? #DateShift').tag('DateShift', here)\n    doc.match('#DateShift and #Cardinal #Duration').tag('DateShift', here)\n    // 'day after tomorrow'\n    doc.match('[#Duration (after|before)] #Date', 0).tag('DateShift', here)\n    // in half an hour\n    doc.match('in half (a|an) #Duration').tag('DateShift', here)\n  }\n  return doc\n}\nmodule.exports = shiftTagger\n","const tagIntervals = function (doc) {\n  // july 3rd and 4th\n  doc.match('#Month #Ordinal and #Ordinal').tag('Date', 'ord-and-ord')\n  // every other week\n  doc.match('every other #Duration').tag('Date', 'every-other')\n  // every weekend\n  doc.match('(every|any|each|a) (day|weekday|week day|weekend|weekend day)').tag('Date', 'any-weekday')\n  // any-wednesday\n  doc.match('(every|any|each|a) (#WeekDay)').tag('Date', 'any-wednesday')\n  // any week\n  doc.match('(every|any|each|a) (#Duration)').tag('Date', 'any-week')\n}\nmodule.exports = tagIntervals\n","const here = 'fix-tagger'\n//\nconst fixUp = function (doc) {\n  //fixups\n  if (doc.has('#Date')) {\n    //first day by monday\n    let oops = doc.match('#Date+ by #Date+')\n    if (oops.found && !oops.has('^due')) {\n      oops.match('^#Date+').unTag('Date', 'by-monday')\n    }\n\n    let d = doc.match('#Date+')\n    //'spa day'\n    d.match('^day$').unTag('Date', 'spa-day')\n    // tomorrow's meeting\n    d.match('(in|of|by|for)? (#Possessive && #Date)').unTag('Date', 'tomorrows meeting')\n\n    let knownDate = '(yesterday|today|tomorrow)'\n    if (d.has(knownDate)) {\n      //yesterday 7\n      d.match(`${knownDate} [#Value]$`).unTag('Date', 'yesterday-7')\n      //7 yesterday\n      d.match(`^[#Value] ${knownDate}$`, 0).unTag('Date', '7 yesterday')\n      //friday yesterday\n      d.match(`#WeekDay+ ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'fri-yesterday')\n\n      // yesterday yesterday\n      // d.match(`${knownDate}+ ${knownDate}$`)\n      //   .unTag('Date')\n      //   .lastTerm()\n      //   .tag('Date', here)\n      d.match(`(this|last|next) #Date ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'this month yesterday')\n    }\n    //tomorrow on 5\n    d.match(`on #Cardinal$`).unTag('Date', here)\n    //this tomorrow\n    d.match(`this tomorrow`).terms(0).unTag('Date', 'this-tomorrow')\n    //q2 2019\n    d.match(`(q1|q2|q3|q4) #Year`).tag('Date', here)\n    //5 tuesday\n    // d.match(`^#Value #WeekDay`).terms(0).unTag('Date');\n    //5 next week\n    d.match(`^#Value (this|next|last)`).terms(0).unTag('Date', here)\n\n    if (d.has('(last|this|next)')) {\n      //this month 7\n      d.match(`(last|this|next) #Duration #Value`).terms(2).unTag('Date', here)\n      //7 this month\n      d.match(`!#Month #Value (last|this|next) #Date`).terms(0).unTag('Date', here)\n    }\n    //january 5 5\n    if (d.has('(#Year|#Time|#TextValue|#NumberRange)') === false) {\n      d.match('(#Month|#WeekDay) #Value #Value').terms(2).unTag('Date', here)\n    }\n    //between june\n    if (d.has('^between') && !d.has('and .')) {\n      d.unTag('Date', here)\n    }\n    //june june\n    if (d.has('#Month #Month') && !d.has('@hasHyphen') && !d.has('@hasComma')) {\n      d.match('#Month').lastTerm().unTag('Date', 'month-month')\n    }\n    // log the hours\n    if (d.has('(minutes|seconds|weeks|hours|days|months)') && !d.has('#Value #Duration')) {\n      d.match('(minutes|seconds|weeks|hours|days|months)').unTag('Date', 'log-hours')\n    }\n    // about thanksgiving\n    if (d.has('about #Holiday')) {\n      d.match('about').unTag('#Date', 'about-thanksgiving')\n    }\n\n    // second quarter of 2020\n    d.match('#Ordinal quarter of? #Year').unTag('Fraction')\n\n    // a month from now\n    d.match('(from|by|before) now').unTag('Time')\n    // dangling date-chunks\n    // if (d.has('!#Date (in|of|by|for) !#Date')) {\n    //   d.unTag('Date', 'dangling-date')\n    // }\n    // the day after next\n    d.match('#Date+').match('^the').unTag('Date')\n  }\n  return doc\n}\nmodule.exports = fixUp\n","const methods = [\n  require('./00-basic'),\n  require('./01-values'),\n  require('./02-dates'),\n  require('./03-sections'),\n  require('./04-time'),\n  require('./05-shifts'),\n  require('./06-intervals'),\n  require('./07-fixup'),\n]\n\n// normalizations to run before tagger\nconst normalize = function (doc) {\n  // turn '20mins' into '20 mins'\n  doc.numbers().normalize() // this is sorta problematic\n  return doc\n}\n\n// run each of the taggers\nconst tagDate = function (doc) {\n  doc = normalize(doc)\n  // run taggers\n  methods.forEach((fn) => fn(doc))\n  return doc\n}\nmodule.exports = tagDate\n","module.exports = {\n  FinancialQuarter: {\n    isA: 'Date',\n    notA: 'Fraction',\n  },\n  // 'summer'\n  Season: {\n    isA: 'Date',\n  },\n  // '1982'\n  Year: {\n    isA: ['Date'],\n    notA: 'RomanNumeral',\n  },\n  // 'months'\n  Duration: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'easter'\n  Holiday: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'PST'\n  Timezone: {\n    isA: ['Date', 'Noun'],\n    notA: ['Adjective', 'DateShift'],\n  },\n  // 'two weeks before'\n  DateShift: {\n    isA: ['Date'],\n    notA: ['TimeZone', 'Holiday'],\n  },\n}\n","/* spencermountain/spacetime 6.13.1 Apache 2.0 */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.spacetime = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var MSEC_IN_HOUR = 60 * 60 * 1000; //convert our local date syntax a javascript UTC date\n\n  var toUtc = function toUtc(dstChange, offset, year) {\n    var _dstChange$split = dstChange.split('/'),\n        _dstChange$split2 = _slicedToArray(_dstChange$split, 2),\n        month = _dstChange$split2[0],\n        rest = _dstChange$split2[1];\n\n    var _rest$split = rest.split(':'),\n        _rest$split2 = _slicedToArray(_rest$split, 2),\n        day = _rest$split2[0],\n        hour = _rest$split2[1];\n\n    return Date.UTC(year, month - 1, day, hour) - offset * MSEC_IN_HOUR;\n  }; // compare epoch with dst change events (in utc)\n\n\n  var inSummerTime = function inSummerTime(epoch, start, end, summerOffset, winterOffset) {\n    var year = new Date(epoch).getUTCFullYear();\n    var startUtc = toUtc(start, winterOffset, year);\n    var endUtc = toUtc(end, summerOffset, year); // simple number comparison now\n\n    return epoch >= startUtc && epoch < endUtc;\n  };\n\n  var summerTime = inSummerTime;\n\n  // it reproduces some things in ./index.js, but speeds up spacetime considerably\n\n  var quickOffset = function quickOffset(s) {\n    var zones = s.timezones;\n    var obj = zones[s.tz];\n\n    if (obj === undefined) {\n      console.warn(\"Warning: couldn't find timezone \" + s.tz);\n      return 0;\n    }\n\n    if (obj.dst === undefined) {\n      return obj.offset;\n    } //get our two possible offsets\n\n\n    var jul = obj.offset;\n    var dec = obj.offset + 1; // assume it's the same for now\n\n    if (obj.hem === 'n') {\n      dec = jul - 1;\n    }\n\n    var split = obj.dst.split('->');\n    var inSummer = summerTime(s.epoch, split[0], split[1], jul, dec);\n\n    if (inSummer === true) {\n      return jul;\n    }\n\n    return dec;\n  };\n\n  var quick = quickOffset;\n\n  var _build = {\n  \t\"9|s\": \"2/dili,2/jayapura\",\n  \t\"9|n\": \"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau\",\n  \t\"9.5|s|04/04:03->10/03:02\": \"4/adelaide,4/broken_hill,4/south,4/yancowinna\",\n  \t\"9.5|s\": \"4/darwin,4/north\",\n  \t\"8|s|03/08:01->10/04:00\": \"12/casey\",\n  \t\"8|s\": \"2/kuala_lumpur,2/makassar,2/singapore,4/perth,4/west\",\n  \t\"8|n|03/25:03->09/29:23\": \"2/ulan_bator\",\n  \t\"8|n\": \"2/brunei,2/choibalsan,2/chongqing,2/chungking,2/harbin,2/hong_kong,2/irkutsk,2/kuching,2/macao,2/macau,2/manila,2/shanghai,2/taipei,2/ujung_pandang,2/ulaanbaatar\",\n  \t\"8.75|s\": \"4/eucla\",\n  \t\"7|s\": \"12/davis,2/jakarta,9/christmas\",\n  \t\"7|n\": \"2/bangkok,2/barnaul,2/ho_chi_minh,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/saigon,2/tomsk,2/vientiane\",\n  \t\"6|s\": \"12/vostok\",\n  \t\"6|n\": \"2/almaty,2/bishkek,2/dacca,2/dhaka,2/kashgar,2/omsk,2/qyzylorda,2/qostanay,2/thimbu,2/thimphu,2/urumqi,9/chagos\",\n  \t\"6.5|n\": \"2/rangoon,2/yangon,9/cocos\",\n  \t\"5|s\": \"12/mawson,9/kerguelen\",\n  \t\"5|n\": \"2/aqtau,2/aqtobe,2/ashgabat,2/ashkhabad,2/atyrau,2/baku,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives\",\n  \t\"5.75|n\": \"2/kathmandu,2/katmandu\",\n  \t\"5.5|n\": \"2/calcutta,2/colombo,2/kolkata\",\n  \t\"4|s\": \"9/reunion\",\n  \t\"4|n\": \"2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius\",\n  \t\"4.5|n|03/22:00->09/21:24\": \"2/tehran\",\n  \t\"4.5|n\": \"2/kabul\",\n  \t\"3|s\": \"12/syowa,9/antananarivo\",\n  \t\"3|n|03/28:03->10/31:04\": \"2/famagusta,2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/nicosia,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye\",\n  \t\"3|n|03/28:02->10/31:03\": \"8/chisinau,8/tiraspol\",\n  \t\"3|n|03/28:00->10/30:24\": \"2/beirut\",\n  \t\"3|n|03/27:00->10/30:01\": \"2/gaza,2/hebron\",\n  \t\"3|n|03/26:02->10/31:02\": \"2/jerusalem,2/tel_aviv\",\n  \t\"3|n|03/26:00->10/29:01\": \"2/amman\",\n  \t\"3|n|03/26:00->10/28:24\": \"2/damascus\",\n  \t\"3|n\": \"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/istanbul,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte\",\n  \t\"2|s|03/28:02->10/31:02\": \"12/troll\",\n  \t\"2|s\": \"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane\",\n  \t\"2|n|03/28:02->10/31:03\": \"0/ceuta,arctic/longyearbyen,3/jan_mayen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich\",\n  \t\"2|n\": \"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad\",\n  \t\"1|s|04/02:01->09/03:03\": \"0/windhoek\",\n  \t\"1|s\": \"0/kinshasa,0/luanda\",\n  \t\"1|n|04/11:03->05/16:02\": \"0/casablanca,0/el_aaiun\",\n  \t\"1|n|03/28:01->10/31:02\": \"3/canary,3/faeroe,3/faroe,3/madeira,8/belfast,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london\",\n  \t\"1|n\": \"0/algiers,0/bangui,0/brazzaville,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis\",\n  \t\"14|n\": \"11/kiritimati\",\n  \t\"13|s|04/04:04->09/26:03\": \"11/apia\",\n  \t\"13|s|01/15:02->11/05:03\": \"11/tongatapu\",\n  \t\"13|n\": \"11/enderbury,11/fakaofo\",\n  \t\"12|s|04/04:03->09/26:02\": \"12/mcmurdo,12/south_pole,11/auckland\",\n  \t\"12|s|01/17:03->11/14:02\": \"11/fiji\",\n  \t\"12|n\": \"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis\",\n  \t\"12.75|s|04/04:03->04/04:02\": \"11/chatham\",\n  \t\"11|s|04/04:03->10/03:02\": \"12/macquarie\",\n  \t\"11|s\": \"11/bougainville\",\n  \t\"11|n\": \"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape\",\n  \t\"11.5|n|04/04:03->10/03:02\": \"11/norfolk\",\n  \t\"10|s|04/04:03->10/03:02\": \"4/act,4/canberra,4/currie,4/hobart,4/melbourne,4/nsw,4/sydney,4/tasmania,4/victoria\",\n  \t\"10|s\": \"12/dumontdurville,4/brisbane,4/lindeman,4/queensland\",\n  \t\"10|n\": \"2/ust-nera,2/vladivostok,2/yakutsk,11/chuuk,11/guam,11/port_moresby,11/saipan,11/truk,11/yap\",\n  \t\"10.5|s|04/04:01->10/03:02\": \"4/lhi,4/lord_howe\",\n  \t\"0|n|03/28:00->10/31:01\": \"1/scoresbysund,3/azores\",\n  \t\"0|n\": \"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,0/timbuktu,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/gmt+0,13/gmt-0,13/gmt0,13/greenwich,13/utc,13/universal,13/zulu\",\n  \t\"-9|n|03/14:02->11/07:02\": \"1/adak,1/atka\",\n  \t\"-9|n\": \"11/gambier\",\n  \t\"-9.5|n\": \"11/marquesas\",\n  \t\"-8|n|03/14:02->11/07:02\": \"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat\",\n  \t\"-8|n\": \"11/pitcairn\",\n  \t\"-7|n|03/14:02->11/07:02\": \"1/ensenada,1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,6/pacific,10/bajanorte\",\n  \t\"-7|n|03/08:02->11/01:01\": \"1/dawson,1/whitehorse,6/yukon\",\n  \t\"-7|n\": \"1/creston,1/dawson_creek,1/fort_nelson,1/hermosillo,1/phoenix\",\n  \t\"-6|s|04/03:22->09/04:22\": \"7/easterisland,11/easter\",\n  \t\"-6|n|04/04:02->10/31:02\": \"1/chihuahua,1/mazatlan,10/bajasur\",\n  \t\"-6|n|03/14:02->11/07:02\": \"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/shiprock,1/yellowknife,6/mountain\",\n  \t\"-6|n\": \"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,6/east-saskatchewan,6/saskatchewan,11/galapagos\",\n  \t\"-5|s\": \"1/lima,1/rio_branco,5/acre\",\n  \t\"-5|n|04/04:02->10/31:02\": \"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general\",\n  \t\"-5|n|03/14:02->11/07:02\": \"1/chicago,1/knox_in,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,6/central\",\n  \t\"-5|n|03/12:03->11/05:01\": \"1/north_dakota\",\n  \t\"-5|n\": \"1/atikokan,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/porto_acre\",\n  \t\"-4|s|05/13:23->08/13:01\": \"12/palmer\",\n  \t\"-4|s|04/03:24->09/05:00\": \"1/santiago,7/continental\",\n  \t\"-4|s|03/27:24->10/03:00\": \"1/asuncion\",\n  \t\"-4|s|02/16:24->11/03:00\": \"1/campo_grande,1/cuiaba\",\n  \t\"-4|s\": \"1/la_paz,1/manaus,5/west\",\n  \t\"-4|n|03/14:02->11/07:02\": \"1/detroit,1/fort_wayne,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,6/eastern\",\n  \t\"-4|n|03/14:00->11/07:01\": \"1/havana\",\n  \t\"-4|n|03/12:03->11/05:01\": \"1/indiana,1/kentucky\",\n  \t\"-4|n\": \"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin\",\n  \t\"-3|s\": \"1/argentina,1/buenos_aires,1/cordoba,1/fortaleza,1/montevideo,1/punta_arenas,1/sao_paulo,12/rothera,3/stanley,5/east\",\n  \t\"-3|n|03/27:22->10/30:23\": \"1/nuuk\",\n  \t\"-3|n|03/14:02->11/07:02\": \"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic\",\n  \t\"-3|n\": \"1/araguaina,1/bahia,1/belem,1/catamarca,1/cayenne,1/jujuy,1/maceio,1/mendoza,1/paramaribo,1/recife,1/rosario,1/santarem\",\n  \t\"-2|s\": \"5/denoronha\",\n  \t\"-2|n|03/27:22->10/30:23\": \"1/godthab\",\n  \t\"-2|n|03/14:02->11/07:02\": \"1/miquelon\",\n  \t\"-2|n\": \"1/noronha,3/south_georgia\",\n  \t\"-2.5|n|03/14:02->11/07:02\": \"1/st_johns,6/newfoundland\",\n  \t\"-1|n\": \"3/cape_verde\",\n  \t\"-11|n\": \"11/midway,11/niue,11/pago_pago,11/samoa\",\n  \t\"-10|n\": \"11/honolulu,11/johnston,11/rarotonga,11/tahiti\"\n  };\n\n  var _build$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': _build\n  });\n\n  //prefixes for iana names..\n  var _prefixes = ['africa', 'america', 'asia', 'atlantic', 'australia', 'brazil', 'canada', 'chile', 'europe', 'indian', 'mexico', 'pacific', 'antarctica', 'etc'];\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  function getCjsExportFromNamespace (n) {\n  \treturn n && n['default'] || n;\n  }\n\n  var data = getCjsExportFromNamespace(_build$1);\n\n  var all = {};\n  Object.keys(data).forEach(function (k) {\n    var split = k.split('|');\n    var obj = {\n      offset: Number(split[0]),\n      hem: split[1]\n    };\n\n    if (split[2]) {\n      obj.dst = split[2];\n    }\n\n    var names = data[k].split(',');\n    names.forEach(function (str) {\n      str = str.replace(/(^[0-9]+)\\//, function (before, num) {\n        num = Number(num);\n        return _prefixes[num] + '/';\n      });\n      all[str] = obj;\n    });\n  });\n  all['utc'] = {\n    offset: 0,\n    hem: 'n' //default to northern hemisphere - (sorry!)\n\n  }; //add etc/gmt+n\n\n  for (var i = -14; i <= 14; i += 0.5) {\n    var num = i;\n\n    if (num > 0) {\n      num = '+' + num;\n    }\n\n    var name = 'etc/gmt' + num;\n    all[name] = {\n      offset: i * -1,\n      //they're negative!\n      hem: 'n' //(sorry)\n\n    };\n    name = 'utc/gmt' + num; //this one too, why not.\n\n    all[name] = {\n      offset: i * -1,\n      hem: 'n'\n    };\n  }\n\n  var unpack = all;\n\n  //find the implicit iana code for this machine.\n  //safely query the Intl object\n  //based on - https://bitbucket.org/pellepim/jstimezonedetect/src\n  var fallbackTZ = 'utc'; //\n  //this Intl object is not supported often, yet\n\n  var safeIntl = function safeIntl() {\n    if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n      return null;\n    }\n\n    var format = Intl.DateTimeFormat();\n\n    if (typeof format === 'undefined' || typeof format.resolvedOptions === 'undefined') {\n      return null;\n    }\n\n    var timezone = format.resolvedOptions().timeZone;\n\n    if (!timezone) {\n      return null;\n    }\n\n    return timezone.toLowerCase();\n  };\n\n  var guessTz = function guessTz() {\n    var timezone = safeIntl();\n\n    if (timezone === null) {\n      return fallbackTZ;\n    }\n\n    return timezone;\n  }; //do it once per computer\n\n\n  var guessTz_1 = guessTz;\n\n  var isOffset = /(\\-?[0-9]+)h(rs)?/i;\n  var isNumber = /(\\-?[0-9]+)/;\n  var utcOffset = /utc([\\-+]?[0-9]+)/i;\n  var gmtOffset = /gmt([\\-+]?[0-9]+)/i;\n\n  var toIana = function toIana(num) {\n    num = Number(num);\n\n    if (num >= -13 && num <= 13) {\n      num = num * -1; //it's opposite!\n\n      num = (num > 0 ? '+' : '') + num; //add plus sign\n\n      return 'etc/gmt' + num;\n    }\n\n    return null;\n  };\n\n  var parseOffset$1 = function parseOffset(tz) {\n    // '+5hrs'\n    var m = tz.match(isOffset);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    } // 'utc+5'\n\n\n    m = tz.match(utcOffset);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    } // 'GMT-5' (not opposite)\n\n\n    m = tz.match(gmtOffset);\n\n    if (m !== null) {\n      var num = Number(m[1]) * -1;\n      return toIana(num);\n    } // '+5'\n\n\n    m = tz.match(isNumber);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    }\n\n    return null;\n  };\n\n  var parseOffset_1$1 = parseOffset$1;\n\n  var local = guessTz_1(); //add all the city names by themselves\n\n  var cities = Object.keys(unpack).reduce(function (h, k) {\n    var city = k.split('/')[1] || '';\n    city = city.replace(/_/g, ' ');\n    h[city] = k;\n    return h;\n  }, {}); //try to match these against iana form\n\n  var normalize = function normalize(tz) {\n    tz = tz.replace(/ time/g, '');\n    tz = tz.replace(/ (standard|daylight|summer)/g, '');\n    tz = tz.replace(/\\b(east|west|north|south)ern/g, '$1');\n    tz = tz.replace(/\\b(africa|america|australia)n/g, '$1');\n    tz = tz.replace(/\\beuropean/g, 'europe');\n    tz = tz.replace(/\\islands/g, 'island');\n    return tz;\n  }; // try our best to reconcile the timzone to this given string\n\n\n  var lookupTz = function lookupTz(str, zones) {\n    if (!str) {\n      return local;\n    }\n\n    if (typeof str !== 'string') {\n      console.error(\"Timezone must be a string - recieved: '\", str, \"'\\n\");\n    }\n\n    var tz = str.trim();\n    var split = str.split('/'); //support long timezones like 'America/Argentina/Rio_Gallegos'\n\n    if (split.length > 2 && zones.hasOwnProperty(tz) === false) {\n      tz = split[0] + '/' + split[1];\n    }\n\n    tz = tz.toLowerCase();\n\n    if (zones.hasOwnProperty(tz) === true) {\n      return tz;\n    } //lookup more loosely..\n\n\n    tz = normalize(tz);\n\n    if (zones.hasOwnProperty(tz) === true) {\n      return tz;\n    } //try city-names\n\n\n    if (cities.hasOwnProperty(tz) === true) {\n      return cities[tz];\n    } // //try to parse '-5h'\n\n\n    if (/[0-9]/.test(tz) === true) {\n      var id = parseOffset_1$1(tz);\n\n      if (id) {\n        return id;\n      }\n    }\n\n    throw new Error(\"Spacetime: Cannot find timezone named: '\" + str + \"'. Please enter an IANA timezone id.\");\n  };\n\n  var find = lookupTz;\n\n  var o = {\n    millisecond: 1\n  };\n  o.second = 1000;\n  o.minute = 60000;\n  o.hour = 3.6e6; // dst is supported post-hoc\n\n  o.day = 8.64e7; //\n\n  o.date = o.day;\n  o.month = 8.64e7 * 29.5; //(average)\n\n  o.week = 6.048e8;\n  o.year = 3.154e10; // leap-years are supported post-hoc\n  //add plurals\n\n  Object.keys(o).forEach(function (k) {\n    o[k + 's'] = o[k];\n  });\n  var milliseconds = o;\n\n  var walk = function walk(s, n, fn, unit, previous) {\n    var current = s.d[fn]();\n\n    if (current === n) {\n      return; //already there\n    }\n\n    var startUnit = previous === null ? null : s.d[previous]();\n    var original = s.epoch; //try to get it as close as we can\n\n    var diff = n - current;\n    s.epoch += milliseconds[unit] * diff; //DST edge-case: if we are going many days, be a little conservative\n    // console.log(unit, diff)\n\n    if (unit === 'day') {\n      // s.epoch -= ms.minute\n      //but don't push it over a month\n      if (Math.abs(diff) > 28 && n < 28) {\n        s.epoch += milliseconds.hour;\n      }\n    } // 1st time: oops, did we change previous unit? revert it.\n\n\n    if (previous !== null && startUnit !== s.d[previous]()) {\n      // console.warn('spacetime warning: missed setting ' + unit)\n      s.epoch = original; // s.epoch += ms[unit] * diff * 0.89 // maybe try and make it close...?\n    } //repair it if we've gone too far or something\n    //(go by half-steps, just in case)\n\n\n    var halfStep = milliseconds[unit] / 2;\n\n    while (s.d[fn]() < n) {\n      s.epoch += halfStep;\n    }\n\n    while (s.d[fn]() > n) {\n      s.epoch -= halfStep;\n    } // 2nd time: did we change previous unit? revert it.\n\n\n    if (previous !== null && startUnit !== s.d[previous]()) {\n      // console.warn('spacetime warning: missed setting ' + unit)\n      s.epoch = original;\n    }\n  }; //find the desired date by a increment/check while loop\n\n\n  var units$3 = {\n    year: {\n      valid: function valid(n) {\n        return n > -4000 && n < 4000;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getFullYear', 'year', null);\n      }\n    },\n    month: {\n      valid: function valid(n) {\n        return n >= 0 && n <= 11;\n      },\n      walkTo: function walkTo(s, n) {\n        var d = s.d;\n        var current = d.getMonth();\n        var original = s.epoch;\n        var startUnit = d.getFullYear();\n\n        if (current === n) {\n          return;\n        } //try to get it as close as we can..\n\n\n        var diff = n - current;\n        s.epoch += milliseconds.day * (diff * 28); //special case\n        //oops, did we change the year? revert it.\n\n        if (startUnit !== s.d.getFullYear()) {\n          s.epoch = original;\n        } //increment by day\n\n\n        while (s.d.getMonth() < n) {\n          s.epoch += milliseconds.day;\n        }\n\n        while (s.d.getMonth() > n) {\n          s.epoch -= milliseconds.day;\n        }\n      }\n    },\n    date: {\n      valid: function valid(n) {\n        return n > 0 && n <= 31;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getDate', 'day', 'getMonth');\n      }\n    },\n    hour: {\n      valid: function valid(n) {\n        return n >= 0 && n < 24;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getHours', 'hour', 'getDate');\n      }\n    },\n    minute: {\n      valid: function valid(n) {\n        return n >= 0 && n < 60;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getMinutes', 'minute', 'getHours');\n      }\n    },\n    second: {\n      valid: function valid(n) {\n        return n >= 0 && n < 60;\n      },\n      walkTo: function walkTo(s, n) {\n        //do this one directly\n        s.epoch = s.seconds(n).epoch;\n      }\n    },\n    millisecond: {\n      valid: function valid(n) {\n        return n >= 0 && n < 1000;\n      },\n      walkTo: function walkTo(s, n) {\n        //do this one directly\n        s.epoch = s.milliseconds(n).epoch;\n      }\n    }\n  };\n\n  var walkTo = function walkTo(s, wants) {\n    var keys = Object.keys(units$3);\n    var old = s.clone();\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n      var n = wants[k];\n\n      if (n === undefined) {\n        n = old[k]();\n      }\n\n      if (typeof n === 'string') {\n        n = parseInt(n, 10);\n      } //make-sure it's valid\n\n\n      if (!units$3[k].valid(n)) {\n        s.epoch = null;\n\n        if (s.silent === false) {\n          console.warn('invalid ' + k + ': ' + n);\n        }\n\n        return;\n      }\n\n      units$3[k].walkTo(s, n);\n    }\n\n    return;\n  };\n\n  var walk_1 = walkTo;\n\n  var shortMonths = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sept', 'oct', 'nov', 'dec'];\n  var longMonths = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n\n  function buildMapping() {\n    var obj = {\n      sep: 8 //support this format\n\n    };\n\n    for (var i = 0; i < shortMonths.length; i++) {\n      obj[shortMonths[i]] = i;\n    }\n\n    for (var _i = 0; _i < longMonths.length; _i++) {\n      obj[longMonths[_i]] = _i;\n    }\n\n    return obj;\n  }\n\n  var months$1 = {\n    \"short\": function short() {\n      return shortMonths;\n    },\n    \"long\": function long() {\n      return longMonths;\n    },\n    mapping: function mapping() {\n      return buildMapping();\n    },\n    set: function set(i18n) {\n      shortMonths = i18n[\"short\"] || shortMonths;\n      longMonths = i18n[\"long\"] || longMonths;\n    }\n  };\n\n  //pull-apart ISO offsets, like \"+0100\"\n  var parseOffset = function parseOffset(s, offset) {\n    if (!offset) {\n      return s;\n    } //this is a fancy-move\n\n\n    if (offset === 'Z' || offset === 'z') {\n      offset = '+0000';\n    } // according to ISO8601, tz could be hh:mm, hhmm or hh\n    // so need few more steps before the calculation.\n\n\n    var num = 0; // for (+-)hh:mm\n\n    if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n      //support \"+01:00\"\n      if (/:00/.test(offset) === true) {\n        offset = offset.replace(/:00/, '');\n      } //support \"+01:30\"\n\n\n      if (/:30/.test(offset) === true) {\n        offset = offset.replace(/:30/, '.5');\n      }\n    } // for (+-)hhmm\n\n\n    if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n      offset = offset.replace(/30$/, '.5');\n    }\n\n    num = parseFloat(offset); //divide by 100 or 10 - , \"+0100\", \"+01\"\n\n    if (Math.abs(num) > 100) {\n      num = num / 100;\n    } //okay, try to match it to a utc timezone\n    //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n    //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n\n\n    num *= -1;\n\n    if (num >= 0) {\n      num = '+' + num;\n    }\n\n    var tz = 'etc/gmt' + num;\n    var zones = s.timezones;\n\n    if (zones[tz]) {\n      // log a warning if we're over-writing a given timezone?\n      // console.log('changing timezone to: ' + tz)\n      s.tz = tz;\n    }\n\n    return s;\n  };\n\n  var parseOffset_1 = parseOffset;\n\n  var parseTime = function parseTime(s) {\n    var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    str = str.replace(/^\\s+/, '').toLowerCase(); //trim\n    //formal time formats - 04:30.23\n\n    var arr = str.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\\.]?([0-9]{1,4})?/);\n\n    if (arr !== null) {\n      //validate it a little\n      var h = Number(arr[1]);\n\n      if (h < 0 || h > 24) {\n        return s.startOf('day');\n      }\n\n      var m = Number(arr[2]); //don't accept '5:3pm'\n\n      if (arr[2].length < 2 || m < 0 || m > 59) {\n        return s.startOf('day');\n      }\n\n      if (arr[4] > 999) {\n        // fix overflow issue with milliseconds, if input is longer than standard (e.g. 2017-08-06T09:00:00.123456Z)\n        arr[4] = parseInt(\"\".concat(arr[4]).substring(0, 3), 10);\n      }\n\n      s = s.hour(h);\n      s = s.minute(m);\n      s = s.seconds(arr[3] || 0);\n      s = s.millisecond(arr[4] || 0); //parse-out am/pm\n\n      var ampm = str.match(/[\\b0-9](am|pm)\\b/);\n\n      if (ampm !== null && ampm[1]) {\n        s = s.ampm(ampm[1]);\n      }\n\n      return s;\n    } //try an informal form - 5pm (no minutes)\n\n\n    arr = str.match(/([0-9]+) ?(am|pm)/);\n\n    if (arr !== null && arr[1]) {\n      var _h = Number(arr[1]); //validate it a little..\n\n\n      if (_h > 12 || _h < 1) {\n        return s.startOf('day');\n      }\n\n      s = s.hour(arr[1] || 0);\n      s = s.ampm(arr[2]);\n      s = s.startOf('hour');\n      return s;\n    } //no time info found, use start-of-day\n\n\n    s = s.startOf('day');\n    return s;\n  };\n\n  var parseTime_1 = parseTime;\n\n  var monthLengths = [31, // January - 31 days\n  28, // February - 28 days in a common year and 29 days in leap years\n  31, // March - 31 days\n  30, // April - 30 days\n  31, // May - 31 days\n  30, // June - 30 days\n  31, // July - 31 days\n  31, // August - 31 days\n  30, // September - 30 days\n  31, // October - 31 days\n  30, // November - 30 days\n  31 // December - 31 days\n  ];\n  var monthLengths_1 = monthLengths; // 28 - feb\n\n  var fns = createCommonjsModule(function (module, exports) {\n    //git:blame @JuliasCaesar https://www.timeanddate.com/date/leapyear.html\n    exports.isLeapYear = function (year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    }; // unsurprisingly-nasty `typeof date` call\n\n\n    exports.isDate = function (d) {\n      return Object.prototype.toString.call(d) === '[object Date]' && !isNaN(d.valueOf());\n    };\n\n    exports.isArray = function (input) {\n      return Object.prototype.toString.call(input) === '[object Array]';\n    };\n\n    exports.isObject = function (input) {\n      return Object.prototype.toString.call(input) === '[object Object]';\n    };\n\n    exports.isBoolean = function (input) {\n      return Object.prototype.toString.call(input) === '[object Boolean]';\n    };\n\n    exports.zeroPad = function (str) {\n      var len = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var pad = '0';\n      str = str + '';\n      return str.length >= len ? str : new Array(len - str.length + 1).join(pad) + str;\n    };\n\n    exports.titleCase = function (str) {\n      if (!str) {\n        return '';\n      }\n\n      return str[0].toUpperCase() + str.substr(1);\n    };\n\n    exports.ordinal = function (i) {\n      var j = i % 10;\n      var k = i % 100;\n\n      if (j === 1 && k !== 11) {\n        return i + 'st';\n      }\n\n      if (j === 2 && k !== 12) {\n        return i + 'nd';\n      }\n\n      if (j === 3 && k !== 13) {\n        return i + 'rd';\n      }\n\n      return i + 'th';\n    }; //strip 'st' off '1st'..\n\n\n    exports.toCardinal = function (str) {\n      str = String(str);\n      str = str.replace(/([0-9])(st|nd|rd|th)$/i, '$1');\n      return parseInt(str, 10);\n    }; //used mostly for cleanup of unit names, like 'months'\n\n\n    exports.normalize = function () {\n      var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      str = str.toLowerCase().trim();\n      str = str.replace(/ies$/, 'y'); //'centuries'\n\n      str = str.replace(/s$/, '');\n      str = str.replace(/-/g, '');\n\n      if (str === 'day' || str === 'days') {\n        return 'date';\n      }\n\n      if (str === 'min' || str === 'mins') {\n        return 'minute';\n      }\n\n      return str;\n    };\n\n    exports.getEpoch = function (tmp) {\n      //support epoch\n      if (typeof tmp === 'number') {\n        return tmp;\n      } //suport date objects\n\n\n      if (exports.isDate(tmp)) {\n        return tmp.getTime();\n      }\n\n      if (tmp.epoch) {\n        return tmp.epoch;\n      }\n\n      return null;\n    }; //make sure this input is a spacetime obj\n\n\n    exports.beADate = function (d, s) {\n      if (exports.isObject(d) === false) {\n        return s.clone().set(d);\n      }\n\n      return d;\n    };\n\n    exports.formatTimezone = function (offset) {\n      var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var sign = offset > 0 ? '+' : '-';\n      var absOffset = Math.abs(offset);\n      var hours = exports.zeroPad(parseInt('' + absOffset, 10));\n      var minutes = exports.zeroPad(absOffset % 1 * 60);\n      return \"\".concat(sign).concat(hours).concat(delimiter).concat(minutes);\n    };\n  });\n  fns.isLeapYear;\n  fns.isDate;\n  fns.isArray;\n  fns.isObject;\n  fns.isBoolean;\n  fns.zeroPad;\n  fns.titleCase;\n  fns.ordinal;\n  fns.toCardinal;\n  fns.normalize;\n  fns.getEpoch;\n  fns.beADate;\n  fns.formatTimezone;\n\n  var isLeapYear$2 = fns.isLeapYear; //given a month, return whether day number exists in it\n\n  var hasDate = function hasDate(obj) {\n    //invalid values\n    if (monthLengths_1.hasOwnProperty(obj.month) !== true) {\n      return false;\n    } //support leap-year in february\n\n\n    if (obj.month === 1) {\n      if (isLeapYear$2(obj.year) && obj.date <= 29) {\n        return true;\n      } else {\n        return obj.date <= 28;\n      }\n    } //is this date too-big for this month?\n\n\n    var max = monthLengths_1[obj.month] || 0;\n\n    if (obj.date <= max) {\n      return true;\n    }\n\n    return false;\n  };\n\n  var hasDate_1 = hasDate;\n\n  var months = months$1.mapping();\n\n  var parseYear = function parseYear() {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var today = arguments.length > 1 ? arguments[1] : undefined;\n    var year = parseInt(str.trim(), 10); // use a given year from options.today\n\n    if (!year && today) {\n      year = today.year;\n    } // fallback to this year\n\n\n    year = year || new Date().getFullYear();\n    return year;\n  };\n\n  var strFmt = [//iso-this 1998-05-30T22:00:00:000Z, iso-that 2017-04-03T08:00:00-0700\n  {\n    reg: /^(\\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\\-\\+:]+)?$/i,\n    parse: function parse(s, arr, givenTz, options) {\n      var month = parseInt(arr[2], 10) - 1;\n      var obj = {\n        year: arr[1],\n        month: month,\n        date: arr[3]\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      parseOffset_1(s, arr[5]);\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //iso \"2015-03-25\" or \"2015/03/25\" or \"2015/03/25 12:26:14 PM\"\n  {\n    reg: /^([0-9]{4})[\\-\\/.]([0-9]{1,2})[\\-\\/.]([0-9]{1,2}),?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var obj = {\n        year: arr[1],\n        month: parseInt(arr[2], 10) - 1,\n        date: parseInt(arr[3], 10)\n      };\n\n      if (obj.month >= 12) {\n        //support yyyy/dd/mm (weird, but ok)\n        obj.date = parseInt(arr[2], 10);\n        obj.month = parseInt(arr[3], 10) - 1;\n      }\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //mm/dd/yyyy - uk/canada \"6/28/2019, 12:26:14 PM\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/.]([0-9]{1,2})[\\-\\/.]?([0-9]{4})?,?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var month = parseInt(arr[1], 10) - 1;\n      var date = parseInt(arr[2], 10); //support dd/mm/yyy\n\n      if (s.british || month >= 12) {\n        date = parseInt(arr[1], 10);\n        month = parseInt(arr[2], 10) - 1;\n      }\n\n      var year = parseYear(arr[3], s._today) || new Date().getFullYear();\n      var obj = {\n        year: year,\n        month: month,\n        date: date\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, // '2012-06' last attempt at iso-like format\n  {\n    reg: /^([0-9]{4})[\\-\\/]([0-9]{2})$/i,\n    parse: function parse(s, arr, givenTz, options) {\n      var month = parseInt(arr[2], 10) - 1;\n      var obj = {\n        year: arr[1],\n        month: month,\n        date: 1\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      parseOffset_1(s, arr[5]);\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //common british format - \"25-feb-2015\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/]([a-z]+)[\\-\\/]?([0-9]{4})?$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[2].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[1] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //alt short format - \"feb-25-2015\"\n  {\n    reg: /^([a-z]+)[\\-\\/]([0-9]{1,2})[\\-\\/]?([0-9]{4})?$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[1].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[2] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //Long \"Mar 25 2015\"\n  //February 22, 2017 15:30:00\n  {\n    reg: /^([a-z]+) ([0-9]{1,2}(?:st|nd|rd|th)?),?( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[1].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[2] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //February 2017 (implied date)\n  {\n    reg: /^([a-z]+) ([0-9]{4})$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[1].toLowerCase()];\n      var year = parseYear(arr[2], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: s._today.date || 1\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //Long \"25 Mar 2015\"\n  {\n    reg: /^([0-9]{1,2}(?:st|nd|rd|th)?) ([a-z]+),?( [0-9]{4})?,? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var month = months[arr[2].toLowerCase()];\n\n      if (!month) {\n        return null;\n      }\n\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[1])\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, {\n    // 'q2 2002'\n    reg: /^(q[0-9])( of)?( [0-9]{4})?/i,\n    parse: function parse(s, arr) {\n      var quarter = arr[1] || '';\n      s = s.quarter(quarter);\n      var year = arr[3] || '';\n\n      if (year) {\n        year = year.trim();\n        s = s.year(year);\n      }\n\n      return s;\n    }\n  }, {\n    // 'summer 2002'\n    reg: /^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,\n    parse: function parse(s, arr) {\n      var season = arr[1] || '';\n      s = s.season(season);\n      var year = arr[3] || '';\n\n      if (year) {\n        year = year.trim();\n        s = s.year(year);\n      }\n\n      return s;\n    }\n  }, {\n    // '200bc'\n    reg: /^[0-9,]+ ?b\\.?c\\.?$/i,\n    parse: function parse(s, arr) {\n      var str = arr[0] || ''; //make negative-year\n\n      str = str.replace(/^([0-9,]+) ?b\\.?c\\.?$/i, '-$1'); //remove commas\n\n      str = str.replace(/,/g, '');\n      var year = parseInt(str.trim(), 10);\n      var d = new Date();\n      var obj = {\n        year: year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }, {\n    // '200ad'\n    reg: /^[0-9,]+ ?(a\\.?d\\.?|c\\.?e\\.?)$/i,\n    parse: function parse(s, arr) {\n      var str = arr[0] || ''; //remove commas\n\n      str = str.replace(/,/g, '');\n      var year = parseInt(str.trim(), 10);\n      var d = new Date();\n      var obj = {\n        year: year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }, {\n    // '1992'\n    reg: /^[0-9]{4}( ?a\\.?d\\.?)?$/i,\n    parse: function parse(s, arr) {\n      var today = s._today;\n      var year = parseYear(arr[0], today);\n      var d = new Date(); // using today's date, but a new month is awkward.\n\n      if (today.month && !today.date) {\n        today.date = 1;\n      }\n\n      var obj = {\n        year: year,\n        month: today.month || d.getMonth(),\n        date: today.date || d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }];\n  var strParse = strFmt;\n\n  // pull in 'today' data for the baseline moment\n  var getNow = function getNow(s) {\n    s.epoch = Date.now();\n    Object.keys(s._today || {}).forEach(function (k) {\n      if (typeof s[k] === 'function') {\n        s = s[k](s._today[k]);\n      }\n    });\n    return s;\n  };\n\n  var dates = {\n    now: function now(s) {\n      return getNow(s);\n    },\n    today: function today(s) {\n      return getNow(s);\n    },\n    tonight: function tonight(s) {\n      s = getNow(s);\n      s = s.hour(18); //6pm\n\n      return s;\n    },\n    tomorrow: function tomorrow(s) {\n      s = getNow(s);\n      s = s.add(1, 'day');\n      s = s.startOf('day');\n      return s;\n    },\n    yesterday: function yesterday(s) {\n      s = getNow(s);\n      s = s.subtract(1, 'day');\n      s = s.startOf('day');\n      return s;\n    },\n    christmas: function christmas(s) {\n      var year = getNow(s).year();\n      s = s.set([year, 11, 25, 18, 0, 0]); // Dec 25\n\n      return s;\n    },\n    'new years': function newYears(s) {\n      var year = getNow(s).year();\n      s = s.set([year, 11, 31, 18, 0, 0]); // Dec 31\n\n      return s;\n    }\n  };\n  dates['new years eve'] = dates['new years'];\n  var namedDates = dates;\n\n  //  -  can't use built-in js parser ;(\n  //=========================================\n  // ISO Date\t  \"2015-03-25\"\n  // Short Date\t\"03/25/2015\" or \"2015/03/25\"\n  // Long Date\t\"Mar 25 2015\" or \"25 Mar 2015\"\n  // Full Date\t\"Wednesday March 25 2015\"\n  //=========================================\n  //-- also -\n  // if the given epoch is really small, they've probably given seconds and not milliseconds\n  // anything below this number is likely (but not necessarily) a mistaken input.\n  // this may seem like an arbitrary number, but it's 'within jan 1970'\n  // this is only really ambiguous until 2054 or so\n\n  var minimumEpoch = 2500000000;\n  var defaults = {\n    year: new Date().getFullYear(),\n    month: 0,\n    date: 1\n  }; //support [2016, 03, 01] format\n\n  var handleArray = function handleArray(s, arr, today) {\n    if (arr.length === 0) {\n      return s;\n    }\n\n    var order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond'];\n\n    for (var i = 0; i < order.length; i++) {\n      var num = arr[i] || today[order[i]] || defaults[order[i]] || 0;\n      s = s[order[i]](num);\n    }\n\n    return s;\n  }; //support {year:2016, month:3} format\n\n\n  var handleObject = function handleObject(s, obj, today) {\n    // if obj is empty, do nothing\n    if (Object.keys(obj).length === 0) {\n      return s;\n    }\n\n    obj = Object.assign({}, defaults, today, obj);\n    var keys = Object.keys(obj);\n\n    for (var i = 0; i < keys.length; i++) {\n      var unit = keys[i]; //make sure we have this method\n\n      if (s[unit] === undefined || typeof s[unit] !== 'function') {\n        continue;\n      } //make sure the value is a number\n\n\n      if (obj[unit] === null || obj[unit] === undefined || obj[unit] === '') {\n        continue;\n      }\n\n      var num = obj[unit] || today[unit] || defaults[unit] || 0;\n      s = s[unit](num);\n    }\n\n    return s;\n  }; //find the epoch from different input styles\n\n\n  var parseInput = function parseInput(s, input, givenTz) {\n    var today = s._today || defaults; //if we've been given a epoch number, it's easy\n\n    if (typeof input === 'number') {\n      if (input > 0 && input < minimumEpoch && s.silent === false) {\n        console.warn('  - Warning: You are setting the date to January 1970.');\n        console.warn('       -   did input seconds instead of milliseconds?');\n      }\n\n      s.epoch = input;\n      return s;\n    } //set tmp time\n\n\n    s.epoch = Date.now(); // overwrite tmp time with 'today' value, if exists\n\n    if (s._today && fns.isObject(s._today) && Object.keys(s._today).length > 0) {\n      var res = handleObject(s, today, defaults);\n\n      if (res.isValid()) {\n        s.epoch = res.epoch;\n      }\n    } // null input means 'now'\n\n\n    if (input === null || input === undefined || input === '') {\n      return s; //k, we're good.\n    } //support input of Date() object\n\n\n    if (fns.isDate(input) === true) {\n      s.epoch = input.getTime();\n      return s;\n    } //support [2016, 03, 01] format\n\n\n    if (fns.isArray(input) === true) {\n      s = handleArray(s, input, today);\n      return s;\n    } //support {year:2016, month:3} format\n\n\n    if (fns.isObject(input) === true) {\n      //support spacetime object as input\n      if (input.epoch) {\n        s.epoch = input.epoch;\n        s.tz = input.tz;\n        return s;\n      }\n\n      s = handleObject(s, input, today);\n      return s;\n    } //input as a string..\n\n\n    if (typeof input !== 'string') {\n      return s;\n    } //little cleanup..\n\n\n    input = input.replace(/\\b(mon|tues|wed|wednes|thu|thurs|fri|sat|satur|sun)(day)?\\b/i, '');\n    input = input.replace(/,/g, '');\n    input = input.replace(/ +/g, ' ').trim(); //try some known-words, like 'now'\n\n    if (namedDates.hasOwnProperty(input) === true) {\n      s = namedDates[input](s);\n      return s;\n    } //try each text-parse template, use the first good result\n\n\n    for (var i = 0; i < strParse.length; i++) {\n      var m = input.match(strParse[i].reg);\n\n      if (m) {\n        // console.log(strFmt[i].reg)\n        var _res = strParse[i].parse(s, m, givenTz);\n\n        if (_res !== null && _res.isValid()) {\n          return _res;\n        }\n      }\n    }\n\n    if (s.silent === false) {\n      console.warn(\"Warning: couldn't parse date-string: '\" + input + \"'\");\n    }\n\n    s.epoch = null;\n    return s;\n  };\n\n  var input = parseInput;\n\n  var shortDays = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n  var longDays = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n  var days = {\n    \"short\": function short() {\n      return shortDays;\n    },\n    \"long\": function long() {\n      return longDays;\n    },\n    set: function set(i18n) {\n      shortDays = i18n[\"short\"] || shortDays;\n      longDays = i18n[\"long\"] || longDays;\n    },\n    aliases: {\n      mo: 1,\n      tu: 2,\n      we: 3,\n      th: 4,\n      fr: 5,\n      sa: 6,\n      su: 7,\n      tues: 2,\n      weds: 3,\n      wedn: 3,\n      thur: 4,\n      thurs: 4\n    }\n  };\n\n  var titleCaseEnabled = true;\n  var caseFormat = {\n    useTitleCase: function useTitleCase() {\n      return titleCaseEnabled;\n    },\n    set: function set(useTitleCase) {\n      titleCaseEnabled = useTitleCase;\n    }\n  };\n\n  // it's kind of nuts how involved this is\n  // \"+01:00\", \"+0100\", or simply \"+01\"\n\n  var isoOffset = function isoOffset(s) {\n    var offset = s.timezone().current.offset;\n    return !offset ? 'Z' : fns.formatTimezone(offset, ':');\n  };\n\n  var _offset = isoOffset;\n\n  var applyCaseFormat = function applyCaseFormat(str) {\n    if (caseFormat.useTitleCase()) {\n      return fns.titleCase(str);\n    }\n\n    return str;\n  };\n\n  var format = {\n    day: function day(s) {\n      return applyCaseFormat(s.dayName());\n    },\n    'day-short': function dayShort(s) {\n      return applyCaseFormat(days[\"short\"]()[s.day()]);\n    },\n    'day-number': function dayNumber(s) {\n      return s.day();\n    },\n    'day-ordinal': function dayOrdinal(s) {\n      return fns.ordinal(s.day());\n    },\n    'day-pad': function dayPad(s) {\n      return fns.zeroPad(s.day());\n    },\n    date: function date(s) {\n      return s.date();\n    },\n    'date-ordinal': function dateOrdinal(s) {\n      return fns.ordinal(s.date());\n    },\n    'date-pad': function datePad(s) {\n      return fns.zeroPad(s.date());\n    },\n    month: function month(s) {\n      return applyCaseFormat(s.monthName());\n    },\n    'month-short': function monthShort(s) {\n      return applyCaseFormat(months$1[\"short\"]()[s.month()]);\n    },\n    'month-number': function monthNumber(s) {\n      return s.month();\n    },\n    'month-ordinal': function monthOrdinal(s) {\n      return fns.ordinal(s.month());\n    },\n    'month-pad': function monthPad(s) {\n      return fns.zeroPad(s.month());\n    },\n    'iso-month': function isoMonth(s) {\n      return fns.zeroPad(s.month() + 1);\n    },\n    //1-based months\n    year: function year(s) {\n      var year = s.year();\n\n      if (year > 0) {\n        return year;\n      }\n\n      year = Math.abs(year);\n      return year + ' BC';\n    },\n    'year-short': function yearShort(s) {\n      var year = s.year();\n\n      if (year > 0) {\n        return \"'\".concat(String(s.year()).substr(2, 4));\n      }\n\n      year = Math.abs(year);\n      return year + ' BC';\n    },\n    'iso-year': function isoYear(s) {\n      var year = s.year();\n      var isNegative = year < 0;\n      var str = fns.zeroPad(Math.abs(year), 4); //0-padded\n\n      if (isNegative) {\n        //negative years are for some reason 6-digits ('-00008')\n        str = fns.zeroPad(str, 6);\n        str = '-' + str;\n      }\n\n      return str;\n    },\n    time: function time(s) {\n      return s.time();\n    },\n    'time-24': function time24(s) {\n      return \"\".concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    },\n    hour: function hour(s) {\n      return s.hour12();\n    },\n    'hour-pad': function hourPad(s) {\n      return fns.zeroPad(s.hour12());\n    },\n    'hour-24': function hour24(s) {\n      return s.hour24();\n    },\n    'hour-24-pad': function hour24Pad(s) {\n      return fns.zeroPad(s.hour24());\n    },\n    minute: function minute(s) {\n      return s.minute();\n    },\n    'minute-pad': function minutePad(s) {\n      return fns.zeroPad(s.minute());\n    },\n    second: function second(s) {\n      return s.second();\n    },\n    'second-pad': function secondPad(s) {\n      return fns.zeroPad(s.second());\n    },\n    ampm: function ampm(s) {\n      return s.ampm();\n    },\n    quarter: function quarter(s) {\n      return 'Q' + s.quarter();\n    },\n    season: function season(s) {\n      return s.season();\n    },\n    era: function era(s) {\n      return s.era();\n    },\n    json: function json(s) {\n      return s.json();\n    },\n    timezone: function timezone(s) {\n      return s.timezone().name;\n    },\n    offset: function offset(s) {\n      return _offset(s);\n    },\n    numeric: function numeric(s) {\n      return \"\".concat(s.year(), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n    },\n    // yyyy/mm/dd\n    'numeric-us': function numericUs(s) {\n      return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()), \"/\").concat(s.year());\n    },\n    // mm/dd/yyyy\n    'numeric-uk': function numericUk(s) {\n      return \"\".concat(fns.zeroPad(s.date()), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(s.year());\n    },\n    //dd/mm/yyyy\n    'mm/dd': function mmDd(s) {\n      return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n    },\n    //mm/dd\n    // ... https://en.wikipedia.org/wiki/ISO_8601 ;(((\n    iso: function iso(s) {\n      var year = s.format('iso-year');\n      var month = fns.zeroPad(s.month() + 1); //1-based months\n\n      var date = fns.zeroPad(s.date());\n      var hour = fns.zeroPad(s.h24());\n      var minute = fns.zeroPad(s.minute());\n      var second = fns.zeroPad(s.second());\n      var ms = fns.zeroPad(s.millisecond(), 3);\n      var offset = _offset(s);\n      return \"\".concat(year, \"-\").concat(month, \"-\").concat(date, \"T\").concat(hour, \":\").concat(minute, \":\").concat(second, \".\").concat(ms).concat(offset); //2018-03-09T08:50:00.000-05:00\n    },\n    'iso-short': function isoShort(s) {\n      var month = fns.zeroPad(s.month() + 1); //1-based months\n\n      var date = fns.zeroPad(s.date());\n      return \"\".concat(s.year(), \"-\").concat(month, \"-\").concat(date); //2017-02-15\n    },\n    'iso-utc': function isoUtc(s) {\n      return new Date(s.epoch).toISOString(); //2017-03-08T19:45:28.367Z\n    },\n    //i made these up\n    nice: function nice(s) {\n      return \"\".concat(months$1[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n    },\n    'nice-24': function nice24(s) {\n      return \"\".concat(months$1[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    },\n    'nice-year': function niceYear(s) {\n      return \"\".concat(months$1[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.year());\n    },\n    'nice-day': function niceDay(s) {\n      return \"\".concat(days[\"short\"]()[s.day()], \" \").concat(applyCaseFormat(months$1[\"short\"]()[s.month()]), \" \").concat(fns.ordinal(s.date()));\n    },\n    'nice-full': function niceFull(s) {\n      return \"\".concat(s.dayName(), \" \").concat(applyCaseFormat(s.monthName()), \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n    },\n    'nice-full-24': function niceFull24(s) {\n      return \"\".concat(s.dayName(), \" \").concat(applyCaseFormat(s.monthName()), \" \").concat(fns.ordinal(s.date()), \", \").concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    }\n  }; //aliases\n\n  var aliases = {\n    'day-name': 'day',\n    'month-name': 'month',\n    'iso 8601': 'iso',\n    'time-h24': 'time-24',\n    'time-12': 'time',\n    'time-h12': 'time',\n    tz: 'timezone',\n    'day-num': 'day-number',\n    'month-num': 'month-number',\n    'month-iso': 'iso-month',\n    'year-iso': 'iso-year',\n    'nice-short': 'nice',\n    'nice-short-24': 'nice-24',\n    mdy: 'numeric-us',\n    dmy: 'numeric-uk',\n    ymd: 'numeric',\n    'yyyy/mm/dd': 'numeric',\n    'mm/dd/yyyy': 'numeric-us',\n    'dd/mm/yyyy': 'numeric-us',\n    'little-endian': 'numeric-uk',\n    'big-endian': 'numeric',\n    'day-nice': 'nice-day'\n  };\n  Object.keys(aliases).forEach(function (k) {\n    return format[k] = format[aliases[k]];\n  });\n\n  var printFormat = function printFormat(s) {\n    var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    //don't print anything if it's an invalid date\n    if (s.isValid() !== true) {\n      return '';\n    } //support .format('month')\n\n\n    if (format.hasOwnProperty(str)) {\n      var out = format[str](s) || '';\n\n      if (str !== 'json') {\n        out = String(out);\n\n        if (str !== 'ampm') {\n          out = applyCaseFormat(out);\n        }\n      }\n\n      return out;\n    } //support '{hour}:{minute}' notation\n\n\n    if (str.indexOf('{') !== -1) {\n      var sections = /\\{(.+?)\\}/g;\n      str = str.replace(sections, function (_, fmt) {\n        fmt = fmt.toLowerCase().trim();\n\n        if (format.hasOwnProperty(fmt)) {\n          var _out = String(format[fmt](s));\n\n          if (fmt !== 'ampm') {\n            return applyCaseFormat(_out);\n          }\n\n          return _out;\n        }\n\n        return '';\n      });\n      return str;\n    }\n\n    return s.format('iso-short');\n  };\n\n  var format_1 = printFormat;\n\n  var pad = fns.zeroPad;\n  var formatTimezone = fns.formatTimezone; //parse this insane unix-time-templating thing, from the 19th century\n  //http://unicode.org/reports/tr35/tr35-25.html#Date_Format_Patterns\n  //time-symbols we support\n\n  var mapping = {\n    G: function G(s) {\n      return s.era();\n    },\n    GG: function GG(s) {\n      return s.era();\n    },\n    GGG: function GGG(s) {\n      return s.era();\n    },\n    GGGG: function GGGG(s) {\n      return s.era() === 'AD' ? 'Anno Domini' : 'Before Christ';\n    },\n    //year\n    y: function y(s) {\n      return s.year();\n    },\n    yy: function yy(s) {\n      //last two chars\n      return parseInt(String(s.year()).substr(2, 4), 10);\n    },\n    yyy: function yyy(s) {\n      return s.year();\n    },\n    yyyy: function yyyy(s) {\n      return s.year();\n    },\n    yyyyy: function yyyyy(s) {\n      return '0' + s.year();\n    },\n    // u: (s) => {},//extended non-gregorian years\n    //quarter\n    Q: function Q(s) {\n      return s.quarter();\n    },\n    QQ: function QQ(s) {\n      return s.quarter();\n    },\n    QQQ: function QQQ(s) {\n      return s.quarter();\n    },\n    QQQQ: function QQQQ(s) {\n      return s.quarter();\n    },\n    //month\n    M: function M(s) {\n      return s.month() + 1;\n    },\n    MM: function MM(s) {\n      return pad(s.month() + 1);\n    },\n    MMM: function MMM(s) {\n      return s.format('month-short');\n    },\n    MMMM: function MMMM(s) {\n      return s.format('month');\n    },\n    //week\n    w: function w(s) {\n      return s.week();\n    },\n    ww: function ww(s) {\n      return pad(s.week());\n    },\n    //week of month\n    // W: (s) => s.week(),\n    //date of month\n    d: function d(s) {\n      return s.date();\n    },\n    dd: function dd(s) {\n      return pad(s.date());\n    },\n    //date of year\n    D: function D(s) {\n      return s.dayOfYear();\n    },\n    DD: function DD(s) {\n      return pad(s.dayOfYear());\n    },\n    DDD: function DDD(s) {\n      return pad(s.dayOfYear(), 3);\n    },\n    // F: (s) => {},//date of week in month\n    // g: (s) => {},//modified julian day\n    //day\n    E: function E(s) {\n      return s.format('day-short');\n    },\n    EE: function EE(s) {\n      return s.format('day-short');\n    },\n    EEE: function EEE(s) {\n      return s.format('day-short');\n    },\n    EEEE: function EEEE(s) {\n      return s.format('day');\n    },\n    EEEEE: function EEEEE(s) {\n      return s.format('day')[0];\n    },\n    e: function e(s) {\n      return s.day();\n    },\n    ee: function ee(s) {\n      return s.day();\n    },\n    eee: function eee(s) {\n      return s.format('day-short');\n    },\n    eeee: function eeee(s) {\n      return s.format('day');\n    },\n    eeeee: function eeeee(s) {\n      return s.format('day')[0];\n    },\n    //am/pm\n    a: function a(s) {\n      return s.ampm().toUpperCase();\n    },\n    aa: function aa(s) {\n      return s.ampm().toUpperCase();\n    },\n    aaa: function aaa(s) {\n      return s.ampm().toUpperCase();\n    },\n    aaaa: function aaaa(s) {\n      return s.ampm().toUpperCase();\n    },\n    //hour\n    h: function h(s) {\n      return s.h12();\n    },\n    hh: function hh(s) {\n      return pad(s.h12());\n    },\n    H: function H(s) {\n      return s.hour();\n    },\n    HH: function HH(s) {\n      return pad(s.hour());\n    },\n    // j: (s) => {},//weird hour format\n    m: function m(s) {\n      return s.minute();\n    },\n    mm: function mm(s) {\n      return pad(s.minute());\n    },\n    s: function s(_s) {\n      return _s.second();\n    },\n    ss: function ss(s) {\n      return pad(s.second());\n    },\n    //milliseconds in the day\n    A: function A(s) {\n      return s.epoch - s.startOf('day').epoch;\n    },\n    //timezone\n    z: function z(s) {\n      return s.timezone().name;\n    },\n    zz: function zz(s) {\n      return s.timezone().name;\n    },\n    zzz: function zzz(s) {\n      return s.timezone().name;\n    },\n    zzzz: function zzzz(s) {\n      return s.timezone().name;\n    },\n    Z: function Z(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZ: function ZZ(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZZ: function ZZZ(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZZZ: function ZZZZ(s) {\n      return formatTimezone(s.timezone().current.offset, ':');\n    }\n  };\n\n  var addAlias = function addAlias(_char, to, n) {\n    var name = _char;\n    var toName = to;\n\n    for (var i = 0; i < n; i += 1) {\n      mapping[name] = mapping[toName];\n      name += _char;\n      toName += to;\n    }\n  };\n\n  addAlias('q', 'Q', 4);\n  addAlias('L', 'M', 4);\n  addAlias('Y', 'y', 4);\n  addAlias('c', 'e', 4);\n  addAlias('k', 'H', 2);\n  addAlias('K', 'h', 2);\n  addAlias('S', 's', 2);\n  addAlias('v', 'z', 4);\n  addAlias('V', 'Z', 4); // support unix-style escaping with ' character\n\n  var escapeChars = function escapeChars(arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (arr[i] === \"'\") {\n        // greedy-search for next apostrophe\n        for (var o = i + 1; o < arr.length; o += 1) {\n          if (arr[o]) {\n            arr[i] += arr[o];\n          }\n\n          if (arr[o] === \"'\") {\n            arr[o] = null;\n            break;\n          }\n\n          arr[o] = null;\n        }\n      }\n    }\n\n    return arr.filter(function (ch) {\n      return ch;\n    });\n  }; //combine consecutive chars, like 'yyyy' as one.\n\n\n  var combineRepeated = function combineRepeated(arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n      var c = arr[i]; // greedy-forward\n\n      for (var o = i + 1; o < arr.length; o += 1) {\n        if (arr[o] === c) {\n          arr[i] += arr[o];\n          arr[o] = null;\n        } else {\n          break;\n        }\n      }\n    } // '' means one apostrophe\n\n\n    arr = arr.filter(function (ch) {\n      return ch;\n    });\n    arr = arr.map(function (str) {\n      if (str === \"''\") {\n        str = \"'\";\n      }\n\n      return str;\n    });\n    return arr;\n  };\n\n  var unixFmt = function unixFmt(s, str) {\n    var arr = str.split(''); // support character escaping\n\n    arr = escapeChars(arr); //combine 'yyyy' as string.\n\n    arr = combineRepeated(arr);\n    return arr.reduce(function (txt, c) {\n      if (mapping[c] !== undefined) {\n        txt += mapping[c](s) || '';\n      } else {\n        // 'unescape'\n        if (/^'.{1,}'$/.test(c)) {\n          c = c.replace(/'/g, '');\n        }\n\n        txt += c;\n      }\n\n      return txt;\n    }, '');\n  };\n\n  var unixFmt_1 = unixFmt;\n\n  var units$2 = ['year', 'season', 'quarter', 'month', 'week', 'day', 'quarterHour', 'hour', 'minute'];\n\n  var doUnit = function doUnit(s, k) {\n    var start = s.clone().startOf(k);\n    var end = s.clone().endOf(k);\n    var duration = end.epoch - start.epoch;\n    var percent = (s.epoch - start.epoch) / duration;\n    return parseFloat(percent.toFixed(2));\n  }; //how far it is along, from 0-1\n\n\n  var progress = function progress(s, unit) {\n    if (unit) {\n      unit = fns.normalize(unit);\n      return doUnit(s, unit);\n    }\n\n    var obj = {};\n    units$2.forEach(function (k) {\n      obj[k] = doUnit(s, k);\n    });\n    return obj;\n  };\n\n  var progress_1 = progress;\n\n  var nearest = function nearest(s, unit) {\n    //how far have we gone?\n    var prog = s.progress();\n    unit = fns.normalize(unit); //fix camel-case for this one\n\n    if (unit === 'quarterhour') {\n      unit = 'quarterHour';\n    }\n\n    if (prog[unit] !== undefined) {\n      // go forward one?\n      if (prog[unit] > 0.5) {\n        s = s.add(1, unit);\n      } // go to start\n\n\n      s = s.startOf(unit);\n    } else if (s.silent === false) {\n      console.warn(\"no known unit '\" + unit + \"'\");\n    }\n\n    return s;\n  };\n\n  var nearest_1 = nearest;\n\n  //increment until dates are the same\n  var climb = function climb(a, b, unit) {\n    var i = 0;\n    a = a.clone();\n\n    while (a.isBefore(b)) {\n      //do proper, expensive increment to catch all-the-tricks\n      a = a.add(1, unit);\n      i += 1;\n    } //oops, we went too-far..\n\n\n    if (a.isAfter(b, unit)) {\n      i -= 1;\n    }\n\n    return i;\n  }; // do a thurough +=1 on the unit, until they match\n  // for speed-reasons, only used on day, month, week.\n\n\n  var diffOne = function diffOne(a, b, unit) {\n    if (a.isBefore(b)) {\n      return climb(a, b, unit);\n    } else {\n      return climb(b, a, unit) * -1; //reverse it\n    }\n  };\n\n  var one = diffOne;\n\n  // 2020 - 2019 may be 1 year, or 0 years\n  // - '1 year difference' means 366 days during a leap year\n\n  var fastYear = function fastYear(a, b) {\n    var years = b.year() - a.year(); // should we decrement it by 1?\n\n    a = a.year(b.year());\n\n    if (a.isAfter(b)) {\n      years -= 1;\n    }\n\n    return years;\n  }; // use a waterfall-method for computing a diff of any 'pre-knowable' units\n  // compute years, then compute months, etc..\n  // ... then ms-math for any very-small units\n\n\n  var diff$1 = function diff(a, b) {\n    // an hour is always the same # of milliseconds\n    // so these units can be 'pre-calculated'\n    var msDiff = b.epoch - a.epoch;\n    var obj = {\n      milliseconds: msDiff,\n      seconds: parseInt(msDiff / 1000, 10)\n    };\n    obj.minutes = parseInt(obj.seconds / 60, 10);\n    obj.hours = parseInt(obj.minutes / 60, 10); //do the year\n\n    var tmp = a.clone();\n    obj.years = fastYear(tmp, b);\n    tmp = a.add(obj.years, 'year'); //there's always 12 months in a year...\n\n    obj.months = obj.years * 12;\n    tmp = a.add(obj.months, 'month');\n    obj.months += one(tmp, b, 'month'); // there's always atleast 52 weeks in a year..\n    // (month * 4) isn't as close\n\n    obj.weeks = obj.years * 52;\n    tmp = a.add(obj.weeks, 'week');\n    obj.weeks += one(tmp, b, 'week'); // there's always atleast 7 days in a week\n\n    obj.days = obj.weeks * 7;\n    tmp = a.add(obj.days, 'day');\n    obj.days += one(tmp, b, 'day');\n    return obj;\n  };\n\n  var waterfall = diff$1;\n\n  var reverseDiff = function reverseDiff(obj) {\n    Object.keys(obj).forEach(function (k) {\n      obj[k] *= -1;\n    });\n    return obj;\n  }; // this method counts a total # of each unit, between a, b.\n  // '1 month' means 28 days in february\n  // '1 year' means 366 days in a leap year\n\n\n  var main$1 = function main(a, b, unit) {\n    b = fns.beADate(b, a); //reverse values, if necessary\n\n    var reversed = false;\n\n    if (a.isAfter(b)) {\n      var tmp = a;\n      a = b;\n      b = tmp;\n      reversed = true;\n    } //compute them all (i know!)\n\n\n    var obj = waterfall(a, b);\n\n    if (reversed) {\n      obj = reverseDiff(obj);\n    } //return just the requested unit\n\n\n    if (unit) {\n      //make sure it's plural-form\n      unit = fns.normalize(unit);\n\n      if (/s$/.test(unit) !== true) {\n        unit += 's';\n      }\n\n      if (unit === 'dates') {\n        unit = 'days';\n      }\n\n      return obj[unit];\n    }\n\n    return obj;\n  };\n\n  var diff = main$1;\n\n  //our conceptual 'break-points' for each unit\n\n  var qualifiers = {\n    months: {\n      almost: 10,\n      over: 4\n    },\n    days: {\n      almost: 25,\n      over: 10\n    },\n    hours: {\n      almost: 20,\n      over: 8\n    },\n    minutes: {\n      almost: 50,\n      over: 20\n    },\n    seconds: {\n      almost: 50,\n      over: 20\n    }\n  }; //get number of hours/minutes... between the two dates\n\n  function getDiff(a, b) {\n    var isBefore = a.isBefore(b);\n    var later = isBefore ? b : a;\n    var earlier = isBefore ? a : b;\n    earlier = earlier.clone();\n    var diff = {\n      years: 0,\n      months: 0,\n      days: 0,\n      hours: 0,\n      minutes: 0,\n      seconds: 0\n    };\n    Object.keys(diff).forEach(function (unit) {\n      if (earlier.isSame(later, unit)) {\n        return;\n      }\n\n      var max = earlier.diff(later, unit);\n      earlier = earlier.add(max, unit);\n      diff[unit] = max;\n    }); //reverse it, if necessary\n\n    if (isBefore) {\n      Object.keys(diff).forEach(function (u) {\n        if (diff[u] !== 0) {\n          diff[u] *= -1;\n        }\n      });\n    }\n\n    return diff;\n  } // Expects a plural unit arg\n\n\n  function pluralize(value, unit) {\n    if (value === 1) {\n      unit = unit.slice(0, -1);\n    }\n\n    return value + ' ' + unit;\n  } //create the human-readable diff between the two dates\n\n\n  var since = function since(start, end) {\n    end = fns.beADate(end, start);\n    var diff = getDiff(start, end);\n    var isNow = Object.keys(diff).every(function (u) {\n      return !diff[u];\n    });\n\n    if (isNow === true) {\n      return {\n        diff: diff,\n        rounded: 'now',\n        qualified: 'now',\n        precise: 'now'\n      };\n    }\n\n    var rounded;\n    var qualified;\n    var precise;\n    var englishValues = []; //go through each value and create its text-representation\n\n    Object.keys(diff).forEach(function (unit, i, units) {\n      var value = Math.abs(diff[unit]);\n\n      if (value === 0) {\n        return;\n      }\n\n      var englishValue = pluralize(value, unit);\n      englishValues.push(englishValue);\n\n      if (!rounded) {\n        rounded = qualified = englishValue;\n\n        if (i > 4) {\n          return;\n        } //is it a 'almost' something, etc?\n\n\n        var nextUnit = units[i + 1];\n        var nextValue = Math.abs(diff[nextUnit]);\n\n        if (nextValue > qualifiers[nextUnit].almost) {\n          rounded = pluralize(value + 1, unit);\n          qualified = 'almost ' + rounded;\n        } else if (nextValue > qualifiers[nextUnit].over) qualified = 'over ' + englishValue;\n      }\n    }); //make them into a string\n\n    precise = englishValues.splice(0, 2).join(', '); //handle before/after logic\n\n    if (start.isAfter(end) === true) {\n      rounded += ' ago';\n      qualified += ' ago';\n      precise += ' ago';\n    } else {\n      rounded = 'in ' + rounded;\n      qualified = 'in ' + qualified;\n      precise = 'in ' + precise;\n    }\n\n    return {\n      diff: diff,\n      rounded: rounded,\n      qualified: qualified,\n      precise: precise\n    };\n  };\n\n  var since_1 = since;\n\n  //https://www.timeanddate.com/calendar/aboutseasons.html\n  // Spring - from March 1 to May 31;\n  // Summer - from June 1 to August 31;\n  // Fall (autumn) - from September 1 to November 30; and,\n  // Winter - from December 1 to February 28 (February 29 in a leap year).\n  var seasons = {\n    north: [['spring', 2, 1], //spring march 1\n    ['summer', 5, 1], //june 1\n    ['fall', 8, 1], //sept 1\n    ['autumn', 8, 1], //sept 1\n    ['winter', 11, 1] //dec 1\n    ],\n    south: [['fall', 2, 1], //march 1\n    ['autumn', 2, 1], //march 1\n    ['winter', 5, 1], //june 1\n    ['spring', 8, 1], //sept 1\n    ['summer', 11, 1] //dec 1\n    ]\n  };\n\n  var quarters = [null, [0, 1], //jan 1\n  [3, 1], //apr 1\n  [6, 1], //july 1\n  [9, 1] //oct 1\n  ];\n\n  var units$1 = {\n    minute: function minute(s) {\n      walk_1(s, {\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    quarterhour: function quarterhour(s) {\n      var minute = s.minutes();\n\n      if (minute >= 45) {\n        s = s.minutes(45);\n      } else if (minute >= 30) {\n        s = s.minutes(30);\n      } else if (minute >= 15) {\n        s = s.minutes(15);\n      } else {\n        s = s.minutes(0);\n      }\n\n      walk_1(s, {\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    hour: function hour(s) {\n      walk_1(s, {\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    day: function day(s) {\n      walk_1(s, {\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    week: function week(s) {\n      var original = s.clone();\n      s = s.day(s._weekStart); //monday\n\n      if (s.isAfter(original)) {\n        s = s.subtract(1, 'week');\n      }\n\n      walk_1(s, {\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    month: function month(s) {\n      walk_1(s, {\n        date: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    quarter: function quarter(s) {\n      var q = s.quarter();\n\n      if (quarters[q]) {\n        walk_1(s, {\n          month: quarters[q][0],\n          date: quarters[q][1],\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        });\n      }\n\n      return s;\n    },\n    season: function season(s) {\n      var current = s.season();\n      var hem = 'north';\n\n      if (s.hemisphere() === 'South') {\n        hem = 'south';\n      }\n\n      for (var i = 0; i < seasons[hem].length; i++) {\n        if (seasons[hem][i][0] === current) {\n          //winter goes between years\n          var year = s.year();\n\n          if (current === 'winter' && s.month() < 3) {\n            year -= 1;\n          }\n\n          walk_1(s, {\n            year: year,\n            month: seasons[hem][i][1],\n            date: seasons[hem][i][2],\n            hour: 0,\n            minute: 0,\n            second: 0,\n            millisecond: 0\n          });\n          return s;\n        }\n      }\n\n      return s;\n    },\n    year: function year(s) {\n      walk_1(s, {\n        month: 0,\n        date: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    decade: function decade(s) {\n      s = s.startOf('year');\n      var year = s.year();\n      var decade = parseInt(year / 10, 10) * 10;\n      s = s.year(decade);\n      return s;\n    },\n    century: function century(s) {\n      s = s.startOf('year');\n      var year = s.year(); // near 0AD goes '-1 | +1'\n\n      var decade = parseInt(year / 100, 10) * 100;\n      s = s.year(decade);\n      return s;\n    }\n  };\n  units$1.date = units$1.day;\n\n  var startOf = function startOf(a, unit) {\n    var s = a.clone();\n    unit = fns.normalize(unit);\n\n    if (units$1[unit]) {\n      return units$1[unit](s);\n    }\n\n    if (unit === 'summer' || unit === 'winter') {\n      s = s.season(unit);\n      return units$1.season(s);\n    }\n\n    return s;\n  }; //piggy-backs off startOf\n\n\n  var endOf = function endOf(a, unit) {\n    var s = a.clone();\n    unit = fns.normalize(unit);\n\n    if (units$1[unit]) {\n      // go to beginning, go to next one, step back 1ms\n      s = units$1[unit](s); // startof\n\n      s = s.add(1, unit);\n      s = s.subtract(1, 'millisecond');\n      return s;\n    }\n\n    return s;\n  };\n\n  var startOf_1 = {\n    startOf: startOf,\n    endOf: endOf\n  };\n\n  var isDay = function isDay(unit) {\n    if (days[\"short\"]().find(function (s) {\n      return s === unit;\n    })) {\n      return true;\n    }\n\n    if (days[\"long\"]().find(function (s) {\n      return s === unit;\n    })) {\n      return true;\n    }\n\n    return false;\n  }; // return a list of the weeks/months/days between a -> b\n  // returns spacetime objects in the timezone of the input\n\n\n  var every = function every(start) {\n    var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var end = arguments.length > 2 ? arguments[2] : undefined;\n\n    if (!unit || !end) {\n      return [];\n    } //cleanup unit param\n\n\n    unit = fns.normalize(unit); //cleanup to param\n\n    end = start.clone().set(end); //swap them, if they're backwards\n\n    if (start.isAfter(end)) {\n      var tmp = start;\n      start = end;\n      end = tmp;\n    } //support 'every wednesday'\n\n\n    var d = start.clone();\n\n    if (isDay(unit)) {\n      d = d.next(unit);\n      unit = 'week';\n    } else {\n      d = d.next(unit);\n    } //okay, actually start doing it\n\n\n    var result = [];\n\n    while (d.isBefore(end)) {\n      result.push(d);\n      d = d.add(1, unit);\n    }\n\n    return result;\n  };\n\n  var every_1 = every;\n\n  var parseDst = function parseDst(dst) {\n    if (!dst) {\n      return [];\n    }\n\n    return dst.split('->');\n  };\n\n  var titleCase = function titleCase(str) {\n    str = str[0].toUpperCase() + str.substr(1);\n    str = str.replace(/\\/gmt/, '/GMT');\n    str = str.replace(/[\\/_]([a-z])/gi, function (s) {\n      return s.toUpperCase();\n    });\n    return str;\n  }; //get metadata about this timezone\n\n\n  var timezone = function timezone(s) {\n    var zones = s.timezones;\n    var tz = s.tz;\n\n    if (zones.hasOwnProperty(tz) === false) {\n      tz = find(s.tz, zones);\n    }\n\n    if (tz === null) {\n      if (s.silent === false) {\n        console.warn(\"Warn: could not find given or local timezone - '\" + s.tz + \"'\");\n      }\n\n      return {\n        current: {\n          epochShift: 0\n        }\n      };\n    }\n\n    var found = zones[tz];\n    var result = {\n      name: titleCase(tz),\n      hasDst: Boolean(found.dst),\n      default_offset: found.offset,\n      //do north-hemisphere version as default (sorry!)\n      hemisphere: found.hem === 's' ? 'South' : 'North',\n      current: {}\n    };\n\n    if (result.hasDst) {\n      var arr = parseDst(found.dst);\n      result.change = {\n        start: arr[0],\n        back: arr[1]\n      };\n    } //find the offsets for summer/winter times\n    //(these variable names are north-centric)\n\n\n    var summer = found.offset; // (july)\n\n    var winter = summer; // (january) assume it's the same for now\n\n    if (result.hasDst === true) {\n      if (result.hemisphere === 'North') {\n        winter = summer - 1;\n      } else {\n        //southern hemisphere\n        winter = found.offset + 1;\n      }\n    } //find out which offset to use right now\n    //use 'summer' time july-time\n\n\n    if (result.hasDst === false) {\n      result.current.offset = summer;\n      result.current.isDST = false;\n    } else if (summerTime(s.epoch, result.change.start, result.change.back, summer, winter) === true) {\n      result.current.offset = summer;\n      result.current.isDST = result.hemisphere === 'North'; //dst 'on' in winter in north\n    } else {\n      //use 'winter' january-time\n      result.current.offset = winter;\n      result.current.isDST = result.hemisphere === 'South'; //dst 'on' in summer in south\n    }\n\n    return result;\n  };\n\n  var timezone_1 = timezone;\n\n  var units = ['century', 'decade', 'year', 'month', 'date', 'day', 'hour', 'minute', 'second', 'millisecond']; //the spacetime instance methods (also, the API)\n\n  var methods$4 = {\n    set: function set(input$1, tz) {\n      var s = this.clone();\n      s = input(s, input$1, null);\n\n      if (tz) {\n        this.tz = find(tz);\n      }\n\n      return s;\n    },\n    timezone: function timezone() {\n      return timezone_1(this);\n    },\n    isDST: function isDST() {\n      return timezone_1(this).current.isDST;\n    },\n    hasDST: function hasDST() {\n      return timezone_1(this).hasDst;\n    },\n    offset: function offset() {\n      return timezone_1(this).current.offset * 60;\n    },\n    hemisphere: function hemisphere() {\n      return timezone_1(this).hemisphere;\n    },\n    format: function format(fmt) {\n      return format_1(this, fmt);\n    },\n    unixFmt: function unixFmt(fmt) {\n      return unixFmt_1(this, fmt);\n    },\n    startOf: function startOf(unit) {\n      return startOf_1.startOf(this, unit);\n    },\n    endOf: function endOf(unit) {\n      return startOf_1.endOf(this, unit);\n    },\n    leapYear: function leapYear() {\n      var year = this.year();\n      return fns.isLeapYear(year);\n    },\n    progress: function progress(unit) {\n      return progress_1(this, unit);\n    },\n    nearest: function nearest(unit) {\n      return nearest_1(this, unit);\n    },\n    diff: function diff$1(d, unit) {\n      return diff(this, d, unit);\n    },\n    since: function since(d) {\n      if (!d) {\n        d = this.clone().set();\n      }\n\n      return since_1(this, d);\n    },\n    next: function next(unit) {\n      var s = this.add(1, unit);\n      return s.startOf(unit);\n    },\n    //the start of the previous year/week/century\n    last: function last(unit) {\n      var s = this.subtract(1, unit);\n      return s.startOf(unit);\n    },\n    isValid: function isValid() {\n      //null/undefined epochs\n      if (!this.epoch && this.epoch !== 0) {\n        return false;\n      }\n\n      return !isNaN(this.d.getTime());\n    },\n    //travel to this timezone\n    \"goto\": function goto(tz) {\n      var s = this.clone();\n      s.tz = find(tz, s.timezones); //science!\n\n      return s;\n    },\n    //get each week/month/day between a -> b\n    every: function every(unit, to) {\n      // allow swapping these params:\n      if (_typeof(unit) === 'object' && typeof to === 'string') {\n        var tmp = to;\n        to = unit;\n        unit = tmp;\n      }\n\n      return every_1(this, unit, to);\n    },\n    isAwake: function isAwake() {\n      var hour = this.hour(); //10pm -> 8am\n\n      if (hour < 8 || hour > 22) {\n        return false;\n      }\n\n      return true;\n    },\n    isAsleep: function isAsleep() {\n      return !this.isAwake();\n    },\n    //pretty-printing\n    log: function log() {\n      console.log('');\n      console.log(format_1(this, 'nice-short'));\n      return this;\n    },\n    logYear: function logYear() {\n      console.log('');\n      console.log(format_1(this, 'full-short'));\n      return this;\n    },\n    json: function json() {\n      var _this = this;\n\n      return units.reduce(function (h, unit) {\n        h[unit] = _this[unit]();\n        return h;\n      }, {});\n    },\n    debug: function debug() {\n      var tz = this.timezone();\n      var date = this.format('MM') + ' ' + this.format('date-ordinal') + ' ' + this.year();\n      date += '\\n     - ' + this.format('time');\n      console.log('\\n\\n', date + '\\n     - ' + tz.name + ' (' + tz.current.offset + ')');\n      return this;\n    },\n    //alias of 'since' but opposite - like moment.js\n    from: function from(d) {\n      d = this.clone().set(d);\n      return d.since(this);\n    },\n    fromNow: function fromNow() {\n      var d = this.clone().set(Date.now());\n      return d.since(this);\n    },\n    weekStart: function weekStart(input) {\n      //accept a number directly\n      if (typeof input === 'number') {\n        this._weekStart = input;\n        return this;\n      }\n\n      if (typeof input === 'string') {\n        // accept 'wednesday'\n        input = input.toLowerCase().trim();\n        var num = days[\"short\"]().indexOf(input);\n\n        if (num === -1) {\n          num = days[\"long\"]().indexOf(input);\n        }\n\n        if (num === -1) {\n          num = 1; //go back to default\n        }\n\n        this._weekStart = num;\n      } else {\n        console.warn('Spacetime Error: Cannot understand .weekStart() input:', input);\n      }\n\n      return this;\n    }\n  }; // aliases\n\n  methods$4.inDST = methods$4.isDST;\n  methods$4.round = methods$4.nearest;\n  methods$4.each = methods$4.every;\n  var methods_1 = methods$4;\n\n  //these methods wrap around them.\n\n  var isLeapYear$1 = fns.isLeapYear;\n\n  var validate = function validate(n) {\n    //handle number as a string\n    if (typeof n === 'string') {\n      n = parseInt(n, 10);\n    }\n\n    return n;\n  };\n\n  var order$1 = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond']; //reduce hostile micro-changes when moving dates by millisecond\n\n  var confirm = function confirm(s, tmp, unit) {\n    var n = order$1.indexOf(unit);\n    var arr = order$1.slice(n, order$1.length);\n\n    for (var i = 0; i < arr.length; i++) {\n      var want = tmp[arr[i]]();\n      s[arr[i]](want);\n    }\n\n    return s;\n  };\n\n  var set = {\n    milliseconds: function milliseconds(s, n) {\n      n = validate(n);\n      var current = s.millisecond();\n      var diff = current - n; //milliseconds to shift by\n\n      return s.epoch - diff;\n    },\n    seconds: function seconds(s, n) {\n      n = validate(n);\n      var diff = s.second() - n;\n      var shift = diff * milliseconds.second;\n      return s.epoch - shift;\n    },\n    minutes: function minutes(s, n) {\n      n = validate(n);\n      var old = s.clone();\n      var diff = s.minute() - n;\n      var shift = diff * milliseconds.minute;\n      s.epoch -= shift; // check against a screw-up\n      // if (old.hour() != s.hour()) {\n      //   walkTo(old, {\n      //     minute: n\n      //   })\n      //   return old.epoch\n      // }\n\n      confirm(s, old, 'second');\n      return s.epoch;\n    },\n    hours: function hours(s, n) {\n      n = validate(n);\n\n      if (n >= 24) {\n        n = 24;\n      } else if (n < 0) {\n        n = 0;\n      }\n\n      var old = s.clone();\n      var diff = s.hour() - n;\n      var shift = diff * milliseconds.hour;\n      s.epoch -= shift; // oops, did we change the day?\n\n      if (s.date() !== old.date()) {\n        s = old.clone();\n\n        if (diff > 1) {\n          diff -= 1;\n        }\n\n        if (diff < 1) {\n          diff += 1;\n        }\n\n        shift = diff * milliseconds.hour;\n        s.epoch -= shift;\n      }\n\n      walk_1(s, {\n        hour: n\n      });\n      confirm(s, old, 'minute');\n      return s.epoch;\n    },\n    //support setting time by '4:25pm' - this isn't very-well developed..\n    time: function time(s, str) {\n      var m = str.match(/([0-9]{1,2})[:h]([0-9]{1,2})(:[0-9]{1,2})? ?(am|pm)?/);\n\n      if (!m) {\n        //fallback to support just '2am'\n        m = str.match(/([0-9]{1,2}) ?(am|pm)/);\n\n        if (!m) {\n          return s.epoch;\n        }\n\n        m.splice(2, 0, '0'); //add implicit 0 minutes\n\n        m.splice(3, 0, ''); //add implicit seconds\n      }\n\n      var h24 = false;\n      var hour = parseInt(m[1], 10);\n      var minute = parseInt(m[2], 10);\n\n      if (hour > 12) {\n        h24 = true;\n      } //make the hour into proper 24h time\n\n\n      if (h24 === false) {\n        if (m[4] === 'am' && hour === 12) {\n          //12am is midnight\n          hour = 0;\n        }\n\n        if (m[4] === 'pm' && hour < 12) {\n          //12pm is noon\n          hour += 12;\n        }\n      } // handle seconds\n\n\n      m[3] = m[3] || '';\n      m[3] = m[3].replace(/:/, '');\n      var sec = parseInt(m[3], 10) || 0;\n      s = s.hour(hour);\n      s = s.minute(minute);\n      s = s.second(sec);\n      s = s.millisecond(0);\n      return s.epoch;\n    },\n    date: function date(s, n) {\n      n = validate(n); //avoid setting february 31st\n\n      if (n > 28) {\n        var month = s.month();\n        var max = monthLengths_1[month]; // support leap day in february\n\n        if (month === 1 && n === 29 && isLeapYear$1(s.year())) {\n          max = 29;\n        }\n\n        if (n > max) {\n          n = max;\n        }\n      } //avoid setting < 0\n\n\n      if (n <= 0) {\n        n = 1;\n      }\n\n      walk_1(s, {\n        date: n\n      });\n      return s.epoch;\n    },\n    //this one's tricky\n    month: function month(s, n) {\n      if (typeof n === 'string') {\n        n = months$1.mapping()[n.toLowerCase()];\n      }\n\n      n = validate(n); //don't go past december\n\n      if (n >= 12) {\n        n = 11;\n      }\n\n      if (n <= 0) {\n        n = 0;\n      }\n\n      var date = s.date(); //there's no 30th of february, etc.\n\n      if (date > monthLengths_1[n]) {\n        //make it as close as we can..\n        date = monthLengths_1[n];\n      }\n\n      walk_1(s, {\n        month: n,\n        date: date\n      });\n      return s.epoch;\n    },\n    year: function year(s, n) {\n      // support '97\n      if (typeof n === 'string' && /^'[0-9]{2}$/.test(n)) {\n        n = n.replace(/'/, '').trim();\n        n = Number(n); // '89 is 1989\n\n        if (n > 30) {\n          //change this in 10y\n          n = 1900 + n;\n        } else {\n          // '12 is 2012\n          n = 2000 + n;\n        }\n      }\n\n      n = validate(n);\n      walk_1(s, {\n        year: n\n      });\n      return s.epoch;\n    },\n    dayOfYear: function dayOfYear(s, n) {\n      n = validate(n);\n      var old = s.clone();\n      n -= 1; //days are 1-based\n\n      if (n <= 0) {\n        n = 0;\n      } else if (n >= 365) {\n        n = 364;\n      }\n\n      s = s.startOf('year');\n      s = s.add(n, 'day');\n      confirm(s, old, 'hour');\n      return s.epoch;\n    }\n  };\n\n  var methods$3 = {\n    millisecond: function millisecond(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.milliseconds(s, num);\n        return s;\n      }\n\n      return this.d.getMilliseconds();\n    },\n    second: function second(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.seconds(s, num);\n        return s;\n      }\n\n      return this.d.getSeconds();\n    },\n    minute: function minute(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.minutes(s, num);\n        return s;\n      }\n\n      return this.d.getMinutes();\n    },\n    hour: function hour(num) {\n      var d = this.d;\n\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.hours(s, num);\n        return s;\n      }\n\n      return d.getHours();\n    },\n    //'3:30' is 3.5\n    hourFloat: function hourFloat(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n\n        var _minute = num % 1;\n\n        _minute = _minute * 60;\n\n        var _hour = parseInt(num, 10);\n\n        s.epoch = set.hours(s, _hour);\n        s.epoch = set.minutes(s, _minute);\n        return s;\n      }\n\n      var d = this.d;\n      var hour = d.getHours();\n      var minute = d.getMinutes();\n      minute = minute / 60;\n      return hour + minute;\n    },\n    // hour in 12h format\n    hour12: function hour12(str) {\n      var d = this.d;\n\n      if (str !== undefined) {\n        var s = this.clone();\n        str = '' + str;\n        var m = str.match(/^([0-9]+)(am|pm)$/);\n\n        if (m) {\n          var hour = parseInt(m[1], 10);\n\n          if (m[2] === 'pm') {\n            hour += 12;\n          }\n\n          s.epoch = set.hours(s, hour);\n        }\n\n        return s;\n      } //get the hour\n\n\n      var hour12 = d.getHours();\n\n      if (hour12 > 12) {\n        hour12 = hour12 - 12;\n      }\n\n      if (hour12 === 0) {\n        hour12 = 12;\n      }\n\n      return hour12;\n    },\n    //some ambiguity here with 12/24h\n    time: function time(str) {\n      if (str !== undefined) {\n        var s = this.clone();\n        str = str.toLowerCase().trim();\n        s.epoch = set.time(s, str);\n        return s;\n      }\n\n      return \"\".concat(this.h12(), \":\").concat(fns.zeroPad(this.minute())).concat(this.ampm());\n    },\n    // either 'am' or 'pm'\n    ampm: function ampm(input) {\n      var which = 'am';\n      var hour = this.hour();\n\n      if (hour >= 12) {\n        which = 'pm';\n      }\n\n      if (typeof input !== 'string') {\n        return which;\n      } //okay, we're doing a setter\n\n\n      var s = this.clone();\n      input = input.toLowerCase().trim(); //ampm should never change the day\n      // - so use `.hour(n)` instead of `.minus(12,'hour')`\n\n      if (hour >= 12 && input === 'am') {\n        //noon is 12pm\n        hour -= 12;\n        return s.hour(hour);\n      }\n\n      if (hour < 12 && input === 'pm') {\n        hour += 12;\n        return s.hour(hour);\n      }\n\n      return s;\n    },\n    //some hard-coded times of day, like 'noon'\n    dayTime: function dayTime(str) {\n      if (str !== undefined) {\n        var times = {\n          morning: '7:00am',\n          breakfast: '7:00am',\n          noon: '12:00am',\n          lunch: '12:00pm',\n          afternoon: '2:00pm',\n          evening: '6:00pm',\n          dinner: '6:00pm',\n          night: '11:00pm',\n          midnight: '23:59pm'\n        };\n        var s = this.clone();\n        str = str || '';\n        str = str.toLowerCase();\n\n        if (times.hasOwnProperty(str) === true) {\n          s = s.time(times[str]);\n        }\n\n        return s;\n      }\n\n      var h = this.hour();\n\n      if (h < 6) {\n        return 'night';\n      }\n\n      if (h < 12) {\n        //until noon\n        return 'morning';\n      }\n\n      if (h < 17) {\n        //until 5pm\n        return 'afternoon';\n      }\n\n      if (h < 22) {\n        //until 10pm\n        return 'evening';\n      }\n\n      return 'night';\n    },\n    //parse a proper iso string\n    iso: function iso(num) {\n      if (num !== undefined) {\n        return this.set(num);\n      }\n\n      return this.format('iso');\n    }\n  };\n  var _01Time = methods$3;\n\n  var methods$2 = {\n    // # day in the month\n    date: function date(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        num = parseInt(num, 10);\n\n        if (num) {\n          s.epoch = set.date(s, num);\n        }\n\n        return s;\n      }\n\n      return this.d.getDate();\n    },\n    //like 'wednesday' (hard!)\n    day: function day(input) {\n      if (input === undefined) {\n        return this.d.getDay();\n      }\n\n      var original = this.clone();\n      var want = input; // accept 'wednesday'\n\n      if (typeof input === 'string') {\n        input = input.toLowerCase();\n\n        if (days.aliases.hasOwnProperty(input)) {\n          want = days.aliases[input];\n        } else {\n          want = days[\"short\"]().indexOf(input);\n\n          if (want === -1) {\n            want = days[\"long\"]().indexOf(input);\n          }\n        }\n      } //move approx\n\n\n      var day = this.d.getDay();\n      var diff = day - want;\n      var s = this.subtract(diff, 'days'); //tighten it back up\n\n      walk_1(s, {\n        hour: original.hour(),\n        minute: original.minute(),\n        second: original.second()\n      });\n      return s;\n    },\n    //these are helpful name-wrappers\n    dayName: function dayName(input) {\n      if (input === undefined) {\n        return days[\"long\"]()[this.day()];\n      }\n\n      var s = this.clone();\n      s = s.day(input);\n      return s;\n    },\n    //either name or number\n    month: function month(input) {\n      if (input !== undefined) {\n        var s = this.clone();\n        s.epoch = set.month(s, input);\n        return s;\n      }\n\n      return this.d.getMonth();\n    }\n  };\n  var _02Date = methods$2;\n\n  var clearMinutes = function clearMinutes(s) {\n    s = s.minute(0);\n    s = s.second(0);\n    s = s.millisecond(1);\n    return s;\n  };\n\n  var methods$1 = {\n    // day 0-366\n    dayOfYear: function dayOfYear(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.dayOfYear(s, num);\n        return s;\n      } //days since newyears - jan 1st is 1, jan 2nd is 2...\n\n\n      var sum = 0;\n      var month = this.d.getMonth();\n      var tmp; //count the num days in each month\n\n      for (var i = 1; i <= month; i++) {\n        tmp = new Date();\n        tmp.setDate(1);\n        tmp.setFullYear(this.d.getFullYear()); //the year matters, because leap-years\n\n        tmp.setHours(1);\n        tmp.setMinutes(1);\n        tmp.setMonth(i);\n        tmp.setHours(-2); //the last day of the month\n\n        sum += tmp.getDate();\n      }\n\n      return sum + this.d.getDate();\n    },\n    //since the start of the year\n    week: function week(num) {\n      // week-setter\n      if (num !== undefined) {\n        var s = this.clone();\n        s = s.month(0);\n        s = s.date(1);\n        s = s.day('monday');\n        s = clearMinutes(s); //first week starts first Thurs in Jan\n        // so mon dec 28th is 1st week\n        // so mon dec 29th is not the week\n\n        if (s.monthName() === 'december' && s.date() >= 28) {\n          s = s.add(1, 'week');\n        }\n\n        num -= 1; //1-based\n\n        s = s.add(num, 'weeks');\n        return s;\n      } //find-out which week it is\n\n\n      var tmp = this.clone();\n      tmp = tmp.month(0);\n      tmp = tmp.date(1);\n      tmp = clearMinutes(tmp);\n      tmp = tmp.day('monday'); //don't go into last-year\n\n      if (tmp.monthName() === 'december' && tmp.date() >= 28) {\n        tmp = tmp.add(1, 'week');\n      } // is first monday the 1st?\n\n\n      var toAdd = 1;\n\n      if (tmp.date() === 1) {\n        toAdd = 0;\n      }\n\n      tmp = tmp.minus(1, 'second');\n      var thisOne = this.epoch; //if the week technically hasn't started yet\n\n      if (tmp.epoch > thisOne) {\n        return 1;\n      } //speed it up, if we can\n\n\n      var i = 0;\n      var skipWeeks = this.month() * 4;\n      tmp.epoch += milliseconds.week * skipWeeks;\n      i += skipWeeks;\n\n      for (; i <= 52; i++) {\n        if (tmp.epoch > thisOne) {\n          return i + toAdd;\n        }\n\n        tmp = tmp.add(1, 'week');\n      }\n\n      return 52;\n    },\n    //'january'\n    monthName: function monthName(input) {\n      if (input === undefined) {\n        return months$1[\"long\"]()[this.month()];\n      }\n\n      var s = this.clone();\n      s = s.month(input);\n      return s;\n    },\n    //q1, q2, q3, q4\n    quarter: function quarter(num) {\n      if (num !== undefined) {\n        if (typeof num === 'string') {\n          num = num.replace(/^q/i, '');\n          num = parseInt(num, 10);\n        }\n\n        if (quarters[num]) {\n          var s = this.clone();\n          var _month = quarters[num][0];\n          s = s.month(_month);\n          s = s.date(1);\n          s = s.startOf('day');\n          return s;\n        }\n      }\n\n      var month = this.d.getMonth();\n\n      for (var i = 1; i < quarters.length; i++) {\n        if (month < quarters[i][0]) {\n          return i - 1;\n        }\n      }\n\n      return 4;\n    },\n    //spring, summer, winter, fall\n    season: function season(input) {\n      var hem = 'north';\n\n      if (this.hemisphere() === 'South') {\n        hem = 'south';\n      }\n\n      if (input !== undefined) {\n        var s = this.clone();\n\n        for (var i = 0; i < seasons[hem].length; i++) {\n          if (input === seasons[hem][i][0]) {\n            s = s.month(seasons[hem][i][1]);\n            s = s.date(1);\n            s = s.startOf('day');\n          }\n        }\n\n        return s;\n      }\n\n      var month = this.d.getMonth();\n\n      for (var _i = 0; _i < seasons[hem].length - 1; _i++) {\n        if (month >= seasons[hem][_i][1] && month < seasons[hem][_i + 1][1]) {\n          return seasons[hem][_i][0];\n        }\n      }\n\n      return 'winter';\n    },\n    //the year number\n    year: function year(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.year(s, num);\n        return s;\n      }\n\n      return this.d.getFullYear();\n    },\n    //bc/ad years\n    era: function era(str) {\n      if (str !== undefined) {\n        var s = this.clone();\n        str = str.toLowerCase(); //TODO: there is no year-0AD i think. may have off-by-1 error here\n\n        var year = s.d.getFullYear(); //make '1992' into 1992bc..\n\n        if (str === 'bc' && year > 0) {\n          s.epoch = set.year(s, year * -1);\n        } //make '1992bc' into '1992'\n\n\n        if (str === 'ad' && year < 0) {\n          s.epoch = set.year(s, year * -1);\n        }\n\n        return s;\n      }\n\n      if (this.d.getFullYear() < 0) {\n        return 'BC';\n      }\n\n      return 'AD';\n    },\n    // 2019 -> 2010\n    decade: function decade(input) {\n      if (input !== undefined) {\n        input = String(input);\n        input = input.replace(/([0-9])'?s$/, '$1'); //1950's\n\n        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n        if (!input) {\n          console.warn('Spacetime: Invalid decade input');\n          return this;\n        } // assume 20th century?? for '70s'.\n\n\n        if (input.length === 2 && /[0-9][0-9]/.test(input)) {\n          input = '19' + input;\n        }\n\n        var year = Number(input);\n\n        if (isNaN(year)) {\n          return this;\n        } // round it down to the decade\n\n\n        year = Math.floor(year / 10) * 10;\n        return this.year(year); //.startOf('decade')\n      }\n\n      return this.startOf('decade').year();\n    },\n    // 1950 -> 19+1\n    century: function century(input) {\n      if (input !== undefined) {\n        if (typeof input === 'string') {\n          input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n          input = input.replace(/([0-9]+) ?(b\\.?c\\.?|a\\.?d\\.?)/i, function (a, b, c) {\n            if (c.match(/b\\.?c\\.?/i)) {\n              b = '-' + b;\n            }\n\n            return b;\n          });\n          input = input.replace(/c$/, ''); //20thC\n        }\n\n        var year = Number(input);\n\n        if (isNaN(input)) {\n          console.warn('Spacetime: Invalid century input');\n          return this;\n        } // there is no century 0\n\n\n        if (year === 0) {\n          year = 1;\n        }\n\n        if (year >= 0) {\n          year = (year - 1) * 100;\n        } else {\n          year = (year + 1) * 100;\n        }\n\n        return this.year(year);\n      } // century getter\n\n\n      var num = this.startOf('century').year();\n      num = Math.floor(num / 100);\n\n      if (num < 0) {\n        return num - 1;\n      }\n\n      return num + 1;\n    },\n    // 2019 -> 2+1\n    millenium: function millenium(input) {\n      if (input !== undefined) {\n        if (typeof input === 'string') {\n          input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n          input = Number(input);\n\n          if (isNaN(input)) {\n            console.warn('Spacetime: Invalid millenium input');\n            return this;\n          }\n        }\n\n        if (input > 0) {\n          input -= 1;\n        }\n\n        var year = input * 1000; // there is no year 0\n\n        if (year === 0) {\n          year = 1;\n        }\n\n        return this.year(year);\n      } // get the current millenium\n\n\n      var num = Math.floor(this.year() / 1000);\n\n      if (num >= 0) {\n        num += 1;\n      }\n\n      return num;\n    }\n  };\n  var _03Year = methods$1;\n\n  var methods = Object.assign({}, _01Time, _02Date, _03Year); //aliases\n\n  methods.milliseconds = methods.millisecond;\n  methods.seconds = methods.second;\n  methods.minutes = methods.minute;\n  methods.hours = methods.hour;\n  methods.hour24 = methods.hour;\n  methods.h12 = methods.hour12;\n  methods.h24 = methods.hour24;\n  methods.days = methods.day;\n\n  var addMethods$4 = function addMethods(Space) {\n    //hook the methods into prototype\n    Object.keys(methods).forEach(function (k) {\n      Space.prototype[k] = methods[k];\n    });\n  };\n\n  var query = addMethods$4;\n\n  var isLeapYear = fns.isLeapYear;\n\n  var getMonthLength = function getMonthLength(month, year) {\n    if (month === 1 && isLeapYear(year)) {\n      return 29;\n    }\n\n    return monthLengths_1[month];\n  }; //month is the one thing we 'model/compute'\n  //- because ms-shifting can be off by enough\n\n\n  var rollMonth = function rollMonth(want, old) {\n    //increment year\n    if (want.month > 0) {\n      var years = parseInt(want.month / 12, 10);\n      want.year = old.year() + years;\n      want.month = want.month % 12;\n    } else if (want.month < 0) {\n      //decrement year\n      var _years = Math.floor(Math.abs(want.month) / 13, 10);\n\n      _years = Math.abs(_years) + 1;\n      want.year = old.year() - _years; //ignore extras\n\n      want.month = want.month % 12;\n      want.month = want.month + 12;\n\n      if (want.month === 12) {\n        want.month = 0;\n      }\n    }\n\n    return want;\n  }; // briefly support day=-2 (this does not need to be perfect.)\n\n\n  var rollDaysDown = function rollDaysDown(want, old, sum) {\n    want.year = old.year();\n    want.month = old.month();\n    var date = old.date();\n    want.date = date - Math.abs(sum);\n\n    while (want.date < 1) {\n      want.month -= 1;\n\n      if (want.month < 0) {\n        want.month = 11;\n        want.year -= 1;\n      }\n\n      var max = getMonthLength(want.month, want.year);\n      want.date += max;\n    }\n\n    return want;\n  }; // briefly support day=33 (this does not need to be perfect.)\n\n\n  var rollDaysUp = function rollDaysUp(want, old, sum) {\n    var year = old.year();\n    var month = old.month();\n    var max = getMonthLength(month, year);\n\n    while (sum > max) {\n      sum -= max;\n      month += 1;\n\n      if (month >= 12) {\n        month -= 12;\n        year += 1;\n      }\n\n      max = getMonthLength(month, year);\n    }\n\n    want.month = month;\n    want.date = sum;\n    return want;\n  };\n\n  var _model = {\n    months: rollMonth,\n    days: rollDaysUp,\n    daysBack: rollDaysDown\n  };\n\n  // but briefly:\n  // millisecond-math, and some post-processing covers most-things\n  // we 'model' the calendar here only a little bit\n  // and that usually works-out...\n\n  var order = ['millisecond', 'second', 'minute', 'hour', 'date', 'month'];\n  var keep = {\n    second: order.slice(0, 1),\n    minute: order.slice(0, 2),\n    quarterhour: order.slice(0, 2),\n    hour: order.slice(0, 3),\n    date: order.slice(0, 4),\n    month: order.slice(0, 4),\n    quarter: order.slice(0, 4),\n    season: order.slice(0, 4),\n    year: order,\n    decade: order,\n    century: order\n  };\n  keep.week = keep.hour;\n  keep.season = keep.date;\n  keep.quarter = keep.date; // Units need to be dst adjuested\n\n  var dstAwareUnits = {\n    year: true,\n    quarter: true,\n    season: true,\n    month: true,\n    week: true,\n    day: true\n  };\n  var keepDate = {\n    month: true,\n    quarter: true,\n    season: true,\n    year: true\n  };\n\n  var addMethods$3 = function addMethods(SpaceTime) {\n    SpaceTime.prototype.add = function (num, unit) {\n      var s = this.clone();\n\n      if (!unit || num === 0) {\n        return s; //don't bother\n      }\n\n      var old = this.clone();\n      unit = fns.normalize(unit);\n\n      if (unit === 'millisecond') {\n        s.epoch += num;\n        return s;\n      } // support 'fortnight' alias\n\n\n      if (unit === 'fortnight') {\n        num *= 2;\n        unit = 'week';\n      } //move forward by the estimated milliseconds (rough)\n\n\n      if (milliseconds[unit]) {\n        s.epoch += milliseconds[unit] * num;\n      } else if (unit === 'week') {\n        s.epoch += milliseconds.day * (num * 7);\n      } else if (unit === 'quarter' || unit === 'season') {\n        s.epoch += milliseconds.month * (num * 3);\n      } else if (unit === 'quarterhour') {\n        s.epoch += milliseconds.minute * 15 * num;\n      } //now ensure our milliseconds/etc are in-line\n\n\n      var want = {};\n\n      if (keep[unit]) {\n        keep[unit].forEach(function (u) {\n          want[u] = old[u]();\n        });\n      }\n\n      if (dstAwareUnits[unit]) {\n        var diff = old.timezone().current.offset - s.timezone().current.offset;\n        s.epoch += diff * 3600 * 1000;\n      } //ensure month/year has ticked-over\n\n\n      if (unit === 'month') {\n        want.month = old.month() + num; //month is the one unit we 'model' directly\n\n        want = _model.months(want, old);\n      } //support coercing a week, too\n\n\n      if (unit === 'week') {\n        var sum = old.date() + num * 7;\n\n        if (sum <= 28 && sum > 1) {\n          want.date = sum;\n        }\n      } //support 25-hour day-changes on dst-changes\n      else if (unit === 'date') {\n          if (num < 0) {\n            want = _model.daysBack(want, old, num);\n          } else {\n            //specify a naive date number, if it's easy to do...\n            var _sum = old.date() + num; // ok, model this one too\n\n\n            want = _model.days(want, old, _sum);\n          } //manually punt it if we haven't moved at all..\n\n\n          if (num !== 0 && old.isSame(s, 'day')) {\n            want.date = old.date() + num;\n          }\n        } // ensure a quarter is 3 months over\n        else if (unit === 'quarter') {\n            want.month = old.month() + num * 3;\n            want.year = old.year(); // handle rollover\n\n            if (want.month < 0) {\n              var years = Math.floor(want.month / 12);\n              var remainder = want.month + Math.abs(years) * 12;\n              want.month = remainder;\n              want.year += years;\n            } else if (want.month >= 12) {\n              var _years = Math.floor(want.month / 12);\n\n              want.month = want.month % 12;\n              want.year += _years;\n            }\n\n            want.date = old.date();\n          } //ensure year has changed (leap-years)\n          else if (unit === 'year') {\n              var wantYear = old.year() + num;\n              var haveYear = s.year();\n\n              if (haveYear < wantYear) {\n                s.epoch += milliseconds.day;\n              } else if (haveYear > wantYear) {\n                s.epoch += milliseconds.day;\n              }\n            } //these are easier\n            else if (unit === 'decade') {\n                want.year = s.year() + 10;\n              } else if (unit === 'century') {\n                want.year = s.year() + 100;\n              } //keep current date, unless the month doesn't have it.\n\n\n      if (keepDate[unit]) {\n        var max = monthLengths_1[want.month];\n        want.date = old.date();\n\n        if (want.date > max) {\n          want.date = max;\n        }\n      }\n\n      if (Object.keys(want).length > 1) {\n        walk_1(s, want);\n      }\n\n      return s;\n    }; //subtract is only add *-1\n\n\n    SpaceTime.prototype.subtract = function (num, unit) {\n      var s = this.clone();\n      return s.add(num * -1, unit);\n    }; //add aliases\n\n\n    SpaceTime.prototype.minus = SpaceTime.prototype.subtract;\n    SpaceTime.prototype.plus = SpaceTime.prototype.add;\n  };\n\n  var add = addMethods$3;\n\n  //make a string, for easy comparison between dates\n  var print = {\n    millisecond: function millisecond(s) {\n      return s.epoch;\n    },\n    second: function second(s) {\n      return [s.year(), s.month(), s.date(), s.hour(), s.minute(), s.second()].join('-');\n    },\n    minute: function minute(s) {\n      return [s.year(), s.month(), s.date(), s.hour(), s.minute()].join('-');\n    },\n    hour: function hour(s) {\n      return [s.year(), s.month(), s.date(), s.hour()].join('-');\n    },\n    day: function day(s) {\n      return [s.year(), s.month(), s.date()].join('-');\n    },\n    week: function week(s) {\n      return [s.year(), s.week()].join('-');\n    },\n    month: function month(s) {\n      return [s.year(), s.month()].join('-');\n    },\n    quarter: function quarter(s) {\n      return [s.year(), s.quarter()].join('-');\n    },\n    year: function year(s) {\n      return s.year();\n    }\n  };\n  print.date = print.day;\n\n  var addMethods$2 = function addMethods(SpaceTime) {\n    SpaceTime.prototype.isSame = function (b, unit) {\n      var tzAware = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var a = this;\n\n      if (!unit) {\n        return null;\n      } // support swapped params\n\n\n      if (typeof b === 'string' && _typeof(unit) === 'object') {\n        var tmp = b;\n        b = unit;\n        unit = tmp;\n      }\n\n      if (typeof b === 'string' || typeof b === 'number') {\n        b = new SpaceTime(b, this.timezone.name);\n      } //support 'seconds' aswell as 'second'\n\n\n      unit = unit.replace(/s$/, ''); // make them the same timezone for proper comparison\n\n      if (tzAware === true && a.tz !== b.tz) {\n        b = b.clone();\n        b.tz = a.tz;\n      }\n\n      if (print[unit]) {\n        return print[unit](a) === print[unit](b);\n      }\n\n      return null;\n    };\n  };\n\n  var same = addMethods$2;\n\n  var addMethods$1 = function addMethods(SpaceTime) {\n    var methods = {\n      isAfter: function isAfter(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch > epoch;\n      },\n      isBefore: function isBefore(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch < epoch;\n      },\n      isEqual: function isEqual(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch === epoch;\n      },\n      isBetween: function isBetween(start, end) {\n        var isInclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        start = fns.beADate(start, this);\n        end = fns.beADate(end, this);\n        var startEpoch = fns.getEpoch(start);\n\n        if (startEpoch === null) {\n          return null;\n        }\n\n        var endEpoch = fns.getEpoch(end);\n\n        if (endEpoch === null) {\n          return null;\n        }\n\n        if (isInclusive) {\n          return this.isBetween(start, end) || this.isEqual(start) || this.isEqual(end);\n        }\n\n        return startEpoch < this.epoch && this.epoch < endEpoch;\n      }\n    }; //hook them into proto\n\n    Object.keys(methods).forEach(function (k) {\n      SpaceTime.prototype[k] = methods[k];\n    });\n  };\n\n  var compare = addMethods$1;\n\n  var addMethods = function addMethods(SpaceTime) {\n    var methods = {\n      i18n: function i18n(data) {\n        //change the day names\n        if (fns.isObject(data.days)) {\n          days.set(data.days);\n        } //change the month names\n\n\n        if (fns.isObject(data.months)) {\n          months$1.set(data.months);\n        } // change the the display style of the month / day names\n\n\n        if (fns.isBoolean(data.useTitleCase)) {\n          caseFormat.set(data.useTitleCase);\n        }\n      }\n    }; //hook them into proto\n\n    Object.keys(methods).forEach(function (k) {\n      SpaceTime.prototype[k] = methods[k];\n    });\n  };\n\n  var i18n = addMethods;\n\n  var timezones = unpack; //fake timezone-support, for fakers (es5 class)\n\n  var SpaceTime = function SpaceTime(input$1, tz) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    //the holy moment\n    this.epoch = null; //the shift for the given timezone\n\n    this.tz = find(tz, timezones); //whether to output warnings to console\n\n    this.silent = options.silent || true; // favour british interpretation of 02/02/2018, etc\n\n    this.british = options.dmy || options.british; //does the week start on sunday, or monday:\n\n    this._weekStart = 1; //default to monday\n\n    if (options.weekStart !== undefined) {\n      this._weekStart = options.weekStart;\n    } // the reference today date object, (for testing)\n\n\n    this._today = {};\n\n    if (options.today !== undefined) {\n      this._today = options.today;\n    } //add getter/setters\n\n\n    Object.defineProperty(this, 'd', {\n      //return a js date object\n      get: function get() {\n        var offset = quick(this); //every computer is somewhere- get this computer's built-in offset\n\n        var bias = new Date(this.epoch).getTimezoneOffset() || 0; //movement\n\n        var shift = bias + offset * 60; //in minutes\n\n        shift = shift * 60 * 1000; //in ms\n        //remove this computer's offset\n\n        var epoch = this.epoch + shift;\n        var d = new Date(epoch);\n        return d;\n      }\n    }); //add this data on the object, to allow adding new timezones\n\n    Object.defineProperty(this, 'timezones', {\n      get: function get() {\n        return timezones;\n      },\n      set: function set(obj) {\n        timezones = obj;\n        return obj;\n      }\n    }); //parse the various formats\n\n    var tmp = input(this, input$1, tz);\n    this.epoch = tmp.epoch;\n  }; //(add instance methods to prototype)\n\n\n  Object.keys(methods_1).forEach(function (k) {\n    SpaceTime.prototype[k] = methods_1[k];\n  }); // ¯\\_(ツ)_/¯\n\n  SpaceTime.prototype.clone = function () {\n    return new SpaceTime(this.epoch, this.tz, {\n      silent: this.silent,\n      weekStart: this._weekStart,\n      today: this._today\n    });\n  }; //return native date object at the same epoch\n\n\n  SpaceTime.prototype.toLocalDate = function () {\n    return new Date(this.epoch);\n  }; //append more methods\n\n\n  query(SpaceTime);\n  add(SpaceTime);\n  same(SpaceTime);\n  compare(SpaceTime);\n  i18n(SpaceTime);\n  var spacetime = SpaceTime;\n\n  var whereIts = function whereIts(a, b) {\n    var start = new spacetime(null);\n    var end = new spacetime(null);\n    start = start.time(a); //if b is undefined, use as 'within one hour'\n\n    if (b) {\n      end = end.time(b);\n    } else {\n      end = start.add(59, 'minutes');\n    }\n\n    var startHour = start.hour();\n    var endHour = end.hour();\n    var tzs = Object.keys(start.timezones).filter(function (tz) {\n      if (tz.indexOf('/') === -1) {\n        return false;\n      }\n\n      var m = new spacetime(null, tz);\n      var hour = m.hour(); //do 'calendar-compare' not real-time-compare\n\n      if (hour >= startHour && hour <= endHour) {\n        //test minutes too, if applicable\n        if (hour === startHour && m.minute() < start.minute()) {\n          return false;\n        }\n\n        if (hour === endHour && m.minute() > end.minute()) {\n          return false;\n        }\n\n        return true;\n      }\n\n      return false;\n    });\n    return tzs;\n  };\n\n  var whereIts_1 = whereIts;\n\n  var _version = '6.13.1';\n\n  var main = function main(input, tz, options) {\n    return new spacetime(input, tz, options);\n  }; // set all properties of a given 'today' object\n\n\n  var setToday = function setToday(s) {\n    var today = s._today || {};\n    Object.keys(today).forEach(function (k) {\n      s = s[k](today[k]);\n    });\n    return s;\n  }; //some helper functions on the main method\n\n\n  main.now = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s;\n  };\n\n  main.today = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.startOf('day');\n  };\n\n  main.tomorrow = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.add(1, 'day').startOf('day');\n  };\n\n  main.yesterday = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.subtract(1, 'day').startOf('day');\n  };\n\n  main.extend = function (obj) {\n    Object.keys(obj).forEach(function (k) {\n      spacetime.prototype[k] = obj[k];\n    });\n    return this;\n  };\n\n  main.timezones = function () {\n    var s = new spacetime();\n    return s.timezones;\n  }; //find tz by time\n\n\n  main.whereIts = whereIts_1;\n  main.version = _version; //aliases:\n\n  main.plugin = main.extend;\n  var src = main;\n\n  return src;\n\n})));\n","// some opinionated-but-common-sense timezone abbreviations\n// these timezone abbreviations are wholly made-up by me, Spencer Kelly, with no expertise in geography\n// generated humbly from https://github.com/spencermountain/spacetime-informal\nconst spacetime = require('spacetime')\n\nconst america = 'America/'\nconst asia = 'Asia/'\nconst europe = 'Europe/'\nconst africa = 'Africa/'\nconst aus = 'Australia/'\nconst pac = 'Pacific/'\n\nconst informal = {\n  //europe\n  'british summer time': europe + 'London',\n  bst: europe + 'London',\n  'british time': europe + 'London',\n  'britain time': europe + 'London',\n  'irish summer time': europe + 'Dublin',\n  'irish time': europe + 'Dublin',\n  ireland: europe + 'Dublin',\n  'central european time': europe + 'Berlin',\n  cet: europe + 'Berlin',\n  'central european summer time': europe + 'Berlin',\n  cest: europe + 'Berlin',\n  'central europe': europe + 'Berlin',\n  'eastern european time': europe + 'Riga',\n  eet: europe + 'Riga',\n  'eastern european summer time': europe + 'Riga',\n  eest: europe + 'Riga',\n  'eastern europe time': europe + 'Riga',\n  'western european time': europe + 'Lisbon',\n  // wet: europe+'Lisbon',\n  'western european summer time': europe + 'Lisbon',\n  // west: europe+'Lisbon',\n  'western europe': europe + 'Lisbon',\n  'turkey standard time': europe + 'Istanbul',\n  trt: europe + 'Istanbul',\n  'turkish time': europe + 'Istanbul',\n\n  //africa\n  etc: africa + 'Freetown',\n  utc: africa + 'Freetown',\n  'greenwich standard time': africa + 'Freetown',\n  gmt: africa + 'Freetown',\n  'east africa time': africa + 'Nairobi',\n  // eat: africa+'Nairobi',\n  'east african time': africa + 'Nairobi',\n  'eastern africa time': africa + 'Nairobi',\n  'central africa time': africa + 'Khartoum',\n  // cat: africa+'Khartoum',\n  'central african time': africa + 'Khartoum',\n  'south africa standard time': africa + 'Johannesburg',\n  sast: africa + 'Johannesburg',\n  'southern africa': africa + 'Johannesburg',\n  'south african': africa + 'Johannesburg',\n  'west africa standard time': africa + 'Lagos',\n  // wat: africa+'Lagos',\n  'western africa time': africa + 'Lagos',\n  'west african time': africa + 'Lagos',\n\n  'australian central standard time': aus + 'Adelaide',\n  acst: aus + 'Adelaide',\n  'australian central daylight time': aus + 'Adelaide',\n  acdt: aus + 'Adelaide',\n  'australia central': aus + 'Adelaide',\n  'australian eastern standard time': aus + 'Brisbane',\n  aest: aus + 'Brisbane',\n  'australian eastern daylight time': aus + 'Brisbane',\n  aedt: aus + 'Brisbane',\n  'australia east': aus + 'Brisbane',\n  'australian western standard time': aus + 'Perth',\n  awst: aus + 'Perth',\n  'australian western daylight time': aus + 'Perth',\n  awdt: aus + 'Perth',\n  'australia west': aus + 'Perth',\n  'australian central western standard time': aus + 'Eucla',\n  acwst: aus + 'Eucla',\n  'australia central west': aus + 'Eucla',\n  'lord howe standard time': aus + 'Lord_Howe',\n  lhst: aus + 'Lord_Howe',\n  'lord howe daylight time': aus + 'Lord_Howe',\n  lhdt: aus + 'Lord_Howe',\n  'russian standard time': europe + 'Moscow',\n  msk: europe + 'Moscow',\n  russian: europe + 'Moscow',\n\n  //america\n  'central standard time': america + 'Chicago',\n  'central time': america + 'Chicago',\n  cst: america + 'Havana',\n  'central daylight time': america + 'Chicago',\n  cdt: america + 'Havana',\n  'mountain standard time': america + 'Denver',\n  'mountain time': america + 'Denver',\n  mst: america + 'Denver',\n  'mountain daylight time': america + 'Denver',\n  mdt: america + 'Denver',\n  'atlantic standard time': america + 'Halifax',\n  'atlantic time': america + 'Halifax',\n  ast: asia + 'Baghdad',\n  'atlantic daylight time': america + 'Halifax',\n  adt: america + 'Halifax',\n  'eastern standard time': america + 'New_York',\n  'eastern time': america + 'New_York',\n  est: america + 'New_York',\n  'eastern daylight time': america + 'New_York',\n  edt: america + 'New_York',\n  'pacific time': america + 'Los_Angeles',\n  'pacific standard time': america + 'Los_Angeles',\n  pst: america + 'Los_Angeles',\n  'pacific daylight time': america + 'Los_Angeles',\n  pdt: america + 'Los_Angeles',\n  'alaskan standard time': america + 'Anchorage',\n  'alaskan time': america + 'Anchorage',\n  ahst: america + 'Anchorage',\n  'alaskan daylight time': america + 'Anchorage',\n  ahdt: america + 'Anchorage',\n  'hawaiian standard time': pac + 'Honolulu',\n  'hawaiian time': pac + 'Honolulu',\n  hst: pac + 'Honolulu',\n  'aleutian time': pac + 'Honolulu',\n  'hawaii time': pac + 'Honolulu',\n  'newfoundland standard time': america + 'St_Johns',\n  'newfoundland time': america + 'St_Johns',\n  nst: america + 'St_Johns',\n  'newfoundland daylight time': america + 'St_Johns',\n  ndt: america + 'St_Johns',\n  'brazil time': america + 'Sao_Paulo',\n  brt: america + 'Sao_Paulo',\n  brasília: america + 'Sao_Paulo',\n  brasilia: america + 'Sao_Paulo',\n  'brazilian time': america + 'Sao_Paulo',\n  'argentina time': america + 'Buenos_Aires',\n  // art: a+'Buenos_Aires',\n  'argentinian time': america + 'Buenos_Aires',\n  'amazon time': america + 'Manaus',\n  amt: america + 'Manaus',\n  'amazonian time': america + 'Manaus',\n  'easter island standard time': 'Chile/Easterisland',\n  east: 'Chile/Easterisland',\n  'easter island summer time': 'Chile/Easterisland',\n  easst: 'Chile/Easterisland',\n  'venezuelan standard time': america + 'Caracas',\n  'venezuelan time': america + 'Caracas',\n  vet: america + 'Caracas',\n  'venezuela time': america + 'Caracas',\n  'paraguay time': america + 'Asuncion',\n  pyt: america + 'Asuncion',\n  'paraguay summer time': america + 'Asuncion',\n  pyst: america + 'Asuncion',\n  'cuba standard time': america + 'Havana',\n  'cuba time': america + 'Havana',\n  'cuba daylight time': america + 'Havana',\n  'cuban time': america + 'Havana',\n  'bolivia time': america + 'La_Paz',\n  // bot: a+'La_Paz',\n  'bolivian time': america + 'La_Paz',\n  'colombia time': america + 'Bogota',\n  cot: america + 'Bogota',\n  'colombian time': america + 'Bogota',\n  'acre time': america + 'Eirunepe',\n  // act: a+'Eirunepe',\n  'peru time': america + 'Lima',\n  // pet: a+'Lima',\n  'chile standard time': america + 'Punta_Arenas',\n  'chile time': america + 'Punta_Arenas',\n  clst: america + 'Punta_Arenas',\n  'chile summer time': america + 'Punta_Arenas',\n  cldt: america + 'Punta_Arenas',\n  'uruguay time': america + 'Montevideo',\n  uyt: america + 'Montevideo',\n\n  //asia\n  ist: asia + 'Jerusalem',\n  'arabic standard time': asia + 'Baghdad',\n  'arabic time': asia + 'Baghdad',\n  'arab time': asia + 'Baghdad',\n  'iran standard time': asia + 'Tehran',\n  'iran time': asia + 'Tehran',\n  irst: asia + 'Tehran',\n  'iran daylight time': asia + 'Tehran',\n  irdt: asia + 'Tehran',\n  iranian: asia + 'Tehran',\n  'pakistan standard time': asia + 'Karachi',\n  'pakistan time': asia + 'Karachi',\n  pkt: asia + 'Karachi',\n  'india standard time': asia + 'Kolkata',\n  'indian time': asia + 'Kolkata',\n  'indochina time': asia + 'Bangkok',\n  ict: asia + 'Bangkok',\n  'south east asia': asia + 'Bangkok',\n  'china standard time': asia + 'Shanghai',\n  ct: asia + 'Shanghai',\n  'chinese time': asia + 'Shanghai',\n  'alma-ata time': asia + 'Almaty',\n  almt: asia + 'Almaty',\n  'oral time': asia + 'Oral',\n  'orat time': asia + 'Oral',\n  'yakutsk time': asia + 'Yakutsk',\n  yakt: asia + 'Yakutsk',\n  'gulf standard time': asia + 'Dubai',\n  'gulf time': asia + 'Dubai',\n  gst: asia + 'Dubai',\n  uae: asia + 'Dubai',\n  'hong kong time': asia + 'Hong_Kong',\n  hkt: asia + 'Hong_Kong',\n  'western indonesian time': asia + 'Jakarta',\n  wib: asia + 'Jakarta',\n  'indonesia time': asia + 'Jakarta',\n  'central indonesian time': asia + 'Makassar',\n  wita: asia + 'Makassar',\n  'israel daylight time': asia + 'Jerusalem',\n  idt: asia + 'Jerusalem',\n  'israel standard time': asia + 'Jerusalem',\n  'israel time': asia + 'Jerusalem',\n  israeli: asia + 'Jerusalem',\n  'krasnoyarsk time': asia + 'Krasnoyarsk',\n  krat: asia + 'Krasnoyarsk',\n  'malaysia time': asia + 'Kuala_Lumpur',\n  myt: asia + 'Kuala_Lumpur',\n  'singapore time': asia + 'Singapore',\n  sgt: asia + 'Singapore',\n  'korea standard time': asia + 'Seoul',\n  'korea time': asia + 'Seoul',\n  kst: asia + 'Seoul',\n  'korean time': asia + 'Seoul',\n  'uzbekistan time': asia + 'Samarkand',\n  uzt: asia + 'Samarkand',\n  'vladivostok time': asia + 'Vladivostok',\n  vlat: asia + 'Vladivostok',\n\n  //indian\n  'maldives time': 'Indian/Maldives',\n  mvt: 'Indian/Maldives',\n  'mauritius time': 'Indian/Mauritius',\n  mut: 'Indian/Mauritius',\n\n  // pacific\n  'marshall islands time': pac + 'Kwajalein',\n  mht: pac + 'Kwajalein',\n  'samoa standard time': pac + 'Midway',\n  sst: pac + 'Midway',\n  'somoan time': pac + 'Midway',\n  'chamorro standard time': pac + 'Guam',\n  chst: pac + 'Guam',\n  'papua new guinea time': pac + 'Bougainville',\n  pgt: pac + 'Bougainville',\n}\n\n//add the official iana zonefile names\nlet iana = spacetime().timezones\nlet formal = Object.keys(iana).reduce((h, k) => {\n  h[k] = k\n  return h\n}, {})\nmodule.exports = Object.assign({}, informal, formal)\n","module.exports = [\n  'weekday',\n\n  'summer',\n  'winter',\n  'autumn',\n\n  'some day',\n  'one day',\n  'all day',\n  'some point',\n\n  'eod',\n  'eom',\n  'eoy',\n  'standard time',\n  'daylight time',\n  'tommorrow',\n]\n","module.exports = [\n  'centuries',\n  'century',\n  'day',\n  'days',\n  'decade',\n  'decades',\n  'hour',\n  'hours',\n  'hr',\n  'hrs',\n  'millisecond',\n  'milliseconds',\n  'minute',\n  'minutes',\n  'min',\n  'mins',\n  'month',\n  'months',\n  'seconds',\n  'sec',\n  'secs',\n  'week end',\n  'week ends',\n  'weekend',\n  'weekends',\n  'week',\n  'weeks',\n  'wk',\n  'wks',\n  'year',\n  'years',\n  'yr',\n  'yrs',\n  'quarter',\n  // 'quarters',\n  'qtr',\n  'qtrs',\n  'season',\n  'seasons',\n]\n","module.exports = [\n  'all hallows eve',\n  'all saints day',\n  'all sts day',\n  'april fools',\n  'armistice day',\n  'australia day',\n  'bastille day',\n  'boxing day',\n  'canada day',\n  'christmas eve',\n  'christmas',\n  'cinco de mayo',\n  'day of the dead',\n  'dia de muertos',\n  'dieciseis de septiembre',\n  'emancipation day',\n  'grito de dolores',\n  'groundhog day',\n  'halloween',\n  'harvey milk day',\n  'inauguration day',\n  'independence day',\n  'independents day',\n  'juneteenth',\n  'labour day',\n  'national freedom day',\n  'national nurses day',\n  'new years eve',\n  'new years',\n  'purple heart day',\n  'rememberance day',\n  'rosa parks day',\n  'saint andrews day',\n  'saint patricks day',\n  'saint stephens day',\n  'saint valentines day',\n  'st andrews day',\n  'st patricks day',\n  'st stephens day',\n  'st valentines day ',\n  'valentines day',\n  'valentines',\n  'veterans day',\n  'victoria day',\n  'womens equality day',\n  'xmas',\n  // Fixed religious and cultural holidays\n  // Catholic + Christian\n  'epiphany',\n  'orthodox christmas day',\n  'orthodox new year',\n  'assumption of mary',\n  'all souls day',\n  'feast of the immaculate conception',\n  'feast of our lady of guadalupe',\n\n  // Kwanzaa\n  'kwanzaa',\n  // Pagan / metal 🤘\n  'imbolc',\n  'beltaine',\n  'lughnassadh',\n  'samhain',\n  'martin luther king day',\n  'mlk day',\n  'presidents day',\n  'mardi gras',\n  'tax day',\n  'commonwealth day',\n  'mothers day',\n  'memorial day',\n  'fathers day',\n  'columbus day',\n  'indigenous peoples day',\n  'canadian thanksgiving',\n  'election day',\n  'thanksgiving',\n  't-day',\n  'turkey day',\n  'black friday',\n  'cyber monday',\n  // Astronomical religious and cultural holidays\n  'ash wednesday',\n  'palm sunday',\n  'maundy thursday',\n  'good friday',\n  'holy saturday',\n  'easter',\n  'easter sunday',\n  'easter monday',\n  'orthodox good friday',\n  'orthodox holy saturday',\n  'orthodox easter',\n  'orthodox easter monday',\n  'ascension day',\n  'pentecost',\n  'whitsunday',\n  'whit sunday',\n  'whit monday',\n  'trinity sunday',\n  'corpus christi',\n  'advent',\n  // Jewish\n  'tu bishvat',\n  'tu bshevat',\n  'purim',\n  'passover',\n  'yom hashoah',\n  'lag baomer',\n  'shavuot',\n  'tisha bav',\n  'rosh hashana',\n  'yom kippur',\n  'sukkot',\n  'shmini atzeret',\n  'simchat torah',\n  'chanukah',\n  'hanukkah',\n  // Muslim\n  'isra and miraj',\n  'lailat al-qadr',\n  'eid al-fitr',\n  'id al-Fitr',\n  'eid ul-Fitr',\n  'ramadan',\n  'eid al-adha',\n  'muharram',\n  'the prophets birthday',\n  'ostara',\n  'march equinox',\n  'vernal equinox',\n  'litha',\n  'june solistice',\n  'summer solistice',\n  'mabon',\n  'september equinox',\n  'fall equinox',\n  'autumnal equinox',\n  'yule',\n  'december solstice',\n  'winter solstice',\n  // Additional important holidays\n  'chinese new year',\n  'diwali',\n]\n","module.exports = [\n  'noon',\n  'midnight',\n  'morning',\n  'tonight',\n  'evening',\n  'afternoon',\n  'breakfast time',\n  'lunchtime',\n  'dinnertime',\n  'midday',\n  'eod',\n  'oclock',\n  'oclock',\n  'at night',\n  // 'now',\n  // 'night',\n  // 'sometime',\n  // 'all day',\n]\n","const timezones = require('../_timezones')\nconst data = [\n  [require('./dates'), '#Date'],\n  [require('./durations'), '#Duration'],\n  [require('./holidays'), '#Holiday'],\n  [require('./times'), '#Time'],\n  [Object.keys(timezones), '#Timezone'],\n]\nlet lex = {\n  'a couple': 'Value',\n  thur: 'WeekDay',\n}\ndata.forEach((a) => {\n  for (let i = 0; i < a[0].length; i++) {\n    lex[a[0][i]] = a[1]\n  }\n})\n\nmodule.exports = lex\n","const spacetime = require('spacetime')\n\nclass Unit {\n  constructor(input, unit, context) {\n    this.unit = unit || 'day'\n    context = context || {}\n    let today = {}\n    if (context.today) {\n      today = {\n        date: context.today.date(),\n        month: context.today.month(),\n        year: context.today.year(),\n      }\n    }\n    // set it to the beginning of the given unit\n    let d = spacetime(input, context.timezone, { today: today })\n\n    // set to beginning?\n    // if (d.isValid() && keepTime !== true) {\n    //   d = d.startOf(this.unit)\n    // }\n    Object.defineProperty(this, 'd', {\n      enumerable: false,\n      writable: true,\n      value: d,\n    })\n    Object.defineProperty(this, 'context', {\n      enumerable: false,\n      writable: true,\n      value: context,\n    })\n  }\n  // make a new one\n  clone() {\n    let d = new Unit(this.d, this.unit, this.context)\n    return d\n  }\n  log() {\n    console.log('--')\n    this.d.log()\n    console.log('\\n')\n    return this\n  }\n  applyShift(obj = {}) {\n    Object.keys(obj).forEach((unit) => {\n      this.d = this.d.add(obj[unit], unit)\n    })\n    return this\n  }\n  applyTime(str) {\n    if (str) {\n      this.d = this.d.time(str)\n    } else {\n      this.d = this.d.startOf('day') //zero-out time\n    }\n    return this\n  }\n  applyWeekDay(day) {\n    if (day) {\n      let epoch = this.d.epoch\n      this.d = this.d.day(day)\n      if (this.d.epoch < epoch) {\n        this.d = this.d.add(1, 'week')\n      }\n    }\n    return this\n  }\n  applyRel(rel) {\n    if (rel === 'next') {\n      return this.next()\n    }\n    if (rel === 'last' || rel === 'this-past') {\n      // special 'this past' logic is handled in WeekDay\n      return this.last()\n    }\n    return this\n  }\n  applySection(section) {\n    if (section === 'start') {\n      return this.start()\n    }\n    if (section === 'end') {\n      return this.end()\n    }\n    if (section === 'middle') {\n      return this.middle()\n    }\n    return this\n  }\n  format(fmt) {\n    return this.d.format(fmt)\n  }\n  start() {\n    this.d = this.d.startOf(this.unit)\n    if (this.context.dayStart) {\n      this.d = this.d.time(this.context.dayStart)\n    }\n    return this\n  }\n  end() {\n    this.d = this.d.endOf(this.unit)\n    if (this.context.dayEnd) {\n      this.d = this.d.time(this.context.dayEnd)\n    }\n    return this\n  }\n  middle() {\n    let diff = this.d.diff(this.d.endOf(this.unit))\n    let minutes = Math.round(diff.minutes / 2)\n    this.d = this.d.add(minutes, 'minutes')\n    return this\n  }\n  // move it to 3/4s through\n  beforeEnd() {\n    let diff = this.d.startOf(this.unit).diff(this.d.endOf(this.unit))\n    let mins = Math.round(diff.minutes / 4)\n    this.d = this.d.endOf(this.unit)\n    this.d = this.d.minus(mins, 'minutes')\n    if (this.context.dayStart) {\n      this.d = this.d.time(this.context.dayStart)\n    }\n    return this\n  }\n  // the millescond before\n  before() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.endOf(this.unit)\n    if (this.context.dayEnd) {\n      this.d = this.d.time(this.context.dayEnd)\n    }\n    return this\n  }\n  // 'after 2019'\n  after() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'next june' 'next tuesday'\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'last june' 'last tuesday'\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nmodule.exports = Unit\n","const spacetime = require('spacetime')\nconst Unit = require('./Unit')\n\nclass Day extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n}\n\n// like 'feb 2'\nclass CalendarDate extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    return this\n  }\n}\n\nclass WeekDay extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    // is the input just a weekday?\n    if (typeof input === 'string') {\n      this.d = spacetime(context.today, context.timezone)\n      this.d = this.d.day(input)\n      // assume a wednesday in the future\n      if (this.d.isBefore(context.today)) {\n        this.d = this.d.add(7, 'days')\n      }\n    } else {\n      this.d = input\n    }\n    this.weekDay = this.d.dayName()\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  clone() {\n    return new WeekDay(this.d, this.unit, this.context)\n  }\n  end() {\n    this.d = this.d.endOf('day')\n    if (this.context.dayEnd) {\n      this.d = this.d.time(this.context.dayEnd)\n    }\n    return this\n  }\n  next() {\n    this.d = this.d.add(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n  // the millescond before\n  before() {\n    this.d = this.d.minus(1, 'day')\n    this.d = this.d.endOf('day')\n    if (this.context.dayEnd) {\n      this.d = this.d.time(this.context.dayEnd)\n    }\n    return this\n  }\n  applyRel(rel) {\n    if (rel === 'next') {\n      let tooFar = this.context.today.endOf('week').add(1, 'week')\n      this.next()\n      //  did we go too-far?\n      if (this.d.isAfter(tooFar)) {\n        this.last() // go back\n      }\n      return this\n    }\n    // the closest-one backwards\n    if (rel === 'this-past') {\n      return this.last()\n    }\n    if (rel === 'last') {\n      let start = this.context.today.startOf('week')\n      this.last()\n      // are we still in 'this week' though?\n      if (this.d.isBefore(start) === false) {\n        this.last() // do it again\n      }\n      return this\n    }\n    return this\n  }\n}\n\n// like 'haloween'\nclass Holiday extends CalendarDate {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n}\n\nmodule.exports = {\n  Day: Day,\n  WeekDay: WeekDay,\n  CalendarDate: CalendarDate,\n  Holiday: Holiday,\n}\n","const Unit = require('./Unit')\n\n// a specific month, like 'March'\nclass AnyMonth extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n}\n\n// a specific month, like 'March'\nclass Month extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n}\n\nclass AnyQuarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  last() {\n    this.d = this.d.minus(1, 'quarter')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\n\nclass Quarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Season extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'season'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Year extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'year'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('year')\n    }\n  }\n}\n\nmodule.exports = {\n  AnyMonth: AnyMonth,\n  Month: Month,\n  Quarter: Quarter,\n  AnyQuarter: AnyQuarter,\n  Season: Season,\n  Year: Year,\n}\n","const Unit = require('./Unit')\n\nclass Week extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('week')\n    }\n  }\n}\n\n//may need some work\nclass WeekEnd extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.day('saturday')\n      this.d = this.d.startOf('day')\n    }\n  }\n  start() {\n    this.d = this.d.day('saturday').startOf('day')\n    return this\n  }\n  // end() {\n  //   this.d = this.d.day('sunday').endOf('day')\n  //   return this\n  // }\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n}\n\nmodule.exports = {\n  Week: Week,\n  WeekEnd: WeekEnd,\n}\n","const Unit = require('./Unit')\n\nclass Hour extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'hour'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('hour')\n    }\n  }\n}\nclass Minute extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'minute'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('minute')\n    }\n  }\n}\nclass Moment extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'millisecond'\n  }\n}\n\nmodule.exports = {\n  Hour: Hour,\n  Minute: Minute,\n  Moment: Moment,\n}\n","module.exports = Object.assign(\n  { Unit: require('./Unit') },\n  require('./_day'),\n  require('./_year'),\n  require('./_week'),\n  require('./_time')\n)\n","const knownUnits = {\n  second: true,\n  minute: true,\n  hour: true,\n  day: true,\n  week: true,\n  weekend: true,\n  month: true,\n  season: true,\n  quarter: true,\n  year: true,\n}\n\nconst aliases = {\n  wk: 'week',\n  min: 'minute',\n  sec: 'second',\n  weekend: 'week', //for now...\n}\n\nconst parseUnit = function (m) {\n  let unit = m.match('#Duration').text('normal')\n  unit = unit.replace(/s$/, '')\n  // support shorthands like 'min'\n  if (aliases.hasOwnProperty(unit)) {\n    unit = aliases[unit]\n  }\n  return unit\n}\n\n//turn '5 weeks before' to {weeks:5}\nconst parseShift = function (doc) {\n  let result = {}\n  let shift = doc.match('#DateShift+')\n  if (shift.found === false) {\n    return result\n  }\n  // '5 weeks'\n  shift.match('#Cardinal #Duration').forEach((ts) => {\n    let num = ts.match('#Cardinal').text('normal')\n    num = parseFloat(num)\n    if (num && typeof num === 'number') {\n      let unit = parseUnit(ts)\n      if (knownUnits[unit] === true) {\n        result[unit] = num\n      }\n    }\n  })\n  //is it 2 weeks ago?  → -2\n  if (shift.has('(before|ago|hence|back)$') === true) {\n    Object.keys(result).forEach((k) => (result[k] *= -1))\n  }\n  shift.remove('#Cardinal #Duration')\n  // supoprt '1 day after tomorrow'\n  let m = shift.match('[<unit>#Duration] [<dir>(after|before)]')\n  if (m.found) {\n    let unit = m.groups('unit').text('reduced')\n    // unit = unit.replace(/s$/, '')\n    let dir = m.groups('dir').text('reduced')\n    if (dir === 'after') {\n      result[unit] = 1\n    } else if (dir === 'before') {\n      result[unit] = -1\n    }\n  }\n  // in half an hour\n  m = shift.match('half (a|an) [#Duration]', 0)\n  if (m.found) {\n    let unit = parseUnit(m)\n    result[unit] = 0.5\n  }\n  // finally, remove it from our text\n  doc.remove('#DateShift')\n  return result\n}\nmodule.exports = parseShift\n","/*\na 'counter' is a Unit determined after a point\n  * first hour of x\n  * 7th week in x\n  * last year in x\n  * \nunlike a shift, like \"2 weeks after x\"\n*/\nconst oneBased = {\n  minute: true,\n}\nconst getCounter = function (doc) {\n  // 7th week of\n  let m = doc.match('[<num>#Value] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let num = obj.num.text('reduced')\n    let unit = obj.unit.text('reduced')\n    let found = {\n      unit: unit,\n      num: Number(num) || 0,\n    }\n    // 0-based or 1-based units\n    if (!oneBased[unit]) {\n      found.num -= 1\n    }\n    doc = doc.remove(m)\n    return found\n  }\n  // first week of\n  m = doc.match('[<dir>(first|initial|last|final)] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let dir = obj.dir.text('reduced')\n    let unit = obj.unit.text('reduced')\n    if (dir === 'initial') {\n      dir = 'first'\n    }\n    if (dir === 'final') {\n      dir = 'last'\n    }\n    let found = {\n      unit: unit,\n      dir: dir,\n    }\n    doc = doc.remove(m)\n    return found\n  }\n\n  return {}\n}\nmodule.exports = getCounter\n","const spacetime = require('spacetime')\n\nconst hardCoded = {\n  daybreak: '7:00am', //ergh\n  breakfast: '8:00am',\n  morning: '9:00am',\n  noon: '12:00pm',\n  midday: '12:00pm',\n  afternoon: '2:00pm',\n  lunchtime: '12:00pm',\n  evening: '6:00pm',\n  dinnertime: '6:00pm',\n  night: '8:00pm',\n  eod: '10:00pm',\n  midnight: '12:00am',\n}\n\nconst halfPast = function (m, s) {\n  let hour = m.match('#Cardinal$').text('reduced')\n\n  let term = m.match('(half|quarter|25|15|10|5)')\n  let mins = term.text('reduced')\n  if (term.has('half')) {\n    mins = '30'\n  }\n  if (term.has('quarter')) {\n    mins = '15'\n  }\n  let behind = m.has('to')\n  // apply it\n  s = s.hour(hour)\n  s = s.startOf('hour')\n  // assume 'half past 5' is 5pm\n  if (hour < 6) {\n    s = s.ampm('pm')\n  }\n  if (behind) {\n    s = s.subtract(mins, 'minutes')\n  } else {\n    s = s.add(mins, 'minutes')\n  }\n  return s\n}\n\nconst parseTime = function (doc, context) {\n  let time = doc.match('(at|by|for|before|this)? #Time+')\n  if (time.found) {\n    doc.remove(time)\n  }\n  // get the main part of the time\n  time = time.not('^(at|by|for|before|this)')\n  time = time.not('sharp')\n  time = time.not('on the dot')\n  let s = spacetime.now(context.timezone)\n  let now = s.clone()\n\n  // check for known-times (like 'today')\n  let timeStr = time.text('reduced')\n  if (hardCoded.hasOwnProperty(timeStr)) {\n    return hardCoded[timeStr]\n  }\n\n  // '5 oclock'\n  let m = time.match('^#Cardinal oclock (am|pm)?')\n  if (m.found) {\n    m = m.not('oclock')\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      let ampm = m.match('(am|pm)').text('reduced')\n      s = s.ampm(ampm)\n      return s.time()\n    }\n  }\n\n  // 'quarter to two'\n  m = time.match('(half|quarter|25|15|10|5) (past|after|to) #Cardinal')\n  if (m.found) {\n    s = halfPast(m, s)\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n  // '4 in the evening'\n  m = time.match('[<time>#Time] (in|at) the? [<desc>(morning|evening|night|nighttime)]')\n  if (m.found) {\n    let str = m.groups('time').text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3 in the morning\n      s = s.startOf('hour')\n    } else {\n      s = s.time(str) // 3:30 in the morning\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = m.groups('desc').text('reduced')\n      if (desc === 'evening' || desc === 'night') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'this morning at 4'\n  m = time.match('this? [<desc>(morning|evening|tonight)] at [<time>(#Cardinal|#Time)]')\n  if (m.found) {\n    let g = m.groups()\n    let str = g.time.text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3\n      s = s.startOf('hour')\n    } else {\n      s = s.time(str) // 3:30\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = g.desc.text('reduced')\n      if (desc === 'morning') {\n        s = s.ampm('am')\n      }\n      if (desc === 'evening' || desc === 'tonight') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'at 4' -> '4'\n  m = time.match('^#Cardinal$')\n  if (m.found) {\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n\n  // parse random a time like '4:54pm'\n  let str = time.text('reduced')\n  s = s.time(str)\n  if (s.isValid() && !s.isEqual(now)) {\n    return s.time()\n  }\n  // should we fallback to a dayStart default?\n  if (context.dayStart) {\n    return context.dayStart\n  }\n  return null\n}\nmodule.exports = parseTime\n","// interpret 'this halloween' or 'next june'\nconst parseRelative = function (doc) {\n  // avoid parsing 'day after next'\n  if (doc.has('(next|last|this)$')) {\n    return null\n  }\n  // next monday\n  let m = doc.match('^this? (next|upcoming|coming)')\n  if (m.found) {\n    doc.remove(m)\n    return 'next'\n  }\n  // 'this past monday' is not-always 'last monday'\n  m = doc.match('^this? (past)')\n  if (m.found) {\n    doc.remove(m)\n    return 'this-past'\n  }\n  // last monday\n  m = doc.match('^this? (last|previous)')\n  if (m.found) {\n    doc.remove(m)\n    return 'last'\n  }\n  // this monday\n  m = doc.match('^(this|current)')\n  if (m.found) {\n    doc.remove(m)\n    return 'this'\n  }\n  return null\n}\nmodule.exports = parseRelative\n","// 'start of october', 'middle of june 1st'\nconst parseSection = function (doc) {\n  // start of 2019\n  let m = doc.match('[(start|beginning) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'start'\n  }\n  // end of 2019\n  m = doc.match('[end of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'end'\n  }\n  // middle of 2019\n  m = doc.match('[(middle|midpoint|center) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'middle'\n  }\n  return null\n}\nmodule.exports = parseSection\n","const informal = require('../../data/_timezones')\n\nconst isOffset = /(\\-?[0-9]+)h(rs)?/i\nconst isNumber = /(\\-?[0-9]+)/\nconst utcOffset = /utc([\\-+]?[0-9]+)/i\nconst gmtOffset = /gmt([\\-+]?[0-9]+)/i\n\nconst toIana = function(num) {\n  num = Number(num)\n  if (num > -13 && num < 13) {\n    num = num * -1 //it's opposite!\n    num = (num > 0 ? '+' : '') + num //add plus sign\n    return 'Etc/GMT' + num\n  }\n  return null\n}\n\nconst parseOffset = function(tz) {\n  // '+5hrs'\n  let m = tz.match(isOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'utc+5'\n  m = tz.match(utcOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'GMT-5' (not opposite)\n  m = tz.match(gmtOffset)\n  if (m !== null) {\n    let num = Number(m[1]) * -1\n    return toIana(num)\n  }\n  // '+5'\n  m = tz.match(isNumber)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  return null\n}\n\nconst parseTimezone = function(doc) {\n  let m = doc.match('#Timezone+')\n  //remove prepositions\n  m = m.remove('(in|for|by|near|at)')\n  let str = m.text('reduced')\n\n  // remove it from our doc, either way\n  doc.remove('#Timezone+')\n\n  // check our list of informal tz names\n  if (informal.hasOwnProperty(str)) {\n    return informal[str]\n  }\n  let tz = parseOffset(str)\n  if (tz) {\n    return tz\n  }\n\n  return null\n}\nmodule.exports = parseTimezone\n","// pull-out 'thurs' from 'thurs next week'\nconst parseWeekday = function (doc) {\n  let day = doc.match('#WeekDay')\n  if (day.found && !doc.has('^#WeekDay$')) {\n    // handle relative-day logic elsewhere.\n    if (doc.has('(this|next|last) (next|upcoming|coming|past)? #WeekDay')) {\n      return null\n    }\n    doc.remove(day)\n    return day.text('reduced')\n  }\n  return null\n}\nmodule.exports = parseWeekday\n","const { Day, Moment } = require('../units')\n\nconst knownWord = {\n  today: (context) => {\n    return new Day(context.today, null, context)\n  },\n  yesterday: (context) => {\n    return new Day(context.today.minus(1, 'day'), null, context)\n  },\n  tomorrow: (context) => {\n    return new Day(context.today.plus(1, 'day'), null, context)\n  },\n  eom: (context) => {\n    let d = context.today.endOf('month')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n  // eod: (context) => {\n  //   let d = context.today.endOf('day')\n  //   d = d.startOf('hour').minus(4, 'hours') //rough\n  //   return new Hour(d, null, context)\n  // },\n  eoy: (context) => {\n    let d = context.today.endOf('year')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n}\nknownWord.tommorrow = knownWord.tomorrow\nknownWord.tmrw = knownWord.tomorrow\n\nconst today = function (doc, context, section) {\n  let unit = null\n  // is it empty?\n  if (doc.found === false) {\n    // do we have just a time?\n    if (section.time !== null) {\n      unit = new Moment(context.today, null, context) // choose today\n    }\n    //do we just have a shift?\n    if (Object.keys(section.shift).length > 0) {\n      if (section.shift.hour || section.shift.minute) {\n        unit = new Moment(context.today, null, context) // choose now\n      } else {\n        unit = new Day(context.today, null, context) // choose today\n      }\n    }\n  }\n\n  // today, yesterday, tomorrow\n  let str = doc.text('reduced')\n  if (knownWord.hasOwnProperty(str) === true) {\n    return knownWord[str](context)\n  }\n  // day after next\n  if (str === 'next' && Object.keys(section.shift).length > 0) {\n    return knownWord.tomorrow(context)\n  }\n  return unit\n}\nmodule.exports = today\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('spacetime')) :\n  typeof define === 'function' && define.amd ? define(['spacetime'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.spacetimeHoliday = factory(global.spacetime));\n}(this, (function (spacetime) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var spacetime__default = /*#__PURE__*/_interopDefaultLegacy(spacetime);\n\n  //yep,\n  var jan = 'january';\n  var feb = 'february';\n  var mar = 'march';\n  var apr = 'april';\n  var may = 'may';\n  var jun = 'june';\n  var jul = 'july';\n  var aug = 'august';\n  var sep = 'september';\n  var oct = 'october';\n  var nov = 'november';\n  var dec = 'december';\n  var fixedHolidays = {\n    'new years eve': [dec, 31],\n    'new years': [jan, 1],\n    'new years day': [jan, 1],\n    'inauguration day': [jan, 20],\n    'australia day': [jan, 26],\n    'national freedom day': [feb, 1],\n    'groundhog day': [feb, 2],\n    'rosa parks day': [feb, 4],\n    'valentines day': [feb, 14],\n    'saint valentines day': [feb, 14],\n    'st valentines day ': [feb, 14],\n    'saint patricks day': [mar, 17],\n    'st patricks day': [mar, 17],\n    'april fools': [apr, 1],\n    'april fools day': [apr, 1],\n    'emancipation day': [apr, 16],\n    'tax day': [apr, 15],\n    //US\n    'labour day': [may, 1],\n    'cinco de mayo': [may, 5],\n    'national nurses day': [may, 6],\n    'harvey milk day': [may, 22],\n    'victoria day': [may, 24],\n    juneteenth: [jun, 19],\n    'canada day': [jul, 1],\n    'independence day': [jul, 4],\n    'independents day': [jul, 4],\n    'bastille day': [jul, 14],\n    'purple heart day': [aug, 7],\n    'womens equality day': [aug, 26],\n    '16 de septiembre': [sep, 16],\n    'dieciseis de septiembre': [sep, 16],\n    'grito de dolores': [sep, 16],\n    halloween: [oct, 31],\n    'all hallows eve': [oct, 31],\n    'day of the dead': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'dia de muertos': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'veterans day': [nov, 11],\n    'st andrews day': [nov, 30],\n    'saint andrews day': [nov, 30],\n    'all saints day': [nov, 1],\n    'all sts day': [nov, 1],\n    'armistice day': [nov, 11],\n    'rememberance day': [nov, 11],\n    'christmas eve': [dec, 24],\n    christmas: [dec, 25],\n    xmas: [dec, 25],\n    'boxing day': [dec, 26],\n    'st stephens day': [dec, 26],\n    'saint stephens day': [dec, 26],\n    // Fixed religious and cultural holidays\n    // Catholic + Christian\n    epiphany: [jan, 6],\n    'orthodox christmas day': [jan, 7],\n    'orthodox new year': [jan, 14],\n    'assumption of mary': [aug, 15],\n    'all souls day': [nov, 2],\n    'feast of the immaculate conception': [dec, 8],\n    'feast of our lady of guadalupe': [dec, 12],\n    // Kwanzaa\n    kwanzaa: [dec, 26],\n    // Ranged holiday [jan, 1],\n    // Pagan / metal 🤘\n    imbolc: [feb, 2],\n    beltaine: [may, 1],\n    lughnassadh: [aug, 1],\n    samhain: [oct, 31]\n  };\n\n  var fixedDates = function fixedDates(str, normal, year, tz) {\n    if (fixedHolidays.hasOwnProperty(str) || fixedHolidays.hasOwnProperty(normal)) {\n      var arr = fixedHolidays[str] || fixedHolidays[normal] || [];\n      var s = spacetime__default['default'].now(tz);\n      s = s.year(year);\n      s = s.startOf('year');\n      s = s.month(arr[0]);\n      s = s.date(arr[1]);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _01FixedDates = fixedDates;\n\n  //these are holidays on the 'nth weekday of month'\n  var jan$1 = 'january';\n  var feb$1 = 'february';\n  var mar$1 = 'march'; // const apr = 'april'\n\n  var may$1 = 'may';\n  var jun$1 = 'june'; // const jul = 'july'\n  // const aug = 'august'\n\n  var sep$1 = 'september';\n  var oct$1 = 'october';\n  var nov$1 = 'november'; // const dec = 'december'\n\n  var mon = 'monday'; // const tues = 'tuesday'\n  // const wed = 'wednesday'\n\n  var thurs = 'thursday';\n  var fri = 'friday'; // const sat = 'saturday'\n\n  var sun = 'sunday';\n  var holidays = {\n    'martin luther king day': [3, mon, jan$1],\n    //[third monday in january],\n    'presidents day': [3, mon, feb$1],\n    //[third monday in february],\n    'commonwealth day': [2, mon, mar$1],\n    //[second monday in march],\n    'mothers day': [2, sun, may$1],\n    //[second Sunday in May],\n    'fathers day': [3, sun, jun$1],\n    //[third Sunday in June],\n    'labor day': [1, mon, sep$1],\n    //[first monday in september],\n    'columbus day': [2, mon, oct$1],\n    //[second monday in october],\n    'canadian thanksgiving': [2, mon, oct$1],\n    //[second monday in october],\n    thanksgiving: [4, thurs, nov$1],\n    // [fourth Thursday in November],\n    'black friday': [4, fri, nov$1] //[fourth friday in november],\n    // 'memorial day': [may], //[last monday in may],\n    // 'us election': [nov], // [Tuesday following the first Monday in November],\n    // 'cyber monday': [nov]\n    // 'advent': [] // fourth Sunday before Christmas\n\n  }; // add aliases\n\n  holidays['turday day'] = holidays.thanksgiving;\n  holidays['indigenous peoples day'] = holidays['columbus day'];\n  holidays['mlk day'] = holidays['martin luther king day'];\n  var calendarHolidays = holidays;\n\n  var fixedDates$1 = function fixedDates(str, normal, year, tz) {\n    if (calendarHolidays.hasOwnProperty(str) || calendarHolidays.hasOwnProperty(normal)) {\n      var arr = calendarHolidays[str] || calendarHolidays[normal] || [];\n      var s = spacetime__default['default'].now(tz);\n      s = s.year(year); // [3rd, 'monday', 'january']\n\n      s = s.month(arr[2]);\n      s = s.startOf('month'); // make it january\n\n      var month = s.month(); // make it the 1st monday\n\n      s = s.day(arr[1]);\n\n      if (s.month() !== month) {\n        s = s.add(1, 'week');\n      } // make it nth monday\n\n\n      if (arr[0] > 1) {\n        s = s.add(arr[0] - 1, 'week');\n      }\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _02NthWeekday = fixedDates$1;\n\n  // https://www.timeanddate.com/calendar/determining-easter-date.html\n  var dates = {\n    easter: 0,\n    'ash wednesday': -46,\n    // (46 days before easter)\n    'palm sunday': 7,\n    // (1 week before easter)\n    'maundy thursday': -3,\n    // (3 days before easter)\n    'good friday': -2,\n    // (2 days before easter)\n    'holy saturday': -1,\n    // (1 days before easter)\n    'easter saturday': -1,\n    // (1 day before easter)\n    'easter monday': 1,\n    // (1 day after easter)\n    'ascension day': 39,\n    // (39 days after easter)\n    'whit sunday': 49,\n    // / pentecost (49 days after easter)\n    'whit monday': 50,\n    // (50 days after easter)\n    'trinity sunday': 65,\n    // (56 days after easter)\n    'corpus christi': 60,\n    // (60 days after easter)\n    'mardi gras': -47 //(47 days before easter)\n\n  };\n  dates['easter sunday'] = dates.easter;\n  dates['pentecost'] = dates['whit sunday'];\n  dates['whitsun'] = dates['whit sunday'];\n  var easterHolidays = dates;\n\n  // by John Dyer\n  // based on the algorithm by Oudin (1940) from http://www.tondering.dk/claus/cal/easter.php\n  var calcEaster = function calcEaster(year) {\n    var f = Math.floor,\n        // Golden Number - 1\n    G = year % 19,\n        C = f(year / 100),\n        // related to Epact\n    H = (C - f(C / 4) - f((8 * C + 13) / 25) + 19 * G + 15) % 30,\n        // number of days from 21 March to the Paschal full moon\n    I = H - f(H / 28) * (1 - f(29 / (H + 1)) * f((21 - G) / 11)),\n        // weekday for the Paschal full moon\n    J = (year + f(year / 4) + I + 2 - C + f(C / 4)) % 7,\n        // number of days from 21 March to the Sunday on or before the Paschal full moon\n    L = I - J,\n        month = 3 + f((L + 40) / 44),\n        date = L + 28 - 31 * f(month / 4);\n    month = month === 4 ? 'April' : 'March';\n    return month + ' ' + date;\n  };\n\n  var calcEaster_1 = calcEaster;\n\n  var easterDates = function easterDates(str, normal, year, tz) {\n    if (easterHolidays.hasOwnProperty(str) || easterHolidays.hasOwnProperty(normal)) {\n      var days = easterHolidays[str] || easterHolidays[normal] || [];\n      var date = calcEaster_1(year);\n\n      if (!date) {\n        return null; //no easter for this year\n      }\n\n      var e = spacetime__default['default'](date, tz);\n      e = e.year(year);\n      var s = e.add(days, 'day');\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _03EasterDates = easterDates;\n\n  // http://www.astropixels.com/ephemeris/soleq2001.html\n  // years 2000-2100\n  var exceptions = {\n    spring: [2003, 2007, 2044, 2048, 2052, 2056, 2060, 2064, 2068, 2072, 2076, 2077, 2080, 2081, 2084, 2085, 2088, 2089, 2092, 2093, 2096, 2097],\n    summer: [2021, 2016, 2020, 2024, 2028, 2032, 2036, 2040, 2041, 2044, 2045, 2048, 2049, 2052, 2053, 2056, 2057, 2060, 2061, 2064, 2065, 2068, 2069, 2070, 2072, 2073, 2074, 2076, 2077, 2078, 2080, 2081, 2082, 2084, 2085, 2086, 2088, 2089, 2090, 2092, 2093, 2094, 2096, 2097, 2098, 2099],\n    fall: [2002, 2003, 2004, 2006, 2007, 2010, 2011, 2014, 2015, 2018, 2019, 2022, 2023, 2026, 2027, 2031, 2035, 2039, 2043, 2047, 2051, 2055, 2059, 2092, 2096],\n    winter: [2002, 2003, 2006, 2007, 2011, 2015, 2019, 2023, 2027, 2031, 2035, 2039, 2043, 2080, 2084, 2088, 2092, 2096]\n  };\n  var winter20th = [2080, 2084, 2088, 2092, 2096];\n\n  var calcSeasons = function calcSeasons(year) {\n    // most common defaults\n    var res = {\n      spring: 'March 20 ' + year,\n      summer: 'June 21 ' + year,\n      fall: 'Sept 22 ' + year,\n      winter: 'Dec 21 ' + year\n    };\n\n    if (exceptions.spring.indexOf(year) !== -1) {\n      res.spring = 'March 19 ' + year;\n    }\n\n    if (exceptions.summer.indexOf(year) !== -1) {\n      res.summer = 'June 20 ' + year;\n    }\n\n    if (exceptions.fall.indexOf(year) !== -1) {\n      res.fall = 'Sept 21 ' + year;\n    } // winter can be 20th, 21st, or 22nd\n\n\n    if (exceptions.winter.indexOf(year) !== -1) {\n      res.winter = 'Dec 22 ' + year;\n    }\n\n    if (winter20th.indexOf(year) !== -1) {\n      res.winter = 'Dec 20 ' + year;\n    }\n\n    return res;\n  };\n\n  var seasons = calcSeasons;\n\n  // these are properly calculated in ./lib/seasons\n  var dates$1 = {\n    'spring equinox': 'spring',\n    'summer solistice': 'summer',\n    'fall equinox': 'fall',\n    'winter solstice': 'winter'\n  }; // aliases\n\n  dates$1['march equinox'] = dates$1['spring equinox'];\n  dates$1['vernal equinox'] = dates$1['spring equinox'];\n  dates$1['ostara'] = dates$1['spring equinox'];\n  dates$1['june solstice'] = dates$1['summer solistice'];\n  dates$1['litha'] = dates$1['summer solistice'];\n  dates$1['autumn equinox'] = dates$1['fall equinox'];\n  dates$1['autumnal equinox'] = dates$1['fall equinox'];\n  dates$1['september equinox'] = dates$1['fall equinox'];\n  dates$1['sept equinox'] = dates$1['fall equinox'];\n  dates$1['mabon'] = dates$1['fall equinox'];\n  dates$1['december solstice'] = dates$1['winter solistice'];\n  dates$1['dec solstice'] = dates$1['winter solistice'];\n  dates$1['yule'] = dates$1['winter solistice'];\n  var astroHolidays = dates$1;\n\n  var astroDates = function astroDates(str, normal, year, tz) {\n    if (astroHolidays.hasOwnProperty(str) || astroHolidays.hasOwnProperty(normal)) {\n      var season = astroHolidays[str] || astroHolidays[normal];\n      var seasons$1 = seasons(year);\n\n      if (!season || !seasons$1 || !seasons$1[season]) {\n        return null; // couldn't figure it out\n      }\n\n      var s = spacetime__default['default'](seasons$1[season], tz);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _04Astronomical = astroDates;\n\n  var dates$2 = {\n    // Muslim holidays\n    'isra and miraj': 'april 13',\n    'lailat al-qadr': 'june 10',\n    'eid al-fitr': 'june 15',\n    'id al-Fitr': 'june 15',\n    'eid ul-Fitr': 'june 15',\n    ramadan: 'may 16',\n    // Range holiday\n    'eid al-adha': 'sep 22',\n    muharram: 'sep 12',\n    'prophets birthday': 'nov 21'\n  };\n  var lunarHolidays = dates$2;\n\n  var dayDiff = -10.64;\n\n  var lunarDates = function lunarDates(str, normal, year, tz) {\n    if (lunarHolidays.hasOwnProperty(str) || lunarHolidays.hasOwnProperty(normal)) {\n      var date = lunarHolidays[str] || lunarHolidays[normal] || [];\n\n      if (!date) {\n        return null;\n      } // start at 2018\n\n\n      var s = spacetime__default['default'](date + ' 2018', tz);\n      var diff = year - 2018;\n      var toAdd = diff * dayDiff;\n      s = s.add(toAdd, 'day');\n      s = s.startOf('day'); // now set the correct year\n\n      s = s.year(year);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _05LunarDates = lunarDates;\n\n  var nowYear = spacetime__default['default'].now().year();\n\n  var spacetimeHoliday = function spacetimeHoliday(str, year, tz) {\n    year = year || nowYear;\n    str = str || '';\n    str = String(str);\n    str = str.trim().toLowerCase();\n    str = str.replace(/'s/, 's'); // 'mother's day'\n\n    var normal = str.replace(/ day$/, '');\n    normal = normal.replace(/^the /, '');\n    normal = normal.replace(/^orthodox /, ''); //orthodox good friday\n    // try easier, unmoving holidays\n\n    var s = _01FixedDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // try 'nth monday' holidays\n\n\n    s = _02NthWeekday(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // easter-based holidays\n\n\n    s = _03EasterDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // solar-based holidays\n\n\n    s = _04Astronomical(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // mostly muslim holidays\n\n\n    s = _05LunarDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    }\n\n    return null;\n  };\n\n  var src = spacetimeHoliday;\n\n  return src;\n\n})));\n//# sourceMappingURL=spacetime-holiday.js.map\n","const { Holiday } = require('../units')\nconst spacetimeHoliday = require('spacetime-holiday')\n\nconst parseHoliday = function (doc, context) {\n  let unit = null\n  let m = doc.match('[<holiday>#Holiday+] [<year>#Year?]')\n  let year = context.today.year()\n  if (m.groups('year').found) {\n    year = Number(m.groups('year').text('reduced')) || year\n  }\n  let str = m.groups('holiday').text('reduced')\n  let s = spacetimeHoliday(str, year, context.timezone)\n  if (s !== null) {\n    // assume the year in the future..\n    if (s.isBefore(context.today) && year === context.today.year()) {\n      s = spacetimeHoliday(str, year + 1, context.timezone)\n    }\n    unit = new Holiday(s, null, context)\n  }\n  return unit\n}\nmodule.exports = parseHoliday\n","const { Week, WeekEnd, AnyMonth, AnyQuarter, Year, Season, WeekDay, Day, Hour, Minute, Moment } = require('../units')\nconst mapping = {\n  day: Day,\n  hour: Hour,\n  evening: Hour,\n  second: Moment,\n  milliscond: Moment,\n  instant: Moment,\n  minute: Minute,\n  week: Week,\n  weekend: WeekEnd,\n  month: AnyMonth,\n  quarter: AnyQuarter,\n  year: Year,\n  season: Season,\n  // set aliases\n  yr: Year,\n  qtr: AnyQuarter,\n  wk: Week,\n  sec: Moment,\n  hr: Hour,\n}\n\nlet matchStr = `^(${Object.keys(mapping).join('|')})$`\n\n// when a unit of time is spoken of as 'this month' - instead of 'february'\nconst nextLast = function (doc, context) {\n  //this month, last quarter, next year\n  let m = doc.match(matchStr)\n  if (m.found === true) {\n    let str = m.text('reduced')\n    if (mapping.hasOwnProperty(str)) {\n      let Model = mapping[str]\n      if (!Model) {\n        return null\n      }\n      let unit = new Model(null, str, context)\n      return unit\n    }\n  }\n\n  //'next friday, last thursday'\n  m = doc.match('^#WeekDay$')\n  if (m.found === true) {\n    let str = m.text('reduced')\n    let unit = new WeekDay(str, null, context)\n    return unit\n  }\n\n  // tuesday next week\n  // m = doc.match('^#WeekDay (this|next)')\n  // if (m.found === true) {\n  //   let str = m.text('reduced')\n  //   let unit = new WeekDay(str, null, context)\n  //   return unit\n  // }\n  return null\n}\nmodule.exports = nextLast\n","const { Quarter, Season, Year } = require('../units')\nconst spacetime = require('spacetime')\n\nconst fmtToday = function (context) {\n  return {\n    date: context.today.date(),\n    month: context.today.month(),\n    year: context.today.year(),\n  }\n}\n\nconst parseYearly = function (doc, context) {\n  // support 'summer 2002'\n  let m = doc.match('(spring|summer|winter|fall|autumn) [<year>#Year?]')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    let unit = new Season(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'q4 2020'\n  m = doc.match('[<q>#FinancialQuarter] [<year>#Year?]')\n  if (m.found) {\n    let str = m.groups('q').text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '4th quarter 2020'\n  m = doc.match('[<q>#Value] quarter (of|in)? [<year>#Year?]')\n  if (m.found) {\n    let q = m.groups('q').text('reduced')\n    let s = spacetime(`q${q}`, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '2020'\n  m = doc.match('^#Year$')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(null, context.timezone, { today: fmtToday(context) })\n    s = s.year(str)\n    let unit = new Year(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  return null\n}\nmodule.exports = parseYearly\n","const { Day, CalendarDate, Month, Moment } = require('../units')\n\n// parse things like 'june 5th 2019'\n// most of this is done in spacetime\nconst parseExplicit = function (doc, context) {\n  let impliedYear = context.today.year()\n  // 'fifth of june 1992'\n  // 'june the fifth 1992'\n  let m = doc.match('[<date>#Value] of? [<month>#Month] [<year>#Year]')\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value] [<year>#Year]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // 'march 1992'\n  m = doc.match('[<month>#Month] of? [<year>#Year]')\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new Month(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  //no-years\n  // 'fifth of june'\n  m = doc.match('[<date>#Value] of? [<month>#Month]')\n  // 'june the fifth'\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new CalendarDate(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support 'december'\n  if (doc.has('#Month')) {\n    let obj = {\n      month: doc.match('#Month').text(),\n      date: 1, //assume 1st\n      year: context.today.year(),\n    }\n    let unit = new Month(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new Month(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'thursday 21st'\n  m = doc.match('#WeekDay [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support date-only 'the 21st'\n  m = doc.match('the [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      // assume it's forward\n      if (unit.d.isBefore(context.today)) {\n        unit.d = unit.d.add(1, 'month')\n      }\n      return unit\n    }\n  }\n  // parse ISO as a Moment\n  m = doc.match('/[0-9]{4}-[0-9]{2}-[0-9]{2}t[0-9]{2}:/')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let unit = new Moment(str, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  let str = doc.text('reduced')\n  // punt it to spacetime, for the heavy-lifting\n  let unit = new Day(str, null, context)\n  // console.log(str, unit, context.today.year())\n  // did we find a date?\n  if (unit.d.isValid() === false) {\n    return null\n  }\n  return unit\n}\nmodule.exports = parseExplicit\n","const { Quarter, Season, Week, Day, Hour, Minute, Month, WeekEnd } = require('../units')\n\nconst units = {\n  day: Day,\n  week: Week,\n  weekend: WeekEnd,\n  month: Month,\n  quarter: Quarter,\n  season: Season,\n  hour: Hour,\n  minute: Minute,\n}\n\nconst applyCounter = function (unit, counter = {}) {\n  let Unit = units[counter.unit]\n  if (!Unit) {\n    return unit\n  }\n  let d = unit.d\n\n  // support 'first' or 0th\n  if (counter.dir === 'first' || counter.num === 0) {\n    d = unit.start().d\n    d = d.startOf(counter.unit)\n  } else if (counter.dir === 'last') {\n    d = d.endOf(unit.unit)\n    d = d.startOf(counter.unit)\n  } else if (counter.num) {\n    // support 'nth week', eg.\n    d = d.add(counter.num, counter.unit)\n  }\n  let u = new Unit(d, null, unit.context)\n  if (u.d.isValid() === true) {\n    return u\n  }\n  return unit //fallback\n}\nmodule.exports = applyCounter\n","const { WeekDay } = require('./units')\nconst tokens = {\n  shift: require('./01-tokenize/01-shift'),\n  counter: require('./01-tokenize/02-counter'),\n  time: require('./01-tokenize/03-time'),\n  relative: require('./01-tokenize/04-relative'),\n  section: require('./01-tokenize/05-section'),\n  timezone: require('./01-tokenize/06-timezone'),\n  weekday: require('./01-tokenize/07-weekday'),\n}\n\nconst parse = {\n  today: require('./02-parse/01-today'),\n  holiday: require('./02-parse/02-holidays'),\n  nextLast: require('./02-parse/03-next-last'),\n  yearly: require('./02-parse/04-yearly'),\n  explicit: require('./02-parse/05-explicit'),\n}\n\nconst transform = {\n  counter: require('./03-transform/addCounter'),\n}\n\nconst parseDate = function (doc, context) {\n  // quick normalization\n  doc.match('[^the] !#Value', 0).remove() // keep 'the 17th'\n  //parse-out any sections\n  let shift = tokens.shift(doc)\n  let counter = tokens.counter(doc)\n  let tz = tokens.timezone(doc)\n  let time = tokens.time(doc, context)\n  let weekDay = tokens.weekday(doc, context)\n  let section = tokens.section(doc, context)\n  let rel = tokens.relative(doc)\n\n  //set our new timezone\n  if (tz) {\n    context = Object.assign({}, context, { timezone: tz })\n    let iso = context.today.format('iso-short')\n    context.today = context.today.goto(context.timezone).set(iso)\n  }\n  let unit = null\n  //'in two days'\n  unit = unit || parse.today(doc, context, { shift, time, rel })\n  // 'this haloween'\n  unit = unit || parse.holiday(doc, context)\n  // 'this month'\n  unit = unit || parse.nextLast(doc, context)\n  // 'q2 2002'\n  unit = unit || parse.yearly(doc, context)\n  // 'this june 2nd'\n  unit = unit || parse.explicit(doc, context)\n  // debugging\n  // console.log('\\n\\n=-=-=-=-=-=-=-=-=-=-=-=Date-=-=-=-=-=-=-=-=-=-=-=-=-\\n')\n  // console.log(`  shift:      ${JSON.stringify(shift)}`)\n  // console.log(`  counter:   `, counter)\n  // console.log(`  rel:        ${rel || '-'}`)\n  // console.log(`  section:    ${section || '-'}`)\n  // console.log(`  time:       ${time || '-'}`)\n  // console.log(`  str:       '${doc.text()}'`)\n  // console.log('  unit:     ', unit, '\\n')\n  // doc.debug()\n  // console.log('=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\\n\\n')\n\n  if (!unit) {\n    return null\n  }\n\n  // 2 days after..\n  if (shift) {\n    unit.applyShift(shift)\n  }\n  // wednesday next week\n  if (weekDay && unit.unit !== 'day') {\n    unit.applyWeekDay(weekDay)\n    unit = new WeekDay(unit.d, null, unit.context)\n  }\n  // this/next/last\n  if (rel) {\n    unit.applyRel(rel)\n  }\n  // end of\n  if (section) {\n    unit.applySection(section)\n  }\n  // at 5:40pm\n  if (time) {\n    unit.applyTime(time)\n  }\n  // apply counter\n  if (counter && counter.unit) {\n    unit = transform.counter(unit, counter)\n  }\n  return unit\n}\nmodule.exports = parseDate\n","const dayNames = {\n  mon: 'monday',\n  tue: 'tuesday',\n  tues: 'wednesday',\n  wed: 'wednesday',\n  thu: 'thursday',\n  fri: 'friday',\n  sat: 'saturday',\n  sun: 'sunday',\n  monday: 'monday',\n  tuesday: 'tuesday',\n  wednesday: 'wednesday',\n  thursday: 'thursday',\n  friday: 'friday',\n  saturday: 'saturday',\n  sunday: 'sunday',\n}\n// 'any tuesday' vs 'every tuesday'\nconst parseLogic = function (m) {\n  if (m.match('(every|each)').found) {\n    return 'AND'\n  }\n  if (m.match('(any|a)').found) {\n    return 'OR'\n  }\n  return null\n}\n\n// parse repeating dates, like 'every week'\nconst parseIntervals = function (doc) {\n  // 'every week'\n  let m = doc.match('[<logic>(every|any|each)] [<skip>other?] [<unit>#Duration] (starting|beginning|commencing)?')\n  if (m.found) {\n    let repeat = { interval: {} }\n    let unit = m.groups('unit').text('reduced')\n    repeat.interval[unit] = 1\n    repeat.choose = parseLogic(m)\n    // 'every other week'\n    if (m.groups('skip').found) {\n      repeat.interval[unit] = 2\n    }\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n\n  // 'every two weeks'\n  m = doc.match('[<logic>(every|any|each)] [<num>#Value] [<unit>#Duration] (starting|beginning|commencing)?')\n  if (m.found) {\n    let repeat = { interval: {} }\n    let units = m.groups('unit')\n    units.nouns().toSingular()\n    let unit = units.text('reduced')\n    repeat.interval[unit] = m.groups('num').numbers().get(0)\n    repeat.choose = parseLogic(m)\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n\n  // 'every friday'\n  m = doc.match('[<logic>(every|any|each|a)] [<skip>other?] [<day>#WeekDay+] (starting|beginning|commencing)?')\n  if (m.found) {\n    let repeat = { interval: { day: 1 }, filter: { weekDays: {} } }\n    let str = m.groups('day').text('reduced')\n    str = dayNames[str] //normalize it\n    if (str) {\n      repeat.filter.weekDays[str] = true\n      repeat.choose = parseLogic(m)\n      doc = doc.remove(m)\n      return { repeat: repeat }\n    }\n  }\n\n  // 'every weekday'\n  m = doc.match(\n    '[<logic>(every|any|each|a)] [<day>(weekday|week day|weekend|weekend day)] (starting|beginning|commencing)?'\n  )\n  if (m.found) {\n    let repeat = { interval: { day: 1 }, filter: { weekDays: {} } }\n    let day = m.groups('day')\n    if (day.has('(weekday|week day)')) {\n      repeat.filter.weekDays = {\n        monday: true,\n        tuesday: true,\n        wednesday: true,\n        thursday: true,\n        friday: true,\n      }\n    } else if (day.has('(weekend|weekend day)')) {\n      repeat.filter.weekDays = {\n        saturday: true,\n        sunday: true,\n      }\n    }\n    repeat.choose = parseLogic(m)\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n  return null\n}\nmodule.exports = parseIntervals\n","const parseDate = require('../parseDate/parse')\nconst Unit = require('../parseDate/units/Unit')\n\nconst punt = function (unit, context) {\n  unit = unit.applyShift(context.punt)\n  return unit\n}\n\nmodule.exports = [\n  {\n    // two explicit dates - 'between friday and sunday'\n    match: 'between [<start>*] and [<end>*]',\n    parse: (m, context) => {\n      let start = m.groups('start')\n      start = parseDate(start, context)\n      let end = m.groups('end')\n      end = parseDate(end, context)\n      end = end.before()\n      if (start && end) {\n        return {\n          start: start,\n          end: end,\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // two months, no year - 'june 5 to june 7'\n    match: '[<from>#Month #Value] (to|through|thru|and) [<to>#Month #Value] [<year>#Year?]',\n    parse: (m, context) => {\n      let res = m.groups()\n      let start = res.from\n      if (res.year) {\n        start = start.append(res.year)\n      }\n      start = parseDate(start, context)\n      if (start) {\n        let end = res.to\n        if (res.year) {\n          end = end.append(res.year)\n        }\n        end = parseDate(end, context)\n        // reverse the order?\n        if (start.d.isAfter(end.d)) {\n          let tmp = start\n          start = end\n          end = tmp\n        }\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, first form - 'january 5 to 7 1998'\n    match: '[<month>#Month] [<from>#Value] (to|through|thru) [<to>#Value] of? [<year>#Year]',\n    parse: (m, context) => {\n      let { month, from, to, year } = m.groups()\n      let year2 = year.clone()\n      let start = from.prepend(month.text()).append(year.text())\n      start = parseDate(start, context)\n      if (start) {\n        let end = to.prepend(month.text()).append(year2)\n        end = parseDate(end, context)\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, second form - '5 to 7 of january 1998'\n    match: '[<from>#Value] (to|through|thru|and) [<to>#Value of? #Month of? #Year]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('to')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - '5 to 7 of january'\n    match: '[<from>#Value] (to|through|thru|and) [<to>#Value of? #Month]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('from')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - 'january 5 to 7'\n    match: '[<from>#Month #Value] (to|through|thru|and) [<to>#Value]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      from = parseDate(from, context)\n      if (from) {\n        let toDate = m.groups('to')\n        let to = from.clone()\n        to.d = to.d.date(toDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'january to may 2020'\n    match: 'from? [<from>#Month] (to|until|upto|through|thru|and) [<to>#Month] [<year>#Year]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      let year = from.groups('year').numbers().get(0)\n      let to = m.groups('to')\n      from = parseDate(from, context)\n      to = parseDate(to, context)\n      from.d = from.d.year(year)\n      to.d = to.d.year(year)\n      if (from && to) {\n        // reverse the order?\n        if (from.d.isAfter(to.d)) {\n          let tmp = from\n          from = to\n          to = tmp\n        }\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'from A to B'\n    match: 'from? [<from>*] (to|until|upto|through|thru|and) [<to>*]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      let to = m.groups('to')\n      from = parseDate(from, context)\n      to = parseDate(to, context)\n      if (from && to) {\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  // {\n  //   // 'A through B' (inclusive end)\n  //   match: 'from? [<a>*] (through|thru) [<b>*]',\n  //   parse: (m, context) => {\n  //     let from = m.groups('a')\n  //     let to = m.groups('b')\n  //     from = parseDate(from, context)\n  //     to = parseDate(to, context)\n  //     if (from && to) {\n  //       return {\n  //         start: from,\n  //         end: to.end(),\n  //       }\n  //     }\n  //     return null\n  //   },\n  // },\n\n  // {\n  //   // 'A until B' (not inclusive end)\n  //   match: 'from? [<a>*] (to|until|upto) [<b>*]',\n  //   parse: (m, context) => {\n  //     let from = m.groups('a')\n  //     let to = m.groups('b')\n  //     from = parseDate(from, context)\n  //     to = parseDate(to, context)\n  //     if (from && to) {\n  //       return {\n  //         start: from,\n  //         end: to.end(),\n  //       }\n  //     }\n  //     return null\n  //   },\n  // },\n\n  {\n    // 'before june'\n    match: '^due? (by|before) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        let start = new Unit(context.today, null, context)\n        if (start.d.isAfter(unit.d)) {\n          start = unit.clone().applyShift({ weeks: -2 })\n        }\n        // end the night before\n        let end = unit.clone().applyShift({ day: -1 })\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'in june'\n    match: '^(on|in|at|@) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return { start: unit, end: unit.clone().end() }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'after june'\n    match: '^(after|following) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        unit = unit.after()\n        return {\n          start: unit.clone(),\n          end: punt(unit.clone(), context),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // 'in june'\n    match: '^(on|during|in|during) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return {\n          start: unit,\n          end: unit.clone().end(),\n        }\n      }\n      return null\n    },\n  },\n]\n","const parseDate = require('../parseDate/parse')\nconst parseInterval = require('./intervals')\nconst ranges = require('./ranges')\n\n// loop thru each range template\nconst parseRange = function (doc, context) {\n  // parse-out 'every week ..'\n  let interval = parseInterval(doc, context) || {}\n  // try each template in order\n  for (let i = 0; i < ranges.length; i += 1) {\n    let fmt = ranges[i]\n    let m = doc.match(fmt.match)\n    if (m.found) {\n      if (fmt.group !== undefined) {\n        m = m.groups(fmt.group)\n      }\n      let res = fmt.parse(m, context)\n      if (res !== null) {\n        // console.log(fmt.match)\n        return Object.assign({}, interval, res)\n      }\n    }\n  }\n  //else, try whole thing\n  let res = {\n    start: null,\n    end: null,\n  }\n  let unit = parseDate(doc, context)\n  if (unit) {\n    let end = unit.clone().end()\n    // 'end of x' shift-up a little bit\n    if (end.d.epoch === unit.d.epoch) {\n      unit = unit.beforeEnd()\n    }\n    res = {\n      start: unit,\n      end: end,\n    }\n  }\n  let combined = Object.assign({}, interval, res)\n\n  // ensure start is not after end\n  // console.log(combined)\n  if (combined.start.d.epoch > combined.end.d.epoch) {\n    // console.warn('Warning: Start date is after End date')\n    combined.start = combined.start.start()\n    // combined.end = combined.start.clone()\n  }\n\n  return combined\n}\nmodule.exports = parseRange\n","const normalize = function (doc) {\n  doc = doc.clone()\n\n  // 'four thirty' -> 4:30\n  let m = doc.match('[<hour>#Cardinal] [<min>(thirty|fifteen)]').match('#Time+')\n  if (m.found) {\n    let hour = m.groups('hour')\n    let min = m.groups('min')\n    let num = hour.values().get(0)\n    if (num > 0 && num <= 12) {\n      let mins = min.values().get(0)\n      let str = `${num}:${mins}`\n      m.replaceWith(str)\n    }\n  }\n\n  if (!doc.numbers) {\n    console.warn(\"Compromise: compromise-dates cannot find plugin dependency 'compromise-number'\")\n  } else {\n    // convert 'two' to 2\n    let num = doc.numbers()\n    num.toNumber()\n    num.toCardinal(false)\n  }\n  // // expand 'aug 20-21'\n  doc.contractions().expand()\n  // // remove adverbs\n  doc.adverbs().remove()\n  // // 'week-end'\n  doc.replace('week end', 'weekend').tag('Date')\n  // // 'a up to b'\n  doc.replace('up to', 'upto').tag('Date')\n  // 'in a few years'\n  m = doc.match('in [a few] #Duration')\n  if (m.found) {\n    m.groups('0').replaceWith('2')\n    m.tag('DateShift')\n  }\n  return doc\n}\nmodule.exports = normalize\n","const spacetime = require('spacetime')\nconst maxDate = 8640000000000000\n\nconst shouldPick = function (s, byDay) {\n  if (byDay && byDay[s.dayName()] !== true) {\n    return false\n  }\n  return true\n}\n\n// list possible dates of a repeating date\nconst generateDates = function (result, context) {\n  let list = []\n  let max_count = context.max_repeat || 12\n  let s = spacetime(result.start || context.today, context.timezone)\n  // should we stop at the end date?\n  let end = spacetime(result.end, context.timezone)\n  let toAdd = Object.keys(result.repeat.interval)\n  if (toAdd[0] && s.isSame(end, toAdd[0]) === true) {\n    // ignore the end date!\n    end = spacetime(maxDate, context.timezone)\n  }\n  // should we only include these days?\n  let byDay = null\n  if (result.repeat.filter) {\n    byDay = result.repeat.filter.weekDays\n  }\n  // start going!\n  let loops = 0\n  // TODO: learn how to write better software.\n  while (list.length < max_count && s.epoch < end.epoch) {\n    if (shouldPick(s, byDay, end)) {\n      list.push(s.iso())\n    }\n    toAdd.forEach((unit) => {\n      s = s.add(result.repeat.interval[unit], unit)\n    })\n    loops += 1\n    if (loops > 10000) {\n      console.warn('Warning: Possible infinite loop in date-parser')\n      console.log(result.repeat)\n      break\n    }\n  }\n  result.repeat.generated = list\n  return result\n}\nmodule.exports = generateDates\n","const spacetime = require('spacetime')\nconst parseRanges = require('./02-ranges')\nconst normalize = require('./normalize')\nconst generate = require('./generate')\n\nconst addDuration = function (start, end) {\n  let duration = {}\n  if (start && end) {\n    duration = start.d.diff(end.d)\n    // we don't need these\n    delete duration.milliseconds\n    delete duration.seconds\n  }\n  return duration\n}\n\nconst toISO = function (unit) {\n  if (unit && unit.d) {\n    return unit.d.format('iso')\n  }\n  return null\n}\n\nconst getDate = function (doc, context) {\n  // validate context a bit\n  context = context || {}\n  context.timezone = context.timezone || 'ETC/UTC'\n  context.today = spacetime(context.today || null, context.timezone)\n  //turn 'five' into 5..\n  doc = normalize(doc)\n  //interpret 'between [A] and [B]'...\n  let result = parseRanges(doc, context)\n  // add duration\n  result.duration = addDuration(result.start, result.end)\n  // format as iso\n  result.start = toISO(result.start)\n  result.end = toISO(result.end)\n  // generate interval dates\n  if (result.repeat) {\n    result = generate(result, context)\n  }\n\n  return result\n}\nmodule.exports = getDate\n","let arr = [\n  ['mon', 'monday'],\n  ['tue', 'tuesday'],\n  ['tues', 'tuesday'],\n  ['wed', 'wednesday'],\n  ['thu', 'thursday'],\n  ['thurs', 'thursday'],\n  ['fri', 'friday'],\n  ['sat', 'saturday'],\n  ['sun', 'sunday'],\n\n  ['jan', 'january'],\n  ['feb', 'february'],\n  ['mar', 'march'],\n  ['apr', 'april'],\n  ['jun', 'june'],\n  ['jul', 'july'],\n  ['aug', 'august'],\n  ['sep', 'september'],\n  ['sept', 'september'],\n  ['oct', 'october'],\n  ['nov', 'november'],\n  ['dec', 'december'],\n]\n\narr = arr.map(a => {\n  return { short: a[0], long: a[1] }\n})\n\nmodule.exports = arr\n","const parse = require('./parse')\nconst spacetime = require('spacetime')\nconst abbrevs = require('./data/_abbrevs')\n\nmodule.exports = {\n  /** easy getter for the start/end dates */\n  get: function (options) {\n    let arr = []\n    this.forEach((doc) => {\n      let found = parse(doc, this.context)\n      arr.push(found)\n    })\n    if (typeof options === 'number') {\n      return arr[options]\n    }\n    return arr\n  },\n  /** overload the original json with date information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    this.forEach((doc) => {\n      let json = doc.json(options)[0]\n      let found = parse(doc, this.context)\n      json.date = found\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n\n  /** render all dates according to a specific format */\n  format: function (fmt) {\n    this.forEach((doc) => {\n      let obj = parse(doc, this.context)\n      if (obj.start) {\n        let start = spacetime(obj.start, this.context.timezone)\n        let str = start.format(fmt)\n        if (obj.end) {\n          let end = spacetime(obj.end, this.context.timezone)\n          if (start.isSame(end, 'day') === false) {\n            str += ' to ' + end.format(fmt)\n          }\n        }\n        doc.replaceWith(str, { keepTags: true, keepCase: false })\n      }\n    })\n    return this\n  },\n  /** replace 'Fri' with 'Friday', etc*/\n  toLongForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.short, a.long, true)\n    })\n    return this\n  },\n  /** replace 'Friday' with 'Fri', etc*/\n  toShortForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.long, a.short, true)\n    })\n    return this\n  },\n}\n","const known = {\n  century: true,\n  day: true,\n  decade: true,\n  hour: true,\n  millisecond: true,\n  minute: true,\n  month: true,\n  second: true,\n  weekend: true,\n  week: true,\n  year: true,\n  quarter: true,\n  season: true,\n}\n\nlet mapping = {\n  m: 'minute',\n  h: 'hour',\n  hr: 'hour',\n  min: 'minute',\n  sec: 'second',\n  'week end': 'weekend',\n  wk: 'week',\n  yr: 'year',\n  qtr: 'quarter',\n}\n// add plurals\nObject.keys(mapping).forEach((k) => {\n  mapping[k + 's'] = mapping[k]\n})\n\nconst parse = function (doc) {\n  let duration = {}\n  //parse '8 minutes'\n  let twoWord = doc.match('#Value+ #Duration')\n  if (twoWord.found) {\n    twoWord.forEach((m) => {\n      let num = m.numbers().get(0)\n      let unit = m.terms().last().nouns().toSingular().text()\n      // turn 'mins' into 'minute'\n      if (mapping.hasOwnProperty(unit)) {\n        unit = mapping[unit]\n      }\n      if (known.hasOwnProperty(unit) && num !== null) {\n        duration[unit] = num\n      }\n    })\n  } else {\n    let oneWord = doc.match('(#Duration && /[0-9][a-z]+$/)')\n    if (oneWord.found) {\n      let str = doc.text()\n      let num = str.match(/([0-9]+)/)\n      let unit = str.match(/([a-z]+)/)\n      if (num && unit) {\n        num = num[0] || null\n        unit = unit[0] || null\n        if (mapping.hasOwnProperty(unit)) {\n          unit = mapping[unit]\n        }\n        if (known.hasOwnProperty(unit) && num !== null) {\n          duration[unit] = Number(num)\n        }\n      }\n    }\n  }\n  return duration\n}\nmodule.exports = parse\n","const parse = require('./parse')\n\nconst methods = {\n  /** easy getter for the time */\n  get: function (options) {\n    let arr = []\n    this.forEach((doc) => {\n      let res = parse(doc)\n      arr.push(res)\n    })\n    if (typeof options === 'number') {\n      return arr[options]\n    }\n    return arr\n  },\n  /** overload the original json with duration information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    this.forEach((doc) => {\n      let json = doc.json(options)\n      json.duration = parse(doc)\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n  /** change to a standard duration format */\n  normalize: function () {\n    this.forEach((doc) => {\n      let duration = parse(doc)\n      let list = []\n      Object.keys(duration).forEach((unit) => {\n        let num = duration[unit]\n        let word = unit\n        if (num !== 1) {\n          word += 's'\n        }\n        list.push(`${num} ${word}`)\n      })\n      // splice-in an 'and'\n      if (list.length > 1) {\n        let beforeEnd = list.length - 1\n        list.splice(beforeEnd, 0, 'and')\n      }\n      let text = list.join(' ')\n      doc.replaceWith(text)\n    })\n    return this\n  },\n}\n\nconst addDurations = function (Doc) {\n  /** phrases like '2 months', or '2mins' */\n  class Durations extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = {}\n    }\n  }\n  //add-in methods\n  Object.assign(Durations.prototype, methods)\n\n  /** phrases like '2 months' */\n  Doc.prototype.durations = function (n) {\n    let m = this.match('#Value+ #Duration (and? #Value+ #Duration)?')\n    // add '20mins'\n    m = m.concat(this.match('(#Duration && /[0-9][a-z]+$/)'))\n\n    // not 'in 20 minutes'\n    m = m.notIf('#DateShift')\n\n    if (typeof n === 'number') {\n      m = m.get(n)\n    }\n    return new Durations(m.list, this, this.world)\n  }\n}\nmodule.exports = addDurations\n","const normalize = require('../normalize')\nconst parseTime = require('../parseDate/01-tokenize/03-time')\n\nconst parse = function (m, context) {\n  m = normalize(m)\n  let res = parseTime(m, context)\n  return res\n}\nmodule.exports = parse\n","const parse = require('./parse')\n\nconst methods = {\n  /** easy getter for the time */\n  get: function (options) {\n    let arr = []\n    this.forEach((doc) => {\n      let res = parse(doc, this.context)\n      arr.push(res)\n    })\n    if (typeof options === 'number') {\n      return arr[options]\n    }\n    return arr\n  },\n  /** overload the original json with duration information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    this.forEach((doc) => {\n      let json = doc.json(options)\n      json.time = parse(doc, this.context)\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n}\n\nconst addTimes = function (Doc) {\n  /** phrases like '2 months', or '2mins' */\n  class Times extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = {}\n    }\n  }\n  //add-in methods\n  Object.assign(Times.prototype, methods)\n\n  /** phrases like '4pm' */\n  Doc.prototype.times = function (n) {\n    let m = this.match('#Time+ (am|pm)?')\n    // m.debug()\n    if (typeof n === 'number') {\n      m = m.get(n)\n    }\n    return new Times(m.list, this, this.world)\n  }\n}\nmodule.exports = addTimes\n","const findDate = function (doc) {\n  // let r = this.clauses()\n  let dates = doc.match('#Date+')\n\n  // ignore only-durations like '20 minutes'\n  dates = dates.filter((m) => {\n    let isDuration = m.has('^#Duration+$') || m.has('^#Value #Duration+$')\n    // allow 'q4', etc\n    if (isDuration === true && m.has('(#FinancialQuarter|quarter)')) {\n      return true\n    }\n    return isDuration === false\n  })\n  // 30 minutes on tuesday\n  let m = dates.match('[#Cardinal #Duration (in|on|this|next|during|for)] #Date', 0)\n  if (m.found) {\n    dates = dates.not(m)\n  }\n  // 30 minutes tuesday\n  m = dates.match('[#Cardinal #Duration] #WeekDay', 0)\n  if (m.found) {\n    dates = dates.not(m)\n  }\n  // tuesday for 30 mins\n  m = dates.match('#Date [for #Value #Duration]$', 0)\n  if (m.found) {\n    dates = dates.not(m)\n  }\n  // 'tuesday, wednesday'\n  m = dates.match('^[#WeekDay] and? #WeekDay$', 0)\n  if (m.found) {\n    if (m.first().has('@hasDash') === false) {\n      dates = dates.splitAfter(m)\n      dates = dates.not('^and')\n    }\n  }\n  // 'june, august'\n  m = dates.match('^[#Month] and? #Month #Ordinal?$', 0)\n  if (m.found) {\n    dates = dates.splitAfter(m)\n    dates = dates.not('^and')\n  }\n\n  // 'tuesday, wednesday, and friday'\n  m = dates.match('#WeekDay #WeekDay and? #WeekDay')\n  if (m.found) {\n    dates = dates.splitOn('#WeekDay')\n    dates = dates.not('^and')\n  }\n  // '5 june, 10 june'\n  m = dates.match('[#Value #Month] #Value #Month', 0)\n  if (m.found) {\n    dates = dates.splitAfter(m)\n  }\n  // 'june 5th, june 10th'\n  m = dates.match('[#Month #Value] #Month', 0)\n  if (m.found) {\n    dates = dates.splitAfter(m)\n  }\n  // '20 minutes june 5th'\n  m = dates.match('[#Cardinal #Duration] #Date', 0) //but allow '20 minutes ago'\n  if (m.found && !dates.has('#Cardinal #Duration] (ago|from|before|after|back)')) {\n    dates = dates.not(m)\n  }\n  // for 20 minutes\n  m = dates.match('for #Cardinal #Duration')\n  if (m.found) {\n    dates = dates.not(m)\n  }\n  // // 'january, february'\n  // m = dates.match('^[#Month] (and|or)? #Month$', 0)\n  // if (m.found) {\n  //   dates = dates.splitAfter(m)\n  //   dates = dates.not('^(and|or)')\n  // }\n\n  return dates\n}\nmodule.exports = findDate\n","const tagger = require('./01-tagger')\nconst tags = require('./data/_tags')\nconst words = require('./data/words')\nconst methods = require('./methods')\nconst addDurations = require('./durations')\nconst addTimes = require('./times')\nconst spacetime = require('spacetime')\nconst findDates = require('./find')\n\nconst opts = {\n  punt: { weeks: 2 },\n}\n\nconst addMethods = function (Doc, world) {\n  // our new tags\n  world.addTags(tags)\n  // add info for the date plugin\n  world.addWords(words)\n  // run our tagger\n  world.postProcess(tagger)\n\n  // add .durations() class + methods\n  addDurations(Doc, world)\n  // add .times() class + methods\n  addTimes(Doc, world)\n\n  /** phraes like 'nov 2nd' or 'on tuesday' */\n  class Dates extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = opts\n    }\n  }\n  //add-in methods\n  Object.assign(Dates.prototype, methods)\n\n  Doc.prototype.dates = function (n) {\n    let context = {}\n    if (n && typeof n === 'object') {\n      context = n\n      n = null\n    }\n    context = Object.assign({}, context, opts)\n\n    let dates = findDates(this)\n    if (typeof n === 'number') {\n      dates = dates.get(n)\n    }\n    let d = new Dates(dates.list, this, this.world)\n    if (context.today) {\n      context.today = spacetime(context.today, context.timezone)\n    }\n    d.context = context\n    return d\n  }\n}\n\nmodule.exports = addMethods\n"],"names":["preps","thisNext","sections","seasons","tagYear","m","reason","found","forEach","p","str","text","num","parseInt","tag","tagYearSafe","tagDates","doc","match","month","val","ifNo","duration","unTag","season","date","not","cardinal","v","groups","time","here","values","has","replaceWith","dateTagger","sectionTagger","timeTagger","notIf","shiftTagger","tagIntervals","fixUp","oops","d","knownDate","lastTerm","terms","methods","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","normalize","numbers","tagDate","fn","FinancialQuarter","isA","notA","Season","Year","Duration","Holiday","Timezone","DateShift","global","factory","module","this","_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","Object","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","o","minLen","_arrayLikeToArray","n","toString","call","slice","name","from","test","len","arr2","TypeError","MSEC_IN_HOUR","toUtc","dstChange","offset","year","_dstChange$split","split","_dstChange$split2","rest","_rest$split","_rest$split2","day","hour","Date","UTC","inSummerTime","epoch","start","end","summerOffset","winterOffset","getUTCFullYear","startUtc","endUtc","summerTime","quickOffset","s","zones","timezones","tz","console","warn","dst","jul","dec","hem","inSummer","quick","_build","_build$1","freeze","__proto__","_prefixes","createCommonjsModule","exports","getCjsExportFromNamespace","data","all","keys","k","Number","names","replace","before","unpack","fallbackTZ","safeIntl","Intl","DateTimeFormat","format","resolvedOptions","timezone","timeZone","toLowerCase","guessTz","guessTz_1","isOffset","isNumber","utcOffset","gmtOffset","toIana","parseOffset$1","parseOffset","parseOffset_1$1","local","cities","reduce","h","city","lookupTz","error","trim","hasOwnProperty","id","Error","find","millisecond","second","minute","week","milliseconds","walk","unit","previous","current","startUnit","original","diff","Math","abs","halfStep","units$3","valid","walkTo","getMonth","getFullYear","seconds","wants","old","clone","silent","walk_1","shortMonths","longMonths","buildMapping","sep","months$1","short","long","mapping","set","i18n","parseFloat","parseOffset_1","parseTime","arguments","startOf","concat","substring","ampm","_h","parseTime_1","monthLengths","monthLengths_1","fns","isLeapYear","isDate","isNaN","valueOf","input","isObject","isBoolean","zeroPad","pad","join","titleCase","toUpperCase","substr","ordinal","j","toCardinal","String","getEpoch","tmp","getTime","beADate","formatTimezone","delimiter","sign","absOffset","hours","minutes","isLeapYear$2","hasDate","max","hasDate_1","months","parseYear","today","strFmt","reg","parse","givenTz","options","british","_today","quarter","getDate","strParse","getNow","now","dates","tonight","tomorrow","add","yesterday","subtract","christmas","newYears","namedDates","minimumEpoch","defaults","handleArray","order","handleObject","assign","parseInput","res","isValid","_res","shortDays","longDays","days","aliases","mo","tu","we","th","fr","sa","su","tues","weds","wedn","thur","thurs","titleCaseEnabled","caseFormat","useTitleCase","isoOffset","_offset","applyCaseFormat","dayName","dayShort","dayNumber","dayOrdinal","dayPad","dateOrdinal","datePad","monthName","monthShort","monthNumber","monthOrdinal","monthPad","isoMonth","yearShort","isoYear","isNegative","time24","hour24","hour12","hourPad","hour24Pad","minutePad","secondPad","era","json","numeric","numericUs","numericUk","mmDd","iso","h24","ms","isoShort","isoUtc","toISOString","nice","nice24","niceYear","niceDay","niceFull","niceFull24","mdy","dmy","ymd","printFormat","out","indexOf","_","fmt","_out","format_1","G","GG","GGG","GGGG","y","yy","yyy","yyyy","yyyyy","Q","QQ","QQQ","QQQQ","M","MM","MMM","MMMM","w","ww","dd","D","dayOfYear","DD","DDD","E","EE","EEE","EEEE","EEEEE","e","ee","eee","eeee","eeeee","a","aa","aaa","aaaa","h12","hh","H","HH","mm","ss","A","z","zz","zzz","zzzz","Z","ZZ","ZZZ","ZZZZ","addAlias","_char","to","toName","escapeChars","filter","ch","combineRepeated","c","map","unixFmt","txt","unixFmt_1","units$2","doUnit","endOf","percent","toFixed","progress","progress_1","nearest","prog","nearest_1","climb","b","isBefore","isAfter","diffOne","one","fastYear","years","diff$1","msDiff","weeks","waterfall","reverseDiff","main$1","main","reversed","qualifiers","almost","over","getDiff","later","earlier","isSame","u","pluralize","since","isNow","every","rounded","qualified","precise","englishValues","units","englishValue","nextUnit","nextValue","splice","since_1","north","south","quarters","units$1","quarterhour","_weekStart","q","hemisphere","decade","century","startOf_1","isDay","result","every_1","parseDst","epochShift","hasDst","Boolean","default_offset","change","back","summer","winter","isDST","timezone_1","methods$4","input$1","hasDST","leapYear","last","goto","isAwake","isAsleep","log","logYear","_this","debug","fromNow","weekStart","inDST","round","each","methods_1","isLeapYear$1","validate","order$1","confirm","want","shift","sec","methods$3","getMilliseconds","getSeconds","getMinutes","getHours","hourFloat","_minute","_hour","which","dayTime","times","morning","breakfast","noon","lunch","afternoon","evening","dinner","night","midnight","_01Time","methods$2","getDay","_02Date","clearMinutes","methods$1","sum","setDate","setFullYear","setHours","setMinutes","setMonth","toAdd","minus","thisOne","skipWeeks","_month","floor","millenium","_03Year","addMethods$4","addMethods","Space","query","getMonthLength","rollMonth","_years","rollDaysDown","rollDaysUp","_model","daysBack","keep","dstAwareUnits","keepDate","addMethods$3","SpaceTime","_sum","remainder","wantYear","haveYear","plus","print","addMethods$2","tzAware","same","addMethods$1","isEqual","isBetween","isInclusive","startEpoch","endEpoch","compare","defineProperty","get","bias","getTimezoneOffset","toLocalDate","spacetime","whereIts","startHour","endHour","tzs","whereIts_1","_version","setToday","extend","version","plugin","src","america","asia","europe","africa","aus","pac","informal","bst","ireland","cet","cest","eet","eest","trt","etc","utc","gmt","sast","acst","acdt","aest","aedt","awst","awdt","acwst","lhst","lhdt","msk","russian","cst","cdt","mst","mdt","ast","adt","est","edt","pst","pdt","ahst","ahdt","hst","nst","ndt","brt","brasília","brasilia","amt","east","easst","vet","pyt","pyst","cot","clst","cldt","uyt","ist","irst","irdt","iranian","pkt","ict","ct","almt","yakt","gst","uae","hkt","wib","wita","idt","israeli","krat","myt","sgt","kst","uzt","vlat","mvt","mut","mht","sst","chst","pgt","iana","formal","lex","Unit","context","enumerable","writable","rel","section","middle","dayStart","dayEnd","mins","Day","CalendarDate","WeekDay","weekDay","tooFar","AnyMonth","Month","AnyQuarter","Quarter","Week","WeekEnd","Hour","Minute","Moment","knownUnits","weekend","wk","min","parseUnit","parseShift","ts","remove","dir","oneBased","getCounter","hardCoded","daybreak","midday","lunchtime","dinnertime","eod","halfPast","term","behind","timeStr","desc","g","parseRelative","parseSection","parseTimezone","parseWeekday","knownWord","eom","eoy","tommorrow","tmrw","define","feb","apr","oct","parseHoliday","spacetimeHoliday","milliscond","instant","yr","qtr","hr","matchStr","nextLast","Model","fmtToday","parseYearly","parseExplicit","impliedYear","applyCounter","counter","tokens","relative","weekday","require$$8","holiday","require$$9","require$$10","yearly","require$$11","explicit","require$$12","transform","require$$13","parseDate","applyShift","applyWeekDay","applyRel","applySection","applyTime","dayNames","mon","tue","wed","thu","fri","sat","sun","monday","tuesday","wednesday","thursday","friday","saturday","sunday","parseLogic","parseIntervals","repeat","interval","choose","nouns","toSingular","weekDays","punt","append","year2","prepend","fromDate","toDate","group","after","parseRange","parseInterval","ranges","beforeEnd","combined","toNumber","contractions","expand","adverbs","maxDate","shouldPick","byDay","generateDates","list","max_count","max_repeat","loops","generated","addDuration","toISO","parseRanges","generate","keepTags","keepCase","toLongForm","abbrevs","toShortForm","known","twoWord","oneWord","word","addDurations","Doc","Durations","durations","world","addTimes","Times","findDate","isDuration","first","splitAfter","splitOn","opts","addTags","tags","addWords","words","postProcess","tagger","Dates","findDates"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;EACA,IAAMA,KAAK,GAAG,oDAAd;;EACA,IAAMC,QAAQ,GAAG,mDAAjB;;EACA,IAAMC,QAAQ,GAAG,uDAAjB;;EACA,IAAMC,OAAO,GAAG,oCAAhB;EAGA;;EACA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,CAAD,EAAIC,MAAJ,EAAe;EAC7B,MAAID,CAAC,CAACE,KAAF,KAAY,IAAhB,EAAsB;EACpB;EACD;;EACDF,EAAAA,CAAC,CAACG,OAAF,CAAU,UAACC,CAAD,EAAO;EACf,QAAIC,GAAG,GAAGD,CAAC,CAACE,IAAF,CAAO,SAAP,CAAV;EACA,QAAIC,GAAG,GAAGC,QAAQ,CAACH,GAAD,EAAM,EAAN,CAAlB;;EACA,QAAIE,GAAG,IAAIA,GAAG,GAAG,IAAb,IAAqBA,GAAG,GAAG,IAA/B,EAAqC;EACnCH,MAAAA,CAAC,CAACK,GAAF,CAAM,MAAN,EAAcR,MAAd;EACD;EACF,GAND;EAOD,CAXD;;;EAaA,IAAMS,WAAW,GAAG,SAAdA,WAAc,CAACV,CAAD,EAAIC,MAAJ,EAAe;EACjC,MAAID,CAAC,CAACE,KAAF,KAAY,IAAhB,EAAsB;EACpB;EACD;;EACDF,EAAAA,CAAC,CAACG,OAAF,CAAU,UAACC,CAAD,EAAO;EACf,QAAIC,GAAG,GAAGD,CAAC,CAACE,IAAF,CAAO,SAAP,CAAV;EACA,QAAIC,GAAG,GAAGC,QAAQ,CAACH,GAAD,EAAM,EAAN,CAAlB;;EACA,QAAIE,GAAG,IAAIA,GAAG,GAAG,IAAb,IAAqBA,GAAG,GAAG,IAA/B,EAAqC;EACnCH,MAAAA,CAAC,CAACK,GAAF,CAAM,MAAN,EAAcR,MAAd;EACD;EACF,GAND;EAOD,CAXD;;EAaA,IAAMU,QAAQ,GAAG,SAAXA,QAAW,CAAUC,GAAV,EAAe;;EAE9BA,EAAAA,GAAG,CAACC,KAAJ,CAAU,sDAAV,EAAkEJ,GAAlE,CAAsE,MAAtE,EAA8E,cAA9E,EAF8B;;EAI9BG,EAAAA,GAAG,CAACC,KAAJ,CAAU,wBAAV,EAAoCJ,GAApC,CAAwC,MAAxC,EAAgD,YAAhD,EAJ8B;;;;EAQ9BG,EAAAA,GAAG,CAACC,KAAJ,CAAU,uBAAV,EAAmCJ,GAAnC,CAAuC,MAAvC,EAA+C,SAA/C,EAR8B;;EAW9BG,EAAAA,GAAG,CAACC,KAAJ,CAAU,WAAV,EAAuBJ,GAAvB,CAA2B,SAA3B,EAAsC,cAAtC,EAX8B;;EAc9B,MAAIK,KAAK,GAAGF,GAAG,MAAH,CAAO,QAAP,CAAZ;;EACA,MAAIE,KAAK,CAACZ,KAAN,KAAgB,IAApB,EAA0B;;EAExBY,IAAAA,KAAK,CAACD,KAAN,kBAA6BJ,GAA7B,CAAiC,MAAjC,EAAyC,wBAAzC,EAFwB;;EAIxBK,IAAAA,KAAK,CAACD,KAAN,CAAY,kBAAZ,EAAgCJ,GAAhC,CAAoC,MAApC,EAA4C,gBAA5C,EAJwB;;EAMxBK,IAAAA,KAAK,CAACD,KAAN,CAAY,kBAAZ,EAAgCJ,GAAhC,CAAoC,MAApC,EAA4C,gBAA5C,EANwB;;EAQxBK,IAAAA,KAAK,CAACD,KAAN,CAAY,yBAAZ,EAAuCJ,GAAvC,CAA2C,MAA3C,EAAmD,gBAAnD,EARwB;;EAUxBK,IAAAA,KAAK,CAACD,KAAN,CAAY,mBAAZ,EAAiCJ,GAAjC,CAAqC,MAArC,EAA6C,iBAA7C;EACD,GA1B6B;;;EA6B9B,MAAIM,GAAG,GAAGH,GAAG,MAAH,CAAO,QAAP,CAAV;;EACA,MAAIG,GAAG,CAACb,KAAJ,KAAc,IAAlB,EAAwB;;EAEtBa,IAAAA,GAAG,CAACF,KAAJ,CAAU,0BAAV,EAAsCG,IAAtC,CAA2C,QAA3C,EAAqDP,GAArD,CAAyD,MAAzD,EAAiE,YAAjE,EAFsB;;EAKtBM,IAAAA,GAAG,CAACF,KAAJ,CAAU,0BAAV,EAAsCG,IAAtC,CAA2C,QAA3C,EAAqDP,GAArD,CAAyD,MAAzD,EAAiE,YAAjE,EALsB;;EAQtBM,IAAAA,GAAG,CAACF,KAAJ,CAAU,uBAAV,QAAsC,OAAtC,EAA+CJ,GAA/C,CAAmD,OAAnD,EAA4D,gBAA5D,EARsB;;EAWtBM,IAAAA,GAAG,CAACF,KAAJ,CAAU,kCAAV,EAA8CJ,GAA9C,CAAkD,OAAlD,EAA2D,QAA3D,EAXsB;;EActB,QAAIQ,QAAQ,GAAGF,GAAG,MAAH,CAAO,WAAP,CAAf;;EACA,QAAIE,QAAQ,CAACf,KAAT,KAAmB,IAAvB,EAA6B;;EAE3Be,MAAAA,QAAQ,CAACJ,KAAT,CAAe,sBAAf,EAAuCJ,GAAvC,CAA2C,MAA3C,EAAmD,gBAAnD,EAF2B;;EAI3BQ,MAAAA,QAAQ,CAACJ,KAAT,CAAe,+BAAf,EAAgDJ,GAAhD,CAAoD,MAApD,EAA4D,0BAA5D,EAJ2B;;EAM3BQ,MAAAA,QAAQ,CAACJ,KAAT,WAAkBlB,KAAlB,yBAA6Cc,GAA7C,CAAiD,MAAjD,EAAyD,gBAAzD,EAN2B;;EAQ3BQ,MAAAA,QAAQ,CAACJ,KAAT,CAAe,sBAAf,EAAuCK,KAAvC,CAA6C,MAA7C,EAAqD,eAArD;EACD;EACF,GAvD6B;;;EA0D9B,MAAIC,MAAM,GAAGP,GAAG,MAAH,CAAOd,OAAP,CAAb;;EACA,MAAIqB,MAAM,CAACjB,KAAP,KAAiB,IAArB,EAA2B;EACzBiB,IAAAA,MAAM,CAACN,KAAP,WAAgBlB,KAAhB,eAA0BC,QAA1B,cAAsCE,OAAtC,GAAiDW,GAAjD,CAAqD,MAArD,EAA6D,iBAA7D;EACAU,IAAAA,MAAM,CAACN,KAAP,gBAAqBhB,QAArB,iBAAoCC,OAApC,GAA+CW,GAA/C,CAAmD,MAAnD,EAA2D,gBAA3D;EACAU,IAAAA,MAAM,CAACN,KAAP,WAAgBf,OAAhB,cAA2BH,KAA3B,kBAA+Cc,GAA/C,CAAmD,MAAnD,EAA2D,aAA3D;EACD,GA/D6B;;;EAkE9B,MAAIW,IAAI,GAAGR,GAAG,MAAH,CAAO,OAAP,CAAX;;EACA,MAAIQ,IAAI,CAAClB,KAAL,KAAe,IAAnB,EAAyB;;EAEvBkB,IAAAA,IAAI,CAACP,KAAL,CAAW,qBAAX,EAAkCJ,GAAlC,CAAsC,MAAtC,EAA8C,YAA9C,EAFuB;;EAIvBW,IAAAA,IAAI,CAACP,KAAL,WAAcjB,QAAd,aAAgCa,GAAhC,CAAoC,MAApC,EAA4C,UAA5C,EAJuB;;EAMvBW,IAAAA,IAAI,CAACP,KAAL,CAAW,oCAAX,EAAiDJ,GAAjD,CAAqD,MAArD,EAA6D,IAA7D,EANuB;;EAQvBW,IAAAA,IAAI,CAACP,KAAL,CAAW,6DAAX,EAA0EJ,GAA1E,CAA8E,MAA9E,EAAsF,UAAtF,EARuB;;EAUvBW,IAAAA,IAAI,CAACP,KAAL,gBAAmBhB,QAAnB,gBAAwCY,GAAxC,CAA4C,MAA5C,EAAoD,YAApD,EAVuB;;EAYvBW,IAAAA,IAAI,CAACP,KAAL,CAAW,6BAAX,EAA0CJ,GAA1C,CAA8C,MAA9C,EAAsD,aAAtD,EAZuB;;EAcvBW,IAAAA,IAAI,CAACP,KAAL,CAAW,kCAAX,EAA+CJ,GAA/C,CAAmD,MAAnD,EAA2D,eAA3D,EAduB;;EAgBvBW,IAAAA,IAAI,CAACP,KAAL,CAAW,8CAAX,EAA2DQ,GAA3D,CAA+D,QAA/D,EAAyEZ,GAAzE,CAA6E,MAA7E,EAAqF,sBAArF,EAhBuB;;EAkBvBW,IAAAA,IAAI,CAACP,KAAL,CAAW,iBAAX,EAA8B,CAA9B,EAAiCK,KAAjC,CAAuC,MAAvC,EAA+CA,KAA/C,CAAqD,QAArD,EAA+DT,GAA/D,CAAmE,MAAnE,EAA2E,SAA3E,EAlBuB;;EAoBvBW,IAAAA,IAAI,CAACP,KAAL,CAAW,+BAAX,EAA4CG,IAA5C,CAAiD,WAAjD,EAA8DP,GAA9D,CAAkE,MAAlE,EAA0E,gBAA1E,EApBuB;;EAuBxB,GA1F6B;;;EA6F9B,MAAIa,QAAQ,GAAGV,GAAG,MAAH,CAAO,WAAP,CAAf;;EACA,MAAIU,QAAQ,CAACpB,KAAT,KAAmB,IAAvB,EAA6B;EAC3B,QAAIqB,CAAC,GAAGD,QAAQ,CAACT,KAAT,6BAA2C,CAA3C,CAAR;EACAd,IAAAA,OAAO,CAACwB,CAAD,EAAI,iBAAJ,CAAP,CAF2B;;EAI3BA,IAAAA,CAAC,GAAGD,QAAQ,CAACT,KAAT,sBAAoC,CAApC,CAAJ;EACAH,IAAAA,WAAW,CAACa,CAAD,EAAI,WAAJ,CAAX,CAL2B;;EAO3BA,IAAAA,CAAC,GAAGD,QAAQ,CAACT,KAAT,WAAkBhB,QAAlB,qBAAJ;EACAa,IAAAA,WAAW,CAACa,CAAD,EAAI,cAAJ,CAAX,CAR2B;;EAU3BA,IAAAA,CAAC,GAAGD,QAAQ,CAACT,KAAT,8BAA4C,CAA5C,CAAJ;EACAd,IAAAA,OAAO,CAACwB,CAAD,EAAI,kBAAJ,CAAP,CAX2B;;EAa3BA,IAAAA,CAAC,GAAGD,QAAQ,CAACT,KAAT,wCAAsD,CAAtD,CAAJ;EACAd,IAAAA,OAAO,CAACwB,CAAD,EAAI,kBAAJ,CAAP,CAd2B;;EAgB3BA,IAAAA,CAAC,GAAGD,QAAQ,CAACT,KAAT,wEAAsF,CAAtF,CAAJ;EACAd,IAAAA,OAAO,CAACwB,CAAD,EAAI,WAAJ,CAAP,CAjB2B;;EAmB3BA,IAAAA,CAAC,GAAGD,QAAQ,CAACT,KAAT,CAAe,2BAAf,EAA4C,CAA5C,CAAJ;EACAd,IAAAA,OAAO,CAACwB,CAAD,EAAI,WAAJ,CAAP,CApB2B;;EAsB3BA,IAAAA,CAAC,GAAGD,QAAQ,CAACT,KAAT,CAAe,kCAAf,EAAmD,CAAnD,CAAJ;EACAd,IAAAA,OAAO,CAACwB,CAAD,EAAI,WAAJ,CAAP,CAvB2B;;EAyB3BA,IAAAA,CAAC,GAAGD,QAAQ,CAACT,KAAT,CAAe,sBAAf,EAAuC,CAAvC,CAAJ;EACAd,IAAAA,OAAO,CAACwB,CAAD,EAAI,WAAJ,CAAP,CA1B2B;;EA4B3BA,IAAAA,CAAC,GAAGD,QAAQ,CAACT,KAAT,CAAe,yBAAf,EAA0C,CAA1C,CAAJ;EACAH,IAAAA,WAAW,CAACa,CAAD,EAAI,WAAJ,CAAX,CA7B2B;;EA+B3BD,IAAAA,QAAQ,CAACT,KAAT,WAAkBhB,QAAlB,gBAAuCY,GAAvC,CAA2C,MAA3C,EA/B2B;;EAiC3B,QAAIT,EAAC,GAAGsB,QAAQ,CAACT,KAAT,CAAe,qCAAf,CAAR;;EACAd,IAAAA,OAAO,CAACC,EAAC,CAACwB,MAAF,CAAS,GAAT,CAAD,EAAgB,yBAAhB,CAAP;EACAzB,IAAAA,OAAO,CAACC,EAAC,CAACwB,MAAF,CAAS,GAAT,CAAD,EAAgB,yBAAhB,CAAP;EACD;;EAED,MAAIC,IAAI,GAAGb,GAAG,MAAH,CAAO,OAAP,CAAX;;EACA,MAAIa,IAAI,CAACvB,KAAL,KAAe,IAAnB,EAAyB;;EAEvBuB,IAAAA,IAAI,CAACZ,KAAL,CAAW,oCAAX,EAAiDJ,GAAjD,CAAqD,MAArD,EAA6D,kBAA7D,EAFuB;;;;EAMvBgB,IAAAA,IAAI,CAACZ,KAAL,CAAW,4CAAX,EAAyD,CAAzD,EAA4DJ,GAA5D,CAAgE,MAAhE,EAAwE,UAAxE,EANuB;;EAQvBgB,IAAAA,IAAI,CAACZ,KAAL,CAAW,uBAAX,EAAoC,CAApC,EAAuCJ,GAAvC,CAA2C,MAA3C,EAAmD,eAAnD;EACD,GA9I6B;;;EAgJ9B,MAAIT,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,oBAAV,CAAR;EACAH,EAAAA,WAAW,CAACV,CAAD,EAAI,UAAJ,CAAX,CAjJ8B;;EAoJ9BY,EAAAA,GAAG,CAACC,KAAJ,CAAU,oCAAV,EAAgDJ,GAAhD,CAAoD,MAApD,EAA4D,aAA5D,EApJ8B;;EAsJ9BG,EAAAA,GAAG,CAACC,KAAJ,CAAU,8BAAV,EAA0C,CAA1C,EAA6CJ,GAA7C,CAAiD,MAAjD,EAAyD,UAAzD,EAtJ8B;;EAwJ9BG,EAAAA,GAAG,CAACC,KAAJ,CAAU,8BAAV,EAA0CJ,GAA1C,CAA8C,MAA9C,EAAsD,SAAtD,EAxJ8B;;EA0J9BG,EAAAA,GAAG,CAACC,KAAJ,CAAU,oBAAV,EAAgCJ,GAAhC,CAAoC,MAApC,EAA4C,SAA5C;EACA,SAAOG,GAAP;EACD,CA5JD;;EA6JA,YAAc,GAAGD,QAAjB;;EC/LA,IAAMe,MAAI,GAAG,aAAb;;EAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAUf,GAAV,EAAe;;EAE5B,MAAI,CAACA,GAAG,CAACgB,GAAJ,CAAQ,oBAAR,CAAL,EAAoC;EAClChB,IAAAA,GAAG,CAACC,KAAJ,CAAU,eAAV,EAA2B,CAA3B,EAA8BgB,WAA9B,CAA0C,GAA1C,EAA+CpB,GAA/C,CAAmD,UAAnD,EAA+DiB,MAA/D;EACD;;EACD,MAAId,GAAG,CAACgB,GAAJ,CAAQ,QAAR,CAAJ,EAAuB;;EAErBhB,IAAAA,GAAG,CAACC,KAAJ,CAAU,oCAAV,EAAgDJ,GAAhD,CAAoD,MAApD,EAA4DiB,MAA5D,EAFqB;;EAIrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,oCAAV,EAAgDJ,GAAhD,CAAoD,MAApD,EAA4DiB,MAA5D,EAJqB;;EAMrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,2BAAV,EAAuCJ,GAAvC,CAA2C,MAA3C,EAAmDiB,MAAnD,EANqB;;EAQrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,6DAAV,EAAyEJ,GAAzE,CAA6E,MAA7E,EAAqFiB,MAArF,EARqB;;EAUrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,cAAV,EAA0BJ,GAA1B,CAA8B,MAA9B,EAAsCiB,MAAtC,EAVqB;;EAYrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,cAAV,EAA0BJ,GAA1B,CAA8B,MAA9B,EAAsCiB,MAAtC,EAZqB;;EAcrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,2BAAV,EAAuCJ,GAAvC,CAA2C,MAA3C,EAAmDiB,MAAnD,EAdqB;;EAgBrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,0CAAV,EAAsDJ,GAAtD,CAA0D,MAA1D,EAAkEiB,MAAlE,EAhBqB;;EAkBrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,yCAAV,EAAqDJ,GAArD,CAAyD,MAAzD,EAAiEiB,MAAjE,EAlBqB;;EAoBrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,6CAAV,EAAyDJ,GAAzD,CAA6D,MAA7D,EAAqEiB,MAArE,EApBqB;;EAsBrBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,iBAAV,EAA6BJ,GAA7B,CAAiC,MAAjC,EAAyCiB,MAAzC;EACD;;EACD,SAAOd,GAAP;EACD,CA9BD;;EA+BA,aAAc,GAAGe,MAAjB;;ECjCA,IAAMD,MAAI,GAAG,aAAb;;EAEA,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAAUlB,GAAV,EAAe;EAChCA,EAAAA,GAAG,CAACC,KAAJ,CAAU,qEAAV,EAAiFA,KAAjF,CAAuF,OAAvF,EAAgGJ,GAAhG,CAAoG,QAApG,EAA8GiB,MAA9G;EACAd,EAAAA,GAAG,CAACC,KAAJ,CAAU,eAAV,EAA2BJ,GAA3B,CAA+B,kBAA/B,EAAmDiB,MAAnD;EACAd,EAAAA,GAAG,CAACC,KAAJ,CAAU,kCAAV,EAA8CJ,GAA9C,CAAkD,kBAAlD,EAAsEiB,MAAtE;EACAd,EAAAA,GAAG,CAACC,KAAJ,CAAU,iCAAV,EAA6CJ,GAA7C,CAAiD,QAAjD,EAA2DiB,MAA3D;;EAEA,MAAId,GAAG,CAACgB,GAAJ,CAAQ,OAAR,CAAJ,EAAsB;;EAEpBhB,IAAAA,GAAG,CAACC,KAAJ,CAAU,0BAAV,EAAsCJ,GAAtC,CAA0C,MAA1C,EAAkDiB,MAAlD,EAFoB;;EAIpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,gCAAV,EAA4CJ,GAA5C,CAAgD,MAAhD,EAAwDiB,MAAxD,EAJoB;;EAMpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,QAAV,EAAoBJ,GAApB,CAAwB,MAAxB,EAAgCiB,MAAhC,EANoB;;EAQpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,2DAAV,EAAuEJ,GAAvE,CAA2E,MAA3E,EAAmF,YAAnF,EARoB;;EAUpBG,IAAAA,GAAG,CAACC,KAAJ,CAAU,aAAV,EAAyBJ,GAAzB,CAA6B,MAA7B,EAAqCiB,MAArC,EAVoB;;EAYpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,sBAAV,EAAkCJ,GAAlC,CAAsC,MAAtC,EAA8CiB,MAA9C;EACAd,IAAAA,GAAG,CAACC,KAAJ,CAAU,uBAAV,EAAmCJ,GAAnC,CAAuC,MAAvC,EAA+CiB,MAA/C;EACAd,IAAAA,GAAG,CAACC,KAAJ,CAAU,iBAAV,EAA6BJ,GAA7B,CAAiC,MAAjC,EAAyCiB,MAAzC,EAdoB;;EAgBpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,sFAAV,EAAkGJ,GAAlG,CAAsG,MAAtG,EAA8GiB,MAA9G,EAhBoB;;EAkBpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,4BAAV,EAAwCJ,GAAxC,CAA4C,MAA5C,EAAoDiB,MAApD,EAlBoB;;EAoBpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,2CAAV,EAAuDJ,GAAvD,CAA2D,MAA3D,EAAmEiB,MAAnE;EACD;;EACD,SAAOd,GAAP;EACD,CA7BD;;EA8BA,YAAc,GAAGkB,UAAjB;;EChCA,IAAMJ,MAAI,GAAG,gBAAb;;EAEA,IAAMK,aAAa,GAAG,SAAhBA,aAAgB,CAAUnB,GAAV,EAAe;EACnC,MAAIA,GAAG,CAACgB,GAAJ,CAAQ,OAAR,CAAJ,EAAsB;;EAEpBhB,IAAAA,GAAG,CAACC,KAAJ,CAAU,wEAAV,EAAoFJ,GAApF,CAAwF,MAAxF,EAAgGiB,MAAhG,EAFoB;;EAIpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,mCAAV,EAA+CJ,GAA/C,CAAmD,MAAnD,EAA2DiB,MAA3D,EAJoB;;EAMpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,yEAAV,EAAqFJ,GAArF,CAAyF,MAAzF,EAAiGiB,MAAjG,EANoB;;EAQpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,kBAAV,EAA8BJ,GAA9B,CAAkC,MAAlC,EAA0CiB,MAA1C,EARoB;;EAUpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,mBAAV,EAA+BJ,GAA/B,CAAmC,MAAnC,EAA2CiB,MAA3C;EACD;;EACD,SAAOd,GAAP;EACD,CAdD;;EAeA,eAAc,GAAGmB,aAAjB;;ECjBA,IAAML,MAAI,GAAG,aAAb;;EAGA,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAAUpB,GAAV,EAAe;;EAEhCA,EAAAA,GAAG,CAACC,KAAJ,CAAU,kBAAV,EAA8BJ,GAA9B,CAAkC,MAAlC,EAA0CiB,MAA1C,EAFgC;;EAIhCd,EAAAA,GAAG,CAACC,KAAJ,CAAU,uBAAV,EAAmCJ,GAAnC,CAAuC,MAAvC,EAA+CiB,MAA/C,EAJgC;;EAMhCd,EAAAA,GAAG,CAACC,KAAJ,CAAU,sBAAV,EAAkCJ,GAAlC,CAAsC,MAAtC,EAA8CiB,MAA9C,EAAoDR,KAApD,CAA0D,OAA1D,EANgC;;EAQhCN,EAAAA,GAAG,CAACC,KAAJ,CAAU,yDAAV,EAAqEJ,GAArE,CAAyE,MAAzE,EAAiFiB,MAAjF;;EACA,MAAId,GAAG,CAACgB,GAAJ,CAAQ,WAAR,KAAwB,CAAChB,GAAG,CAACgB,GAAJ,CAAQ,QAAR,CAA7B,EAAgD;;EAE9ChB,IAAAA,GAAG,CAACC,KAAJ,CAAU,wDAAV,EAAoEJ,GAApE,CAAwE,MAAxE,EAAgFiB,MAAhF,EAF8C;;EAI9Cd,IAAAA,GAAG,CAACC,KAAJ,CAAU,oEAAV,EAAgFJ,GAAhF,CAAoF,MAApF,EAA4FiB,MAA5F,EAJ8C;EAK/C,GAd+B;;;EAgBhC,MAAId,GAAG,CAACgB,GAAJ,CAAQ,OAAR,CAAJ,EAAsB;;EAEpBhB,IAAAA,GAAG,CAACC,KAAJ,CAAU,2CAAV,EAAuDJ,GAAvD,CAA2D,MAA3D,EAAmEiB,MAAnE,EAFoB;;EAIpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,sBAAV,EAAkC,CAAlC,EAAqCoB,KAArC,CAA2C,OAA3C,EAAoDxB,GAApD,CAAwD,MAAxD,EAAgEiB,MAAhE,EAJoB;;EAMpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,8BAAV,EAA0CJ,GAA1C,CAA8C,MAA9C,EAAsDiB,MAAtD,EANoB;;EAQpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,kDAAV,EAA8DJ,GAA9D,CAAkE,UAAlE,EAA8EiB,MAA9E,EARoB;;EAUpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,iBAAV,EAA6BJ,GAA7B,CAAiC,UAAjC,EAA6CiB,MAA7C;EACAd,IAAAA,GAAG,CAACC,KAAJ,CAAU,iBAAV,EAA6BJ,GAA7B,CAAiC,UAAjC,EAA6CiB,MAA7C;EAEAd,IAAAA,GAAG,CAACC,KAAJ,CAAU,+BAAV,EAA2CJ,GAA3C,CAA+C,UAA/C,EAA2DiB,MAA3D,EAboB;;EAepBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,4CAAV,EAAwD,CAAxD,EAA2DJ,GAA3D,CAA+D,UAA/D,EAA2EiB,MAA3E;EACD,GAhC+B;;;EAkChCd,EAAAA,GAAG,CAACC,KAAJ,CAAU,wDAAV,EAAoE,CAApE,EAAuEJ,GAAvE,CAA2E,MAA3E,EAAmFiB,MAAnF;EACA,SAAOd,GAAP;EACD,CApCD;;EAqCA,WAAc,GAAGoB,UAAjB;;ECxCA,IAAMN,MAAI,GAAG,cAAb;;EAEA,IAAMQ,WAAW,GAAG,SAAdA,WAAc,CAAUtB,GAAV,EAAe;EACjC,MAAIA,GAAG,CAACgB,GAAJ,CAAQ,OAAR,CAAJ,EAAsB;;EAEpBhB,IAAAA,GAAG,CAACC,KAAJ,CAAU,wDAAV,EAAoEJ,GAApE,CAAwE,WAAxE,EAAqFiB,MAArF,EAFoB;;EAIpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,wBAAV,EAAoCJ,GAApC,CAAwC,WAAxC,EAAqDiB,MAArD,EAJoB;;EAMpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,iCAAV,EAA6CJ,GAA7C,CAAiD,WAAjD,EAA8DiB,MAA9D,EANoB;;EAQpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,qCAAV,EAAiDJ,GAAjD,CAAqD,WAArD,EAAkEiB,MAAlE;EACAd,IAAAA,GAAG,CAACC,KAAJ,CAAU,oCAAV,EAAgDJ,GAAhD,CAAoD,WAApD,EAAiEiB,MAAjE,EAToB;;EAWpBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,kCAAV,EAA8C,CAA9C,EAAiDJ,GAAjD,CAAqD,WAArD,EAAkEiB,MAAlE,EAXoB;;EAapBd,IAAAA,GAAG,CAACC,KAAJ,CAAU,0BAAV,EAAsCJ,GAAtC,CAA0C,WAA1C,EAAuDiB,MAAvD;EACD;;EACD,SAAOd,GAAP;EACD,CAjBD;;EAkBA,aAAc,GAAGsB,WAAjB;;ECpBA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAUvB,GAAV,EAAe;;EAElCA,EAAAA,GAAG,CAACC,KAAJ,CAAU,8BAAV,EAA0CJ,GAA1C,CAA8C,MAA9C,EAAsD,aAAtD,EAFkC;;EAIlCG,EAAAA,GAAG,CAACC,KAAJ,CAAU,uBAAV,EAAmCJ,GAAnC,CAAuC,MAAvC,EAA+C,aAA/C,EAJkC;;EAMlCG,EAAAA,GAAG,CAACC,KAAJ,CAAU,+DAAV,EAA2EJ,GAA3E,CAA+E,MAA/E,EAAuF,aAAvF,EANkC;;EAQlCG,EAAAA,GAAG,CAACC,KAAJ,CAAU,+BAAV,EAA2CJ,GAA3C,CAA+C,MAA/C,EAAuD,eAAvD,EARkC;;EAUlCG,EAAAA,GAAG,CAACC,KAAJ,CAAU,gCAAV,EAA4CJ,GAA5C,CAAgD,MAAhD,EAAwD,UAAxD;EACD,CAXD;;EAYA,gBAAc,GAAG0B,YAAjB;;ECZA,IAAMT,IAAI,GAAG,YAAb;;EAEA,IAAMU,KAAK,GAAG,SAARA,KAAQ,CAAUxB,GAAV,EAAe;;EAE3B,MAAIA,GAAG,CAACgB,GAAJ,CAAQ,OAAR,CAAJ,EAAsB;;EAEpB,QAAIS,IAAI,GAAGzB,GAAG,CAACC,KAAJ,CAAU,kBAAV,CAAX;;EACA,QAAIwB,IAAI,CAACnC,KAAL,IAAc,CAACmC,IAAI,CAACT,GAAL,CAAS,MAAT,CAAnB,EAAqC;EACnCS,MAAAA,IAAI,CAACxB,KAAL,CAAW,SAAX,EAAsBK,KAAtB,CAA4B,MAA5B,EAAoC,WAApC;EACD;;EAED,QAAIoB,CAAC,GAAG1B,GAAG,CAACC,KAAJ,CAAU,QAAV,CAAR,CAPoB;;EASpByB,IAAAA,CAAC,CAACzB,KAAF,CAAQ,OAAR,EAAiBK,KAAjB,CAAuB,MAAvB,EAA+B,SAA/B,EAToB;;EAWpBoB,IAAAA,CAAC,CAACzB,KAAF,CAAQ,wCAAR,EAAkDK,KAAlD,CAAwD,MAAxD,EAAgE,mBAAhE;EAEA,QAAIqB,SAAS,GAAG,4BAAhB;;EACA,QAAID,CAAC,CAACV,GAAF,CAAMW,SAAN,CAAJ,EAAsB;;EAEpBD,MAAAA,CAAC,CAACzB,KAAF,WAAW0B,SAAX,iBAAkCrB,KAAlC,CAAwC,MAAxC,EAAgD,aAAhD,EAFoB;;EAIpBoB,MAAAA,CAAC,CAACzB,KAAF,qBAAqB0B,SAArB,QAAmC,CAAnC,EAAsCrB,KAAtC,CAA4C,MAA5C,EAAoD,aAApD,EAJoB;;EAMpBoB,MAAAA,CAAC,CAACzB,KAAF,qBAAqB0B,SAArB,QAAmCrB,KAAnC,CAAyC,MAAzC,EAAiDsB,QAAjD,GAA4D/B,GAA5D,CAAgE,MAAhE,EAAwE,eAAxE,EANoB;;;;;;EAapB6B,MAAAA,CAAC,CAACzB,KAAF,kCAAkC0B,SAAlC,QAAgDrB,KAAhD,CAAsD,MAAtD,EAA8DsB,QAA9D,GAAyE/B,GAAzE,CAA6E,MAA7E,EAAqF,sBAArF;EACD,KA5BmB;;;EA8BpB6B,IAAAA,CAAC,CAACzB,KAAF,kBAAyBK,KAAzB,CAA+B,MAA/B,EAAuCQ,IAAvC,EA9BoB;;EAgCpBY,IAAAA,CAAC,CAACzB,KAAF,kBAAyB4B,KAAzB,CAA+B,CAA/B,EAAkCvB,KAAlC,CAAwC,MAAxC,EAAgD,eAAhD,EAhCoB;;EAkCpBoB,IAAAA,CAAC,CAACzB,KAAF,wBAA+BJ,GAA/B,CAAmC,MAAnC,EAA2CiB,IAA3C,EAlCoB;;;;EAsCpBY,IAAAA,CAAC,CAACzB,KAAF,6BAAoC4B,KAApC,CAA0C,CAA1C,EAA6CvB,KAA7C,CAAmD,MAAnD,EAA2DQ,IAA3D;;EAEA,QAAIY,CAAC,CAACV,GAAF,CAAM,kBAAN,CAAJ,EAA+B;;EAE7BU,MAAAA,CAAC,CAACzB,KAAF,sCAA6C4B,KAA7C,CAAmD,CAAnD,EAAsDvB,KAAtD,CAA4D,MAA5D,EAAoEQ,IAApE,EAF6B;;EAI7BY,MAAAA,CAAC,CAACzB,KAAF,0CAAiD4B,KAAjD,CAAuD,CAAvD,EAA0DvB,KAA1D,CAAgE,MAAhE,EAAwEQ,IAAxE;EACD,KA7CmB;;;EA+CpB,QAAIY,CAAC,CAACV,GAAF,CAAM,uCAAN,MAAmD,KAAvD,EAA8D;EAC5DU,MAAAA,CAAC,CAACzB,KAAF,CAAQ,iCAAR,EAA2C4B,KAA3C,CAAiD,CAAjD,EAAoDvB,KAApD,CAA0D,MAA1D,EAAkEQ,IAAlE;EACD,KAjDmB;;;EAmDpB,QAAIY,CAAC,CAACV,GAAF,CAAM,UAAN,KAAqB,CAACU,CAAC,CAACV,GAAF,CAAM,OAAN,CAA1B,EAA0C;EACxCU,MAAAA,CAAC,CAACpB,KAAF,CAAQ,MAAR,EAAgBQ,IAAhB;EACD,KArDmB;;;EAuDpB,QAAIY,CAAC,CAACV,GAAF,CAAM,eAAN,KAA0B,CAACU,CAAC,CAACV,GAAF,CAAM,YAAN,CAA3B,IAAkD,CAACU,CAAC,CAACV,GAAF,CAAM,WAAN,CAAvD,EAA2E;EACzEU,MAAAA,CAAC,CAACzB,KAAF,CAAQ,QAAR,EAAkB2B,QAAlB,GAA6BtB,KAA7B,CAAmC,MAAnC,EAA2C,aAA3C;EACD,KAzDmB;;;EA2DpB,QAAIoB,CAAC,CAACV,GAAF,CAAM,2CAAN,KAAsD,CAACU,CAAC,CAACV,GAAF,CAAM,kBAAN,CAA3D,EAAsF;EACpFU,MAAAA,CAAC,CAACzB,KAAF,CAAQ,2CAAR,EAAqDK,KAArD,CAA2D,MAA3D,EAAmE,WAAnE;EACD,KA7DmB;;;EA+DpB,QAAIoB,CAAC,CAACV,GAAF,CAAM,gBAAN,CAAJ,EAA6B;EAC3BU,MAAAA,CAAC,CAACzB,KAAF,CAAQ,OAAR,EAAiBK,KAAjB,CAAuB,OAAvB,EAAgC,oBAAhC;EACD,KAjEmB;;;EAoEpBoB,IAAAA,CAAC,CAACzB,KAAF,CAAQ,4BAAR,EAAsCK,KAAtC,CAA4C,UAA5C,EApEoB;;EAuEpBoB,IAAAA,CAAC,CAACzB,KAAF,CAAQ,sBAAR,EAAgCK,KAAhC,CAAsC,MAAtC,EAvEoB;;;;;;EA6EpBoB,IAAAA,CAAC,CAACzB,KAAF,CAAQ,QAAR,EAAkBA,KAAlB,CAAwB,MAAxB,EAAgCK,KAAhC,CAAsC,MAAtC;EACD;;EACD,SAAON,GAAP;EACD,CAlFD;;EAmFA,YAAc,GAAGwB,KAAjB;;ECrFA,IAAMM,SAAO,GAAG,CACdC,QADc,EAEdC,SAFc,EAGdC,QAHc,EAIdC,WAJc,EAKdC,OALc,EAMdC,SANc,EAOdC,YAPc,EAQdC,QARc,CAAhB;;EAYA,IAAMC,WAAS,GAAG,SAAZA,SAAY,CAAUvC,GAAV,EAAe;;EAE/BA,EAAAA,GAAG,CAACwC,OAAJ,GAAcD,SAAd,GAF+B;;EAG/B,SAAOvC,GAAP;EACD,CAJD;;;EAOA,IAAMyC,OAAO,GAAG,SAAVA,OAAU,CAAUzC,GAAV,EAAe;EAC7BA,EAAAA,GAAG,GAAGuC,WAAS,CAACvC,GAAD,CAAf,CAD6B;;EAG7B8B,EAAAA,SAAO,CAACvC,OAAR,CAAgB,UAACmD,EAAD;EAAA,WAAQA,EAAE,CAAC1C,GAAD,CAAV;EAAA,GAAhB;EACA,SAAOA,GAAP;EACD,CALD;;EAMA,aAAc,GAAGyC,OAAjB;;ECzBA,SAAc,GAAG;EACfE,EAAAA,gBAAgB,EAAE;EAChBC,IAAAA,GAAG,EAAE,MADW;EAEhBC,IAAAA,IAAI,EAAE;EAFU,GADH;;EAMfC,EAAAA,MAAM,EAAE;EACNF,IAAAA,GAAG,EAAE;EADC,GANO;;EAUfG,EAAAA,IAAI,EAAE;EACJH,IAAAA,GAAG,EAAE,CAAC,MAAD,CADD;EAEJC,IAAAA,IAAI,EAAE;EAFF,GAVS;;EAefG,EAAAA,QAAQ,EAAE;EACRJ,IAAAA,GAAG,EAAE,CAAC,MAAD,EAAS,MAAT;EADG,GAfK;;EAmBfK,EAAAA,OAAO,EAAE;EACPL,IAAAA,GAAG,EAAE,CAAC,MAAD,EAAS,MAAT;EADE,GAnBM;;EAuBfM,EAAAA,QAAQ,EAAE;EACRN,IAAAA,GAAG,EAAE,CAAC,MAAD,EAAS,MAAT,CADG;EAERC,IAAAA,IAAI,EAAE,CAAC,WAAD,EAAc,WAAd;EAFE,GAvBK;;EA4BfM,EAAAA,SAAS,EAAE;EACTP,IAAAA,GAAG,EAAE,CAAC,MAAD,CADI;EAETC,IAAAA,IAAI,EAAE,CAAC,UAAD,EAAa,SAAb;EAFG;EA5BI,CAAjB;;;;;;;;;;;ECCC,aAAUO,MAAV,EAAkBC,OAAlB,EAA2B;EAC1B,IAA+DC,cAAA,GAAiBD,OAAO,EAAvF,CAAA;EAGD,GAJA,EAICE,cAJD,EAIQ,YAAY;;EAEnB,aAASC,OAAT,CAAiBC,GAAjB,EAAsB;EACpB;;EAEA,UAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;EACvEH,QAAAA,OAAO,GAAG,iBAAUC,GAAV,EAAe;EACvB,iBAAO,OAAOA,GAAd;EACD,SAFD;EAGD,OAJD,MAIO;EACLD,QAAAA,OAAO,GAAG,iBAAUC,GAAV,EAAe;EACvB,iBAAOA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;EACD,SAFD;EAGD;;EAED,aAAOD,OAAO,CAACC,GAAD,CAAd;EACD;;EAED,aAASK,cAAT,CAAwBC,GAAxB,EAA6BC,CAA7B,EAAgC;EAC9B,aAAOC,eAAe,CAACF,GAAD,CAAf,IAAwBG,qBAAqB,CAACH,GAAD,EAAMC,CAAN,CAA7C,IAAyDG,2BAA2B,CAACJ,GAAD,EAAMC,CAAN,CAApF,IAAgGI,gBAAgB,EAAvH;EACD;;EAED,aAASH,eAAT,CAAyBF,GAAzB,EAA8B;EAC5B,UAAIM,KAAK,CAACC,OAAN,CAAcP,GAAd,CAAJ,EAAwB,OAAOA,GAAP;EACzB;;EAED,aAASG,qBAAT,CAA+BH,GAA/B,EAAoCC,CAApC,EAAuC;EACrC,UAAI,OAAON,MAAP,KAAkB,WAAlB,IAAiC,EAAEA,MAAM,CAACC,QAAP,IAAmBY,MAAM,CAACR,GAAD,CAA3B,CAArC,EAAwE;EACxE,UAAIS,IAAI,GAAG,EAAX;EACA,UAAIC,EAAE,GAAG,IAAT;EACA,UAAIC,EAAE,GAAG,KAAT;EACA,UAAIC,EAAE,GAAGC,SAAT;;EAEA,UAAI;EACF,aAAK,IAAIC,EAAE,GAAGd,GAAG,CAACL,MAAM,CAACC,QAAR,CAAH,EAAT,EAAiCmB,EAAtC,EAA0C,EAAEL,EAAE,GAAG,CAACK,EAAE,GAAGD,EAAE,CAACE,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyEP,EAAE,GAAG,IAA9E,EAAoF;EAClFD,UAAAA,IAAI,CAACS,IAAL,CAAUH,EAAE,CAACI,KAAb;;EAEA,cAAIlB,CAAC,IAAIQ,IAAI,CAACW,MAAL,KAAgBnB,CAAzB,EAA4B;EAC7B;EACF,OAND,CAME,OAAOoB,GAAP,EAAY;EACZV,QAAAA,EAAE,GAAG,IAAL;EACAC,QAAAA,EAAE,GAAGS,GAAL;EACD,OATD,SASU;EACR,YAAI;EACF,cAAI,CAACX,EAAD,IAAOI,EAAE,CAAC,QAAD,CAAF,IAAgB,IAA3B,EAAiCA,EAAE,CAAC,QAAD,CAAF;EAClC,SAFD,SAEU;EACR,cAAIH,EAAJ,EAAQ,MAAMC,EAAN;EACT;EACF;;EAED,aAAOH,IAAP;EACD;;EAED,aAASL,2BAAT,CAAqCkB,CAArC,EAAwCC,MAAxC,EAAgD;EAC9C,UAAI,CAACD,CAAL,EAAQ;EACR,UAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAOE,iBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;EAC3B,UAAIE,CAAC,GAAGjB,MAAM,CAACV,SAAP,CAAiB4B,QAAjB,CAA0BC,IAA1B,CAA+BL,CAA/B,EAAkCM,KAAlC,CAAwC,CAAxC,EAA2C,CAAC,CAA5C,CAAR;EACA,UAAIH,CAAC,KAAK,QAAN,IAAkBH,CAAC,CAACzB,WAAxB,EAAqC4B,CAAC,GAAGH,CAAC,CAACzB,WAAF,CAAcgC,IAAlB;EACrC,UAAIJ,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,KAAzB,EAAgC,OAAOnB,KAAK,CAACwB,IAAN,CAAWR,CAAX,CAAP;EAChC,UAAIG,CAAC,KAAK,WAAN,IAAqB,2CAA2CM,IAA3C,CAAgDN,CAAhD,CAAzB,EAA6E,OAAOD,iBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;EAC9E;;EAED,aAASC,iBAAT,CAA2BxB,GAA3B,EAAgCgC,GAAhC,EAAqC;EACnC,UAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,GAAGhC,GAAG,CAACoB,MAA7B,EAAqCY,GAAG,GAAGhC,GAAG,CAACoB,MAAV;;EAErC,WAAK,IAAInB,CAAC,GAAG,CAAR,EAAWgC,IAAI,GAAG,IAAI3B,KAAJ,CAAU0B,GAAV,CAAvB,EAAuC/B,CAAC,GAAG+B,GAA3C,EAAgD/B,CAAC,EAAjD;EAAqDgC,QAAAA,IAAI,CAAChC,CAAD,CAAJ,GAAUD,GAAG,CAACC,CAAD,CAAb;EAArD;;EAEA,aAAOgC,IAAP;EACD;;EAED,aAAS5B,gBAAT,GAA4B;EAC1B,YAAM,IAAI6B,SAAJ,CAAc,2IAAd,CAAN;EACD;;EAED,QAAIC,YAAY,GAAG,KAAK,EAAL,GAAU,IAA7B,CA1EmB;;EA4EnB,QAAIC,KAAK,GAAG,SAASA,KAAT,CAAeC,SAAf,EAA0BC,MAA1B,EAAkCC,IAAlC,EAAwC;EAClD,UAAIC,gBAAgB,GAAGH,SAAS,CAACI,KAAV,CAAgB,GAAhB,CAAvB;EAAA,UACIC,iBAAiB,GAAG3C,cAAc,CAACyC,gBAAD,EAAmB,CAAnB,CADtC;EAAA,UAEIrG,KAAK,GAAGuG,iBAAiB,CAAC,CAAD,CAF7B;EAAA,UAGIC,IAAI,GAAGD,iBAAiB,CAAC,CAAD,CAH5B;;EAKA,UAAIE,WAAW,GAAGD,IAAI,CAACF,KAAL,CAAW,GAAX,CAAlB;EAAA,UACII,YAAY,GAAG9C,cAAc,CAAC6C,WAAD,EAAc,CAAd,CADjC;EAAA,UAEIE,GAAG,GAAGD,YAAY,CAAC,CAAD,CAFtB;EAAA,UAGIE,IAAI,GAAGF,YAAY,CAAC,CAAD,CAHvB;;EAKA,aAAOG,IAAI,CAACC,GAAL,CAASV,IAAT,EAAepG,KAAK,GAAG,CAAvB,EAA0B2G,GAA1B,EAA+BC,IAA/B,IAAuCT,MAAM,GAAGH,YAAvD;EACD,KAZD,CA5EmB;;;EA2FnB,QAAIe,YAAY,GAAG,SAASA,YAAT,CAAsBC,KAAtB,EAA6BC,KAA7B,EAAoCC,GAApC,EAAyCC,YAAzC,EAAuDC,YAAvD,EAAqE;EACtF,UAAIhB,IAAI,GAAG,IAAIS,IAAJ,CAASG,KAAT,EAAgBK,cAAhB,EAAX;EACA,UAAIC,QAAQ,GAAGrB,KAAK,CAACgB,KAAD,EAAQG,YAAR,EAAsBhB,IAAtB,CAApB;EACA,UAAImB,MAAM,GAAGtB,KAAK,CAACiB,GAAD,EAAMC,YAAN,EAAoBf,IAApB,CAAlB,CAHsF;;EAKtF,aAAOY,KAAK,IAAIM,QAAT,IAAqBN,KAAK,GAAGO,MAApC;EACD,KAND;;EAQA,QAAIC,UAAU,GAAGT,YAAjB,CAnGmB;;EAuGnB,QAAIU,WAAW,GAAG,SAASA,WAAT,CAAqBC,CAArB,EAAwB;EACxC,UAAIC,KAAK,GAAGD,CAAC,CAACE,SAAd;EACA,UAAIrE,GAAG,GAAGoE,KAAK,CAACD,CAAC,CAACG,EAAH,CAAf;;EAEA,UAAItE,GAAG,KAAKmB,SAAZ,EAAuB;EACrBoD,QAAAA,OAAO,CAACC,IAAR,CAAa,qCAAqCL,CAAC,CAACG,EAApD;EACA,eAAO,CAAP;EACD;;EAED,UAAItE,GAAG,CAACyE,GAAJ,KAAYtD,SAAhB,EAA2B;EACzB,eAAOnB,GAAG,CAAC4C,MAAX;EACD,OAXuC;;;EAcxC,UAAI8B,GAAG,GAAG1E,GAAG,CAAC4C,MAAd;EACA,UAAI+B,GAAG,GAAG3E,GAAG,CAAC4C,MAAJ,GAAa,CAAvB,CAfwC;;EAiBxC,UAAI5C,GAAG,CAAC4E,GAAJ,KAAY,GAAhB,EAAqB;EACnBD,QAAAA,GAAG,GAAGD,GAAG,GAAG,CAAZ;EACD;;EAED,UAAI3B,KAAK,GAAG/C,GAAG,CAACyE,GAAJ,CAAQ1B,KAAR,CAAc,IAAd,CAAZ;EACA,UAAI8B,QAAQ,GAAGZ,UAAU,CAACE,CAAC,CAACV,KAAH,EAAUV,KAAK,CAAC,CAAD,CAAf,EAAoBA,KAAK,CAAC,CAAD,CAAzB,EAA8B2B,GAA9B,EAAmCC,GAAnC,CAAzB;;EAEA,UAAIE,QAAQ,KAAK,IAAjB,EAAuB;EACrB,eAAOH,GAAP;EACD;;EAED,aAAOC,GAAP;EACD,KA7BD;;EA+BA,QAAIG,KAAK,GAAGZ,WAAZ;EAEA,QAAIa,MAAM,GAAG;EACZ,aAAO,mBADK;EAEZ,aAAO,yDAFK;EAGZ,kCAA4B,+CAHhB;EAIZ,eAAS,kBAJG;EAKZ,gCAA0B,UALd;EAMZ,aAAO,sDANK;EAOZ,gCAA0B,cAPd;EAQZ,aAAO,mKARK;EASZ,gBAAU,SATE;EAUZ,aAAO,gCAVK;EAWZ,aAAO,2IAXK;EAYZ,aAAO,WAZK;EAaZ,aAAO,iHAbK;EAcZ,eAAS,4BAdG;EAeZ,aAAO,uBAfK;EAgBZ,aAAO,uIAhBK;EAiBZ,gBAAU,wBAjBE;EAkBZ,eAAS,gCAlBG;EAmBZ,aAAO,WAnBK;EAoBZ,aAAO,4HApBK;EAqBZ,kCAA4B,UArBhB;EAsBZ,eAAS,SAtBG;EAuBZ,aAAO,yBAvBK;EAwBZ,gCAA0B,+IAxBd;EAyBZ,gCAA0B,uBAzBd;EA0BZ,gCAA0B,UA1Bd;EA2BZ,gCAA0B,iBA3Bd;EA4BZ,gCAA0B,wBA5Bd;EA6BZ,gCAA0B,SA7Bd;EA8BZ,gCAA0B,YA9Bd;EA+BZ,aAAO,uOA/BK;EAgCZ,gCAA0B,UAhCd;EAiCZ,aAAO,sFAjCK;EAkCZ,gCAA0B,oWAlCd;EAmCZ,aAAO,4EAnCK;EAoCZ,gCAA0B,YApCd;EAqCZ,aAAO,qBArCK;EAsCZ,gCAA0B,yBAtCd;EAuCZ,gCAA0B,4GAvCd;EAwCZ,aAAO,kHAxCK;EAyCZ,cAAQ,eAzCI;EA0CZ,iCAA2B,SA1Cf;EA2CZ,iCAA2B,cA3Cf;EA4CZ,cAAQ,yBA5CI;EA6CZ,iCAA2B,sCA7Cf;EA8CZ,iCAA2B,SA9Cf;EA+CZ,cAAQ,8GA/CI;EAgDZ,oCAA8B,YAhDlB;EAiDZ,iCAA2B,cAjDf;EAkDZ,cAAQ,iBAlDI;EAmDZ,cAAQ,uFAnDI;EAoDZ,mCAA6B,YApDjB;EAqDZ,iCAA2B,qFArDf;EAsDZ,cAAQ,sDAtDI;EAuDZ,cAAQ,8FAvDI;EAwDZ,mCAA6B,mBAxDjB;EAyDZ,gCAA0B,yBAzDd;EA0DZ,aAAO,+PA1DK;EA2DZ,iCAA2B,eA3Df;EA4DZ,cAAQ,YA5DI;EA6DZ,gBAAU,cA7DE;EA8DZ,iCAA2B,4DA9Df;EA+DZ,cAAQ,aA/DI;EAgEZ,iCAA2B,sFAhEf;EAiEZ,iCAA2B,+BAjEf;EAkEZ,cAAQ,+DAlEI;EAmEZ,iCAA2B,0BAnEf;EAoEZ,iCAA2B,mCApEf;EAqEZ,iCAA2B,oGArEf;EAsEZ,cAAQ,kJAtEI;EAuEZ,cAAQ,4BAvEI;EAwEZ,iCAA2B,gEAxEf;EAyEZ,iCAA2B,0GAzEf;EA0EZ,iCAA2B,gBA1Ef;EA2EZ,cAAQ,8GA3EI;EA4EZ,iCAA2B,WA5Ef;EA6EZ,iCAA2B,0BA7Ef;EA8EZ,iCAA2B,YA9Ef;EA+EZ,iCAA2B,yBA/Ef;EAgFZ,cAAQ,0BAhFI;EAiFZ,iCAA2B,qLAjFf;EAkFZ,iCAA2B,UAlFf;EAmFZ,iCAA2B,sBAnFf;EAoFZ,cAAQ,kVApFI;EAqFZ,cAAQ,sHArFI;EAsFZ,iCAA2B,QAtFf;EAuFZ,iCAA2B,0EAvFf;EAwFZ,cAAQ,yHAxFI;EAyFZ,cAAQ,aAzFI;EA0FZ,iCAA2B,WA1Ff;EA2FZ,iCAA2B,YA3Ff;EA4FZ,cAAQ,2BA5FI;EA6FZ,mCAA6B,2BA7FjB;EA8FZ,cAAQ,cA9FI;EA+FZ,eAAS,yCA/FG;EAgGZ,eAAS;EAhGG,KAAb;;EAmGA,QAAIC,QAAQ,gBAAgBlE,MAAM,CAACmE,MAAP,CAAc;EACxCC,MAAAA,SAAS,EAAE,IAD6B;EAExC,iBAAWH;EAF6B,KAAd,CAA5B,CA3OmB;;;EAiPnB,QAAII,SAAS,GAAG,CAAC,QAAD,EAAW,SAAX,EAAsB,MAAtB,EAA8B,UAA9B,EAA0C,WAA1C,EAAuD,QAAvD,EAAiE,QAAjE,EAA2E,OAA3E,EAAoF,QAApF,EAA8F,QAA9F,EAAwG,QAAxG,EAAkH,SAAlH,EAA6H,YAA7H,EAA2I,KAA3I,CAAhB;;EAEA,aAASC,oBAAT,CAA8BnG,EAA9B,EAAkCY,MAAlC,EAA0C;EACzC,aAAOA,MAAM,GAAG;EAAEwF,QAAAA,OAAO,EAAE;EAAX,OAAT,EAA0BpG,EAAE,CAACY,MAAD,EAASA,MAAM,CAACwF,OAAhB,CAA5B,EAAsDxF,MAAM,CAACwF,OAApE;EACA;;EAED,aAASC,yBAAT,CAAoCvD,CAApC,EAAuC;EACtC,aAAOA,CAAC,IAAIA,CAAC,CAAC,SAAD,CAAN,IAAqBA,CAA5B;EACA;;EAED,QAAIwD,IAAI,GAAGD,yBAAyB,CAACN,QAAD,CAApC;EAEA,QAAIQ,GAAG,GAAG,EAAV;EACA1E,IAAAA,MAAM,CAAC2E,IAAP,CAAYF,IAAZ,EAAkBzJ,OAAlB,CAA0B,UAAU4J,CAAV,EAAa;EACrC,UAAI3C,KAAK,GAAG2C,CAAC,CAAC3C,KAAF,CAAQ,GAAR,CAAZ;EACA,UAAI/C,GAAG,GAAG;EACR4C,QAAAA,MAAM,EAAE+C,MAAM,CAAC5C,KAAK,CAAC,CAAD,CAAN,CADN;EAER6B,QAAAA,GAAG,EAAE7B,KAAK,CAAC,CAAD;EAFF,OAAV;;EAKA,UAAIA,KAAK,CAAC,CAAD,CAAT,EAAc;EACZ/C,QAAAA,GAAG,CAACyE,GAAJ,GAAU1B,KAAK,CAAC,CAAD,CAAf;EACD;;EAED,UAAI6C,KAAK,GAAGL,IAAI,CAACG,CAAD,CAAJ,CAAQ3C,KAAR,CAAc,GAAd,CAAZ;EACA6C,MAAAA,KAAK,CAAC9J,OAAN,CAAc,UAAUE,GAAV,EAAe;EAC3BA,QAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,aAAZ,EAA2B,UAAUC,MAAV,EAAkB5J,GAAlB,EAAuB;EACtDA,UAAAA,GAAG,GAAGyJ,MAAM,CAACzJ,GAAD,CAAZ;EACA,iBAAOiJ,SAAS,CAACjJ,GAAD,CAAT,GAAiB,GAAxB;EACD,SAHK,CAAN;EAIAsJ,QAAAA,GAAG,CAACxJ,GAAD,CAAH,GAAWgE,GAAX;EACD,OAND;EAOD,KAnBD;EAoBAwF,IAAAA,GAAG,CAAC,KAAD,CAAH,GAAa;EACX5C,MAAAA,MAAM,EAAE,CADG;EAEXgC,MAAAA,GAAG,EAAE,GAFM;;EAAA,KAAb,CAlRmB;;EAwRnB,SAAK,IAAIrE,CAAC,GAAG,CAAC,EAAd,EAAkBA,CAAC,IAAI,EAAvB,EAA2BA,CAAC,IAAI,GAAhC,EAAqC;EACnC,UAAIrE,GAAG,GAAGqE,CAAV;;EAEA,UAAIrE,GAAG,GAAG,CAAV,EAAa;EACXA,QAAAA,GAAG,GAAG,MAAMA,GAAZ;EACD;;EAED,UAAIiG,IAAI,GAAG,YAAYjG,GAAvB;EACAsJ,MAAAA,GAAG,CAACrD,IAAD,CAAH,GAAY;EACVS,QAAAA,MAAM,EAAErC,CAAC,GAAG,CAAC,CADH;;EAGVqE,QAAAA,GAAG,EAAE,GAHK;;EAAA,OAAZ;EAMAzC,MAAAA,IAAI,GAAG,YAAYjG,GAAnB,CAdmC;;EAgBnCsJ,MAAAA,GAAG,CAACrD,IAAD,CAAH,GAAY;EACVS,QAAAA,MAAM,EAAErC,CAAC,GAAG,CAAC,CADH;EAEVqE,QAAAA,GAAG,EAAE;EAFK,OAAZ;EAID;;EAED,QAAImB,MAAM,GAAGP,GAAb,CA9SmB;;;;EAmTnB,QAAIQ,UAAU,GAAG,KAAjB,CAnTmB;;;EAsTnB,QAAIC,QAAQ,GAAG,SAASA,QAAT,GAAoB;EACjC,UAAI,OAAOC,IAAP,KAAgB,WAAhB,IAA+B,OAAOA,IAAI,CAACC,cAAZ,KAA+B,WAAlE,EAA+E;EAC7E,eAAO,IAAP;EACD;;EAED,UAAIC,MAAM,GAAGF,IAAI,CAACC,cAAL,EAAb;;EAEA,UAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACC,eAAd,KAAkC,WAAvE,EAAoF;EAClF,eAAO,IAAP;EACD;;EAED,UAAIC,QAAQ,GAAGF,MAAM,CAACC,eAAP,GAAyBE,QAAxC;;EAEA,UAAI,CAACD,QAAL,EAAe;EACb,eAAO,IAAP;EACD;;EAED,aAAOA,QAAQ,CAACE,WAAT,EAAP;EACD,KAlBD;;EAoBA,QAAIC,OAAO,GAAG,SAASA,OAAT,GAAmB;EAC/B,UAAIH,QAAQ,GAAGL,QAAQ,EAAvB;;EAEA,UAAIK,QAAQ,KAAK,IAAjB,EAAuB;EACrB,eAAON,UAAP;EACD;;EAED,aAAOM,QAAP;EACD,KARD,CA1UmB;;;EAqVnB,QAAII,SAAS,GAAGD,OAAhB;EAEA,QAAIE,QAAQ,GAAG,oBAAf;EACA,QAAIC,QAAQ,GAAG,aAAf;EACA,QAAIC,SAAS,GAAG,oBAAhB;EACA,QAAIC,SAAS,GAAG,oBAAhB;;EAEA,QAAIC,MAAM,GAAG,SAASA,MAAT,CAAgB7K,GAAhB,EAAqB;EAChCA,MAAAA,GAAG,GAAGyJ,MAAM,CAACzJ,GAAD,CAAZ;;EAEA,UAAIA,GAAG,IAAI,CAAC,EAAR,IAAcA,GAAG,IAAI,EAAzB,EAA6B;EAC3BA,QAAAA,GAAG,GAAGA,GAAG,GAAG,CAAC,CAAb,CAD2B;;EAG3BA,QAAAA,GAAG,GAAG,CAACA,GAAG,GAAG,CAAN,GAAU,GAAV,GAAgB,EAAjB,IAAuBA,GAA7B,CAH2B;;EAK3B,eAAO,YAAYA,GAAnB;EACD;;EAED,aAAO,IAAP;EACD,KAZD;;EAcA,QAAI8K,aAAa,GAAG,SAASC,WAAT,CAAqB3C,EAArB,EAAyB;;EAE3C,UAAI3I,CAAC,GAAG2I,EAAE,CAAC9H,KAAH,CAASmK,QAAT,CAAR;;EAEA,UAAIhL,CAAC,KAAK,IAAV,EAAgB;EACd,eAAOoL,MAAM,CAACpL,CAAC,CAAC,CAAD,CAAF,CAAb;EACD,OAN0C;;;EAS3CA,MAAAA,CAAC,GAAG2I,EAAE,CAAC9H,KAAH,CAASqK,SAAT,CAAJ;;EAEA,UAAIlL,CAAC,KAAK,IAAV,EAAgB;EACd,eAAOoL,MAAM,CAACpL,CAAC,CAAC,CAAD,CAAF,CAAb;EACD,OAb0C;;;EAgB3CA,MAAAA,CAAC,GAAG2I,EAAE,CAAC9H,KAAH,CAASsK,SAAT,CAAJ;;EAEA,UAAInL,CAAC,KAAK,IAAV,EAAgB;EACd,YAAIO,GAAG,GAAGyJ,MAAM,CAAChK,CAAC,CAAC,CAAD,CAAF,CAAN,GAAe,CAAC,CAA1B;EACA,eAAOoL,MAAM,CAAC7K,GAAD,CAAb;EACD,OArB0C;;;EAwB3CP,MAAAA,CAAC,GAAG2I,EAAE,CAAC9H,KAAH,CAASoK,QAAT,CAAJ;;EAEA,UAAIjL,CAAC,KAAK,IAAV,EAAgB;EACd,eAAOoL,MAAM,CAACpL,CAAC,CAAC,CAAD,CAAF,CAAb;EACD;;EAED,aAAO,IAAP;EACD,KA/BD;;EAiCA,QAAIuL,eAAe,GAAGF,aAAtB;EAEA,QAAIG,KAAK,GAAGT,SAAS,EAArB,CA7YmB;;EA+YnB,QAAIU,MAAM,GAAGtG,MAAM,CAAC2E,IAAP,CAAYM,MAAZ,EAAoBsB,MAApB,CAA2B,UAAUC,CAAV,EAAa5B,CAAb,EAAgB;EACtD,UAAI6B,IAAI,GAAG7B,CAAC,CAAC3C,KAAF,CAAQ,GAAR,EAAa,CAAb,KAAmB,EAA9B;EACAwE,MAAAA,IAAI,GAAGA,IAAI,CAAC1B,OAAL,CAAa,IAAb,EAAmB,GAAnB,CAAP;EACAyB,MAAAA,CAAC,CAACC,IAAD,CAAD,GAAU7B,CAAV;EACA,aAAO4B,CAAP;EACD,KALY,EAKV,EALU,CAAb,CA/YmB;;EAsZnB,QAAIxI,SAAS,GAAG,SAASA,SAAT,CAAmBwF,EAAnB,EAAuB;EACrCA,MAAAA,EAAE,GAAGA,EAAE,CAACuB,OAAH,CAAW,QAAX,EAAqB,EAArB,CAAL;EACAvB,MAAAA,EAAE,GAAGA,EAAE,CAACuB,OAAH,CAAW,8BAAX,EAA2C,EAA3C,CAAL;EACAvB,MAAAA,EAAE,GAAGA,EAAE,CAACuB,OAAH,CAAW,+BAAX,EAA4C,IAA5C,CAAL;EACAvB,MAAAA,EAAE,GAAGA,EAAE,CAACuB,OAAH,CAAW,gCAAX,EAA6C,IAA7C,CAAL;EACAvB,MAAAA,EAAE,GAAGA,EAAE,CAACuB,OAAH,CAAW,aAAX,EAA0B,QAA1B,CAAL;EACAvB,MAAAA,EAAE,GAAGA,EAAE,CAACuB,OAAH,CAAW,WAAX,EAAwB,QAAxB,CAAL;EACA,aAAOvB,EAAP;EACD,KARD,CAtZmB;;;EAianB,QAAIkD,QAAQ,GAAG,SAASA,QAAT,CAAkBxL,GAAlB,EAAuBoI,KAAvB,EAA8B;EAC3C,UAAI,CAACpI,GAAL,EAAU;EACR,eAAOmL,KAAP;EACD;;EAED,UAAI,OAAOnL,GAAP,KAAe,QAAnB,EAA6B;EAC3BuI,QAAAA,OAAO,CAACkD,KAAR,CAAc,yCAAd,EAAyDzL,GAAzD,EAA8D,KAA9D;EACD;;EAED,UAAIsI,EAAE,GAAGtI,GAAG,CAAC0L,IAAJ,EAAT;EACA,UAAI3E,KAAK,GAAG/G,GAAG,CAAC+G,KAAJ,CAAU,GAAV,CAAZ,CAV2C;;EAY3C,UAAIA,KAAK,CAACrB,MAAN,GAAe,CAAf,IAAoB0C,KAAK,CAACuD,cAAN,CAAqBrD,EAArB,MAA6B,KAArD,EAA4D;EAC1DA,QAAAA,EAAE,GAAGvB,KAAK,CAAC,CAAD,CAAL,GAAW,GAAX,GAAiBA,KAAK,CAAC,CAAD,CAA3B;EACD;;EAEDuB,MAAAA,EAAE,GAAGA,EAAE,CAACkC,WAAH,EAAL;;EAEA,UAAIpC,KAAK,CAACuD,cAAN,CAAqBrD,EAArB,MAA6B,IAAjC,EAAuC;EACrC,eAAOA,EAAP;EACD,OApB0C;;;EAuB3CA,MAAAA,EAAE,GAAGxF,SAAS,CAACwF,EAAD,CAAd;;EAEA,UAAIF,KAAK,CAACuD,cAAN,CAAqBrD,EAArB,MAA6B,IAAjC,EAAuC;EACrC,eAAOA,EAAP;EACD,OA3B0C;;;EA8B3C,UAAI8C,MAAM,CAACO,cAAP,CAAsBrD,EAAtB,MAA8B,IAAlC,EAAwC;EACtC,eAAO8C,MAAM,CAAC9C,EAAD,CAAb;EACD,OAhC0C;;;EAmC3C,UAAI,QAAQjC,IAAR,CAAaiC,EAAb,MAAqB,IAAzB,EAA+B;EAC7B,YAAIsD,EAAE,GAAGV,eAAe,CAAC5C,EAAD,CAAxB;;EAEA,YAAIsD,EAAJ,EAAQ;EACN,iBAAOA,EAAP;EACD;EACF;;EAED,YAAM,IAAIC,KAAJ,CAAU,6CAA6C7L,GAA7C,GAAmD,sCAA7D,CAAN;EACD,KA5CD;;EA8CA,QAAI8L,IAAI,GAAGN,QAAX;EAEA,QAAI5F,CAAC,GAAG;EACNmG,MAAAA,WAAW,EAAE;EADP,KAAR;EAGAnG,IAAAA,CAAC,CAACoG,MAAF,GAAW,IAAX;EACApG,IAAAA,CAAC,CAACqG,MAAF,GAAW,KAAX;EACArG,IAAAA,CAAC,CAACyB,IAAF,GAAS,KAAT,CAtdmB;;EAwdnBzB,IAAAA,CAAC,CAACwB,GAAF,GAAQ,MAAR,CAxdmB;;EA0dnBxB,IAAAA,CAAC,CAAC7E,IAAF,GAAS6E,CAAC,CAACwB,GAAX;EACAxB,IAAAA,CAAC,CAACnF,KAAF,GAAU,SAAS,IAAnB,CA3dmB;;EA6dnBmF,IAAAA,CAAC,CAACsG,IAAF,GAAS,OAAT;EACAtG,IAAAA,CAAC,CAACiB,IAAF,GAAS,QAAT,CA9dmB;;;EAienB/B,IAAAA,MAAM,CAAC2E,IAAP,CAAY7D,CAAZ,EAAe9F,OAAf,CAAuB,UAAU4J,CAAV,EAAa;EAClC9D,MAAAA,CAAC,CAAC8D,CAAC,GAAG,GAAL,CAAD,GAAa9D,CAAC,CAAC8D,CAAD,CAAd;EACD,KAFD;EAGA,QAAIyC,YAAY,GAAGvG,CAAnB;;EAEA,QAAIwG,IAAI,GAAG,SAASA,IAAT,CAAcjE,CAAd,EAAiBpC,CAAjB,EAAoB9C,EAApB,EAAwBoJ,IAAxB,EAA8BC,QAA9B,EAAwC;EACjD,UAAIC,OAAO,GAAGpE,CAAC,CAAClG,CAAF,CAAIgB,EAAJ,GAAd;;EAEA,UAAIsJ,OAAO,KAAKxG,CAAhB,EAAmB;EACjB,eADiB;EAElB;;EAED,UAAIyG,SAAS,GAAGF,QAAQ,KAAK,IAAb,GAAoB,IAApB,GAA2BnE,CAAC,CAAClG,CAAF,CAAIqK,QAAJ,GAA3C;EACA,UAAIG,QAAQ,GAAGtE,CAAC,CAACV,KAAjB,CARiD;;EAUjD,UAAIiF,IAAI,GAAG3G,CAAC,GAAGwG,OAAf;EACApE,MAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAACE,IAAD,CAAZ,GAAqBK,IAAhC,CAXiD;;;EAcjD,UAAIL,IAAI,KAAK,KAAb,EAAoB;;;EAGlB,YAAIM,IAAI,CAACC,GAAL,CAASF,IAAT,IAAiB,EAAjB,IAAuB3G,CAAC,GAAG,EAA/B,EAAmC;EACjCoC,UAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAAC9E,IAAxB;EACD;EACF,OApBgD;;;EAuBjD,UAAIiF,QAAQ,KAAK,IAAb,IAAqBE,SAAS,KAAKrE,CAAC,CAAClG,CAAF,CAAIqK,QAAJ,GAAvC,EAAwD;;EAEtDnE,QAAAA,CAAC,CAACV,KAAF,GAAUgF,QAAV,CAFsD;EAGvD,OA1BgD;;;;EA8BjD,UAAII,QAAQ,GAAGV,YAAY,CAACE,IAAD,CAAZ,GAAqB,CAApC;;EAEA,aAAOlE,CAAC,CAAClG,CAAF,CAAIgB,EAAJ,MAAY8C,CAAnB,EAAsB;EACpBoC,QAAAA,CAAC,CAACV,KAAF,IAAWoF,QAAX;EACD;;EAED,aAAO1E,CAAC,CAAClG,CAAF,CAAIgB,EAAJ,MAAY8C,CAAnB,EAAsB;EACpBoC,QAAAA,CAAC,CAACV,KAAF,IAAWoF,QAAX;EACD,OAtCgD;;;EAyCjD,UAAIP,QAAQ,KAAK,IAAb,IAAqBE,SAAS,KAAKrE,CAAC,CAAClG,CAAF,CAAIqK,QAAJ,GAAvC,EAAwD;;EAEtDnE,QAAAA,CAAC,CAACV,KAAF,GAAUgF,QAAV;EACD;EACF,KA7CD,CAtemB;;;EAshBnB,QAAIK,OAAO,GAAG;EACZjG,MAAAA,IAAI,EAAE;EACJkG,QAAAA,KAAK,EAAE,SAASA,KAAT,CAAehH,CAAf,EAAkB;EACvB,iBAAOA,CAAC,GAAG,CAAC,IAAL,IAAaA,CAAC,GAAG,IAAxB;EACD,SAHG;EAIJiH,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB7E,CAAhB,EAAmBpC,CAAnB,EAAsB;EAC5B,iBAAOqG,IAAI,CAACjE,CAAD,EAAIpC,CAAJ,EAAO,aAAP,EAAsB,MAAtB,EAA8B,IAA9B,CAAX;EACD;EANG,OADM;EASZtF,MAAAA,KAAK,EAAE;EACLsM,QAAAA,KAAK,EAAE,SAASA,KAAT,CAAehH,CAAf,EAAkB;EACvB,iBAAOA,CAAC,IAAI,CAAL,IAAUA,CAAC,IAAI,EAAtB;EACD,SAHI;EAILiH,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB7E,CAAhB,EAAmBpC,CAAnB,EAAsB;EAC5B,cAAI9D,CAAC,GAAGkG,CAAC,CAAClG,CAAV;EACA,cAAIsK,OAAO,GAAGtK,CAAC,CAACgL,QAAF,EAAd;EACA,cAAIR,QAAQ,GAAGtE,CAAC,CAACV,KAAjB;EACA,cAAI+E,SAAS,GAAGvK,CAAC,CAACiL,WAAF,EAAhB;;EAEA,cAAIX,OAAO,KAAKxG,CAAhB,EAAmB;EACjB;EACD,WAR2B;;;EAW5B,cAAI2G,IAAI,GAAG3G,CAAC,GAAGwG,OAAf;EACApE,UAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAAC/E,GAAb,IAAoBsF,IAAI,GAAG,EAA3B,CAAX,CAZ4B;;;EAe5B,cAAIF,SAAS,KAAKrE,CAAC,CAAClG,CAAF,CAAIiL,WAAJ,EAAlB,EAAqC;EACnC/E,YAAAA,CAAC,CAACV,KAAF,GAAUgF,QAAV;EACD,WAjB2B;;;EAoB5B,iBAAOtE,CAAC,CAAClG,CAAF,CAAIgL,QAAJ,KAAiBlH,CAAxB,EAA2B;EACzBoC,YAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAAC/E,GAAxB;EACD;;EAED,iBAAOe,CAAC,CAAClG,CAAF,CAAIgL,QAAJ,KAAiBlH,CAAxB,EAA2B;EACzBoC,YAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAAC/E,GAAxB;EACD;EACF;EA/BI,OATK;EA0CZrG,MAAAA,IAAI,EAAE;EACJgM,QAAAA,KAAK,EAAE,SAASA,KAAT,CAAehH,CAAf,EAAkB;EACvB,iBAAOA,CAAC,GAAG,CAAJ,IAASA,CAAC,IAAI,EAArB;EACD,SAHG;EAIJiH,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB7E,CAAhB,EAAmBpC,CAAnB,EAAsB;EAC5B,iBAAOqG,IAAI,CAACjE,CAAD,EAAIpC,CAAJ,EAAO,SAAP,EAAkB,KAAlB,EAAyB,UAAzB,CAAX;EACD;EANG,OA1CM;EAkDZsB,MAAAA,IAAI,EAAE;EACJ0F,QAAAA,KAAK,EAAE,SAASA,KAAT,CAAehH,CAAf,EAAkB;EACvB,iBAAOA,CAAC,IAAI,CAAL,IAAUA,CAAC,GAAG,EAArB;EACD,SAHG;EAIJiH,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB7E,CAAhB,EAAmBpC,CAAnB,EAAsB;EAC5B,iBAAOqG,IAAI,CAACjE,CAAD,EAAIpC,CAAJ,EAAO,UAAP,EAAmB,MAAnB,EAA2B,SAA3B,CAAX;EACD;EANG,OAlDM;EA0DZkG,MAAAA,MAAM,EAAE;EACNc,QAAAA,KAAK,EAAE,SAASA,KAAT,CAAehH,CAAf,EAAkB;EACvB,iBAAOA,CAAC,IAAI,CAAL,IAAUA,CAAC,GAAG,EAArB;EACD,SAHK;EAINiH,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB7E,CAAhB,EAAmBpC,CAAnB,EAAsB;EAC5B,iBAAOqG,IAAI,CAACjE,CAAD,EAAIpC,CAAJ,EAAO,YAAP,EAAqB,QAArB,EAA+B,UAA/B,CAAX;EACD;EANK,OA1DI;EAkEZiG,MAAAA,MAAM,EAAE;EACNe,QAAAA,KAAK,EAAE,SAASA,KAAT,CAAehH,CAAf,EAAkB;EACvB,iBAAOA,CAAC,IAAI,CAAL,IAAUA,CAAC,GAAG,EAArB;EACD,SAHK;EAINiH,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB7E,CAAhB,EAAmBpC,CAAnB,EAAsB;;EAE5BoC,UAAAA,CAAC,CAACV,KAAF,GAAUU,CAAC,CAACgF,OAAF,CAAUpH,CAAV,EAAa0B,KAAvB;EACD;EAPK,OAlEI;EA2EZsE,MAAAA,WAAW,EAAE;EACXgB,QAAAA,KAAK,EAAE,SAASA,KAAT,CAAehH,CAAf,EAAkB;EACvB,iBAAOA,CAAC,IAAI,CAAL,IAAUA,CAAC,GAAG,IAArB;EACD,SAHU;EAIXiH,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB7E,CAAhB,EAAmBpC,CAAnB,EAAsB;;EAE5BoC,UAAAA,CAAC,CAACV,KAAF,GAAUU,CAAC,CAACgE,YAAF,CAAepG,CAAf,EAAkB0B,KAA5B;EACD;EAPU;EA3ED,KAAd;;EAsFA,QAAIuF,MAAM,GAAG,SAASA,MAAT,CAAgB7E,CAAhB,EAAmBiF,KAAnB,EAA0B;EACrC,UAAI3D,IAAI,GAAG3E,MAAM,CAAC2E,IAAP,CAAYqD,OAAZ,CAAX;EACA,UAAIO,GAAG,GAAGlF,CAAC,CAACmF,KAAF,EAAV;;EAEA,WAAK,IAAI/I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkF,IAAI,CAAC/D,MAAzB,EAAiCnB,CAAC,EAAlC,EAAsC;EACpC,YAAImF,CAAC,GAAGD,IAAI,CAAClF,CAAD,CAAZ;EACA,YAAIwB,CAAC,GAAGqH,KAAK,CAAC1D,CAAD,CAAb;;EAEA,YAAI3D,CAAC,KAAKZ,SAAV,EAAqB;EACnBY,UAAAA,CAAC,GAAGsH,GAAG,CAAC3D,CAAD,CAAH,EAAJ;EACD;;EAED,YAAI,OAAO3D,CAAP,KAAa,QAAjB,EAA2B;EACzBA,UAAAA,CAAC,GAAG5F,QAAQ,CAAC4F,CAAD,EAAI,EAAJ,CAAZ;EACD,SAVmC;;;EAapC,YAAI,CAAC+G,OAAO,CAACpD,CAAD,CAAP,CAAWqD,KAAX,CAAiBhH,CAAjB,CAAL,EAA0B;EACxBoC,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;;EAEA,cAAIU,CAAC,CAACoF,MAAF,KAAa,KAAjB,EAAwB;EACtBhF,YAAAA,OAAO,CAACC,IAAR,CAAa,aAAakB,CAAb,GAAiB,IAAjB,GAAwB3D,CAArC;EACD;;EAED;EACD;;EAED+G,QAAAA,OAAO,CAACpD,CAAD,CAAP,CAAWsD,MAAX,CAAkB7E,CAAlB,EAAqBpC,CAArB;EACD;;EAED;EACD,KA/BD;;EAiCA,QAAIyH,MAAM,GAAGR,MAAb;EAEA,QAAIS,WAAW,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,MAAzD,EAAiE,KAAjE,EAAwE,KAAxE,EAA+E,KAA/E,CAAlB;EACA,QAAIC,UAAU,GAAG,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G,CAAjB;;EAEA,aAASC,YAAT,GAAwB;EACtB,UAAI3J,GAAG,GAAG;EACR4J,QAAAA,GAAG,EAAE,CADG;;EAAA,OAAV;;EAKA,WAAK,IAAIrJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkJ,WAAW,CAAC/H,MAAhC,EAAwCnB,CAAC,EAAzC,EAA6C;EAC3CP,QAAAA,GAAG,CAACyJ,WAAW,CAAClJ,CAAD,CAAZ,CAAH,GAAsBA,CAAtB;EACD;;EAED,WAAK,IAAIa,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGsI,UAAU,CAAChI,MAAjC,EAAyCN,EAAE,EAA3C,EAA+C;EAC7CpB,QAAAA,GAAG,CAAC0J,UAAU,CAACtI,EAAD,CAAX,CAAH,GAAsBA,EAAtB;EACD;;EAED,aAAOpB,GAAP;EACD;;EAED,QAAI6J,QAAQ,GAAG;EACb,eAAS,SAASC,MAAT,GAAiB;EACxB,eAAOL,WAAP;EACD,OAHY;EAIb,cAAQ,SAASM,KAAT,GAAgB;EACtB,eAAOL,UAAP;EACD,OANY;EAObM,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;EAC1B,eAAOL,YAAY,EAAnB;EACD,OATY;EAUbM,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,IAAb,EAAmB;EACtBT,QAAAA,WAAW,GAAGS,IAAI,CAAC,OAAD,CAAJ,IAAiBT,WAA/B;EACAC,QAAAA,UAAU,GAAGQ,IAAI,CAAC,MAAD,CAAJ,IAAgBR,UAA7B;EACD;EAbY,KAAf,CAnqBmB;;EAorBnB,QAAIzC,WAAW,GAAG,SAASA,WAAT,CAAqB9C,CAArB,EAAwBvB,MAAxB,EAAgC;EAChD,UAAI,CAACA,MAAL,EAAa;EACX,eAAOuB,CAAP;EACD,OAH+C;;;EAMhD,UAAIvB,MAAM,KAAK,GAAX,IAAkBA,MAAM,KAAK,GAAjC,EAAsC;EACpCA,QAAAA,MAAM,GAAG,OAAT;EACD,OAR+C;;;;EAYhD,UAAI1G,GAAG,GAAG,CAAV,CAZgD;;EAchD,UAAI,4BAA4BmG,IAA5B,CAAiCO,MAAjC,CAAJ,EAA8C;;EAE5C,YAAI,MAAMP,IAAN,CAAWO,MAAX,MAAuB,IAA3B,EAAiC;EAC/BA,UAAAA,MAAM,GAAGA,MAAM,CAACiD,OAAP,CAAe,KAAf,EAAsB,EAAtB,CAAT;EACD,SAJ2C;;;EAO5C,YAAI,MAAMxD,IAAN,CAAWO,MAAX,MAAuB,IAA3B,EAAiC;EAC/BA,UAAAA,MAAM,GAAGA,MAAM,CAACiD,OAAP,CAAe,KAAf,EAAsB,IAAtB,CAAT;EACD;EACF,OAxB+C;;;EA2BhD,UAAI,mBAAmBxD,IAAnB,CAAwBO,MAAxB,CAAJ,EAAqC;EACnCA,QAAAA,MAAM,GAAGA,MAAM,CAACiD,OAAP,CAAe,KAAf,EAAsB,IAAtB,CAAT;EACD;;EAED3J,MAAAA,GAAG,GAAGiO,UAAU,CAACvH,MAAD,CAAhB,CA/BgD;;EAiChD,UAAI+F,IAAI,CAACC,GAAL,CAAS1M,GAAT,IAAgB,GAApB,EAAyB;EACvBA,QAAAA,GAAG,GAAGA,GAAG,GAAG,GAAZ;EACD,OAnC+C;;;;;EAwChDA,MAAAA,GAAG,IAAI,CAAC,CAAR;;EAEA,UAAIA,GAAG,IAAI,CAAX,EAAc;EACZA,QAAAA,GAAG,GAAG,MAAMA,GAAZ;EACD;;EAED,UAAIoI,EAAE,GAAG,YAAYpI,GAArB;EACA,UAAIkI,KAAK,GAAGD,CAAC,CAACE,SAAd;;EAEA,UAAID,KAAK,CAACE,EAAD,CAAT,EAAe;;;EAGbH,QAAAA,CAAC,CAACG,EAAF,GAAOA,EAAP;EACD;;EAED,aAAOH,CAAP;EACD,KAxDD;;EA0DA,QAAIiG,aAAa,GAAGnD,WAApB;;EAEA,QAAIoD,SAAS,GAAG,SAASA,SAAT,CAAmBlG,CAAnB,EAAsB;EACpC,UAAInI,GAAG,GAAGsO,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA9E;EACAtO,MAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,MAAZ,EAAoB,EAApB,EAAwBW,WAAxB,EAAN,CAFoC;;;EAKpC,UAAIlG,GAAG,GAAGtE,GAAG,CAACQ,KAAJ,CAAU,6DAAV,CAAV;;EAEA,UAAI8D,GAAG,KAAK,IAAZ,EAAkB;;EAEhB,YAAIgH,CAAC,GAAG3B,MAAM,CAACrF,GAAG,CAAC,CAAD,CAAJ,CAAd;;EAEA,YAAIgH,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAG,EAAjB,EAAqB;EACnB,iBAAOnD,CAAC,CAACoG,OAAF,CAAU,KAAV,CAAP;EACD;;EAED,YAAI5O,CAAC,GAAGgK,MAAM,CAACrF,GAAG,CAAC,CAAD,CAAJ,CAAd,CARgB;;EAUhB,YAAIA,GAAG,CAAC,CAAD,CAAH,CAAOoB,MAAP,GAAgB,CAAhB,IAAqB/F,CAAC,GAAG,CAAzB,IAA8BA,CAAC,GAAG,EAAtC,EAA0C;EACxC,iBAAOwI,CAAC,CAACoG,OAAF,CAAU,KAAV,CAAP;EACD;;EAED,YAAIjK,GAAG,CAAC,CAAD,CAAH,GAAS,GAAb,EAAkB;;EAEhBA,UAAAA,GAAG,CAAC,CAAD,CAAH,GAASnE,QAAQ,CAAC,GAAGqO,MAAH,CAAUlK,GAAG,CAAC,CAAD,CAAb,EAAkBmK,SAAlB,CAA4B,CAA5B,EAA+B,CAA/B,CAAD,EAAoC,EAApC,CAAjB;EACD;;EAEDtG,QAAAA,CAAC,GAAGA,CAAC,CAACd,IAAF,CAAOiE,CAAP,CAAJ;EACAnD,QAAAA,CAAC,GAAGA,CAAC,CAAC8D,MAAF,CAAStM,CAAT,CAAJ;EACAwI,QAAAA,CAAC,GAAGA,CAAC,CAACgF,OAAF,CAAU7I,GAAG,CAAC,CAAD,CAAH,IAAU,CAApB,CAAJ;EACA6D,QAAAA,CAAC,GAAGA,CAAC,CAAC4D,WAAF,CAAczH,GAAG,CAAC,CAAD,CAAH,IAAU,CAAxB,CAAJ,CAtBgB;;EAwBhB,YAAIoK,IAAI,GAAG1O,GAAG,CAACQ,KAAJ,CAAU,kBAAV,CAAX;;EAEA,YAAIkO,IAAI,KAAK,IAAT,IAAiBA,IAAI,CAAC,CAAD,CAAzB,EAA8B;EAC5BvG,UAAAA,CAAC,GAAGA,CAAC,CAACuG,IAAF,CAAOA,IAAI,CAAC,CAAD,CAAX,CAAJ;EACD;;EAED,eAAOvG,CAAP;EACD,OAtCmC;;;EAyCpC7D,MAAAA,GAAG,GAAGtE,GAAG,CAACQ,KAAJ,CAAU,mBAAV,CAAN;;EAEA,UAAI8D,GAAG,KAAK,IAAR,IAAgBA,GAAG,CAAC,CAAD,CAAvB,EAA4B;EAC1B,YAAIqK,EAAE,GAAGhF,MAAM,CAACrF,GAAG,CAAC,CAAD,CAAJ,CAAf,CAD0B;;;EAI1B,YAAIqK,EAAE,GAAG,EAAL,IAAWA,EAAE,GAAG,CAApB,EAAuB;EACrB,iBAAOxG,CAAC,CAACoG,OAAF,CAAU,KAAV,CAAP;EACD;;EAEDpG,QAAAA,CAAC,GAAGA,CAAC,CAACd,IAAF,CAAO/C,GAAG,CAAC,CAAD,CAAH,IAAU,CAAjB,CAAJ;EACA6D,QAAAA,CAAC,GAAGA,CAAC,CAACuG,IAAF,CAAOpK,GAAG,CAAC,CAAD,CAAV,CAAJ;EACA6D,QAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,MAAV,CAAJ;EACA,eAAOpG,CAAP;EACD,OAvDmC;;;EA0DpCA,MAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,KAAV,CAAJ;EACA,aAAOpG,CAAP;EACD,KA5DD;;EA8DA,QAAIyG,WAAW,GAAGP,SAAlB;EAEA,QAAIQ,YAAY,GAAG,CAAC,EAAD;EACnB,MADmB;EAEnB,MAFmB;EAGnB,MAHmB;EAInB,MAJmB;EAKnB,MALmB;EAMnB,MANmB;EAOnB,MAPmB;EAQnB,MARmB;EASnB,MATmB;EAUnB,MAVmB;EAWnB,MAXmB;EAAA,KAAnB;EAaA,QAAIC,cAAc,GAAGD,YAArB,CA7zBmB;;EA+zBnB,QAAIE,GAAG,GAAG3F,oBAAoB,CAAC,UAAUvF,MAAV,EAAkBwF,OAAlB,EAA2B;;EAExDA,MAAAA,OAAO,CAAC2F,UAAR,GAAqB,UAAUnI,IAAV,EAAgB;EACnC,eAAOA,IAAI,GAAG,CAAP,KAAa,CAAb,IAAkBA,IAAI,GAAG,GAAP,KAAe,CAAjC,IAAsCA,IAAI,GAAG,GAAP,KAAe,CAA5D;EACD,OAFD,CAFwD;;;EAOxDwC,MAAAA,OAAO,CAAC4F,MAAR,GAAiB,UAAUhN,CAAV,EAAa;EAC5B,eAAO6C,MAAM,CAACV,SAAP,CAAiB4B,QAAjB,CAA0BC,IAA1B,CAA+BhE,CAA/B,MAAsC,eAAtC,IAAyD,CAACiN,KAAK,CAACjN,CAAC,CAACkN,OAAF,EAAD,CAAtE;EACD,OAFD;;EAIA9F,MAAAA,OAAO,CAACxE,OAAR,GAAkB,UAAUuK,KAAV,EAAiB;EACjC,eAAOtK,MAAM,CAACV,SAAP,CAAiB4B,QAAjB,CAA0BC,IAA1B,CAA+BmJ,KAA/B,MAA0C,gBAAjD;EACD,OAFD;;EAIA/F,MAAAA,OAAO,CAACgG,QAAR,GAAmB,UAAUD,KAAV,EAAiB;EAClC,eAAOtK,MAAM,CAACV,SAAP,CAAiB4B,QAAjB,CAA0BC,IAA1B,CAA+BmJ,KAA/B,MAA0C,iBAAjD;EACD,OAFD;;EAIA/F,MAAAA,OAAO,CAACiG,SAAR,GAAoB,UAAUF,KAAV,EAAiB;EACnC,eAAOtK,MAAM,CAACV,SAAP,CAAiB4B,QAAjB,CAA0BC,IAA1B,CAA+BmJ,KAA/B,MAA0C,kBAAjD;EACD,OAFD;;EAIA/F,MAAAA,OAAO,CAACkG,OAAR,GAAkB,UAAUvP,GAAV,EAAe;EAC/B,YAAIsG,GAAG,GAAGgI,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAA9E;EACA,YAAIkB,GAAG,GAAG,GAAV;EACAxP,QAAAA,GAAG,GAAGA,GAAG,GAAG,EAAZ;EACA,eAAOA,GAAG,CAAC0F,MAAJ,IAAcY,GAAd,GAAoBtG,GAApB,GAA0B,IAAI4E,KAAJ,CAAU0B,GAAG,GAAGtG,GAAG,CAAC0F,MAAV,GAAmB,CAA7B,EAAgC+J,IAAhC,CAAqCD,GAArC,IAA4CxP,GAA7E;EACD,OALD;;EAOAqJ,MAAAA,OAAO,CAACqG,SAAR,GAAoB,UAAU1P,GAAV,EAAe;EACjC,YAAI,CAACA,GAAL,EAAU;EACR,iBAAO,EAAP;EACD;;EAED,eAAOA,GAAG,CAAC,CAAD,CAAH,CAAO2P,WAAP,KAAuB3P,GAAG,CAAC4P,MAAJ,CAAW,CAAX,CAA9B;EACD,OAND;;EAQAvG,MAAAA,OAAO,CAACwG,OAAR,GAAkB,UAAUtL,CAAV,EAAa;EAC7B,YAAIuL,CAAC,GAAGvL,CAAC,GAAG,EAAZ;EACA,YAAImF,CAAC,GAAGnF,CAAC,GAAG,GAAZ;;EAEA,YAAIuL,CAAC,KAAK,CAAN,IAAWpG,CAAC,KAAK,EAArB,EAAyB;EACvB,iBAAOnF,CAAC,GAAG,IAAX;EACD;;EAED,YAAIuL,CAAC,KAAK,CAAN,IAAWpG,CAAC,KAAK,EAArB,EAAyB;EACvB,iBAAOnF,CAAC,GAAG,IAAX;EACD;;EAED,YAAIuL,CAAC,KAAK,CAAN,IAAWpG,CAAC,KAAK,EAArB,EAAyB;EACvB,iBAAOnF,CAAC,GAAG,IAAX;EACD;;EAED,eAAOA,CAAC,GAAG,IAAX;EACD,OAjBD,CAtCwD;;;EA0DxD8E,MAAAA,OAAO,CAAC0G,UAAR,GAAqB,UAAU/P,GAAV,EAAe;EAClCA,QAAAA,GAAG,GAAGgQ,MAAM,CAAChQ,GAAD,CAAZ;EACAA,QAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,wBAAZ,EAAsC,IAAtC,CAAN;EACA,eAAO1J,QAAQ,CAACH,GAAD,EAAM,EAAN,CAAf;EACD,OAJD,CA1DwD;;;EAiExDqJ,MAAAA,OAAO,CAACvG,SAAR,GAAoB,YAAY;EAC9B,YAAI9C,GAAG,GAAGsO,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA9E;EACAtO,QAAAA,GAAG,GAAGA,GAAG,CAACwK,WAAJ,GAAkBkB,IAAlB,EAAN;EACA1L,QAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAH8B;;EAK9B7J,QAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,CAAN;EACA7J,QAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,CAAN;;EAEA,YAAI7J,GAAG,KAAK,KAAR,IAAiBA,GAAG,KAAK,MAA7B,EAAqC;EACnC,iBAAO,MAAP;EACD;;EAED,YAAIA,GAAG,KAAK,KAAR,IAAiBA,GAAG,KAAK,MAA7B,EAAqC;EACnC,iBAAO,QAAP;EACD;;EAED,eAAOA,GAAP;EACD,OAjBD;;EAmBAqJ,MAAAA,OAAO,CAAC4G,QAAR,GAAmB,UAAUC,GAAV,EAAe;;EAEhC,YAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;EAC3B,iBAAOA,GAAP;EACD,SAJ+B;;;EAOhC,YAAI7G,OAAO,CAAC4F,MAAR,CAAeiB,GAAf,CAAJ,EAAyB;EACvB,iBAAOA,GAAG,CAACC,OAAJ,EAAP;EACD;;EAED,YAAID,GAAG,CAACzI,KAAR,EAAe;EACb,iBAAOyI,GAAG,CAACzI,KAAX;EACD;;EAED,eAAO,IAAP;EACD,OAhBD,CApFwD;;;EAuGxD4B,MAAAA,OAAO,CAAC+G,OAAR,GAAkB,UAAUnO,CAAV,EAAakG,CAAb,EAAgB;EAChC,YAAIkB,OAAO,CAACgG,QAAR,CAAiBpN,CAAjB,MAAwB,KAA5B,EAAmC;EACjC,iBAAOkG,CAAC,CAACmF,KAAF,GAAUW,GAAV,CAAchM,CAAd,CAAP;EACD;;EAED,eAAOA,CAAP;EACD,OAND;;EAQAoH,MAAAA,OAAO,CAACgH,cAAR,GAAyB,UAAUzJ,MAAV,EAAkB;EACzC,YAAI0J,SAAS,GAAGhC,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAApF;EACA,YAAIiC,IAAI,GAAG3J,MAAM,GAAG,CAAT,GAAa,GAAb,GAAmB,GAA9B;EACA,YAAI4J,SAAS,GAAG7D,IAAI,CAACC,GAAL,CAAShG,MAAT,CAAhB;EACA,YAAI6J,KAAK,GAAGpH,OAAO,CAACkG,OAAR,CAAgBpP,QAAQ,CAAC,KAAKqQ,SAAN,EAAiB,EAAjB,CAAxB,CAAZ;EACA,YAAIE,OAAO,GAAGrH,OAAO,CAACkG,OAAR,CAAgBiB,SAAS,GAAG,CAAZ,GAAgB,EAAhC,CAAd;EACA,eAAO,GAAGhC,MAAH,CAAU+B,IAAV,EAAgB/B,MAAhB,CAAuBiC,KAAvB,EAA8BjC,MAA9B,CAAqC8B,SAArC,EAAgD9B,MAAhD,CAAuDkC,OAAvD,CAAP;EACD,OAPD;EAQD,KAvH6B,CAA9B;EAwHA3B,IAAAA,GAAG,CAACC,UAAJ;EACAD,IAAAA,GAAG,CAACE,MAAJ;EACAF,IAAAA,GAAG,CAAClK,OAAJ;EACAkK,IAAAA,GAAG,CAACM,QAAJ;EACAN,IAAAA,GAAG,CAACO,SAAJ;EACAP,IAAAA,GAAG,CAACQ,OAAJ;EACAR,IAAAA,GAAG,CAACW,SAAJ;EACAX,IAAAA,GAAG,CAACc,OAAJ;EACAd,IAAAA,GAAG,CAACgB,UAAJ;EACAhB,IAAAA,GAAG,CAACjM,SAAJ;EACAiM,IAAAA,GAAG,CAACkB,QAAJ;EACAlB,IAAAA,GAAG,CAACqB,OAAJ;EACArB,IAAAA,GAAG,CAACsB,cAAJ;EAEA,QAAIM,YAAY,GAAG5B,GAAG,CAACC,UAAvB,CAr8BmB;;EAu8BnB,QAAI4B,OAAO,GAAG,SAASA,OAAT,CAAiB5M,GAAjB,EAAsB;;EAElC,UAAI8K,cAAc,CAACnD,cAAf,CAA8B3H,GAAG,CAACvD,KAAlC,MAA6C,IAAjD,EAAuD;EACrD,eAAO,KAAP;EACD,OAJiC;;;EAOlC,UAAIuD,GAAG,CAACvD,KAAJ,KAAc,CAAlB,EAAqB;EACnB,YAAIkQ,YAAY,CAAC3M,GAAG,CAAC6C,IAAL,CAAZ,IAA0B7C,GAAG,CAACjD,IAAJ,IAAY,EAA1C,EAA8C;EAC5C,iBAAO,IAAP;EACD,SAFD,MAEO;EACL,iBAAOiD,GAAG,CAACjD,IAAJ,IAAY,EAAnB;EACD;EACF,OAbiC;;;EAgBlC,UAAI8P,GAAG,GAAG/B,cAAc,CAAC9K,GAAG,CAACvD,KAAL,CAAd,IAA6B,CAAvC;;EAEA,UAAIuD,GAAG,CAACjD,IAAJ,IAAY8P,GAAhB,EAAqB;EACnB,eAAO,IAAP;EACD;;EAED,aAAO,KAAP;EACD,KAvBD;;EAyBA,QAAIC,SAAS,GAAGF,OAAhB;EAEA,QAAIG,MAAM,GAAGlD,QAAQ,CAACG,OAAT,EAAb;;EAEA,QAAIgD,SAAS,GAAG,SAASA,SAAT,GAAqB;EACnC,UAAIhR,GAAG,GAAGsO,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA9E;EACA,UAAI2C,KAAK,GAAG3C,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,GAAuB4I,SAAS,CAAC,CAAD,CAAhC,GAAsCnJ,SAAlD;EACA,UAAI0B,IAAI,GAAG1G,QAAQ,CAACH,GAAG,CAAC0L,IAAJ,EAAD,EAAa,EAAb,CAAnB,CAHmC;;EAKnC,UAAI,CAAC7E,IAAD,IAASoK,KAAb,EAAoB;EAClBpK,QAAAA,IAAI,GAAGoK,KAAK,CAACpK,IAAb;EACD,OAPkC;;;EAUnCA,MAAAA,IAAI,GAAGA,IAAI,IAAI,IAAIS,IAAJ,GAAW4F,WAAX,EAAf;EACA,aAAOrG,IAAP;EACD,KAZD;;EAcA,QAAIqK,MAAM,GAAG;EACb;EACEC,MAAAA,GAAG,EAAE,iFADP;EAEEC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB+M,OAAvB,EAAgCC,OAAhC,EAAyC;EAC9C,YAAI7Q,KAAK,GAAGN,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAR,GAAuB,CAAnC;EACA,YAAIN,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEvC,GAAG,CAAC,CAAD,CADD;EAER7D,UAAAA,KAAK,EAAEA,KAFC;EAGRM,UAAAA,IAAI,EAAEuD,GAAG,CAAC,CAAD;EAHD,SAAV;;EAMA,YAAIwM,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDiG,QAAAA,aAAa,CAACjG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAb;EACAkJ,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAf;EACA,eAAO6D,CAAP;EACD;EAnBH,KADa;EAsBb;EACEgJ,MAAAA,GAAG,EAAE,wGADP;EAEEC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAIN,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEvC,GAAG,CAAC,CAAD,CADD;EAER7D,UAAAA,KAAK,EAAEN,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAR,GAAuB,CAFtB;EAGRvD,UAAAA,IAAI,EAAEZ,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT;EAHN,SAAV;;EAMA,YAAIN,GAAG,CAACvD,KAAJ,IAAa,EAAjB,EAAqB;;EAEnBuD,UAAAA,GAAG,CAACjD,IAAJ,GAAWZ,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAnB;EACAN,UAAAA,GAAG,CAACvD,KAAJ,GAAYN,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAR,GAAuB,CAAnC;EACD;;EAED,YAAIwM,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAf;EACA,eAAO6D,CAAP;EACD;EAvBH,KAtBa;EA+Cb;EACEgJ,MAAAA,GAAG,EAAE,0GADP;EAEEC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAI7D,KAAK,GAAGN,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAR,GAAuB,CAAnC;EACA,YAAIvD,IAAI,GAAGZ,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAnB,CAF4B;;EAI5B,YAAI6D,CAAC,CAACoJ,OAAF,IAAa9Q,KAAK,IAAI,EAA1B,EAA8B;EAC5BM,UAAAA,IAAI,GAAGZ,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAf;EACA7D,UAAAA,KAAK,GAAGN,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAR,GAAuB,CAA/B;EACD;;EAED,YAAIuC,IAAI,GAAGmK,SAAS,CAAC1M,GAAG,CAAC,CAAD,CAAJ,EAAS6D,CAAC,CAACqJ,MAAX,CAAT,IAA+B,IAAIlK,IAAJ,GAAW4F,WAAX,EAA1C;EACA,YAAIlJ,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEA,IADE;EAERpG,UAAAA,KAAK,EAAEA,KAFC;EAGRM,UAAAA,IAAI,EAAEA;EAHE,SAAV;;EAMA,YAAI+P,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAf;EACA,eAAO6D,CAAP;EACD;EA1BH,KA/Ca;EA2Eb;EACEgJ,MAAAA,GAAG,EAAE,+BADP;EAEEC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB+M,OAAvB,EAAgCC,OAAhC,EAAyC;EAC9C,YAAI7Q,KAAK,GAAGN,QAAQ,CAACmE,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAR,GAAuB,CAAnC;EACA,YAAIN,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEvC,GAAG,CAAC,CAAD,CADD;EAER7D,UAAAA,KAAK,EAAEA,KAFC;EAGRM,UAAAA,IAAI,EAAE;EAHE,SAAV;;EAMA,YAAI+P,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDiG,QAAAA,aAAa,CAACjG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAb;EACAkJ,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAf;EACA,eAAO6D,CAAP;EACD;EAnBH,KA3Ea;EAgGb;EACEgJ,MAAAA,GAAG,EAAE,iDADP;EAEEC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAI7D,KAAK,GAAGsQ,MAAM,CAACzM,GAAG,CAAC,CAAD,CAAH,CAAOkG,WAAP,EAAD,CAAlB;EACA,YAAI3D,IAAI,GAAGmK,SAAS,CAAC1M,GAAG,CAAC,CAAD,CAAJ,EAAS6D,CAAC,CAACqJ,MAAX,CAApB;EACA,YAAIxN,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEA,IADE;EAERpG,UAAAA,KAAK,EAAEA,KAFC;EAGRM,UAAAA,IAAI,EAAEgO,GAAG,CAACgB,UAAJ,CAAezL,GAAG,CAAC,CAAD,CAAH,IAAU,EAAzB;EAHE,SAAV;;EAMA,YAAIwM,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAf;EACA,eAAO6D,CAAP;EACD;EAnBH,KAhGa;EAqHb;EACEgJ,MAAAA,GAAG,EAAE,iDADP;EAEEC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAI7D,KAAK,GAAGsQ,MAAM,CAACzM,GAAG,CAAC,CAAD,CAAH,CAAOkG,WAAP,EAAD,CAAlB;EACA,YAAI3D,IAAI,GAAGmK,SAAS,CAAC1M,GAAG,CAAC,CAAD,CAAJ,EAAS6D,CAAC,CAACqJ,MAAX,CAApB;EACA,YAAIxN,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEA,IADE;EAERpG,UAAAA,KAAK,EAAEA,KAFC;EAGRM,UAAAA,IAAI,EAAEgO,GAAG,CAACgB,UAAJ,CAAezL,GAAG,CAAC,CAAD,CAAH,IAAU,EAAzB;EAHE,SAAV;;EAMA,YAAIwM,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAf;EACA,eAAO6D,CAAP;EACD;EAnBH,KArHa;;EA2Ib;EACEgJ,MAAAA,GAAG,EAAE,uFADP;EAEEC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAI7D,KAAK,GAAGsQ,MAAM,CAACzM,GAAG,CAAC,CAAD,CAAH,CAAOkG,WAAP,EAAD,CAAlB;EACA,YAAI3D,IAAI,GAAGmK,SAAS,CAAC1M,GAAG,CAAC,CAAD,CAAJ,EAAS6D,CAAC,CAACqJ,MAAX,CAApB;EACA,YAAIxN,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEA,IADE;EAERpG,UAAAA,KAAK,EAAEA,KAFC;EAGRM,UAAAA,IAAI,EAAEgO,GAAG,CAACgB,UAAJ,CAAezL,GAAG,CAAC,CAAD,CAAH,IAAU,EAAzB;EAHE,SAAV;;EAMA,YAAIwM,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAf;EACA,eAAO6D,CAAP;EACD;EAnBH,KA3Ia;EAgKb;EACEgJ,MAAAA,GAAG,EAAE,wBADP;EAEEC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAI7D,KAAK,GAAGsQ,MAAM,CAACzM,GAAG,CAAC,CAAD,CAAH,CAAOkG,WAAP,EAAD,CAAlB;EACA,YAAI3D,IAAI,GAAGmK,SAAS,CAAC1M,GAAG,CAAC,CAAD,CAAJ,EAAS6D,CAAC,CAACqJ,MAAX,CAApB;EACA,YAAIxN,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEA,IADE;EAERpG,UAAAA,KAAK,EAAEA,KAFC;EAGRM,UAAAA,IAAI,EAAEoH,CAAC,CAACqJ,MAAF,CAASzQ,IAAT,IAAiB;EAHf,SAAV;;EAMA,YAAI+P,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAf;EACA,eAAO6D,CAAP;EACD;EAnBH,KAhKa;EAqLb;EACEgJ,MAAAA,GAAG,EAAE,4GADP;EAEEC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAI7D,KAAK,GAAGsQ,MAAM,CAACzM,GAAG,CAAC,CAAD,CAAH,CAAOkG,WAAP,EAAD,CAAlB;;EAEA,YAAI,CAAC/J,KAAL,EAAY;EACV,iBAAO,IAAP;EACD;;EAED,YAAIoG,IAAI,GAAGmK,SAAS,CAAC1M,GAAG,CAAC,CAAD,CAAJ,EAAS6D,CAAC,CAACqJ,MAAX,CAApB;EACA,YAAIxN,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEA,IADE;EAERpG,UAAAA,KAAK,EAAEA,KAFC;EAGRM,UAAAA,IAAI,EAAEgO,GAAG,CAACgB,UAAJ,CAAezL,GAAG,CAAC,CAAD,CAAlB;EAHE,SAAV;;EAMA,YAAIwM,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,EAAI7D,GAAG,CAAC,CAAD,CAAP,CAAf;EACA,eAAO6D,CAAP;EACD;EAxBH,KArLa,EA8MV;;EAEDgJ,MAAAA,GAAG,EAAE,8BAFJ;EAGDC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAImN,OAAO,GAAGnN,GAAG,CAAC,CAAD,CAAH,IAAU,EAAxB;EACA6D,QAAAA,CAAC,GAAGA,CAAC,CAACsJ,OAAF,CAAUA,OAAV,CAAJ;EACA,YAAI5K,IAAI,GAAGvC,GAAG,CAAC,CAAD,CAAH,IAAU,EAArB;;EAEA,YAAIuC,IAAJ,EAAU;EACRA,UAAAA,IAAI,GAAGA,IAAI,CAAC6E,IAAL,EAAP;EACAvD,UAAAA,CAAC,GAAGA,CAAC,CAACtB,IAAF,CAAOA,IAAP,CAAJ;EACD;;EAED,eAAOsB,CAAP;EACD;EAdA,KA9MU,EA6NV;;EAEDgJ,MAAAA,GAAG,EAAE,wDAFJ;EAGDC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAIxD,MAAM,GAAGwD,GAAG,CAAC,CAAD,CAAH,IAAU,EAAvB;EACA6D,QAAAA,CAAC,GAAGA,CAAC,CAACrH,MAAF,CAASA,MAAT,CAAJ;EACA,YAAI+F,IAAI,GAAGvC,GAAG,CAAC,CAAD,CAAH,IAAU,EAArB;;EAEA,YAAIuC,IAAJ,EAAU;EACRA,UAAAA,IAAI,GAAGA,IAAI,CAAC6E,IAAL,EAAP;EACAvD,UAAAA,CAAC,GAAGA,CAAC,CAACtB,IAAF,CAAOA,IAAP,CAAJ;EACD;;EAED,eAAOsB,CAAP;EACD;EAdA,KA7NU,EA4OV;;EAEDgJ,MAAAA,GAAG,EAAE,sBAFJ;EAGDC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAItE,GAAG,GAAGsE,GAAG,CAAC,CAAD,CAAH,IAAU,EAApB,CAD4B;;EAG5BtE,QAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,wBAAZ,EAAsC,KAAtC,CAAN,CAH4B;;EAK5B7J,QAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,CAAN;EACA,YAAIhD,IAAI,GAAG1G,QAAQ,CAACH,GAAG,CAAC0L,IAAJ,EAAD,EAAa,EAAb,CAAnB;EACA,YAAIzJ,CAAC,GAAG,IAAIqF,IAAJ,EAAR;EACA,YAAItD,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEA,IADE;EAERpG,UAAAA,KAAK,EAAEwB,CAAC,CAACgL,QAAF,EAFC;EAGRlM,UAAAA,IAAI,EAAEkB,CAAC,CAACyP,OAAF;EAHE,SAAV;;EAMA,YAAIZ,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,CAAf;EACA,eAAOA,CAAP;EACD;EAzBA,KA5OU,EAsQV;;EAEDgJ,MAAAA,GAAG,EAAE,iCAFJ;EAGDC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAItE,GAAG,GAAGsE,GAAG,CAAC,CAAD,CAAH,IAAU,EAApB,CAD4B;;EAG5BtE,QAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,CAAN;EACA,YAAIhD,IAAI,GAAG1G,QAAQ,CAACH,GAAG,CAAC0L,IAAJ,EAAD,EAAa,EAAb,CAAnB;EACA,YAAIzJ,CAAC,GAAG,IAAIqF,IAAJ,EAAR;EACA,YAAItD,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEA,IADE;EAERpG,UAAAA,KAAK,EAAEwB,CAAC,CAACgL,QAAF,EAFC;EAGRlM,UAAAA,IAAI,EAAEkB,CAAC,CAACyP,OAAF;EAHE,SAAV;;EAMA,YAAIZ,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,CAAf;EACA,eAAOA,CAAP;EACD;EAvBA,KAtQU,EA8RV;;EAEDgJ,MAAAA,GAAG,EAAE,0BAFJ;EAGDC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAejJ,CAAf,EAAkB7D,GAAlB,EAAuB;EAC5B,YAAI2M,KAAK,GAAG9I,CAAC,CAACqJ,MAAd;EACA,YAAI3K,IAAI,GAAGmK,SAAS,CAAC1M,GAAG,CAAC,CAAD,CAAJ,EAAS2M,KAAT,CAApB;EACA,YAAIhP,CAAC,GAAG,IAAIqF,IAAJ,EAAR,CAH4B;;EAK5B,YAAI2J,KAAK,CAACxQ,KAAN,IAAe,CAACwQ,KAAK,CAAClQ,IAA1B,EAAgC;EAC9BkQ,UAAAA,KAAK,CAAClQ,IAAN,GAAa,CAAb;EACD;;EAED,YAAIiD,GAAG,GAAG;EACR6C,UAAAA,IAAI,EAAEA,IADE;EAERpG,UAAAA,KAAK,EAAEwQ,KAAK,CAACxQ,KAAN,IAAewB,CAAC,CAACgL,QAAF,EAFd;EAGRlM,UAAAA,IAAI,EAAEkQ,KAAK,CAAClQ,IAAN,IAAckB,CAAC,CAACyP,OAAF;EAHZ,SAAV;;EAMA,YAAIZ,SAAS,CAAC9M,GAAD,CAAT,KAAmB,KAAvB,EAA8B;EAC5BmE,UAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,iBAAOU,CAAP;EACD;;EAEDqF,QAAAA,MAAM,CAACrF,CAAD,EAAInE,GAAJ,CAAN;EACAmE,QAAAA,CAAC,GAAGyG,WAAW,CAACzG,CAAD,CAAf;EACA,eAAOA,CAAP;EACD;EA1BA,KA9RU,CAAb;EA0TA,QAAIwJ,QAAQ,GAAGT,MAAf,CA5yCmB;;EA+yCnB,QAAIU,MAAM,GAAG,SAASA,MAAT,CAAgBzJ,CAAhB,EAAmB;EAC9BA,MAAAA,CAAC,CAACV,KAAF,GAAUH,IAAI,CAACuK,GAAL,EAAV;EACA/M,MAAAA,MAAM,CAAC2E,IAAP,CAAYtB,CAAC,CAACqJ,MAAF,IAAY,EAAxB,EAA4B1R,OAA5B,CAAoC,UAAU4J,CAAV,EAAa;EAC/C,YAAI,OAAOvB,CAAC,CAACuB,CAAD,CAAR,KAAgB,UAApB,EAAgC;EAC9BvB,UAAAA,CAAC,GAAGA,CAAC,CAACuB,CAAD,CAAD,CAAKvB,CAAC,CAACqJ,MAAF,CAAS9H,CAAT,CAAL,CAAJ;EACD;EACF,OAJD;EAKA,aAAOvB,CAAP;EACD,KARD;;EAUA,QAAI2J,KAAK,GAAG;EACVD,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAa1J,CAAb,EAAgB;EACnB,eAAOyJ,MAAM,CAACzJ,CAAD,CAAb;EACD,OAHS;EAIV8I,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAe9I,CAAf,EAAkB;EACvB,eAAOyJ,MAAM,CAACzJ,CAAD,CAAb;EACD,OANS;EAOV4J,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiB5J,CAAjB,EAAoB;EAC3BA,QAAAA,CAAC,GAAGyJ,MAAM,CAACzJ,CAAD,CAAV;EACAA,QAAAA,CAAC,GAAGA,CAAC,CAACd,IAAF,CAAO,EAAP,CAAJ,CAF2B;;EAI3B,eAAOc,CAAP;EACD,OAZS;EAaV6J,MAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkB7J,CAAlB,EAAqB;EAC7BA,QAAAA,CAAC,GAAGyJ,MAAM,CAACzJ,CAAD,CAAV;EACAA,QAAAA,CAAC,GAAGA,CAAC,CAAC8J,GAAF,CAAM,CAAN,EAAS,KAAT,CAAJ;EACA9J,QAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,KAAV,CAAJ;EACA,eAAOpG,CAAP;EACD,OAlBS;EAmBV+J,MAAAA,SAAS,EAAE,SAASA,SAAT,CAAmB/J,CAAnB,EAAsB;EAC/BA,QAAAA,CAAC,GAAGyJ,MAAM,CAACzJ,CAAD,CAAV;EACAA,QAAAA,CAAC,GAAGA,CAAC,CAACgK,QAAF,CAAW,CAAX,EAAc,KAAd,CAAJ;EACAhK,QAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,KAAV,CAAJ;EACA,eAAOpG,CAAP;EACD,OAxBS;EAyBViK,MAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBjK,CAAnB,EAAsB;EAC/B,YAAItB,IAAI,GAAG+K,MAAM,CAACzJ,CAAD,CAAN,CAAUtB,IAAV,EAAX;EACAsB,QAAAA,CAAC,GAAGA,CAAC,CAAC8F,GAAF,CAAM,CAACpH,IAAD,EAAO,EAAP,EAAW,EAAX,EAAe,EAAf,EAAmB,CAAnB,EAAsB,CAAtB,CAAN,CAAJ,CAF+B;;EAI/B,eAAOsB,CAAP;EACD,OA9BS;EA+BV,mBAAa,SAASkK,QAAT,CAAkBlK,CAAlB,EAAqB;EAChC,YAAItB,IAAI,GAAG+K,MAAM,CAACzJ,CAAD,CAAN,CAAUtB,IAAV,EAAX;EACAsB,QAAAA,CAAC,GAAGA,CAAC,CAAC8F,GAAF,CAAM,CAACpH,IAAD,EAAO,EAAP,EAAW,EAAX,EAAe,EAAf,EAAmB,CAAnB,EAAsB,CAAtB,CAAN,CAAJ,CAFgC;;EAIhC,eAAOsB,CAAP;EACD;EApCS,KAAZ;EAsCA2J,IAAAA,KAAK,CAAC,eAAD,CAAL,GAAyBA,KAAK,CAAC,WAAD,CAA9B;EACA,QAAIQ,UAAU,GAAGR,KAAjB,CAh2CmB;;;;;;;;;;;;;EA+2CnB,QAAIS,YAAY,GAAG,UAAnB;EACA,QAAIC,QAAQ,GAAG;EACb3L,MAAAA,IAAI,EAAE,IAAIS,IAAJ,GAAW4F,WAAX,EADO;EAEbzM,MAAAA,KAAK,EAAE,CAFM;EAGbM,MAAAA,IAAI,EAAE;EAHO,KAAf,CAh3CmB;;EAs3CnB,QAAI0R,WAAW,GAAG,SAASA,WAAT,CAAqBtK,CAArB,EAAwB7D,GAAxB,EAA6B2M,KAA7B,EAAoC;EACpD,UAAI3M,GAAG,CAACoB,MAAJ,KAAe,CAAnB,EAAsB;EACpB,eAAOyC,CAAP;EACD;;EAED,UAAIuK,KAAK,GAAG,CAAC,MAAD,EAAS,OAAT,EAAkB,MAAlB,EAA0B,MAA1B,EAAkC,QAAlC,EAA4C,QAA5C,EAAsD,aAAtD,CAAZ;;EAEA,WAAK,IAAInO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmO,KAAK,CAAChN,MAA1B,EAAkCnB,CAAC,EAAnC,EAAuC;EACrC,YAAIrE,GAAG,GAAGoE,GAAG,CAACC,CAAD,CAAH,IAAU0M,KAAK,CAACyB,KAAK,CAACnO,CAAD,CAAN,CAAf,IAA6BiO,QAAQ,CAACE,KAAK,CAACnO,CAAD,CAAN,CAArC,IAAmD,CAA7D;EACA4D,QAAAA,CAAC,GAAGA,CAAC,CAACuK,KAAK,CAACnO,CAAD,CAAN,CAAD,CAAYrE,GAAZ,CAAJ;EACD;;EAED,aAAOiI,CAAP;EACD,KAbD,CAt3CmB;;;EAs4CnB,QAAIwK,YAAY,GAAG,SAASA,YAAT,CAAsBxK,CAAtB,EAAyBnE,GAAzB,EAA8BiN,KAA9B,EAAqC;;EAEtD,UAAInM,MAAM,CAAC2E,IAAP,CAAYzF,GAAZ,EAAiB0B,MAAjB,KAA4B,CAAhC,EAAmC;EACjC,eAAOyC,CAAP;EACD;;EAEDnE,MAAAA,GAAG,GAAGc,MAAM,CAAC8N,MAAP,CAAc,EAAd,EAAkBJ,QAAlB,EAA4BvB,KAA5B,EAAmCjN,GAAnC,CAAN;EACA,UAAIyF,IAAI,GAAG3E,MAAM,CAAC2E,IAAP,CAAYzF,GAAZ,CAAX;;EAEA,WAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkF,IAAI,CAAC/D,MAAzB,EAAiCnB,CAAC,EAAlC,EAAsC;EACpC,YAAI8H,IAAI,GAAG5C,IAAI,CAAClF,CAAD,CAAf,CADoC;;EAGpC,YAAI4D,CAAC,CAACkE,IAAD,CAAD,KAAYlH,SAAZ,IAAyB,OAAOgD,CAAC,CAACkE,IAAD,CAAR,KAAmB,UAAhD,EAA4D;EAC1D;EACD,SALmC;;;EAQpC,YAAIrI,GAAG,CAACqI,IAAD,CAAH,KAAc,IAAd,IAAsBrI,GAAG,CAACqI,IAAD,CAAH,KAAclH,SAApC,IAAiDnB,GAAG,CAACqI,IAAD,CAAH,KAAc,EAAnE,EAAuE;EACrE;EACD;;EAED,YAAInM,GAAG,GAAG8D,GAAG,CAACqI,IAAD,CAAH,IAAa4E,KAAK,CAAC5E,IAAD,CAAlB,IAA4BmG,QAAQ,CAACnG,IAAD,CAApC,IAA8C,CAAxD;EACAlE,QAAAA,CAAC,GAAGA,CAAC,CAACkE,IAAD,CAAD,CAAQnM,GAAR,CAAJ;EACD;;EAED,aAAOiI,CAAP;EACD,KA1BD,CAt4CmB;;;EAm6CnB,QAAI0K,UAAU,GAAG,SAASA,UAAT,CAAoB1K,CAApB,EAAuBiH,KAAvB,EAA8BiC,OAA9B,EAAuC;EACtD,UAAIJ,KAAK,GAAG9I,CAAC,CAACqJ,MAAF,IAAYgB,QAAxB,CADsD;;EAGtD,UAAI,OAAOpD,KAAP,KAAiB,QAArB,EAA+B;EAC7B,YAAIA,KAAK,GAAG,CAAR,IAAaA,KAAK,GAAGmD,YAArB,IAAqCpK,CAAC,CAACoF,MAAF,KAAa,KAAtD,EAA6D;EAC3DhF,UAAAA,OAAO,CAACC,IAAR,CAAa,wDAAb;EACAD,UAAAA,OAAO,CAACC,IAAR,CAAa,uDAAb;EACD;;EAEDL,QAAAA,CAAC,CAACV,KAAF,GAAU2H,KAAV;EACA,eAAOjH,CAAP;EACD,OAXqD;;;EActDA,MAAAA,CAAC,CAACV,KAAF,GAAUH,IAAI,CAACuK,GAAL,EAAV,CAdsD;;EAgBtD,UAAI1J,CAAC,CAACqJ,MAAF,IAAYzC,GAAG,CAACM,QAAJ,CAAalH,CAAC,CAACqJ,MAAf,CAAZ,IAAsC1M,MAAM,CAAC2E,IAAP,CAAYtB,CAAC,CAACqJ,MAAd,EAAsB9L,MAAtB,GAA+B,CAAzE,EAA4E;EAC1E,YAAIoN,GAAG,GAAGH,YAAY,CAACxK,CAAD,EAAI8I,KAAJ,EAAWuB,QAAX,CAAtB;;EAEA,YAAIM,GAAG,CAACC,OAAJ,EAAJ,EAAmB;EACjB5K,UAAAA,CAAC,CAACV,KAAF,GAAUqL,GAAG,CAACrL,KAAd;EACD;EACF,OAtBqD;;;EAyBtD,UAAI2H,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKjK,SAA5B,IAAyCiK,KAAK,KAAK,EAAvD,EAA2D;EACzD,eAAOjH,CAAP,CADyD;EAE1D,OA3BqD;;;EA8BtD,UAAI4G,GAAG,CAACE,MAAJ,CAAWG,KAAX,MAAsB,IAA1B,EAAgC;EAC9BjH,QAAAA,CAAC,CAACV,KAAF,GAAU2H,KAAK,CAACe,OAAN,EAAV;EACA,eAAOhI,CAAP;EACD,OAjCqD;;;EAoCtD,UAAI4G,GAAG,CAAClK,OAAJ,CAAYuK,KAAZ,MAAuB,IAA3B,EAAiC;EAC/BjH,QAAAA,CAAC,GAAGsK,WAAW,CAACtK,CAAD,EAAIiH,KAAJ,EAAW6B,KAAX,CAAf;EACA,eAAO9I,CAAP;EACD,OAvCqD;;;EA0CtD,UAAI4G,GAAG,CAACM,QAAJ,CAAaD,KAAb,MAAwB,IAA5B,EAAkC;;EAEhC,YAAIA,KAAK,CAAC3H,KAAV,EAAiB;EACfU,UAAAA,CAAC,CAACV,KAAF,GAAU2H,KAAK,CAAC3H,KAAhB;EACAU,UAAAA,CAAC,CAACG,EAAF,GAAO8G,KAAK,CAAC9G,EAAb;EACA,iBAAOH,CAAP;EACD;;EAEDA,QAAAA,CAAC,GAAGwK,YAAY,CAACxK,CAAD,EAAIiH,KAAJ,EAAW6B,KAAX,CAAhB;EACA,eAAO9I,CAAP;EACD,OApDqD;;;EAuDtD,UAAI,OAAOiH,KAAP,KAAiB,QAArB,EAA+B;EAC7B,eAAOjH,CAAP;EACD,OAzDqD;;;EA4DtDiH,MAAAA,KAAK,GAAGA,KAAK,CAACvF,OAAN,CAAc,8DAAd,EAA8E,EAA9E,CAAR;EACAuF,MAAAA,KAAK,GAAGA,KAAK,CAACvF,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAR;EACAuF,MAAAA,KAAK,GAAGA,KAAK,CAACvF,OAAN,CAAc,KAAd,EAAqB,GAArB,EAA0B6B,IAA1B,EAAR,CA9DsD;;EAgEtD,UAAI4G,UAAU,CAAC3G,cAAX,CAA0ByD,KAA1B,MAAqC,IAAzC,EAA+C;EAC7CjH,QAAAA,CAAC,GAAGmK,UAAU,CAAClD,KAAD,CAAV,CAAkBjH,CAAlB,CAAJ;EACA,eAAOA,CAAP;EACD,OAnEqD;;;EAsEtD,WAAK,IAAI5D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoN,QAAQ,CAACjM,MAA7B,EAAqCnB,CAAC,EAAtC,EAA0C;EACxC,YAAI5E,CAAC,GAAGyP,KAAK,CAAC5O,KAAN,CAAYmR,QAAQ,CAACpN,CAAD,CAAR,CAAY4M,GAAxB,CAAR;;EAEA,YAAIxR,CAAJ,EAAO;;EAEL,cAAIqT,IAAI,GAAGrB,QAAQ,CAACpN,CAAD,CAAR,CAAY6M,KAAZ,CAAkBjJ,CAAlB,EAAqBxI,CAArB,EAAwB0R,OAAxB,CAAX;;EAEA,cAAI2B,IAAI,KAAK,IAAT,IAAiBA,IAAI,CAACD,OAAL,EAArB,EAAqC;EACnC,mBAAOC,IAAP;EACD;EACF;EACF;;EAED,UAAI7K,CAAC,CAACoF,MAAF,KAAa,KAAjB,EAAwB;EACtBhF,QAAAA,OAAO,CAACC,IAAR,CAAa,2CAA2C4G,KAA3C,GAAmD,GAAhE;EACD;;EAEDjH,MAAAA,CAAC,CAACV,KAAF,GAAU,IAAV;EACA,aAAOU,CAAP;EACD,KAzFD;;EA2FA,QAAIiH,KAAK,GAAGyD,UAAZ;EAEA,QAAII,SAAS,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CAAhB;EACA,QAAIC,QAAQ,GAAG,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE,CAAf;EACA,QAAIC,IAAI,GAAG;EACT,eAAS,SAASrF,OAAT,GAAiB;EACxB,eAAOmF,SAAP;EACD,OAHQ;EAIT,cAAQ,SAASlF,MAAT,GAAgB;EACtB,eAAOmF,QAAP;EACD,OANQ;EAOTjF,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,IAAb,EAAmB;EACtB+E,QAAAA,SAAS,GAAG/E,IAAI,CAAC,OAAD,CAAJ,IAAiB+E,SAA7B;EACAC,QAAAA,QAAQ,GAAGhF,IAAI,CAAC,MAAD,CAAJ,IAAgBgF,QAA3B;EACD,OAVQ;EAWTE,MAAAA,OAAO,EAAE;EACPC,QAAAA,EAAE,EAAE,CADG;EAEPC,QAAAA,EAAE,EAAE,CAFG;EAGPC,QAAAA,EAAE,EAAE,CAHG;EAIPC,QAAAA,EAAE,EAAE,CAJG;EAKPC,QAAAA,EAAE,EAAE,CALG;EAMPC,QAAAA,EAAE,EAAE,CANG;EAOPC,QAAAA,EAAE,EAAE,CAPG;EAQPC,QAAAA,IAAI,EAAE,CARC;EASPC,QAAAA,IAAI,EAAE,CATC;EAUPC,QAAAA,IAAI,EAAE,CAVC;EAWPC,QAAAA,IAAI,EAAE,CAXC;EAYPC,QAAAA,KAAK,EAAE;EAZA;EAXA,KAAX;EA2BA,QAAIC,gBAAgB,GAAG,IAAvB;EACA,QAAIC,UAAU,GAAG;EACfC,MAAAA,YAAY,EAAE,SAASA,YAAT,GAAwB;EACpC,eAAOF,gBAAP;EACD,OAHc;EAIfhG,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAakG,YAAb,EAA2B;EAC9BF,QAAAA,gBAAgB,GAAGE,YAAnB;EACD;EANc,KAAjB,CA9hDmB;;;EA0iDnB,QAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBjM,CAAnB,EAAsB;EACpC,UAAIvB,MAAM,GAAGuB,CAAC,CAACmC,QAAF,GAAaiC,OAAb,CAAqB3F,MAAlC;EACA,aAAO,CAACA,MAAD,GAAU,GAAV,GAAgBmI,GAAG,CAACsB,cAAJ,CAAmBzJ,MAAnB,EAA2B,GAA3B,CAAvB;EACD,KAHD;;EAKA,QAAIyN,OAAO,GAAGD,SAAd;;EAEA,QAAIE,eAAe,GAAG,SAASA,eAAT,CAAyBtU,GAAzB,EAA8B;EAClD,UAAIkU,UAAU,CAACC,YAAX,EAAJ,EAA+B;EAC7B,eAAOpF,GAAG,CAACW,SAAJ,CAAc1P,GAAd,CAAP;EACD;;EAED,aAAOA,GAAP;EACD,KAND;;EAQA,QAAIoK,MAAM,GAAG;EACXhD,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAae,CAAb,EAAgB;EACnB,eAAOmM,eAAe,CAACnM,CAAC,CAACoM,OAAF,EAAD,CAAtB;EACD,OAHU;EAIX,mBAAa,SAASC,QAAT,CAAkBrM,CAAlB,EAAqB;EAChC,eAAOmM,eAAe,CAACnB,IAAI,CAAC,OAAD,CAAJ,GAAgBhL,CAAC,CAACf,GAAF,EAAhB,CAAD,CAAtB;EACD,OANU;EAOX,oBAAc,SAASqN,SAAT,CAAmBtM,CAAnB,EAAsB;EAClC,eAAOA,CAAC,CAACf,GAAF,EAAP;EACD,OATU;EAUX,qBAAe,SAASsN,UAAT,CAAoBvM,CAApB,EAAuB;EACpC,eAAO4G,GAAG,CAACc,OAAJ,CAAY1H,CAAC,CAACf,GAAF,EAAZ,CAAP;EACD,OAZU;EAaX,iBAAW,SAASuN,MAAT,CAAgBxM,CAAhB,EAAmB;EAC5B,eAAO4G,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACf,GAAF,EAAZ,CAAP;EACD,OAfU;EAgBXrG,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcoH,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACpH,IAAF,EAAP;EACD,OAlBU;EAmBX,sBAAgB,SAAS6T,WAAT,CAAqBzM,CAArB,EAAwB;EACtC,eAAO4G,GAAG,CAACc,OAAJ,CAAY1H,CAAC,CAACpH,IAAF,EAAZ,CAAP;EACD,OArBU;EAsBX,kBAAY,SAAS8T,OAAT,CAAiB1M,CAAjB,EAAoB;EAC9B,eAAO4G,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACpH,IAAF,EAAZ,CAAP;EACD,OAxBU;EAyBXN,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAe0H,CAAf,EAAkB;EACvB,eAAOmM,eAAe,CAACnM,CAAC,CAAC2M,SAAF,EAAD,CAAtB;EACD,OA3BU;EA4BX,qBAAe,SAASC,UAAT,CAAoB5M,CAApB,EAAuB;EACpC,eAAOmM,eAAe,CAACzG,QAAQ,CAAC,OAAD,CAAR,GAAoB1F,CAAC,CAAC1H,KAAF,EAApB,CAAD,CAAtB;EACD,OA9BU;EA+BX,sBAAgB,SAASuU,WAAT,CAAqB7M,CAArB,EAAwB;EACtC,eAAOA,CAAC,CAAC1H,KAAF,EAAP;EACD,OAjCU;EAkCX,uBAAiB,SAASwU,YAAT,CAAsB9M,CAAtB,EAAyB;EACxC,eAAO4G,GAAG,CAACc,OAAJ,CAAY1H,CAAC,CAAC1H,KAAF,EAAZ,CAAP;EACD,OApCU;EAqCX,mBAAa,SAASyU,QAAT,CAAkB/M,CAAlB,EAAqB;EAChC,eAAO4G,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC1H,KAAF,EAAZ,CAAP;EACD,OAvCU;EAwCX,mBAAa,SAAS0U,QAAT,CAAkBhN,CAAlB,EAAqB;EAChC,eAAO4G,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC1H,KAAF,KAAY,CAAxB,CAAP;EACD,OA1CU;;EA4CXoG,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcsB,CAAd,EAAiB;EACrB,YAAItB,IAAI,GAAGsB,CAAC,CAACtB,IAAF,EAAX;;EAEA,YAAIA,IAAI,GAAG,CAAX,EAAc;EACZ,iBAAOA,IAAP;EACD;;EAEDA,QAAAA,IAAI,GAAG8F,IAAI,CAACC,GAAL,CAAS/F,IAAT,CAAP;EACA,eAAOA,IAAI,GAAG,KAAd;EACD,OArDU;EAsDX,oBAAc,SAASuO,SAAT,CAAmBjN,CAAnB,EAAsB;EAClC,YAAItB,IAAI,GAAGsB,CAAC,CAACtB,IAAF,EAAX;;EAEA,YAAIA,IAAI,GAAG,CAAX,EAAc;EACZ,iBAAO,IAAI2H,MAAJ,CAAWwB,MAAM,CAAC7H,CAAC,CAACtB,IAAF,EAAD,CAAN,CAAiB+I,MAAjB,CAAwB,CAAxB,EAA2B,CAA3B,CAAX,CAAP;EACD;;EAED/I,QAAAA,IAAI,GAAG8F,IAAI,CAACC,GAAL,CAAS/F,IAAT,CAAP;EACA,eAAOA,IAAI,GAAG,KAAd;EACD,OA/DU;EAgEX,kBAAY,SAASwO,OAAT,CAAiBlN,CAAjB,EAAoB;EAC9B,YAAItB,IAAI,GAAGsB,CAAC,CAACtB,IAAF,EAAX;EACA,YAAIyO,UAAU,GAAGzO,IAAI,GAAG,CAAxB;EACA,YAAI7G,GAAG,GAAG+O,GAAG,CAACQ,OAAJ,CAAY5C,IAAI,CAACC,GAAL,CAAS/F,IAAT,CAAZ,EAA4B,CAA5B,CAAV,CAH8B;;EAK9B,YAAIyO,UAAJ,EAAgB;;EAEdtV,UAAAA,GAAG,GAAG+O,GAAG,CAACQ,OAAJ,CAAYvP,GAAZ,EAAiB,CAAjB,CAAN;EACAA,UAAAA,GAAG,GAAG,MAAMA,GAAZ;EACD;;EAED,eAAOA,GAAP;EACD,OA5EU;EA6EXoB,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc+G,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAAC/G,IAAF,EAAP;EACD,OA/EU;EAgFX,iBAAW,SAASmU,MAAT,CAAgBpN,CAAhB,EAAmB;EAC5B,eAAO,GAAGqG,MAAH,CAAUrG,CAAC,CAACqN,MAAF,EAAV,EAAsB,GAAtB,EAA2BhH,MAA3B,CAAkCO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC8D,MAAF,EAAZ,CAAlC,CAAP;EACD,OAlFU;EAmFX5E,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcc,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACsN,MAAF,EAAP;EACD,OArFU;EAsFX,kBAAY,SAASC,OAAT,CAAiBvN,CAAjB,EAAoB;EAC9B,eAAO4G,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACsN,MAAF,EAAZ,CAAP;EACD,OAxFU;EAyFX,iBAAW,SAASD,MAAT,CAAgBrN,CAAhB,EAAmB;EAC5B,eAAOA,CAAC,CAACqN,MAAF,EAAP;EACD,OA3FU;EA4FX,qBAAe,SAASG,SAAT,CAAmBxN,CAAnB,EAAsB;EACnC,eAAO4G,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACqN,MAAF,EAAZ,CAAP;EACD,OA9FU;EA+FXvJ,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB9D,CAAhB,EAAmB;EACzB,eAAOA,CAAC,CAAC8D,MAAF,EAAP;EACD,OAjGU;EAkGX,oBAAc,SAAS2J,SAAT,CAAmBzN,CAAnB,EAAsB;EAClC,eAAO4G,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC8D,MAAF,EAAZ,CAAP;EACD,OApGU;EAqGXD,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB7D,CAAhB,EAAmB;EACzB,eAAOA,CAAC,CAAC6D,MAAF,EAAP;EACD,OAvGU;EAwGX,oBAAc,SAAS6J,SAAT,CAAmB1N,CAAnB,EAAsB;EAClC,eAAO4G,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC6D,MAAF,EAAZ,CAAP;EACD,OA1GU;EA2GX0C,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcvG,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACuG,IAAF,EAAP;EACD,OA7GU;EA8GX+C,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBtJ,CAAjB,EAAoB;EAC3B,eAAO,MAAMA,CAAC,CAACsJ,OAAF,EAAb;EACD,OAhHU;EAiHX3Q,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBqH,CAAhB,EAAmB;EACzB,eAAOA,CAAC,CAACrH,MAAF,EAAP;EACD,OAnHU;EAoHXgV,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAa3N,CAAb,EAAgB;EACnB,eAAOA,CAAC,CAAC2N,GAAF,EAAP;EACD,OAtHU;EAuHXC,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc5N,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAAC4N,IAAF,EAAP;EACD,OAzHU;EA0HXzL,MAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBnC,CAAlB,EAAqB;EAC7B,eAAOA,CAAC,CAACmC,QAAF,GAAanE,IAApB;EACD,OA5HU;EA6HXS,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBuB,CAAhB,EAAmB;EACzB,eAAOkM,OAAO,CAAClM,CAAD,CAAd;EACD,OA/HU;EAgIX6N,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiB7N,CAAjB,EAAoB;EAC3B,eAAO,GAAGqG,MAAH,CAAUrG,CAAC,CAACtB,IAAF,EAAV,EAAoB,GAApB,EAAyB2H,MAAzB,CAAgCO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC1H,KAAF,KAAY,CAAxB,CAAhC,EAA4D,GAA5D,EAAiE+N,MAAjE,CAAwEO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACpH,IAAF,EAAZ,CAAxE,CAAP;EACD,OAlIU;;EAoIX,oBAAc,SAASkV,SAAT,CAAmB9N,CAAnB,EAAsB;EAClC,eAAO,GAAGqG,MAAH,CAAUO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC1H,KAAF,KAAY,CAAxB,CAAV,EAAsC,GAAtC,EAA2C+N,MAA3C,CAAkDO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACpH,IAAF,EAAZ,CAAlD,EAAyE,GAAzE,EAA8EyN,MAA9E,CAAqFrG,CAAC,CAACtB,IAAF,EAArF,CAAP;EACD,OAtIU;;EAwIX,oBAAc,SAASqP,SAAT,CAAmB/N,CAAnB,EAAsB;EAClC,eAAO,GAAGqG,MAAH,CAAUO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACpH,IAAF,EAAZ,CAAV,EAAiC,GAAjC,EAAsCyN,MAAtC,CAA6CO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC1H,KAAF,KAAY,CAAxB,CAA7C,EAAyE,GAAzE,EAA8E+N,MAA9E,CAAqFrG,CAAC,CAACtB,IAAF,EAArF,CAAP;EACD,OA1IU;;EA4IX,eAAS,SAASsP,IAAT,CAAchO,CAAd,EAAiB;EACxB,eAAO,GAAGqG,MAAH,CAAUO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC1H,KAAF,KAAY,CAAxB,CAAV,EAAsC,GAAtC,EAA2C+N,MAA3C,CAAkDO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACpH,IAAF,EAAZ,CAAlD,CAAP;EACD,OA9IU;;;EAiJXqV,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAajO,CAAb,EAAgB;EACnB,YAAItB,IAAI,GAAGsB,CAAC,CAACiC,MAAF,CAAS,UAAT,CAAX;EACA,YAAI3J,KAAK,GAAGsO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC1H,KAAF,KAAY,CAAxB,CAAZ,CAFmB;;EAInB,YAAIM,IAAI,GAAGgO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACpH,IAAF,EAAZ,CAAX;EACA,YAAIsG,IAAI,GAAG0H,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACkO,GAAF,EAAZ,CAAX;EACA,YAAIpK,MAAM,GAAG8C,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC8D,MAAF,EAAZ,CAAb;EACA,YAAID,MAAM,GAAG+C,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC6D,MAAF,EAAZ,CAAb;EACA,YAAIsK,EAAE,GAAGvH,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC4D,WAAF,EAAZ,EAA6B,CAA7B,CAAT;;EACA,YAAInF,MAAM,GAAGyN,OAAO,CAAClM,CAAD,CAApB;;EACA,eAAO,GAAGqG,MAAH,CAAU3H,IAAV,EAAgB,GAAhB,EAAqB2H,MAArB,CAA4B/N,KAA5B,EAAmC,GAAnC,EAAwC+N,MAAxC,CAA+CzN,IAA/C,EAAqD,GAArD,EAA0DyN,MAA1D,CAAiEnH,IAAjE,EAAuE,GAAvE,EAA4EmH,MAA5E,CAAmFvC,MAAnF,EAA2F,GAA3F,EAAgGuC,MAAhG,CAAuGxC,MAAvG,EAA+G,GAA/G,EAAoHwC,MAApH,CAA2H8H,EAA3H,EAA+H9H,MAA/H,CAAsI5H,MAAtI,CAAP,CAVmB;EAWpB,OA5JU;EA6JX,mBAAa,SAAS2P,QAAT,CAAkBpO,CAAlB,EAAqB;EAChC,YAAI1H,KAAK,GAAGsO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC1H,KAAF,KAAY,CAAxB,CAAZ,CADgC;;EAGhC,YAAIM,IAAI,GAAGgO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAACpH,IAAF,EAAZ,CAAX;EACA,eAAO,GAAGyN,MAAH,CAAUrG,CAAC,CAACtB,IAAF,EAAV,EAAoB,GAApB,EAAyB2H,MAAzB,CAAgC/N,KAAhC,EAAuC,GAAvC,EAA4C+N,MAA5C,CAAmDzN,IAAnD,CAAP,CAJgC;EAKjC,OAlKU;EAmKX,iBAAW,SAASyV,MAAT,CAAgBrO,CAAhB,EAAmB;EAC5B,eAAO,IAAIb,IAAJ,CAASa,CAAC,CAACV,KAAX,EAAkBgP,WAAlB,EAAP,CAD4B;EAE7B,OArKU;;EAuKXC,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcvO,CAAd,EAAiB;EACrB,eAAO,GAAGqG,MAAH,CAAUX,QAAQ,CAAC,OAAD,CAAR,GAAoB1F,CAAC,CAAC1H,KAAF,EAApB,CAAV,EAA0C,GAA1C,EAA+C+N,MAA/C,CAAsDO,GAAG,CAACc,OAAJ,CAAY1H,CAAC,CAACpH,IAAF,EAAZ,CAAtD,EAA6E,IAA7E,EAAmFyN,MAAnF,CAA0FrG,CAAC,CAAC/G,IAAF,EAA1F,CAAP;EACD,OAzKU;EA0KX,iBAAW,SAASuV,MAAT,CAAgBxO,CAAhB,EAAmB;EAC5B,eAAO,GAAGqG,MAAH,CAAUX,QAAQ,CAAC,OAAD,CAAR,GAAoB1F,CAAC,CAAC1H,KAAF,EAApB,CAAV,EAA0C,GAA1C,EAA+C+N,MAA/C,CAAsDO,GAAG,CAACc,OAAJ,CAAY1H,CAAC,CAACpH,IAAF,EAAZ,CAAtD,EAA6E,IAA7E,EAAmFyN,MAAnF,CAA0FrG,CAAC,CAACqN,MAAF,EAA1F,EAAsG,GAAtG,EAA2GhH,MAA3G,CAAkHO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC8D,MAAF,EAAZ,CAAlH,CAAP;EACD,OA5KU;EA6KX,mBAAa,SAAS2K,QAAT,CAAkBzO,CAAlB,EAAqB;EAChC,eAAO,GAAGqG,MAAH,CAAUX,QAAQ,CAAC,OAAD,CAAR,GAAoB1F,CAAC,CAAC1H,KAAF,EAApB,CAAV,EAA0C,GAA1C,EAA+C+N,MAA/C,CAAsDO,GAAG,CAACc,OAAJ,CAAY1H,CAAC,CAACpH,IAAF,EAAZ,CAAtD,EAA6E,IAA7E,EAAmFyN,MAAnF,CAA0FrG,CAAC,CAACtB,IAAF,EAA1F,CAAP;EACD,OA/KU;EAgLX,kBAAY,SAASgQ,OAAT,CAAiB1O,CAAjB,EAAoB;EAC9B,eAAO,GAAGqG,MAAH,CAAU2E,IAAI,CAAC,OAAD,CAAJ,GAAgBhL,CAAC,CAACf,GAAF,EAAhB,CAAV,EAAoC,GAApC,EAAyCoH,MAAzC,CAAgD8F,eAAe,CAACzG,QAAQ,CAAC,OAAD,CAAR,GAAoB1F,CAAC,CAAC1H,KAAF,EAApB,CAAD,CAA/D,EAAiG,GAAjG,EAAsG+N,MAAtG,CAA6GO,GAAG,CAACc,OAAJ,CAAY1H,CAAC,CAACpH,IAAF,EAAZ,CAA7G,CAAP;EACD,OAlLU;EAmLX,mBAAa,SAAS+V,QAAT,CAAkB3O,CAAlB,EAAqB;EAChC,eAAO,GAAGqG,MAAH,CAAUrG,CAAC,CAACoM,OAAF,EAAV,EAAuB,GAAvB,EAA4B/F,MAA5B,CAAmC8F,eAAe,CAACnM,CAAC,CAAC2M,SAAF,EAAD,CAAlD,EAAmE,GAAnE,EAAwEtG,MAAxE,CAA+EO,GAAG,CAACc,OAAJ,CAAY1H,CAAC,CAACpH,IAAF,EAAZ,CAA/E,EAAsG,IAAtG,EAA4GyN,MAA5G,CAAmHrG,CAAC,CAAC/G,IAAF,EAAnH,CAAP;EACD,OArLU;EAsLX,sBAAgB,SAAS2V,UAAT,CAAoB5O,CAApB,EAAuB;EACrC,eAAO,GAAGqG,MAAH,CAAUrG,CAAC,CAACoM,OAAF,EAAV,EAAuB,GAAvB,EAA4B/F,MAA5B,CAAmC8F,eAAe,CAACnM,CAAC,CAAC2M,SAAF,EAAD,CAAlD,EAAmE,GAAnE,EAAwEtG,MAAxE,CAA+EO,GAAG,CAACc,OAAJ,CAAY1H,CAAC,CAACpH,IAAF,EAAZ,CAA/E,EAAsG,IAAtG,EAA4GyN,MAA5G,CAAmHrG,CAAC,CAACqN,MAAF,EAAnH,EAA+H,GAA/H,EAAoIhH,MAApI,CAA2IO,GAAG,CAACQ,OAAJ,CAAYpH,CAAC,CAAC8D,MAAF,EAAZ,CAA3I,CAAP;EACD;EAxLU,KAAb,CAzjDmB;;EAovDnB,QAAImH,OAAO,GAAG;EACZ,kBAAY,KADA;EAEZ,oBAAc,OAFF;EAGZ,kBAAY,KAHA;EAIZ,kBAAY,SAJA;EAKZ,iBAAW,MALC;EAMZ,kBAAY,MANA;EAOZ9K,MAAAA,EAAE,EAAE,UAPQ;EAQZ,iBAAW,YARC;EASZ,mBAAa,cATD;EAUZ,mBAAa,WAVD;EAWZ,kBAAY,UAXA;EAYZ,oBAAc,MAZF;EAaZ,uBAAiB,SAbL;EAcZ0O,MAAAA,GAAG,EAAE,YAdO;EAeZC,MAAAA,GAAG,EAAE,YAfO;EAgBZC,MAAAA,GAAG,EAAE,SAhBO;EAiBZ,oBAAc,SAjBF;EAkBZ,oBAAc,YAlBF;EAmBZ,oBAAc,YAnBF;EAoBZ,uBAAiB,YApBL;EAqBZ,oBAAc,SArBF;EAsBZ,kBAAY;EAtBA,KAAd;EAwBApS,IAAAA,MAAM,CAAC2E,IAAP,CAAY2J,OAAZ,EAAqBtT,OAArB,CAA6B,UAAU4J,CAAV,EAAa;EACxC,aAAOU,MAAM,CAACV,CAAD,CAAN,GAAYU,MAAM,CAACgJ,OAAO,CAAC1J,CAAD,CAAR,CAAzB;EACD,KAFD;;EAIA,QAAIyN,WAAW,GAAG,SAASA,WAAT,CAAqBhP,CAArB,EAAwB;EACxC,UAAInI,GAAG,GAAGsO,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA9E,CADwC;;EAIxC,UAAInG,CAAC,CAAC4K,OAAF,OAAgB,IAApB,EAA0B;EACxB,eAAO,EAAP;EACD,OANuC;;;EASxC,UAAI3I,MAAM,CAACuB,cAAP,CAAsB3L,GAAtB,CAAJ,EAAgC;EAC9B,YAAIoX,GAAG,GAAGhN,MAAM,CAACpK,GAAD,CAAN,CAAYmI,CAAZ,KAAkB,EAA5B;;EAEA,YAAInI,GAAG,KAAK,MAAZ,EAAoB;EAClBoX,UAAAA,GAAG,GAAGpH,MAAM,CAACoH,GAAD,CAAZ;;EAEA,cAAIpX,GAAG,KAAK,MAAZ,EAAoB;EAClBoX,YAAAA,GAAG,GAAG9C,eAAe,CAAC8C,GAAD,CAArB;EACD;EACF;;EAED,eAAOA,GAAP;EACD,OArBuC;;;EAwBxC,UAAIpX,GAAG,CAACqX,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAA1B,EAA6B;EAC3B,YAAI7X,QAAQ,GAAG,YAAf;EACAQ,QAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAYrK,QAAZ,EAAsB,UAAU8X,CAAV,EAAaC,GAAb,EAAkB;EAC5CA,UAAAA,GAAG,GAAGA,GAAG,CAAC/M,WAAJ,GAAkBkB,IAAlB,EAAN;;EAEA,cAAItB,MAAM,CAACuB,cAAP,CAAsB4L,GAAtB,CAAJ,EAAgC;EAC9B,gBAAIC,IAAI,GAAGxH,MAAM,CAAC5F,MAAM,CAACmN,GAAD,CAAN,CAAYpP,CAAZ,CAAD,CAAjB;;EAEA,gBAAIoP,GAAG,KAAK,MAAZ,EAAoB;EAClB,qBAAOjD,eAAe,CAACkD,IAAD,CAAtB;EACD;;EAED,mBAAOA,IAAP;EACD;;EAED,iBAAO,EAAP;EACD,SAdK,CAAN;EAeA,eAAOxX,GAAP;EACD;;EAED,aAAOmI,CAAC,CAACiC,MAAF,CAAS,WAAT,CAAP;EACD,KA7CD;;EA+CA,QAAIqN,QAAQ,GAAGN,WAAf;EAEA,QAAI3H,GAAG,GAAGT,GAAG,CAACQ,OAAd;EACA,QAAIc,cAAc,GAAGtB,GAAG,CAACsB,cAAzB,CAl0DmB;;;;EAs0DnB,QAAIrC,OAAO,GAAG;EACZ0J,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWvP,CAAX,EAAc;EACf,eAAOA,CAAC,CAAC2N,GAAF,EAAP;EACD,OAHW;EAIZ6B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYxP,CAAZ,EAAe;EACjB,eAAOA,CAAC,CAAC2N,GAAF,EAAP;EACD,OANW;EAOZ8B,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAazP,CAAb,EAAgB;EACnB,eAAOA,CAAC,CAAC2N,GAAF,EAAP;EACD,OATW;EAUZ+B,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc1P,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAAC2N,GAAF,OAAY,IAAZ,GAAmB,aAAnB,GAAmC,eAA1C;EACD,OAZW;;EAcZgC,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAW3P,CAAX,EAAc;EACf,eAAOA,CAAC,CAACtB,IAAF,EAAP;EACD,OAhBW;EAiBZkR,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAY5P,CAAZ,EAAe;;EAEjB,eAAOhI,QAAQ,CAAC6P,MAAM,CAAC7H,CAAC,CAACtB,IAAF,EAAD,CAAN,CAAiB+I,MAAjB,CAAwB,CAAxB,EAA2B,CAA3B,CAAD,EAAgC,EAAhC,CAAf;EACD,OApBW;EAqBZoI,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAa7P,CAAb,EAAgB;EACnB,eAAOA,CAAC,CAACtB,IAAF,EAAP;EACD,OAvBW;EAwBZoR,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc9P,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACtB,IAAF,EAAP;EACD,OA1BW;EA2BZqR,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAe/P,CAAf,EAAkB;EACvB,eAAO,MAAMA,CAAC,CAACtB,IAAF,EAAb;EACD,OA7BW;;;EAgCZsR,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWhQ,CAAX,EAAc;EACf,eAAOA,CAAC,CAACsJ,OAAF,EAAP;EACD,OAlCW;EAmCZ2G,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYjQ,CAAZ,EAAe;EACjB,eAAOA,CAAC,CAACsJ,OAAF,EAAP;EACD,OArCW;EAsCZ4G,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAalQ,CAAb,EAAgB;EACnB,eAAOA,CAAC,CAACsJ,OAAF,EAAP;EACD,OAxCW;EAyCZ6G,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcnQ,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACsJ,OAAF,EAAP;EACD,OA3CW;;EA6CZ8G,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWpQ,CAAX,EAAc;EACf,eAAOA,CAAC,CAAC1H,KAAF,KAAY,CAAnB;EACD,OA/CW;EAgDZ+X,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYrQ,CAAZ,EAAe;EACjB,eAAOqH,GAAG,CAACrH,CAAC,CAAC1H,KAAF,KAAY,CAAb,CAAV;EACD,OAlDW;EAmDZgY,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAatQ,CAAb,EAAgB;EACnB,eAAOA,CAAC,CAACiC,MAAF,CAAS,aAAT,CAAP;EACD,OArDW;EAsDZsO,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcvQ,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACiC,MAAF,CAAS,OAAT,CAAP;EACD,OAxDW;;EA0DZuO,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWxQ,CAAX,EAAc;EACf,eAAOA,CAAC,CAAC+D,IAAF,EAAP;EACD,OA5DW;EA6DZ0M,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYzQ,CAAZ,EAAe;EACjB,eAAOqH,GAAG,CAACrH,CAAC,CAAC+D,IAAF,EAAD,CAAV;EACD,OA/DW;;;;EAmEZjK,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWkG,CAAX,EAAc;EACf,eAAOA,CAAC,CAACpH,IAAF,EAAP;EACD,OArEW;EAsEZ8X,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAY1Q,CAAZ,EAAe;EACjB,eAAOqH,GAAG,CAACrH,CAAC,CAACpH,IAAF,EAAD,CAAV;EACD,OAxEW;;EA0EZ+X,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAW3Q,CAAX,EAAc;EACf,eAAOA,CAAC,CAAC4Q,SAAF,EAAP;EACD,OA5EW;EA6EZC,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAY7Q,CAAZ,EAAe;EACjB,eAAOqH,GAAG,CAACrH,CAAC,CAAC4Q,SAAF,EAAD,CAAV;EACD,OA/EW;EAgFZE,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAa9Q,CAAb,EAAgB;EACnB,eAAOqH,GAAG,CAACrH,CAAC,CAAC4Q,SAAF,EAAD,EAAgB,CAAhB,CAAV;EACD,OAlFW;;;;EAsFZG,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAW/Q,CAAX,EAAc;EACf,eAAOA,CAAC,CAACiC,MAAF,CAAS,WAAT,CAAP;EACD,OAxFW;EAyFZ+O,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYhR,CAAZ,EAAe;EACjB,eAAOA,CAAC,CAACiC,MAAF,CAAS,WAAT,CAAP;EACD,OA3FW;EA4FZgP,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAajR,CAAb,EAAgB;EACnB,eAAOA,CAAC,CAACiC,MAAF,CAAS,WAAT,CAAP;EACD,OA9FW;EA+FZiP,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAclR,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACiC,MAAF,CAAS,KAAT,CAAP;EACD,OAjGW;EAkGZkP,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAenR,CAAf,EAAkB;EACvB,eAAOA,CAAC,CAACiC,MAAF,CAAS,KAAT,EAAgB,CAAhB,CAAP;EACD,OApGW;EAqGZmP,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWpR,CAAX,EAAc;EACf,eAAOA,CAAC,CAACf,GAAF,EAAP;EACD,OAvGW;EAwGZoS,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYrR,CAAZ,EAAe;EACjB,eAAOA,CAAC,CAACf,GAAF,EAAP;EACD,OA1GW;EA2GZqS,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAatR,CAAb,EAAgB;EACnB,eAAOA,CAAC,CAACiC,MAAF,CAAS,WAAT,CAAP;EACD,OA7GW;EA8GZsP,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcvR,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACiC,MAAF,CAAS,KAAT,CAAP;EACD,OAhHW;EAiHZuP,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAexR,CAAf,EAAkB;EACvB,eAAOA,CAAC,CAACiC,MAAF,CAAS,KAAT,EAAgB,CAAhB,CAAP;EACD,OAnHW;;EAqHZwP,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWzR,CAAX,EAAc;EACf,eAAOA,CAAC,CAACuG,IAAF,GAASiB,WAAT,EAAP;EACD,OAvHW;EAwHZkK,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAY1R,CAAZ,EAAe;EACjB,eAAOA,CAAC,CAACuG,IAAF,GAASiB,WAAT,EAAP;EACD,OA1HW;EA2HZmK,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAa3R,CAAb,EAAgB;EACnB,eAAOA,CAAC,CAACuG,IAAF,GAASiB,WAAT,EAAP;EACD,OA7HW;EA8HZoK,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc5R,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACuG,IAAF,GAASiB,WAAT,EAAP;EACD,OAhIW;;EAkIZrE,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWnD,CAAX,EAAc;EACf,eAAOA,CAAC,CAAC6R,GAAF,EAAP;EACD,OApIW;EAqIZC,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAY9R,CAAZ,EAAe;EACjB,eAAOqH,GAAG,CAACrH,CAAC,CAAC6R,GAAF,EAAD,CAAV;EACD,OAvIW;EAwIZE,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAW/R,CAAX,EAAc;EACf,eAAOA,CAAC,CAACd,IAAF,EAAP;EACD,OA1IW;EA2IZ8S,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYhS,CAAZ,EAAe;EACjB,eAAOqH,GAAG,CAACrH,CAAC,CAACd,IAAF,EAAD,CAAV;EACD,OA7IW;;EA+IZ1H,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWwI,CAAX,EAAc;EACf,eAAOA,CAAC,CAAC8D,MAAF,EAAP;EACD,OAjJW;EAkJZmO,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYjS,CAAZ,EAAe;EACjB,eAAOqH,GAAG,CAACrH,CAAC,CAAC8D,MAAF,EAAD,CAAV;EACD,OApJW;EAqJZ9D,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAW9C,EAAX,EAAe;EAChB,eAAOA,EAAE,CAAC2G,MAAH,EAAP;EACD,OAvJW;EAwJZqO,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYlS,CAAZ,EAAe;EACjB,eAAOqH,GAAG,CAACrH,CAAC,CAAC6D,MAAF,EAAD,CAAV;EACD,OA1JW;;EA4JZsO,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWnS,CAAX,EAAc;EACf,eAAOA,CAAC,CAACV,KAAF,GAAUU,CAAC,CAACoG,OAAF,CAAU,KAAV,EAAiB9G,KAAlC;EACD,OA9JW;;EAgKZ8S,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWpS,CAAX,EAAc;EACf,eAAOA,CAAC,CAACmC,QAAF,GAAanE,IAApB;EACD,OAlKW;EAmKZqU,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYrS,CAAZ,EAAe;EACjB,eAAOA,CAAC,CAACmC,QAAF,GAAanE,IAApB;EACD,OArKW;EAsKZsU,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAatS,CAAb,EAAgB;EACnB,eAAOA,CAAC,CAACmC,QAAF,GAAanE,IAApB;EACD,OAxKW;EAyKZuU,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcvS,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACmC,QAAF,GAAanE,IAApB;EACD,OA3KW;EA4KZwU,MAAAA,CAAC,EAAE,SAASA,CAAT,CAAWxS,CAAX,EAAc;EACf,eAAOkI,cAAc,CAAClI,CAAC,CAACmC,QAAF,GAAaiC,OAAb,CAAqB3F,MAAtB,CAArB;EACD,OA9KW;EA+KZgU,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYzS,CAAZ,EAAe;EACjB,eAAOkI,cAAc,CAAClI,CAAC,CAACmC,QAAF,GAAaiC,OAAb,CAAqB3F,MAAtB,CAArB;EACD,OAjLW;EAkLZiU,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAa1S,CAAb,EAAgB;EACnB,eAAOkI,cAAc,CAAClI,CAAC,CAACmC,QAAF,GAAaiC,OAAb,CAAqB3F,MAAtB,CAArB;EACD,OApLW;EAqLZkU,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc3S,CAAd,EAAiB;EACrB,eAAOkI,cAAc,CAAClI,CAAC,CAACmC,QAAF,GAAaiC,OAAb,CAAqB3F,MAAtB,EAA8B,GAA9B,CAArB;EACD;EAvLW,KAAd;;EA0LA,QAAImU,QAAQ,GAAG,SAASA,QAAT,CAAkBC,KAAlB,EAAyBC,EAAzB,EAA6BlV,CAA7B,EAAgC;EAC7C,UAAII,IAAI,GAAG6U,KAAX;EACA,UAAIE,MAAM,GAAGD,EAAb;;EAEA,WAAK,IAAI1W,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwB,CAApB,EAAuBxB,CAAC,IAAI,CAA5B,EAA+B;EAC7ByJ,QAAAA,OAAO,CAAC7H,IAAD,CAAP,GAAgB6H,OAAO,CAACkN,MAAD,CAAvB;EACA/U,QAAAA,IAAI,IAAI6U,KAAR;EACAE,QAAAA,MAAM,IAAID,EAAV;EACD;EACF,KATD;;EAWAF,IAAAA,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAAR;EACAA,IAAAA,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAAR;EACAA,IAAAA,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAAR;EACAA,IAAAA,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAAR;EACAA,IAAAA,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAAR;EACAA,IAAAA,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAAR;EACAA,IAAAA,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAAR;EACAA,IAAAA,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAAR;EACAA,IAAAA,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAAR,CAnhEmB;;EAqhEnB,QAAII,WAAW,GAAG,SAASA,WAAT,CAAqB7W,GAArB,EAA0B;EAC1C,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACoB,MAAxB,EAAgCnB,CAAC,IAAI,CAArC,EAAwC;EACtC,YAAID,GAAG,CAACC,CAAD,CAAH,KAAW,GAAf,EAAoB;;EAElB,eAAK,IAAIqB,CAAC,GAAGrB,CAAC,GAAG,CAAjB,EAAoBqB,CAAC,GAAGtB,GAAG,CAACoB,MAA5B,EAAoCE,CAAC,IAAI,CAAzC,EAA4C;EAC1C,gBAAItB,GAAG,CAACsB,CAAD,CAAP,EAAY;EACVtB,cAAAA,GAAG,CAACC,CAAD,CAAH,IAAUD,GAAG,CAACsB,CAAD,CAAb;EACD;;EAED,gBAAItB,GAAG,CAACsB,CAAD,CAAH,KAAW,GAAf,EAAoB;EAClBtB,cAAAA,GAAG,CAACsB,CAAD,CAAH,GAAS,IAAT;EACA;EACD;;EAEDtB,YAAAA,GAAG,CAACsB,CAAD,CAAH,GAAS,IAAT;EACD;EACF;EACF;;EAED,aAAOtB,GAAG,CAAC8W,MAAJ,CAAW,UAAUC,EAAV,EAAc;EAC9B,eAAOA,EAAP;EACD,OAFM,CAAP;EAGD,KAtBD,CArhEmB;;;EA8iEnB,QAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBhX,GAAzB,EAA8B;EAClD,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACoB,MAAxB,EAAgCnB,CAAC,IAAI,CAArC,EAAwC;EACtC,YAAIgX,CAAC,GAAGjX,GAAG,CAACC,CAAD,CAAX,CADsC;;EAGtC,aAAK,IAAIqB,CAAC,GAAGrB,CAAC,GAAG,CAAjB,EAAoBqB,CAAC,GAAGtB,GAAG,CAACoB,MAA5B,EAAoCE,CAAC,IAAI,CAAzC,EAA4C;EAC1C,cAAItB,GAAG,CAACsB,CAAD,CAAH,KAAW2V,CAAf,EAAkB;EAChBjX,YAAAA,GAAG,CAACC,CAAD,CAAH,IAAUD,GAAG,CAACsB,CAAD,CAAb;EACAtB,YAAAA,GAAG,CAACsB,CAAD,CAAH,GAAS,IAAT;EACD,WAHD,MAGO;EACL;EACD;EACF;EACF,OAZiD;;;EAelDtB,MAAAA,GAAG,GAAGA,GAAG,CAAC8W,MAAJ,CAAW,UAAUC,EAAV,EAAc;EAC7B,eAAOA,EAAP;EACD,OAFK,CAAN;EAGA/W,MAAAA,GAAG,GAAGA,GAAG,CAACkX,GAAJ,CAAQ,UAAUxb,GAAV,EAAe;EAC3B,YAAIA,GAAG,KAAK,IAAZ,EAAkB;EAChBA,UAAAA,GAAG,GAAG,GAAN;EACD;;EAED,eAAOA,GAAP;EACD,OANK,CAAN;EAOA,aAAOsE,GAAP;EACD,KA1BD;;EA4BA,QAAImX,OAAO,GAAG,SAASA,OAAT,CAAiBtT,CAAjB,EAAoBnI,GAApB,EAAyB;EACrC,UAAIsE,GAAG,GAAGtE,GAAG,CAAC+G,KAAJ,CAAU,EAAV,CAAV,CADqC;;EAGrCzC,MAAAA,GAAG,GAAG6W,WAAW,CAAC7W,GAAD,CAAjB,CAHqC;;EAKrCA,MAAAA,GAAG,GAAGgX,eAAe,CAAChX,GAAD,CAArB;EACA,aAAOA,GAAG,CAAC+G,MAAJ,CAAW,UAAUqQ,GAAV,EAAeH,CAAf,EAAkB;EAClC,YAAIvN,OAAO,CAACuN,CAAD,CAAP,KAAepW,SAAnB,EAA8B;EAC5BuW,UAAAA,GAAG,IAAI1N,OAAO,CAACuN,CAAD,CAAP,CAAWpT,CAAX,KAAiB,EAAxB;EACD,SAFD,MAEO;;EAEL,cAAI,YAAY9B,IAAZ,CAAiBkV,CAAjB,CAAJ,EAAyB;EACvBA,YAAAA,CAAC,GAAGA,CAAC,CAAC1R,OAAF,CAAU,IAAV,EAAgB,EAAhB,CAAJ;EACD;;EAED6R,UAAAA,GAAG,IAAIH,CAAP;EACD;;EAED,eAAOG,GAAP;EACD,OAbM,EAaJ,EAbI,CAAP;EAcD,KApBD;;EAsBA,QAAIC,SAAS,GAAGF,OAAhB;EAEA,QAAIG,OAAO,GAAG,CAAC,MAAD,EAAS,QAAT,EAAmB,SAAnB,EAA8B,OAA9B,EAAuC,MAAvC,EAA+C,KAA/C,EAAsD,aAAtD,EAAqE,MAArE,EAA6E,QAA7E,CAAd;;EAEA,QAAIC,MAAM,GAAG,SAASA,MAAT,CAAgB1T,CAAhB,EAAmBuB,CAAnB,EAAsB;EACjC,UAAIhC,KAAK,GAAGS,CAAC,CAACmF,KAAF,GAAUiB,OAAV,CAAkB7E,CAAlB,CAAZ;EACA,UAAI/B,GAAG,GAAGQ,CAAC,CAACmF,KAAF,GAAUwO,KAAV,CAAgBpS,CAAhB,CAAV;EACA,UAAI9I,QAAQ,GAAG+G,GAAG,CAACF,KAAJ,GAAYC,KAAK,CAACD,KAAjC;EACA,UAAIsU,OAAO,GAAG,CAAC5T,CAAC,CAACV,KAAF,GAAUC,KAAK,CAACD,KAAjB,IAA0B7G,QAAxC;EACA,aAAOuN,UAAU,CAAC4N,OAAO,CAACC,OAAR,CAAgB,CAAhB,CAAD,CAAjB;EACD,KAND,CApmEmB;;;EA6mEnB,QAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkB9T,CAAlB,EAAqBkE,IAArB,EAA2B;EACxC,UAAIA,IAAJ,EAAU;EACRA,QAAAA,IAAI,GAAG0C,GAAG,CAACjM,SAAJ,CAAcuJ,IAAd,CAAP;EACA,eAAOwP,MAAM,CAAC1T,CAAD,EAAIkE,IAAJ,CAAb;EACD;;EAED,UAAIrI,GAAG,GAAG,EAAV;EACA4X,MAAAA,OAAO,CAAC9b,OAAR,CAAgB,UAAU4J,CAAV,EAAa;EAC3B1F,QAAAA,GAAG,CAAC0F,CAAD,CAAH,GAASmS,MAAM,CAAC1T,CAAD,EAAIuB,CAAJ,CAAf;EACD,OAFD;EAGA,aAAO1F,GAAP;EACD,KAXD;;EAaA,QAAIkY,UAAU,GAAGD,QAAjB;;EAEA,QAAIE,OAAO,GAAG,SAASA,OAAT,CAAiBhU,CAAjB,EAAoBkE,IAApB,EAA0B;;EAEtC,UAAI+P,IAAI,GAAGjU,CAAC,CAAC8T,QAAF,EAAX;EACA5P,MAAAA,IAAI,GAAG0C,GAAG,CAACjM,SAAJ,CAAcuJ,IAAd,CAAP,CAHsC;;EAKtC,UAAIA,IAAI,KAAK,aAAb,EAA4B;EAC1BA,QAAAA,IAAI,GAAG,aAAP;EACD;;EAED,UAAI+P,IAAI,CAAC/P,IAAD,CAAJ,KAAelH,SAAnB,EAA8B;;EAE5B,YAAIiX,IAAI,CAAC/P,IAAD,CAAJ,GAAa,GAAjB,EAAsB;EACpBlE,UAAAA,CAAC,GAAGA,CAAC,CAAC8J,GAAF,CAAM,CAAN,EAAS5F,IAAT,CAAJ;EACD,SAJ2B;;;EAO5BlE,QAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAUlC,IAAV,CAAJ;EACD,OARD,MAQO,IAAIlE,CAAC,CAACoF,MAAF,KAAa,KAAjB,EAAwB;EAC7BhF,QAAAA,OAAO,CAACC,IAAR,CAAa,oBAAoB6D,IAApB,GAA2B,GAAxC;EACD;;EAED,aAAOlE,CAAP;EACD,KAtBD;;EAwBA,QAAIkU,SAAS,GAAGF,OAAhB,CAppEmB;;EAupEnB,QAAIG,KAAK,GAAG,SAASA,KAAT,CAAe1C,CAAf,EAAkB2C,CAAlB,EAAqBlQ,IAArB,EAA2B;EACrC,UAAI9H,CAAC,GAAG,CAAR;EACAqV,MAAAA,CAAC,GAAGA,CAAC,CAACtM,KAAF,EAAJ;;EAEA,aAAOsM,CAAC,CAAC4C,QAAF,CAAWD,CAAX,CAAP,EAAsB;;EAEpB3C,QAAAA,CAAC,GAAGA,CAAC,CAAC3H,GAAF,CAAM,CAAN,EAAS5F,IAAT,CAAJ;EACA9H,QAAAA,CAAC,IAAI,CAAL;EACD,OARoC;;;EAWrC,UAAIqV,CAAC,CAAC6C,OAAF,CAAUF,CAAV,EAAalQ,IAAb,CAAJ,EAAwB;EACtB9H,QAAAA,CAAC,IAAI,CAAL;EACD;;EAED,aAAOA,CAAP;EACD,KAhBD,CAvpEmB;;;;EA2qEnB,QAAImY,OAAO,GAAG,SAASA,OAAT,CAAiB9C,CAAjB,EAAoB2C,CAApB,EAAuBlQ,IAAvB,EAA6B;EACzC,UAAIuN,CAAC,CAAC4C,QAAF,CAAWD,CAAX,CAAJ,EAAmB;EACjB,eAAOD,KAAK,CAAC1C,CAAD,EAAI2C,CAAJ,EAAOlQ,IAAP,CAAZ;EACD,OAFD,MAEO;EACL,eAAOiQ,KAAK,CAACC,CAAD,EAAI3C,CAAJ,EAAOvN,IAAP,CAAL,GAAoB,CAAC,CAA5B,CADK;EAEN;EACF,KAND;;EAQA,QAAIsQ,GAAG,GAAGD,OAAV,CAnrEmB;;;EAwrEnB,QAAIE,QAAQ,GAAG,SAASA,QAAT,CAAkBhD,CAAlB,EAAqB2C,CAArB,EAAwB;EACrC,UAAIM,KAAK,GAAGN,CAAC,CAAC1V,IAAF,KAAW+S,CAAC,CAAC/S,IAAF,EAAvB,CADqC;;EAGrC+S,MAAAA,CAAC,GAAGA,CAAC,CAAC/S,IAAF,CAAO0V,CAAC,CAAC1V,IAAF,EAAP,CAAJ;;EAEA,UAAI+S,CAAC,CAAC6C,OAAF,CAAUF,CAAV,CAAJ,EAAkB;EAChBM,QAAAA,KAAK,IAAI,CAAT;EACD;;EAED,aAAOA,KAAP;EACD,KAVD,CAxrEmB;;;;;EAusEnB,QAAIC,MAAM,GAAG,SAASpQ,IAAT,CAAckN,CAAd,EAAiB2C,CAAjB,EAAoB;;;EAG/B,UAAIQ,MAAM,GAAGR,CAAC,CAAC9U,KAAF,GAAUmS,CAAC,CAACnS,KAAzB;EACA,UAAIzD,GAAG,GAAG;EACRmI,QAAAA,YAAY,EAAE4Q,MADN;EAER5P,QAAAA,OAAO,EAAEhN,QAAQ,CAAC4c,MAAM,GAAG,IAAV,EAAgB,EAAhB;EAFT,OAAV;EAIA/Y,MAAAA,GAAG,CAAC0M,OAAJ,GAAcvQ,QAAQ,CAAC6D,GAAG,CAACmJ,OAAJ,GAAc,EAAf,EAAmB,EAAnB,CAAtB;EACAnJ,MAAAA,GAAG,CAACyM,KAAJ,GAAYtQ,QAAQ,CAAC6D,GAAG,CAAC0M,OAAJ,GAAc,EAAf,EAAmB,EAAnB,CAApB,CAT+B;;EAW/B,UAAIR,GAAG,GAAG0J,CAAC,CAACtM,KAAF,EAAV;EACAtJ,MAAAA,GAAG,CAAC6Y,KAAJ,GAAYD,QAAQ,CAAC1M,GAAD,EAAMqM,CAAN,CAApB;EACArM,MAAAA,GAAG,GAAG0J,CAAC,CAAC3H,GAAF,CAAMjO,GAAG,CAAC6Y,KAAV,EAAiB,MAAjB,CAAN,CAb+B;;EAe/B7Y,MAAAA,GAAG,CAAC+M,MAAJ,GAAa/M,GAAG,CAAC6Y,KAAJ,GAAY,EAAzB;EACA3M,MAAAA,GAAG,GAAG0J,CAAC,CAAC3H,GAAF,CAAMjO,GAAG,CAAC+M,MAAV,EAAkB,OAAlB,CAAN;EACA/M,MAAAA,GAAG,CAAC+M,MAAJ,IAAc4L,GAAG,CAACzM,GAAD,EAAMqM,CAAN,EAAS,OAAT,CAAjB,CAjB+B;;;EAoB/BvY,MAAAA,GAAG,CAACgZ,KAAJ,GAAYhZ,GAAG,CAAC6Y,KAAJ,GAAY,EAAxB;EACA3M,MAAAA,GAAG,GAAG0J,CAAC,CAAC3H,GAAF,CAAMjO,GAAG,CAACgZ,KAAV,EAAiB,MAAjB,CAAN;EACAhZ,MAAAA,GAAG,CAACgZ,KAAJ,IAAaL,GAAG,CAACzM,GAAD,EAAMqM,CAAN,EAAS,MAAT,CAAhB,CAtB+B;;EAwB/BvY,MAAAA,GAAG,CAACmP,IAAJ,GAAWnP,GAAG,CAACgZ,KAAJ,GAAY,CAAvB;EACA9M,MAAAA,GAAG,GAAG0J,CAAC,CAAC3H,GAAF,CAAMjO,GAAG,CAACmP,IAAV,EAAgB,KAAhB,CAAN;EACAnP,MAAAA,GAAG,CAACmP,IAAJ,IAAYwJ,GAAG,CAACzM,GAAD,EAAMqM,CAAN,EAAS,KAAT,CAAf;EACA,aAAOvY,GAAP;EACD,KA5BD;;EA8BA,QAAIiZ,SAAS,GAAGH,MAAhB;;EAEA,QAAII,WAAW,GAAG,SAASA,WAAT,CAAqBlZ,GAArB,EAA0B;EAC1Cc,MAAAA,MAAM,CAAC2E,IAAP,CAAYzF,GAAZ,EAAiBlE,OAAjB,CAAyB,UAAU4J,CAAV,EAAa;EACpC1F,QAAAA,GAAG,CAAC0F,CAAD,CAAH,IAAU,CAAC,CAAX;EACD,OAFD;EAGA,aAAO1F,GAAP;EACD,KALD,CAvuEmB;;;;;EAivEnB,QAAImZ,MAAM,GAAG,SAASC,IAAT,CAAcxD,CAAd,EAAiB2C,CAAjB,EAAoBlQ,IAApB,EAA0B;EACrCkQ,MAAAA,CAAC,GAAGxN,GAAG,CAACqB,OAAJ,CAAYmM,CAAZ,EAAe3C,CAAf,CAAJ,CADqC;;EAGrC,UAAIyD,QAAQ,GAAG,KAAf;;EAEA,UAAIzD,CAAC,CAAC6C,OAAF,CAAUF,CAAV,CAAJ,EAAkB;EAChB,YAAIrM,GAAG,GAAG0J,CAAV;EACAA,QAAAA,CAAC,GAAG2C,CAAJ;EACAA,QAAAA,CAAC,GAAGrM,GAAJ;EACAmN,QAAAA,QAAQ,GAAG,IAAX;EACD,OAVoC;;;EAarC,UAAIrZ,GAAG,GAAGiZ,SAAS,CAACrD,CAAD,EAAI2C,CAAJ,CAAnB;;EAEA,UAAIc,QAAJ,EAAc;EACZrZ,QAAAA,GAAG,GAAGkZ,WAAW,CAAClZ,GAAD,CAAjB;EACD,OAjBoC;;;EAoBrC,UAAIqI,IAAJ,EAAU;;EAERA,QAAAA,IAAI,GAAG0C,GAAG,CAACjM,SAAJ,CAAcuJ,IAAd,CAAP;;EAEA,YAAI,KAAKhG,IAAL,CAAUgG,IAAV,MAAoB,IAAxB,EAA8B;EAC5BA,UAAAA,IAAI,IAAI,GAAR;EACD;;EAED,YAAIA,IAAI,KAAK,OAAb,EAAsB;EACpBA,UAAAA,IAAI,GAAG,MAAP;EACD;;EAED,eAAOrI,GAAG,CAACqI,IAAD,CAAV;EACD;;EAED,aAAOrI,GAAP;EACD,KApCD;;EAsCA,QAAI0I,IAAI,GAAGyQ,MAAX,CAvxEmB;;EA2xEnB,QAAIG,UAAU,GAAG;EACfvM,MAAAA,MAAM,EAAE;EACNwM,QAAAA,MAAM,EAAE,EADF;EAENC,QAAAA,IAAI,EAAE;EAFA,OADO;EAKfrK,MAAAA,IAAI,EAAE;EACJoK,QAAAA,MAAM,EAAE,EADJ;EAEJC,QAAAA,IAAI,EAAE;EAFF,OALS;EASf/M,MAAAA,KAAK,EAAE;EACL8M,QAAAA,MAAM,EAAE,EADH;EAELC,QAAAA,IAAI,EAAE;EAFD,OATQ;EAaf9M,MAAAA,OAAO,EAAE;EACP6M,QAAAA,MAAM,EAAE,EADD;EAEPC,QAAAA,IAAI,EAAE;EAFC,OAbM;EAiBfrQ,MAAAA,OAAO,EAAE;EACPoQ,QAAAA,MAAM,EAAE,EADD;EAEPC,QAAAA,IAAI,EAAE;EAFC;EAjBM,KAAjB,CA3xEmB;;EAkzEnB,aAASC,OAAT,CAAiB7D,CAAjB,EAAoB2C,CAApB,EAAuB;EACrB,UAAIC,QAAQ,GAAG5C,CAAC,CAAC4C,QAAF,CAAWD,CAAX,CAAf;EACA,UAAImB,KAAK,GAAGlB,QAAQ,GAAGD,CAAH,GAAO3C,CAA3B;EACA,UAAI+D,OAAO,GAAGnB,QAAQ,GAAG5C,CAAH,GAAO2C,CAA7B;EACAoB,MAAAA,OAAO,GAAGA,OAAO,CAACrQ,KAAR,EAAV;EACA,UAAIZ,IAAI,GAAG;EACTmQ,QAAAA,KAAK,EAAE,CADE;EAET9L,QAAAA,MAAM,EAAE,CAFC;EAGToC,QAAAA,IAAI,EAAE,CAHG;EAIT1C,QAAAA,KAAK,EAAE,CAJE;EAKTC,QAAAA,OAAO,EAAE,CALA;EAMTvD,QAAAA,OAAO,EAAE;EANA,OAAX;EAQArI,MAAAA,MAAM,CAAC2E,IAAP,CAAYiD,IAAZ,EAAkB5M,OAAlB,CAA0B,UAAUuM,IAAV,EAAgB;EACxC,YAAIsR,OAAO,CAACC,MAAR,CAAeF,KAAf,EAAsBrR,IAAtB,CAAJ,EAAiC;EAC/B;EACD;;EAED,YAAIwE,GAAG,GAAG8M,OAAO,CAACjR,IAAR,CAAagR,KAAb,EAAoBrR,IAApB,CAAV;EACAsR,QAAAA,OAAO,GAAGA,OAAO,CAAC1L,GAAR,CAAYpB,GAAZ,EAAiBxE,IAAjB,CAAV;EACAK,QAAAA,IAAI,CAACL,IAAD,CAAJ,GAAawE,GAAb;EACD,OARD,EAbqB;;EAuBrB,UAAI2L,QAAJ,EAAc;EACZ1X,QAAAA,MAAM,CAAC2E,IAAP,CAAYiD,IAAZ,EAAkB5M,OAAlB,CAA0B,UAAU+d,CAAV,EAAa;EACrC,cAAInR,IAAI,CAACmR,CAAD,CAAJ,KAAY,CAAhB,EAAmB;EACjBnR,YAAAA,IAAI,CAACmR,CAAD,CAAJ,IAAW,CAAC,CAAZ;EACD;EACF,SAJD;EAKD;;EAED,aAAOnR,IAAP;EACD,KAl1EkB;;;EAq1EnB,aAASoR,SAAT,CAAmBrY,KAAnB,EAA0B4G,IAA1B,EAAgC;EAC9B,UAAI5G,KAAK,KAAK,CAAd,EAAiB;EACf4G,QAAAA,IAAI,GAAGA,IAAI,CAACnG,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAP;EACD;;EAED,aAAOT,KAAK,GAAG,GAAR,GAAc4G,IAArB;EACD,KA31EkB;;;EA81EnB,QAAI0R,KAAK,GAAG,SAASA,KAAT,CAAerW,KAAf,EAAsBC,GAAtB,EAA2B;EACrCA,MAAAA,GAAG,GAAGoH,GAAG,CAACqB,OAAJ,CAAYzI,GAAZ,EAAiBD,KAAjB,CAAN;EACA,UAAIgF,IAAI,GAAG+Q,OAAO,CAAC/V,KAAD,EAAQC,GAAR,CAAlB;EACA,UAAIqW,KAAK,GAAGlZ,MAAM,CAAC2E,IAAP,CAAYiD,IAAZ,EAAkBuR,KAAlB,CAAwB,UAAUJ,CAAV,EAAa;EAC/C,eAAO,CAACnR,IAAI,CAACmR,CAAD,CAAZ;EACD,OAFW,CAAZ;;EAIA,UAAIG,KAAK,KAAK,IAAd,EAAoB;EAClB,eAAO;EACLtR,UAAAA,IAAI,EAAEA,IADD;EAELwR,UAAAA,OAAO,EAAE,KAFJ;EAGLC,UAAAA,SAAS,EAAE,KAHN;EAILC,UAAAA,OAAO,EAAE;EAJJ,SAAP;EAMD;;EAED,UAAIF,OAAJ;EACA,UAAIC,SAAJ;EACA,UAAIC,OAAJ;EACA,UAAIC,aAAa,GAAG,EAApB,CAnBqC;;EAqBrCvZ,MAAAA,MAAM,CAAC2E,IAAP,CAAYiD,IAAZ,EAAkB5M,OAAlB,CAA0B,UAAUuM,IAAV,EAAgB9H,CAAhB,EAAmB+Z,KAAnB,EAA0B;EAClD,YAAI7Y,KAAK,GAAGkH,IAAI,CAACC,GAAL,CAASF,IAAI,CAACL,IAAD,CAAb,CAAZ;;EAEA,YAAI5G,KAAK,KAAK,CAAd,EAAiB;EACf;EACD;;EAED,YAAI8Y,YAAY,GAAGT,SAAS,CAACrY,KAAD,EAAQ4G,IAAR,CAA5B;EACAgS,QAAAA,aAAa,CAAC7Y,IAAd,CAAmB+Y,YAAnB;;EAEA,YAAI,CAACL,OAAL,EAAc;EACZA,UAAAA,OAAO,GAAGC,SAAS,GAAGI,YAAtB;;EAEA,cAAIha,CAAC,GAAG,CAAR,EAAW;EACT;EACD,WALW;;;EAQZ,cAAIia,QAAQ,GAAGF,KAAK,CAAC/Z,CAAC,GAAG,CAAL,CAApB;EACA,cAAIka,SAAS,GAAG9R,IAAI,CAACC,GAAL,CAASF,IAAI,CAAC8R,QAAD,CAAb,CAAhB;;EAEA,cAAIC,SAAS,GAAGnB,UAAU,CAACkB,QAAD,CAAV,CAAqBjB,MAArC,EAA6C;EAC3CW,YAAAA,OAAO,GAAGJ,SAAS,CAACrY,KAAK,GAAG,CAAT,EAAY4G,IAAZ,CAAnB;EACA8R,YAAAA,SAAS,GAAG,YAAYD,OAAxB;EACD,WAHD,MAGO,IAAIO,SAAS,GAAGnB,UAAU,CAACkB,QAAD,CAAV,CAAqBhB,IAArC,EAA2CW,SAAS,GAAG,UAAUI,YAAtB;EACnD;EACF,OA1BD,EArBqC;;EAiDrCH,MAAAA,OAAO,GAAGC,aAAa,CAACK,MAAd,CAAqB,CAArB,EAAwB,CAAxB,EAA2BjP,IAA3B,CAAgC,IAAhC,CAAV,CAjDqC;;EAmDrC,UAAI/H,KAAK,CAAC+U,OAAN,CAAc9U,GAAd,MAAuB,IAA3B,EAAiC;EAC/BuW,QAAAA,OAAO,IAAI,MAAX;EACAC,QAAAA,SAAS,IAAI,MAAb;EACAC,QAAAA,OAAO,IAAI,MAAX;EACD,OAJD,MAIO;EACLF,QAAAA,OAAO,GAAG,QAAQA,OAAlB;EACAC,QAAAA,SAAS,GAAG,QAAQA,SAApB;EACAC,QAAAA,OAAO,GAAG,QAAQA,OAAlB;EACD;;EAED,aAAO;EACL1R,QAAAA,IAAI,EAAEA,IADD;EAELwR,QAAAA,OAAO,EAAEA,OAFJ;EAGLC,QAAAA,SAAS,EAAEA,SAHN;EAILC,QAAAA,OAAO,EAAEA;EAJJ,OAAP;EAMD,KAnED;;EAqEA,QAAIO,OAAO,GAAGZ,KAAd,CAn6EmB;;;;;;EA06EnB,QAAIte,OAAO,GAAG;EACZmf,MAAAA,KAAK,EAAE,CAAC,CAAC,QAAD,EAAW,CAAX,EAAc,CAAd,CAAD;EACP,OAAC,QAAD,EAAW,CAAX,EAAc,CAAd,CADO;EAEP,OAAC,MAAD,EAAS,CAAT,EAAY,CAAZ,CAFO;EAGP,OAAC,QAAD,EAAW,CAAX,EAAc,CAAd,CAHO;EAIP,OAAC,QAAD,EAAW,EAAX,EAAe,CAAf,CAJO;EAAA,OADK;EAOZC,MAAAA,KAAK,EAAE,CAAC,CAAC,MAAD,EAAS,CAAT,EAAY,CAAZ,CAAD;EACP,OAAC,QAAD,EAAW,CAAX,EAAc,CAAd,CADO;EAEP,OAAC,QAAD,EAAW,CAAX,EAAc,CAAd,CAFO;EAGP,OAAC,QAAD,EAAW,CAAX,EAAc,CAAd,CAHO;EAIP,OAAC,QAAD,EAAW,EAAX,EAAe,CAAf,CAJO;EAAA;EAPK,KAAd;EAeA,QAAIC,QAAQ,GAAG,CAAC,IAAD,EAAO,CAAC,CAAD,EAAI,CAAJ,CAAP;EACf,KAAC,CAAD,EAAI,CAAJ,CADe;EAEf,KAAC,CAAD,EAAI,CAAJ,CAFe;EAGf,KAAC,CAAD,EAAI,CAAJ,CAHe;EAAA,KAAf;EAMA,QAAIC,OAAO,GAAG;EACZ9S,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB9D,CAAhB,EAAmB;EACzBqF,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACR6D,UAAAA,MAAM,EAAE,CADA;EAERD,UAAAA,WAAW,EAAE;EAFL,SAAJ,CAAN;EAIA,eAAO5D,CAAP;EACD,OAPW;EAQZ6W,MAAAA,WAAW,EAAE,SAASA,WAAT,CAAqB7W,CAArB,EAAwB;EACnC,YAAI8D,MAAM,GAAG9D,CAAC,CAACuI,OAAF,EAAb;;EAEA,YAAIzE,MAAM,IAAI,EAAd,EAAkB;EAChB9D,UAAAA,CAAC,GAAGA,CAAC,CAACuI,OAAF,CAAU,EAAV,CAAJ;EACD,SAFD,MAEO,IAAIzE,MAAM,IAAI,EAAd,EAAkB;EACvB9D,UAAAA,CAAC,GAAGA,CAAC,CAACuI,OAAF,CAAU,EAAV,CAAJ;EACD,SAFM,MAEA,IAAIzE,MAAM,IAAI,EAAd,EAAkB;EACvB9D,UAAAA,CAAC,GAAGA,CAAC,CAACuI,OAAF,CAAU,EAAV,CAAJ;EACD,SAFM,MAEA;EACLvI,UAAAA,CAAC,GAAGA,CAAC,CAACuI,OAAF,CAAU,CAAV,CAAJ;EACD;;EAEDlD,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACR6D,UAAAA,MAAM,EAAE,CADA;EAERD,UAAAA,WAAW,EAAE;EAFL,SAAJ,CAAN;EAIA,eAAO5D,CAAP;EACD,OA1BW;EA2BZd,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcc,CAAd,EAAiB;EACrBqF,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACR8D,UAAAA,MAAM,EAAE,CADA;EAERD,UAAAA,MAAM,EAAE,CAFA;EAGRD,UAAAA,WAAW,EAAE;EAHL,SAAJ,CAAN;EAKA,eAAO5D,CAAP;EACD,OAlCW;EAmCZf,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAae,CAAb,EAAgB;EACnBqF,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACRd,UAAAA,IAAI,EAAE,CADE;EAER4E,UAAAA,MAAM,EAAE,CAFA;EAGRD,UAAAA,MAAM,EAAE,CAHA;EAIRD,UAAAA,WAAW,EAAE;EAJL,SAAJ,CAAN;EAMA,eAAO5D,CAAP;EACD,OA3CW;EA4CZ+D,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc/D,CAAd,EAAiB;EACrB,YAAIsE,QAAQ,GAAGtE,CAAC,CAACmF,KAAF,EAAf;EACAnF,QAAAA,CAAC,GAAGA,CAAC,CAACf,GAAF,CAAMe,CAAC,CAAC8W,UAAR,CAAJ,CAFqB;;EAIrB,YAAI9W,CAAC,CAACsU,OAAF,CAAUhQ,QAAV,CAAJ,EAAyB;EACvBtE,UAAAA,CAAC,GAAGA,CAAC,CAACgK,QAAF,CAAW,CAAX,EAAc,MAAd,CAAJ;EACD;;EAED3E,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACRd,UAAAA,IAAI,EAAE,CADE;EAER4E,UAAAA,MAAM,EAAE,CAFA;EAGRD,UAAAA,MAAM,EAAE,CAHA;EAIRD,UAAAA,WAAW,EAAE;EAJL,SAAJ,CAAN;EAMA,eAAO5D,CAAP;EACD,OA3DW;EA4DZ1H,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAe0H,CAAf,EAAkB;EACvBqF,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACRpH,UAAAA,IAAI,EAAE,CADE;EAERsG,UAAAA,IAAI,EAAE,CAFE;EAGR4E,UAAAA,MAAM,EAAE,CAHA;EAIRD,UAAAA,MAAM,EAAE,CAJA;EAKRD,UAAAA,WAAW,EAAE;EALL,SAAJ,CAAN;EAOA,eAAO5D,CAAP;EACD,OArEW;EAsEZsJ,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBtJ,CAAjB,EAAoB;EAC3B,YAAI+W,CAAC,GAAG/W,CAAC,CAACsJ,OAAF,EAAR;;EAEA,YAAIqN,QAAQ,CAACI,CAAD,CAAZ,EAAiB;EACf1R,UAAAA,MAAM,CAACrF,CAAD,EAAI;EACR1H,YAAAA,KAAK,EAAEqe,QAAQ,CAACI,CAAD,CAAR,CAAY,CAAZ,CADC;EAERne,YAAAA,IAAI,EAAE+d,QAAQ,CAACI,CAAD,CAAR,CAAY,CAAZ,CAFE;EAGR7X,YAAAA,IAAI,EAAE,CAHE;EAIR4E,YAAAA,MAAM,EAAE,CAJA;EAKRD,YAAAA,MAAM,EAAE,CALA;EAMRD,YAAAA,WAAW,EAAE;EANL,WAAJ,CAAN;EAQD;;EAED,eAAO5D,CAAP;EACD,OArFW;EAsFZrH,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBqH,CAAhB,EAAmB;EACzB,YAAIoE,OAAO,GAAGpE,CAAC,CAACrH,MAAF,EAAd;EACA,YAAI8H,GAAG,GAAG,OAAV;;EAEA,YAAIT,CAAC,CAACgX,UAAF,OAAmB,OAAvB,EAAgC;EAC9BvW,UAAAA,GAAG,GAAG,OAAN;EACD;;EAED,aAAK,IAAIrE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9E,OAAO,CAACmJ,GAAD,CAAP,CAAalD,MAAjC,EAAyCnB,CAAC,EAA1C,EAA8C;EAC5C,cAAI9E,OAAO,CAACmJ,GAAD,CAAP,CAAarE,CAAb,EAAgB,CAAhB,MAAuBgI,OAA3B,EAAoC;;EAElC,gBAAI1F,IAAI,GAAGsB,CAAC,CAACtB,IAAF,EAAX;;EAEA,gBAAI0F,OAAO,KAAK,QAAZ,IAAwBpE,CAAC,CAAC1H,KAAF,KAAY,CAAxC,EAA2C;EACzCoG,cAAAA,IAAI,IAAI,CAAR;EACD;;EAED2G,YAAAA,MAAM,CAACrF,CAAD,EAAI;EACRtB,cAAAA,IAAI,EAAEA,IADE;EAERpG,cAAAA,KAAK,EAAEhB,OAAO,CAACmJ,GAAD,CAAP,CAAarE,CAAb,EAAgB,CAAhB,CAFC;EAGRxD,cAAAA,IAAI,EAAEtB,OAAO,CAACmJ,GAAD,CAAP,CAAarE,CAAb,EAAgB,CAAhB,CAHE;EAIR8C,cAAAA,IAAI,EAAE,CAJE;EAKR4E,cAAAA,MAAM,EAAE,CALA;EAMRD,cAAAA,MAAM,EAAE,CANA;EAORD,cAAAA,WAAW,EAAE;EAPL,aAAJ,CAAN;EASA,mBAAO5D,CAAP;EACD;EACF;;EAED,eAAOA,CAAP;EACD,OArHW;EAsHZtB,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcsB,CAAd,EAAiB;EACrBqF,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACR1H,UAAAA,KAAK,EAAE,CADC;EAERM,UAAAA,IAAI,EAAE,CAFE;EAGRsG,UAAAA,IAAI,EAAE,CAHE;EAIR4E,UAAAA,MAAM,EAAE,CAJA;EAKRD,UAAAA,MAAM,EAAE,CALA;EAMRD,UAAAA,WAAW,EAAE;EANL,SAAJ,CAAN;EAQA,eAAO5D,CAAP;EACD,OAhIW;EAiIZiX,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBjX,CAAhB,EAAmB;EACzBA,QAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,MAAV,CAAJ;EACA,YAAI1H,IAAI,GAAGsB,CAAC,CAACtB,IAAF,EAAX;EACA,YAAIuY,MAAM,GAAGjf,QAAQ,CAAC0G,IAAI,GAAG,EAAR,EAAY,EAAZ,CAAR,GAA0B,EAAvC;EACAsB,QAAAA,CAAC,GAAGA,CAAC,CAACtB,IAAF,CAAOuY,MAAP,CAAJ;EACA,eAAOjX,CAAP;EACD,OAvIW;EAwIZkX,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBlX,CAAjB,EAAoB;EAC3BA,QAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,MAAV,CAAJ;EACA,YAAI1H,IAAI,GAAGsB,CAAC,CAACtB,IAAF,EAAX,CAF2B;;EAI3B,YAAIuY,MAAM,GAAGjf,QAAQ,CAAC0G,IAAI,GAAG,GAAR,EAAa,EAAb,CAAR,GAA2B,GAAxC;EACAsB,QAAAA,CAAC,GAAGA,CAAC,CAACtB,IAAF,CAAOuY,MAAP,CAAJ;EACA,eAAOjX,CAAP;EACD;EA/IW,KAAd;EAiJA4W,IAAAA,OAAO,CAAChe,IAAR,GAAege,OAAO,CAAC3X,GAAvB;;EAEA,QAAImH,OAAO,GAAG,SAASA,OAAT,CAAiBqL,CAAjB,EAAoBvN,IAApB,EAA0B;EACtC,UAAIlE,CAAC,GAAGyR,CAAC,CAACtM,KAAF,EAAR;EACAjB,MAAAA,IAAI,GAAG0C,GAAG,CAACjM,SAAJ,CAAcuJ,IAAd,CAAP;;EAEA,UAAI0S,OAAO,CAAC1S,IAAD,CAAX,EAAmB;EACjB,eAAO0S,OAAO,CAAC1S,IAAD,CAAP,CAAclE,CAAd,CAAP;EACD;;EAED,UAAIkE,IAAI,KAAK,QAAT,IAAqBA,IAAI,KAAK,QAAlC,EAA4C;EAC1ClE,QAAAA,CAAC,GAAGA,CAAC,CAACrH,MAAF,CAASuL,IAAT,CAAJ;EACA,eAAO0S,OAAO,CAACje,MAAR,CAAeqH,CAAf,CAAP;EACD;;EAED,aAAOA,CAAP;EACD,KAdD,CAllFmB;;;EAmmFnB,QAAI2T,KAAK,GAAG,SAASA,KAAT,CAAelC,CAAf,EAAkBvN,IAAlB,EAAwB;EAClC,UAAIlE,CAAC,GAAGyR,CAAC,CAACtM,KAAF,EAAR;EACAjB,MAAAA,IAAI,GAAG0C,GAAG,CAACjM,SAAJ,CAAcuJ,IAAd,CAAP;;EAEA,UAAI0S,OAAO,CAAC1S,IAAD,CAAX,EAAmB;;EAEjBlE,QAAAA,CAAC,GAAG4W,OAAO,CAAC1S,IAAD,CAAP,CAAclE,CAAd,CAAJ,CAFiB;;EAIjBA,QAAAA,CAAC,GAAGA,CAAC,CAAC8J,GAAF,CAAM,CAAN,EAAS5F,IAAT,CAAJ;EACAlE,QAAAA,CAAC,GAAGA,CAAC,CAACgK,QAAF,CAAW,CAAX,EAAc,aAAd,CAAJ;EACA,eAAOhK,CAAP;EACD;;EAED,aAAOA,CAAP;EACD,KAdD;;EAgBA,QAAImX,SAAS,GAAG;EACd/Q,MAAAA,OAAO,EAAEA,OADK;EAEduN,MAAAA,KAAK,EAAEA;EAFO,KAAhB;;EAKA,QAAIyD,KAAK,GAAG,SAASA,KAAT,CAAelT,IAAf,EAAqB;EAC/B,UAAI8G,IAAI,CAAC,OAAD,CAAJ,GAAgBrH,IAAhB,CAAqB,UAAU3D,CAAV,EAAa;EACpC,eAAOA,CAAC,KAAKkE,IAAb;EACD,OAFG,CAAJ,EAEI;EACF,eAAO,IAAP;EACD;;EAED,UAAI8G,IAAI,CAAC,MAAD,CAAJ,GAAerH,IAAf,CAAoB,UAAU3D,CAAV,EAAa;EACnC,eAAOA,CAAC,KAAKkE,IAAb;EACD,OAFG,CAAJ,EAEI;EACF,eAAO,IAAP;EACD;;EAED,aAAO,KAAP;EACD,KAdD,CAxnFmB;;;;EA0oFnB,QAAI4R,KAAK,GAAG,SAASA,KAAT,CAAevW,KAAf,EAAsB;EAChC,UAAI2E,IAAI,GAAGiC,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;EACA,UAAI3G,GAAG,GAAG2G,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,GAAuB4I,SAAS,CAAC,CAAD,CAAhC,GAAsCnJ,SAAhD;;EAEA,UAAI,CAACkH,IAAD,IAAS,CAAC1E,GAAd,EAAmB;EACjB,eAAO,EAAP;EACD,OAN+B;;;EAShC0E,MAAAA,IAAI,GAAG0C,GAAG,CAACjM,SAAJ,CAAcuJ,IAAd,CAAP,CATgC;;EAWhC1E,MAAAA,GAAG,GAAGD,KAAK,CAAC4F,KAAN,GAAcW,GAAd,CAAkBtG,GAAlB,CAAN,CAXgC;;EAahC,UAAID,KAAK,CAAC+U,OAAN,CAAc9U,GAAd,CAAJ,EAAwB;EACtB,YAAIuI,GAAG,GAAGxI,KAAV;EACAA,QAAAA,KAAK,GAAGC,GAAR;EACAA,QAAAA,GAAG,GAAGuI,GAAN;EACD,OAjB+B;;;EAoBhC,UAAIjO,CAAC,GAAGyF,KAAK,CAAC4F,KAAN,EAAR;;EAEA,UAAIiS,KAAK,CAAClT,IAAD,CAAT,EAAiB;EACfpK,QAAAA,CAAC,GAAGA,CAAC,CAACqD,IAAF,CAAO+G,IAAP,CAAJ;EACAA,QAAAA,IAAI,GAAG,MAAP;EACD,OAHD,MAGO;EACLpK,QAAAA,CAAC,GAAGA,CAAC,CAACqD,IAAF,CAAO+G,IAAP,CAAJ;EACD,OA3B+B;;;EA8BhC,UAAImT,MAAM,GAAG,EAAb;;EAEA,aAAOvd,CAAC,CAACua,QAAF,CAAW7U,GAAX,CAAP,EAAwB;EACtB6X,QAAAA,MAAM,CAACha,IAAP,CAAYvD,CAAZ;EACAA,QAAAA,CAAC,GAAGA,CAAC,CAACgQ,GAAF,CAAM,CAAN,EAAS5F,IAAT,CAAJ;EACD;;EAED,aAAOmT,MAAP;EACD,KAtCD;;EAwCA,QAAIC,OAAO,GAAGxB,KAAd;;EAEA,QAAIyB,QAAQ,GAAG,SAASA,QAAT,CAAkBjX,GAAlB,EAAuB;EACpC,UAAI,CAACA,GAAL,EAAU;EACR,eAAO,EAAP;EACD;;EAED,aAAOA,GAAG,CAAC1B,KAAJ,CAAU,IAAV,CAAP;EACD,KAND;;EAQA,QAAI2I,SAAS,GAAG,SAASA,SAAT,CAAmB1P,GAAnB,EAAwB;EACtCA,MAAAA,GAAG,GAAGA,GAAG,CAAC,CAAD,CAAH,CAAO2P,WAAP,KAAuB3P,GAAG,CAAC4P,MAAJ,CAAW,CAAX,CAA7B;EACA5P,MAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,OAAZ,EAAqB,MAArB,CAAN;EACA7J,MAAAA,GAAG,GAAGA,GAAG,CAAC6J,OAAJ,CAAY,gBAAZ,EAA8B,UAAU1B,CAAV,EAAa;EAC/C,eAAOA,CAAC,CAACwH,WAAF,EAAP;EACD,OAFK,CAAN;EAGA,aAAO3P,GAAP;EACD,KAPD,CA5rFmB;;;EAssFnB,QAAIsK,QAAQ,GAAG,SAASA,QAAT,CAAkBnC,CAAlB,EAAqB;EAClC,UAAIC,KAAK,GAAGD,CAAC,CAACE,SAAd;EACA,UAAIC,EAAE,GAAGH,CAAC,CAACG,EAAX;;EAEA,UAAIF,KAAK,CAACuD,cAAN,CAAqBrD,EAArB,MAA6B,KAAjC,EAAwC;EACtCA,QAAAA,EAAE,GAAGwD,IAAI,CAAC3D,CAAC,CAACG,EAAH,EAAOF,KAAP,CAAT;EACD;;EAED,UAAIE,EAAE,KAAK,IAAX,EAAiB;EACf,YAAIH,CAAC,CAACoF,MAAF,KAAa,KAAjB,EAAwB;EACtBhF,UAAAA,OAAO,CAACC,IAAR,CAAa,qDAAqDL,CAAC,CAACG,EAAvD,GAA4D,GAAzE;EACD;;EAED,eAAO;EACLiE,UAAAA,OAAO,EAAE;EACPoT,YAAAA,UAAU,EAAE;EADL;EADJ,SAAP;EAKD;;EAED,UAAI9f,KAAK,GAAGuI,KAAK,CAACE,EAAD,CAAjB;EACA,UAAIkX,MAAM,GAAG;EACXrZ,QAAAA,IAAI,EAAEuJ,SAAS,CAACpH,EAAD,CADJ;EAEXsX,QAAAA,MAAM,EAAEC,OAAO,CAAChgB,KAAK,CAAC4I,GAAP,CAFJ;EAGXqX,QAAAA,cAAc,EAAEjgB,KAAK,CAAC+G,MAHX;;EAKXuY,QAAAA,UAAU,EAAEtf,KAAK,CAAC+I,GAAN,KAAc,GAAd,GAAoB,OAApB,GAA8B,OAL/B;EAMX2D,QAAAA,OAAO,EAAE;EANE,OAAb;;EASA,UAAIiT,MAAM,CAACI,MAAX,EAAmB;EACjB,YAAItb,GAAG,GAAGob,QAAQ,CAAC7f,KAAK,CAAC4I,GAAP,CAAlB;EACA+W,QAAAA,MAAM,CAACO,MAAP,GAAgB;EACdrY,UAAAA,KAAK,EAAEpD,GAAG,CAAC,CAAD,CADI;EAEd0b,UAAAA,IAAI,EAAE1b,GAAG,CAAC,CAAD;EAFK,SAAhB;EAID,OApCiC;;;;EAwClC,UAAI2b,MAAM,GAAGpgB,KAAK,CAAC+G,MAAnB,CAxCkC;;EA0ClC,UAAIsZ,MAAM,GAAGD,MAAb,CA1CkC;;EA4ClC,UAAIT,MAAM,CAACI,MAAP,KAAkB,IAAtB,EAA4B;EAC1B,YAAIJ,MAAM,CAACL,UAAP,KAAsB,OAA1B,EAAmC;EACjCe,UAAAA,MAAM,GAAGD,MAAM,GAAG,CAAlB;EACD,SAFD,MAEO;;EAELC,UAAAA,MAAM,GAAGrgB,KAAK,CAAC+G,MAAN,GAAe,CAAxB;EACD;EACF,OAnDiC;;;;EAuDlC,UAAI4Y,MAAM,CAACI,MAAP,KAAkB,KAAtB,EAA6B;EAC3BJ,QAAAA,MAAM,CAACjT,OAAP,CAAe3F,MAAf,GAAwBqZ,MAAxB;EACAT,QAAAA,MAAM,CAACjT,OAAP,CAAe4T,KAAf,GAAuB,KAAvB;EACD,OAHD,MAGO,IAAIlY,UAAU,CAACE,CAAC,CAACV,KAAH,EAAU+X,MAAM,CAACO,MAAP,CAAcrY,KAAxB,EAA+B8X,MAAM,CAACO,MAAP,CAAcC,IAA7C,EAAmDC,MAAnD,EAA2DC,MAA3D,CAAV,KAAiF,IAArF,EAA2F;EAChGV,QAAAA,MAAM,CAACjT,OAAP,CAAe3F,MAAf,GAAwBqZ,MAAxB;EACAT,QAAAA,MAAM,CAACjT,OAAP,CAAe4T,KAAf,GAAuBX,MAAM,CAACL,UAAP,KAAsB,OAA7C,CAFgG;EAGjG,OAHM,MAGA;;EAELK,QAAAA,MAAM,CAACjT,OAAP,CAAe3F,MAAf,GAAwBsZ,MAAxB;EACAV,QAAAA,MAAM,CAACjT,OAAP,CAAe4T,KAAf,GAAuBX,MAAM,CAACL,UAAP,KAAsB,OAA7C,CAHK;EAIN;;EAED,aAAOK,MAAP;EACD,KApED;;EAsEA,QAAIY,UAAU,GAAG9V,QAAjB;EAEA,QAAIgU,KAAK,GAAG,CAAC,SAAD,EAAY,QAAZ,EAAsB,MAAtB,EAA8B,OAA9B,EAAuC,MAAvC,EAA+C,KAA/C,EAAsD,MAAtD,EAA8D,QAA9D,EAAwE,QAAxE,EAAkF,aAAlF,CAAZ,CA9wFmB;;EAgxFnB,QAAI+B,SAAS,GAAG;EACdpS,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAaqS,OAAb,EAAsBhY,EAAtB,EAA0B;EAC7B,YAAIH,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,QAAAA,CAAC,GAAGiH,KAAK,CAACjH,CAAD,EAAImY,OAAJ,EAAa,IAAb,CAAT;;EAEA,YAAIhY,EAAJ,EAAQ;EACN,eAAKA,EAAL,GAAUwD,IAAI,CAACxD,EAAD,CAAd;EACD;;EAED,eAAOH,CAAP;EACD,OAVa;EAWdmC,MAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB;EAC5B,eAAO8V,UAAU,CAAC,IAAD,CAAjB;EACD,OAba;EAcdD,MAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;EACtB,eAAOC,UAAU,CAAC,IAAD,CAAV,CAAiB7T,OAAjB,CAAyB4T,KAAhC;EACD,OAhBa;EAiBdI,MAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;EACxB,eAAOH,UAAU,CAAC,IAAD,CAAV,CAAiBR,MAAxB;EACD,OAnBa;EAoBdhZ,MAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;EACxB,eAAOwZ,UAAU,CAAC,IAAD,CAAV,CAAiB7T,OAAjB,CAAyB3F,MAAzB,GAAkC,EAAzC;EACD,OAtBa;EAuBduY,MAAAA,UAAU,EAAE,SAASA,UAAT,GAAsB;EAChC,eAAOiB,UAAU,CAAC,IAAD,CAAV,CAAiBjB,UAAxB;EACD,OAzBa;EA0Bd/U,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBmN,GAAhB,EAAqB;EAC3B,eAAOE,QAAQ,CAAC,IAAD,EAAOF,GAAP,CAAf;EACD,OA5Ba;EA6BdkE,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBlE,GAAjB,EAAsB;EAC7B,eAAOoE,SAAS,CAAC,IAAD,EAAOpE,GAAP,CAAhB;EACD,OA/Ba;EAgCdhJ,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBlC,IAAjB,EAAuB;EAC9B,eAAOiT,SAAS,CAAC/Q,OAAV,CAAkB,IAAlB,EAAwBlC,IAAxB,CAAP;EACD,OAlCa;EAmCdyP,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAezP,IAAf,EAAqB;EAC1B,eAAOiT,SAAS,CAACxD,KAAV,CAAgB,IAAhB,EAAsBzP,IAAtB,CAAP;EACD,OArCa;EAsCdmU,MAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB;EAC5B,YAAI3Z,IAAI,GAAG,KAAKA,IAAL,EAAX;EACA,eAAOkI,GAAG,CAACC,UAAJ,CAAenI,IAAf,CAAP;EACD,OAzCa;EA0CdoV,MAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkB5P,IAAlB,EAAwB;EAChC,eAAO6P,UAAU,CAAC,IAAD,EAAO7P,IAAP,CAAjB;EACD,OA5Ca;EA6Cd8P,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiB9P,IAAjB,EAAuB;EAC9B,eAAOgQ,SAAS,CAAC,IAAD,EAAOhQ,IAAP,CAAhB;EACD,OA/Ca;EAgDdK,MAAAA,IAAI,EAAE,SAASoQ,MAAT,CAAgB7a,CAAhB,EAAmBoK,IAAnB,EAAyB;EAC7B,eAAOK,IAAI,CAAC,IAAD,EAAOzK,CAAP,EAAUoK,IAAV,CAAX;EACD,OAlDa;EAmDd0R,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAe9b,CAAf,EAAkB;EACvB,YAAI,CAACA,CAAL,EAAQ;EACNA,UAAAA,CAAC,GAAG,KAAKqL,KAAL,GAAaW,GAAb,EAAJ;EACD;;EAED,eAAO0Q,OAAO,CAAC,IAAD,EAAO1c,CAAP,CAAd;EACD,OAzDa;EA0DdqD,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc+G,IAAd,EAAoB;EACxB,YAAIlE,CAAC,GAAG,KAAK8J,GAAL,CAAS,CAAT,EAAY5F,IAAZ,CAAR;EACA,eAAOlE,CAAC,CAACoG,OAAF,CAAUlC,IAAV,CAAP;EACD,OA7Da;;EA+DdoU,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcpU,IAAd,EAAoB;EACxB,YAAIlE,CAAC,GAAG,KAAKgK,QAAL,CAAc,CAAd,EAAiB9F,IAAjB,CAAR;EACA,eAAOlE,CAAC,CAACoG,OAAF,CAAUlC,IAAV,CAAP;EACD,OAlEa;EAmEd0G,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;;EAE1B,YAAI,CAAC,KAAKtL,KAAN,IAAe,KAAKA,KAAL,KAAe,CAAlC,EAAqC;EACnC,iBAAO,KAAP;EACD;;EAED,eAAO,CAACyH,KAAK,CAAC,KAAKjN,CAAL,CAAOkO,OAAP,EAAD,CAAb;EACD,OA1Ea;;EA4Ed,cAAQ,SAASuQ,KAAT,CAAcpY,EAAd,EAAkB;EACxB,YAAIH,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,QAAAA,CAAC,CAACG,EAAF,GAAOwD,IAAI,CAACxD,EAAD,EAAKH,CAAC,CAACE,SAAP,CAAX,CAFwB;;EAIxB,eAAOF,CAAP;EACD,OAjFa;;EAmFd8V,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAe5R,IAAf,EAAqB4O,EAArB,EAAyB;;EAE9B,YAAIlX,OAAO,CAACsI,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAO4O,EAAP,KAAc,QAAhD,EAA0D;EACxD,cAAI/K,GAAG,GAAG+K,EAAV;EACAA,UAAAA,EAAE,GAAG5O,IAAL;EACAA,UAAAA,IAAI,GAAG6D,GAAP;EACD;;EAED,eAAOuP,OAAO,CAAC,IAAD,EAAOpT,IAAP,EAAa4O,EAAb,CAAd;EACD,OA5Fa;EA6Fd0F,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;EAC1B,YAAItZ,IAAI,GAAG,KAAKA,IAAL,EAAX,CAD0B;;EAG1B,YAAIA,IAAI,GAAG,CAAP,IAAYA,IAAI,GAAG,EAAvB,EAA2B;EACzB,iBAAO,KAAP;EACD;;EAED,eAAO,IAAP;EACD,OArGa;EAsGduZ,MAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB;EAC5B,eAAO,CAAC,KAAKD,OAAL,EAAR;EACD,OAxGa;;EA0GdE,MAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;EAClBtY,QAAAA,OAAO,CAACsY,GAAR,CAAY,EAAZ;EACAtY,QAAAA,OAAO,CAACsY,GAAR,CAAYpJ,QAAQ,CAAC,IAAD,EAAO,YAAP,CAApB;EACA,eAAO,IAAP;EACD,OA9Ga;EA+GdqJ,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;EAC1BvY,QAAAA,OAAO,CAACsY,GAAR,CAAY,EAAZ;EACAtY,QAAAA,OAAO,CAACsY,GAAR,CAAYpJ,QAAQ,CAAC,IAAD,EAAO,YAAP,CAApB;EACA,eAAO,IAAP;EACD,OAnHa;EAoHd1B,MAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;EACpB,YAAIgL,KAAK,GAAG,IAAZ;;EAEA,eAAOzC,KAAK,CAACjT,MAAN,CAAa,UAAUC,CAAV,EAAae,IAAb,EAAmB;EACrCf,UAAAA,CAAC,CAACe,IAAD,CAAD,GAAU0U,KAAK,CAAC1U,IAAD,CAAL,EAAV;EACA,iBAAOf,CAAP;EACD,SAHM,EAGJ,EAHI,CAAP;EAID,OA3Ha;EA4Hd0V,MAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;EACtB,YAAI1Y,EAAE,GAAG,KAAKgC,QAAL,EAAT;EACA,YAAIvJ,IAAI,GAAG,KAAKqJ,MAAL,CAAY,IAAZ,IAAoB,GAApB,GAA0B,KAAKA,MAAL,CAAY,cAAZ,CAA1B,GAAwD,GAAxD,GAA8D,KAAKvD,IAAL,EAAzE;EACA9F,QAAAA,IAAI,IAAI,cAAc,KAAKqJ,MAAL,CAAY,MAAZ,CAAtB;EACA7B,QAAAA,OAAO,CAACsY,GAAR,CAAY,MAAZ,EAAoB9f,IAAI,GAAG,WAAP,GAAqBuH,EAAE,CAACnC,IAAxB,GAA+B,IAA/B,GAAsCmC,EAAE,CAACiE,OAAH,CAAW3F,MAAjD,GAA0D,GAA9E;EACA,eAAO,IAAP;EACD,OAlIa;;EAoIdR,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcnE,CAAd,EAAiB;EACrBA,QAAAA,CAAC,GAAG,KAAKqL,KAAL,GAAaW,GAAb,CAAiBhM,CAAjB,CAAJ;EACA,eAAOA,CAAC,CAAC8b,KAAF,CAAQ,IAAR,CAAP;EACD,OAvIa;EAwIdkD,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;EAC1B,YAAIhf,CAAC,GAAG,KAAKqL,KAAL,GAAaW,GAAb,CAAiB3G,IAAI,CAACuK,GAAL,EAAjB,CAAR;EACA,eAAO5P,CAAC,CAAC8b,KAAF,CAAQ,IAAR,CAAP;EACD,OA3Ia;EA4IdmD,MAAAA,SAAS,EAAE,SAASA,SAAT,CAAmB9R,KAAnB,EAA0B;;EAEnC,YAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;EAC7B,eAAK6P,UAAL,GAAkB7P,KAAlB;EACA,iBAAO,IAAP;EACD;;EAED,YAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;;EAE7BA,UAAAA,KAAK,GAAGA,KAAK,CAAC5E,WAAN,GAAoBkB,IAApB,EAAR;EACA,cAAIxL,GAAG,GAAGiT,IAAI,CAAC,OAAD,CAAJ,GAAgBkE,OAAhB,CAAwBjI,KAAxB,CAAV;;EAEA,cAAIlP,GAAG,KAAK,CAAC,CAAb,EAAgB;EACdA,YAAAA,GAAG,GAAGiT,IAAI,CAAC,MAAD,CAAJ,GAAekE,OAAf,CAAuBjI,KAAvB,CAAN;EACD;;EAED,cAAIlP,GAAG,KAAK,CAAC,CAAb,EAAgB;EACdA,YAAAA,GAAG,GAAG,CAAN,CADc;EAEf;;EAED,eAAK+e,UAAL,GAAkB/e,GAAlB;EACD,SAdD,MAcO;EACLqI,UAAAA,OAAO,CAACC,IAAR,CAAa,wDAAb,EAAuE4G,KAAvE;EACD;;EAED,eAAO,IAAP;EACD;EAtKa,KAAhB,CAhxFmB;;EAy7FnBiR,IAAAA,SAAS,CAACc,KAAV,GAAkBd,SAAS,CAACF,KAA5B;EACAE,IAAAA,SAAS,CAACe,KAAV,GAAkBf,SAAS,CAAClE,OAA5B;EACAkE,IAAAA,SAAS,CAACgB,IAAV,GAAiBhB,SAAS,CAACpC,KAA3B;EACA,QAAIqD,SAAS,GAAGjB,SAAhB,CA57FmB;;EAg8FnB,QAAIkB,YAAY,GAAGxS,GAAG,CAACC,UAAvB;;EAEA,QAAIwS,QAAQ,GAAG,SAASA,QAAT,CAAkBzb,CAAlB,EAAqB;;EAElC,UAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;EACzBA,QAAAA,CAAC,GAAG5F,QAAQ,CAAC4F,CAAD,EAAI,EAAJ,CAAZ;EACD;;EAED,aAAOA,CAAP;EACD,KAPD;;EASA,QAAI0b,OAAO,GAAG,CAAC,MAAD,EAAS,OAAT,EAAkB,MAAlB,EAA0B,MAA1B,EAAkC,QAAlC,EAA4C,QAA5C,EAAsD,aAAtD,CAAd,CA38FmB;;EA68FnB,QAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBvZ,CAAjB,EAAoB+H,GAApB,EAAyB7D,IAAzB,EAA+B;EAC3C,UAAItG,CAAC,GAAG0b,OAAO,CAACpK,OAAR,CAAgBhL,IAAhB,CAAR;EACA,UAAI/H,GAAG,GAAGmd,OAAO,CAACvb,KAAR,CAAcH,CAAd,EAAiB0b,OAAO,CAAC/b,MAAzB,CAAV;;EAEA,WAAK,IAAInB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACoB,MAAxB,EAAgCnB,CAAC,EAAjC,EAAqC;EACnC,YAAIod,IAAI,GAAGzR,GAAG,CAAC5L,GAAG,CAACC,CAAD,CAAJ,CAAH,EAAX;EACA4D,QAAAA,CAAC,CAAC7D,GAAG,CAACC,CAAD,CAAJ,CAAD,CAAUod,IAAV;EACD;;EAED,aAAOxZ,CAAP;EACD,KAVD;;EAYA,QAAI8F,GAAG,GAAG;EACR9B,MAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBhE,CAAtB,EAAyBpC,CAAzB,EAA4B;EACxCA,QAAAA,CAAC,GAAGyb,QAAQ,CAACzb,CAAD,CAAZ;EACA,YAAIwG,OAAO,GAAGpE,CAAC,CAAC4D,WAAF,EAAd;EACA,YAAIW,IAAI,GAAGH,OAAO,GAAGxG,CAArB,CAHwC;;EAKxC,eAAOoC,CAAC,CAACV,KAAF,GAAUiF,IAAjB;EACD,OAPO;EAQRS,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBhF,CAAjB,EAAoBpC,CAApB,EAAuB;EAC9BA,QAAAA,CAAC,GAAGyb,QAAQ,CAACzb,CAAD,CAAZ;EACA,YAAI2G,IAAI,GAAGvE,CAAC,CAAC6D,MAAF,KAAajG,CAAxB;EACA,YAAI6b,KAAK,GAAGlV,IAAI,GAAGP,YAAY,CAACH,MAAhC;EACA,eAAO7D,CAAC,CAACV,KAAF,GAAUma,KAAjB;EACD,OAbO;EAcRlR,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBvI,CAAjB,EAAoBpC,CAApB,EAAuB;EAC9BA,QAAAA,CAAC,GAAGyb,QAAQ,CAACzb,CAAD,CAAZ;EACA,YAAIsH,GAAG,GAAGlF,CAAC,CAACmF,KAAF,EAAV;EACA,YAAIZ,IAAI,GAAGvE,CAAC,CAAC8D,MAAF,KAAalG,CAAxB;EACA,YAAI6b,KAAK,GAAGlV,IAAI,GAAGP,YAAY,CAACF,MAAhC;EACA9D,QAAAA,CAAC,CAACV,KAAF,IAAWma,KAAX,CAL8B;;;;;;;;EAa9BF,QAAAA,OAAO,CAACvZ,CAAD,EAAIkF,GAAJ,EAAS,QAAT,CAAP;EACA,eAAOlF,CAAC,CAACV,KAAT;EACD,OA7BO;EA8BRgJ,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAetI,CAAf,EAAkBpC,CAAlB,EAAqB;EAC1BA,QAAAA,CAAC,GAAGyb,QAAQ,CAACzb,CAAD,CAAZ;;EAEA,YAAIA,CAAC,IAAI,EAAT,EAAa;EACXA,UAAAA,CAAC,GAAG,EAAJ;EACD,SAFD,MAEO,IAAIA,CAAC,GAAG,CAAR,EAAW;EAChBA,UAAAA,CAAC,GAAG,CAAJ;EACD;;EAED,YAAIsH,GAAG,GAAGlF,CAAC,CAACmF,KAAF,EAAV;EACA,YAAIZ,IAAI,GAAGvE,CAAC,CAACd,IAAF,KAAWtB,CAAtB;EACA,YAAI6b,KAAK,GAAGlV,IAAI,GAAGP,YAAY,CAAC9E,IAAhC;EACAc,QAAAA,CAAC,CAACV,KAAF,IAAWma,KAAX,CAZ0B;;EAc1B,YAAIzZ,CAAC,CAACpH,IAAF,OAAasM,GAAG,CAACtM,IAAJ,EAAjB,EAA6B;EAC3BoH,UAAAA,CAAC,GAAGkF,GAAG,CAACC,KAAJ,EAAJ;;EAEA,cAAIZ,IAAI,GAAG,CAAX,EAAc;EACZA,YAAAA,IAAI,IAAI,CAAR;EACD;;EAED,cAAIA,IAAI,GAAG,CAAX,EAAc;EACZA,YAAAA,IAAI,IAAI,CAAR;EACD;;EAEDkV,UAAAA,KAAK,GAAGlV,IAAI,GAAGP,YAAY,CAAC9E,IAA5B;EACAc,UAAAA,CAAC,CAACV,KAAF,IAAWma,KAAX;EACD;;EAEDpU,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACRd,UAAAA,IAAI,EAAEtB;EADE,SAAJ,CAAN;EAGA2b,QAAAA,OAAO,CAACvZ,CAAD,EAAIkF,GAAJ,EAAS,QAAT,CAAP;EACA,eAAOlF,CAAC,CAACV,KAAT;EACD,OAhEO;;EAkERrG,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc+G,CAAd,EAAiBnI,GAAjB,EAAsB;EAC1B,YAAIL,CAAC,GAAGK,GAAG,CAACQ,KAAJ,CAAU,sDAAV,CAAR;;EAEA,YAAI,CAACb,CAAL,EAAQ;;EAENA,UAAAA,CAAC,GAAGK,GAAG,CAACQ,KAAJ,CAAU,uBAAV,CAAJ;;EAEA,cAAI,CAACb,CAAL,EAAQ;EACN,mBAAOwI,CAAC,CAACV,KAAT;EACD;;EAED9H,UAAAA,CAAC,CAAC+e,MAAF,CAAS,CAAT,EAAY,CAAZ,EAAe,GAAf,EARM;;EAUN/e,UAAAA,CAAC,CAAC+e,MAAF,CAAS,CAAT,EAAY,CAAZ,EAAe,EAAf,EAVM;EAWP;;EAED,YAAIrI,GAAG,GAAG,KAAV;EACA,YAAIhP,IAAI,GAAGlH,QAAQ,CAACR,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAnB;EACA,YAAIsM,MAAM,GAAG9L,QAAQ,CAACR,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAArB;;EAEA,YAAI0H,IAAI,GAAG,EAAX,EAAe;EACbgP,UAAAA,GAAG,GAAG,IAAN;EACD,SAtByB;;;EAyB1B,YAAIA,GAAG,KAAK,KAAZ,EAAmB;EACjB,cAAI1W,CAAC,CAAC,CAAD,CAAD,KAAS,IAAT,IAAiB0H,IAAI,KAAK,EAA9B,EAAkC;;EAEhCA,YAAAA,IAAI,GAAG,CAAP;EACD;;EAED,cAAI1H,CAAC,CAAC,CAAD,CAAD,KAAS,IAAT,IAAiB0H,IAAI,GAAG,EAA5B,EAAgC;;EAE9BA,YAAAA,IAAI,IAAI,EAAR;EACD;EACF,SAnCyB;;;EAsC1B1H,QAAAA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAf;EACAA,QAAAA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAD,CAAKkK,OAAL,CAAa,GAAb,EAAkB,EAAlB,CAAP;EACA,YAAIgY,GAAG,GAAG1hB,QAAQ,CAACR,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAR,IAAsB,CAAhC;EACAwI,QAAAA,CAAC,GAAGA,CAAC,CAACd,IAAF,CAAOA,IAAP,CAAJ;EACAc,QAAAA,CAAC,GAAGA,CAAC,CAAC8D,MAAF,CAASA,MAAT,CAAJ;EACA9D,QAAAA,CAAC,GAAGA,CAAC,CAAC6D,MAAF,CAAS6V,GAAT,CAAJ;EACA1Z,QAAAA,CAAC,GAAGA,CAAC,CAAC4D,WAAF,CAAc,CAAd,CAAJ;EACA,eAAO5D,CAAC,CAACV,KAAT;EACD,OAhHO;EAiHR1G,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcoH,CAAd,EAAiBpC,CAAjB,EAAoB;EACxBA,QAAAA,CAAC,GAAGyb,QAAQ,CAACzb,CAAD,CAAZ,CADwB;;EAGxB,YAAIA,CAAC,GAAG,EAAR,EAAY;EACV,cAAItF,KAAK,GAAG0H,CAAC,CAAC1H,KAAF,EAAZ;EACA,cAAIoQ,GAAG,GAAG/B,cAAc,CAACrO,KAAD,CAAxB,CAFU;;EAIV,cAAIA,KAAK,KAAK,CAAV,IAAesF,CAAC,KAAK,EAArB,IAA2Bwb,YAAY,CAACpZ,CAAC,CAACtB,IAAF,EAAD,CAA3C,EAAuD;EACrDgK,YAAAA,GAAG,GAAG,EAAN;EACD;;EAED,cAAI9K,CAAC,GAAG8K,GAAR,EAAa;EACX9K,YAAAA,CAAC,GAAG8K,GAAJ;EACD;EACF,SAduB;;;EAiBxB,YAAI9K,CAAC,IAAI,CAAT,EAAY;EACVA,UAAAA,CAAC,GAAG,CAAJ;EACD;;EAEDyH,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACRpH,UAAAA,IAAI,EAAEgF;EADE,SAAJ,CAAN;EAGA,eAAOoC,CAAC,CAACV,KAAT;EACD,OA1IO;;EA4IRhH,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAe0H,CAAf,EAAkBpC,CAAlB,EAAqB;EAC1B,YAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;EACzBA,UAAAA,CAAC,GAAG8H,QAAQ,CAACG,OAAT,GAAmBjI,CAAC,CAACyE,WAAF,EAAnB,CAAJ;EACD;;EAEDzE,QAAAA,CAAC,GAAGyb,QAAQ,CAACzb,CAAD,CAAZ,CAL0B;;EAO1B,YAAIA,CAAC,IAAI,EAAT,EAAa;EACXA,UAAAA,CAAC,GAAG,EAAJ;EACD;;EAED,YAAIA,CAAC,IAAI,CAAT,EAAY;EACVA,UAAAA,CAAC,GAAG,CAAJ;EACD;;EAED,YAAIhF,IAAI,GAAGoH,CAAC,CAACpH,IAAF,EAAX,CAf0B;;EAiB1B,YAAIA,IAAI,GAAG+N,cAAc,CAAC/I,CAAD,CAAzB,EAA8B;;EAE5BhF,UAAAA,IAAI,GAAG+N,cAAc,CAAC/I,CAAD,CAArB;EACD;;EAEDyH,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACR1H,UAAAA,KAAK,EAAEsF,CADC;EAERhF,UAAAA,IAAI,EAAEA;EAFE,SAAJ,CAAN;EAIA,eAAOoH,CAAC,CAACV,KAAT;EACD,OAvKO;EAwKRZ,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcsB,CAAd,EAAiBpC,CAAjB,EAAoB;;EAExB,YAAI,OAAOA,CAAP,KAAa,QAAb,IAAyB,cAAcM,IAAd,CAAmBN,CAAnB,CAA7B,EAAoD;EAClDA,UAAAA,CAAC,GAAGA,CAAC,CAAC8D,OAAF,CAAU,GAAV,EAAe,EAAf,EAAmB6B,IAAnB,EAAJ;EACA3F,UAAAA,CAAC,GAAG4D,MAAM,CAAC5D,CAAD,CAAV,CAFkD;;EAIlD,cAAIA,CAAC,GAAG,EAAR,EAAY;;EAEVA,YAAAA,CAAC,GAAG,OAAOA,CAAX;EACD,WAHD,MAGO;;EAELA,YAAAA,CAAC,GAAG,OAAOA,CAAX;EACD;EACF;;EAEDA,QAAAA,CAAC,GAAGyb,QAAQ,CAACzb,CAAD,CAAZ;EACAyH,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACRtB,UAAAA,IAAI,EAAEd;EADE,SAAJ,CAAN;EAGA,eAAOoC,CAAC,CAACV,KAAT;EACD,OA5LO;EA6LRsR,MAAAA,SAAS,EAAE,SAASA,SAAT,CAAmB5Q,CAAnB,EAAsBpC,CAAtB,EAAyB;EAClCA,QAAAA,CAAC,GAAGyb,QAAQ,CAACzb,CAAD,CAAZ;EACA,YAAIsH,GAAG,GAAGlF,CAAC,CAACmF,KAAF,EAAV;EACAvH,QAAAA,CAAC,IAAI,CAAL,CAHkC;;EAKlC,YAAIA,CAAC,IAAI,CAAT,EAAY;EACVA,UAAAA,CAAC,GAAG,CAAJ;EACD,SAFD,MAEO,IAAIA,CAAC,IAAI,GAAT,EAAc;EACnBA,UAAAA,CAAC,GAAG,GAAJ;EACD;;EAEDoC,QAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,MAAV,CAAJ;EACApG,QAAAA,CAAC,GAAGA,CAAC,CAAC8J,GAAF,CAAMlM,CAAN,EAAS,KAAT,CAAJ;EACA2b,QAAAA,OAAO,CAACvZ,CAAD,EAAIkF,GAAJ,EAAS,MAAT,CAAP;EACA,eAAOlF,CAAC,CAACV,KAAT;EACD;EA5MO,KAAV;EA+MA,QAAIqa,SAAS,GAAG;EACd/V,MAAAA,WAAW,EAAE,SAASA,WAAT,CAAqB7L,GAArB,EAA0B;EACrC,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAAC9B,YAAJ,CAAiBhE,CAAjB,EAAoBjI,GAApB,CAAV;EACA,iBAAOiI,CAAP;EACD;;EAED,eAAO,KAAKlG,CAAL,CAAO8f,eAAP,EAAP;EACD,OATa;EAUd/V,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB9L,GAAhB,EAAqB;EAC3B,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACd,OAAJ,CAAYhF,CAAZ,EAAejI,GAAf,CAAV;EACA,iBAAOiI,CAAP;EACD;;EAED,eAAO,KAAKlG,CAAL,CAAO+f,UAAP,EAAP;EACD,OAlBa;EAmBd/V,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB/L,GAAhB,EAAqB;EAC3B,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACyC,OAAJ,CAAYvI,CAAZ,EAAejI,GAAf,CAAV;EACA,iBAAOiI,CAAP;EACD;;EAED,eAAO,KAAKlG,CAAL,CAAOggB,UAAP,EAAP;EACD,OA3Ba;EA4Bd5a,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcnH,GAAd,EAAmB;EACvB,YAAI+B,CAAC,GAAG,KAAKA,CAAb;;EAEA,YAAI/B,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACwC,KAAJ,CAAUtI,CAAV,EAAajI,GAAb,CAAV;EACA,iBAAOiI,CAAP;EACD;;EAED,eAAOlG,CAAC,CAACigB,QAAF,EAAP;EACD,OAtCa;;EAwCdC,MAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBjiB,GAAnB,EAAwB;EACjC,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;;EAEA,cAAI8U,OAAO,GAAGliB,GAAG,GAAG,CAApB;;EAEAkiB,UAAAA,OAAO,GAAGA,OAAO,GAAG,EAApB;;EAEA,cAAIC,KAAK,GAAGliB,QAAQ,CAACD,GAAD,EAAM,EAAN,CAApB;;EAEAiI,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACwC,KAAJ,CAAUtI,CAAV,EAAaka,KAAb,CAAV;EACAla,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACyC,OAAJ,CAAYvI,CAAZ,EAAeia,OAAf,CAAV;EACA,iBAAOja,CAAP;EACD;;EAED,YAAIlG,CAAC,GAAG,KAAKA,CAAb;EACA,YAAIoF,IAAI,GAAGpF,CAAC,CAACigB,QAAF,EAAX;EACA,YAAIjW,MAAM,GAAGhK,CAAC,CAACggB,UAAF,EAAb;EACAhW,QAAAA,MAAM,GAAGA,MAAM,GAAG,EAAlB;EACA,eAAO5E,IAAI,GAAG4E,MAAd;EACD,OA5Da;;EA8DdwJ,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBzV,GAAhB,EAAqB;EAC3B,YAAIiC,CAAC,GAAG,KAAKA,CAAb;;EAEA,YAAIjC,GAAG,KAAKmF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAtN,UAAAA,GAAG,GAAG,KAAKA,GAAX;EACA,cAAIL,CAAC,GAAGK,GAAG,CAACQ,KAAJ,CAAU,mBAAV,CAAR;;EAEA,cAAIb,CAAJ,EAAO;EACL,gBAAI0H,IAAI,GAAGlH,QAAQ,CAACR,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAnB;;EAEA,gBAAIA,CAAC,CAAC,CAAD,CAAD,KAAS,IAAb,EAAmB;EACjB0H,cAAAA,IAAI,IAAI,EAAR;EACD;;EAEDc,YAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACwC,KAAJ,CAAUtI,CAAV,EAAad,IAAb,CAAV;EACD;;EAED,iBAAOc,CAAP;EACD,SAnB0B;;;EAsB3B,YAAIsN,MAAM,GAAGxT,CAAC,CAACigB,QAAF,EAAb;;EAEA,YAAIzM,MAAM,GAAG,EAAb,EAAiB;EACfA,UAAAA,MAAM,GAAGA,MAAM,GAAG,EAAlB;EACD;;EAED,YAAIA,MAAM,KAAK,CAAf,EAAkB;EAChBA,UAAAA,MAAM,GAAG,EAAT;EACD;;EAED,eAAOA,MAAP;EACD,OA/Fa;;EAiGdrU,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcpB,GAAd,EAAmB;EACvB,YAAIA,GAAG,KAAKmF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAtN,UAAAA,GAAG,GAAGA,GAAG,CAACwK,WAAJ,GAAkBkB,IAAlB,EAAN;EACAvD,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAAC7M,IAAJ,CAAS+G,CAAT,EAAYnI,GAAZ,CAAV;EACA,iBAAOmI,CAAP;EACD;;EAED,eAAO,GAAGqG,MAAH,CAAU,KAAKwL,GAAL,EAAV,EAAsB,GAAtB,EAA2BxL,MAA3B,CAAkCO,GAAG,CAACQ,OAAJ,CAAY,KAAKtD,MAAL,EAAZ,CAAlC,EAA8DuC,MAA9D,CAAqE,KAAKE,IAAL,EAArE,CAAP;EACD,OA1Ga;;EA4GdA,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcU,KAAd,EAAqB;EACzB,YAAIkT,KAAK,GAAG,IAAZ;EACA,YAAIjb,IAAI,GAAG,KAAKA,IAAL,EAAX;;EAEA,YAAIA,IAAI,IAAI,EAAZ,EAAgB;EACdib,UAAAA,KAAK,GAAG,IAAR;EACD;;EAED,YAAI,OAAOlT,KAAP,KAAiB,QAArB,EAA+B;EAC7B,iBAAOkT,KAAP;EACD,SAVwB;;;EAazB,YAAIna,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACA8B,QAAAA,KAAK,GAAGA,KAAK,CAAC5E,WAAN,GAAoBkB,IAApB,EAAR,CAdyB;;;EAiBzB,YAAIrE,IAAI,IAAI,EAAR,IAAc+H,KAAK,KAAK,IAA5B,EAAkC;;EAEhC/H,UAAAA,IAAI,IAAI,EAAR;EACA,iBAAOc,CAAC,CAACd,IAAF,CAAOA,IAAP,CAAP;EACD;;EAED,YAAIA,IAAI,GAAG,EAAP,IAAa+H,KAAK,KAAK,IAA3B,EAAiC;EAC/B/H,UAAAA,IAAI,IAAI,EAAR;EACA,iBAAOc,CAAC,CAACd,IAAF,CAAOA,IAAP,CAAP;EACD;;EAED,eAAOc,CAAP;EACD,OAzIa;;EA2Idoa,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBviB,GAAjB,EAAsB;EAC7B,YAAIA,GAAG,KAAKmF,SAAZ,EAAuB;EACrB,cAAIqd,KAAK,GAAG;EACVC,YAAAA,OAAO,EAAE,QADC;EAEVC,YAAAA,SAAS,EAAE,QAFD;EAGVC,YAAAA,IAAI,EAAE,SAHI;EAIVC,YAAAA,KAAK,EAAE,SAJG;EAKVC,YAAAA,SAAS,EAAE,QALD;EAMVC,YAAAA,OAAO,EAAE,QANC;EAOVC,YAAAA,MAAM,EAAE,QAPE;EAQVC,YAAAA,KAAK,EAAE,SARG;EASVC,YAAAA,QAAQ,EAAE;EATA,WAAZ;EAWA,cAAI9a,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAtN,UAAAA,GAAG,GAAGA,GAAG,IAAI,EAAb;EACAA,UAAAA,GAAG,GAAGA,GAAG,CAACwK,WAAJ,EAAN;;EAEA,cAAIgY,KAAK,CAAC7W,cAAN,CAAqB3L,GAArB,MAA8B,IAAlC,EAAwC;EACtCmI,YAAAA,CAAC,GAAGA,CAAC,CAAC/G,IAAF,CAAOohB,KAAK,CAACxiB,GAAD,CAAZ,CAAJ;EACD;;EAED,iBAAOmI,CAAP;EACD;;EAED,YAAImD,CAAC,GAAG,KAAKjE,IAAL,EAAR;;EAEA,YAAIiE,CAAC,GAAG,CAAR,EAAW;EACT,iBAAO,OAAP;EACD;;EAED,YAAIA,CAAC,GAAG,EAAR,EAAY;;EAEV,iBAAO,SAAP;EACD;;EAED,YAAIA,CAAC,GAAG,EAAR,EAAY;;EAEV,iBAAO,WAAP;EACD;;EAED,YAAIA,CAAC,GAAG,EAAR,EAAY;;EAEV,iBAAO,SAAP;EACD;;EAED,eAAO,OAAP;EACD,OAzLa;;EA2Ld8K,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAalW,GAAb,EAAkB;EACrB,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,iBAAO,KAAK8I,GAAL,CAAS/N,GAAT,CAAP;EACD;;EAED,eAAO,KAAKkK,MAAL,CAAY,KAAZ,CAAP;EACD;EAjMa,KAAhB;EAmMA,QAAI8Y,OAAO,GAAGpB,SAAd;EAEA,QAAIqB,SAAS,GAAG;;EAEdpiB,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcb,GAAd,EAAmB;EACvB,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACApN,UAAAA,GAAG,GAAGC,QAAQ,CAACD,GAAD,EAAM,EAAN,CAAd;;EAEA,cAAIA,GAAJ,EAAS;EACPiI,YAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAAClN,IAAJ,CAASoH,CAAT,EAAYjI,GAAZ,CAAV;EACD;;EAED,iBAAOiI,CAAP;EACD;;EAED,eAAO,KAAKlG,CAAL,CAAOyP,OAAP,EAAP;EACD,OAfa;;EAiBdtK,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAagI,KAAb,EAAoB;EACvB,YAAIA,KAAK,KAAKjK,SAAd,EAAyB;EACvB,iBAAO,KAAKlD,CAAL,CAAOmhB,MAAP,EAAP;EACD;;EAED,YAAI3W,QAAQ,GAAG,KAAKa,KAAL,EAAf;EACA,YAAIqU,IAAI,GAAGvS,KAAX,CANuB;;EAQvB,YAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;EAC7BA,UAAAA,KAAK,GAAGA,KAAK,CAAC5E,WAAN,EAAR;;EAEA,cAAI2I,IAAI,CAACC,OAAL,CAAazH,cAAb,CAA4ByD,KAA5B,CAAJ,EAAwC;EACtCuS,YAAAA,IAAI,GAAGxO,IAAI,CAACC,OAAL,CAAahE,KAAb,CAAP;EACD,WAFD,MAEO;EACLuS,YAAAA,IAAI,GAAGxO,IAAI,CAAC,OAAD,CAAJ,GAAgBkE,OAAhB,CAAwBjI,KAAxB,CAAP;;EAEA,gBAAIuS,IAAI,KAAK,CAAC,CAAd,EAAiB;EACfA,cAAAA,IAAI,GAAGxO,IAAI,CAAC,MAAD,CAAJ,GAAekE,OAAf,CAAuBjI,KAAvB,CAAP;EACD;EACF;EACF,SApBsB;;;EAuBvB,YAAIhI,GAAG,GAAG,KAAKnF,CAAL,CAAOmhB,MAAP,EAAV;EACA,YAAI1W,IAAI,GAAGtF,GAAG,GAAGua,IAAjB;EACA,YAAIxZ,CAAC,GAAG,KAAKgK,QAAL,CAAczF,IAAd,EAAoB,MAApB,CAAR,CAzBuB;;EA2BvBc,QAAAA,MAAM,CAACrF,CAAD,EAAI;EACRd,UAAAA,IAAI,EAAEoF,QAAQ,CAACpF,IAAT,EADE;EAER4E,UAAAA,MAAM,EAAEQ,QAAQ,CAACR,MAAT,EAFA;EAGRD,UAAAA,MAAM,EAAES,QAAQ,CAACT,MAAT;EAHA,SAAJ,CAAN;EAKA,eAAO7D,CAAP;EACD,OAlDa;;EAoDdoM,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBnF,KAAjB,EAAwB;EAC/B,YAAIA,KAAK,KAAKjK,SAAd,EAAyB;EACvB,iBAAOgO,IAAI,CAAC,MAAD,CAAJ,GAAe,KAAK/L,GAAL,EAAf,CAAP;EACD;;EAED,YAAIe,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,QAAAA,CAAC,GAAGA,CAAC,CAACf,GAAF,CAAMgI,KAAN,CAAJ;EACA,eAAOjH,CAAP;EACD,OA5Da;;EA8Dd1H,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAe2O,KAAf,EAAsB;EAC3B,YAAIA,KAAK,KAAKjK,SAAd,EAAyB;EACvB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACxN,KAAJ,CAAU0H,CAAV,EAAaiH,KAAb,CAAV;EACA,iBAAOjH,CAAP;EACD;;EAED,eAAO,KAAKlG,CAAL,CAAOgL,QAAP,EAAP;EACD;EAtEa,KAAhB;EAwEA,QAAIoW,OAAO,GAAGF,SAAd;;EAEA,QAAIG,YAAY,GAAG,SAASA,YAAT,CAAsBnb,CAAtB,EAAyB;EAC1CA,MAAAA,CAAC,GAAGA,CAAC,CAAC8D,MAAF,CAAS,CAAT,CAAJ;EACA9D,MAAAA,CAAC,GAAGA,CAAC,CAAC6D,MAAF,CAAS,CAAT,CAAJ;EACA7D,MAAAA,CAAC,GAAGA,CAAC,CAAC4D,WAAF,CAAc,CAAd,CAAJ;EACA,aAAO5D,CAAP;EACD,KALD;;EAOA,QAAIob,SAAS,GAAG;;EAEdxK,MAAAA,SAAS,EAAE,SAASA,SAAT,CAAmB7Y,GAAnB,EAAwB;EACjC,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAAC8K,SAAJ,CAAc5Q,CAAd,EAAiBjI,GAAjB,CAAV;EACA,iBAAOiI,CAAP;EACD,SALgC;;;EAQjC,YAAIqb,GAAG,GAAG,CAAV;EACA,YAAI/iB,KAAK,GAAG,KAAKwB,CAAL,CAAOgL,QAAP,EAAZ;EACA,YAAIiD,GAAJ,CAViC;;EAYjC,aAAK,IAAI3L,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI9D,KAArB,EAA4B8D,CAAC,EAA7B,EAAiC;EAC/B2L,UAAAA,GAAG,GAAG,IAAI5I,IAAJ,EAAN;EACA4I,UAAAA,GAAG,CAACuT,OAAJ,CAAY,CAAZ;EACAvT,UAAAA,GAAG,CAACwT,WAAJ,CAAgB,KAAKzhB,CAAL,CAAOiL,WAAP,EAAhB,EAH+B;;EAK/BgD,UAAAA,GAAG,CAACyT,QAAJ,CAAa,CAAb;EACAzT,UAAAA,GAAG,CAAC0T,UAAJ,CAAe,CAAf;EACA1T,UAAAA,GAAG,CAAC2T,QAAJ,CAAatf,CAAb;EACA2L,UAAAA,GAAG,CAACyT,QAAJ,CAAa,CAAC,CAAd,EAR+B;;EAU/BH,UAAAA,GAAG,IAAItT,GAAG,CAACwB,OAAJ,EAAP;EACD;;EAED,eAAO8R,GAAG,GAAG,KAAKvhB,CAAL,CAAOyP,OAAP,EAAb;EACD,OA5Ba;;EA8BdxF,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAchM,GAAd,EAAmB;;EAEvB,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,UAAAA,CAAC,GAAGA,CAAC,CAAC1H,KAAF,CAAQ,CAAR,CAAJ;EACA0H,UAAAA,CAAC,GAAGA,CAAC,CAACpH,IAAF,CAAO,CAAP,CAAJ;EACAoH,UAAAA,CAAC,GAAGA,CAAC,CAACf,GAAF,CAAM,QAAN,CAAJ;EACAe,UAAAA,CAAC,GAAGmb,YAAY,CAACnb,CAAD,CAAhB,CALqB;;;;EASrB,cAAIA,CAAC,CAAC2M,SAAF,OAAkB,UAAlB,IAAgC3M,CAAC,CAACpH,IAAF,MAAY,EAAhD,EAAoD;EAClDoH,YAAAA,CAAC,GAAGA,CAAC,CAAC8J,GAAF,CAAM,CAAN,EAAS,MAAT,CAAJ;EACD;;EAED/R,UAAAA,GAAG,IAAI,CAAP,CAbqB;;EAerBiI,UAAAA,CAAC,GAAGA,CAAC,CAAC8J,GAAF,CAAM/R,GAAN,EAAW,OAAX,CAAJ;EACA,iBAAOiI,CAAP;EACD,SAnBsB;;;EAsBvB,YAAI+H,GAAG,GAAG,KAAK5C,KAAL,EAAV;EACA4C,QAAAA,GAAG,GAAGA,GAAG,CAACzP,KAAJ,CAAU,CAAV,CAAN;EACAyP,QAAAA,GAAG,GAAGA,GAAG,CAACnP,IAAJ,CAAS,CAAT,CAAN;EACAmP,QAAAA,GAAG,GAAGoT,YAAY,CAACpT,GAAD,CAAlB;EACAA,QAAAA,GAAG,GAAGA,GAAG,CAAC9I,GAAJ,CAAQ,QAAR,CAAN,CA1BuB;;EA4BvB,YAAI8I,GAAG,CAAC4E,SAAJ,OAAoB,UAApB,IAAkC5E,GAAG,CAACnP,IAAJ,MAAc,EAApD,EAAwD;EACtDmP,UAAAA,GAAG,GAAGA,GAAG,CAAC+B,GAAJ,CAAQ,CAAR,EAAW,MAAX,CAAN;EACD,SA9BsB;;;EAiCvB,YAAI6R,KAAK,GAAG,CAAZ;;EAEA,YAAI5T,GAAG,CAACnP,IAAJ,OAAe,CAAnB,EAAsB;EACpB+iB,UAAAA,KAAK,GAAG,CAAR;EACD;;EAED5T,QAAAA,GAAG,GAAGA,GAAG,CAAC6T,KAAJ,CAAU,CAAV,EAAa,QAAb,CAAN;EACA,YAAIC,OAAO,GAAG,KAAKvc,KAAnB,CAxCuB;;EA0CvB,YAAIyI,GAAG,CAACzI,KAAJ,GAAYuc,OAAhB,EAAyB;EACvB,iBAAO,CAAP;EACD,SA5CsB;;;EA+CvB,YAAIzf,CAAC,GAAG,CAAR;EACA,YAAI0f,SAAS,GAAG,KAAKxjB,KAAL,KAAe,CAA/B;EACAyP,QAAAA,GAAG,CAACzI,KAAJ,IAAa0E,YAAY,CAACD,IAAb,GAAoB+X,SAAjC;EACA1f,QAAAA,CAAC,IAAI0f,SAAL;;EAEA,eAAO1f,CAAC,IAAI,EAAZ,EAAgBA,CAAC,EAAjB,EAAqB;EACnB,cAAI2L,GAAG,CAACzI,KAAJ,GAAYuc,OAAhB,EAAyB;EACvB,mBAAOzf,CAAC,GAAGuf,KAAX;EACD;;EAED5T,UAAAA,GAAG,GAAGA,GAAG,CAAC+B,GAAJ,CAAQ,CAAR,EAAW,MAAX,CAAN;EACD;;EAED,eAAO,EAAP;EACD,OA3Fa;;EA6Fd6C,MAAAA,SAAS,EAAE,SAASA,SAAT,CAAmB1F,KAAnB,EAA0B;EACnC,YAAIA,KAAK,KAAKjK,SAAd,EAAyB;EACvB,iBAAO0I,QAAQ,CAAC,MAAD,CAAR,GAAmB,KAAKpN,KAAL,EAAnB,CAAP;EACD;;EAED,YAAI0H,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,QAAAA,CAAC,GAAGA,CAAC,CAAC1H,KAAF,CAAQ2O,KAAR,CAAJ;EACA,eAAOjH,CAAP;EACD,OArGa;;EAuGdsJ,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBvR,GAAjB,EAAsB;EAC7B,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAI,OAAOjF,GAAP,KAAe,QAAnB,EAA6B;EAC3BA,YAAAA,GAAG,GAAGA,GAAG,CAAC2J,OAAJ,CAAY,KAAZ,EAAmB,EAAnB,CAAN;EACA3J,YAAAA,GAAG,GAAGC,QAAQ,CAACD,GAAD,EAAM,EAAN,CAAd;EACD;;EAED,cAAI4e,QAAQ,CAAC5e,GAAD,CAAZ,EAAmB;EACjB,gBAAIiI,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACA,gBAAI4W,MAAM,GAAGpF,QAAQ,CAAC5e,GAAD,CAAR,CAAc,CAAd,CAAb;EACAiI,YAAAA,CAAC,GAAGA,CAAC,CAAC1H,KAAF,CAAQyjB,MAAR,CAAJ;EACA/b,YAAAA,CAAC,GAAGA,CAAC,CAACpH,IAAF,CAAO,CAAP,CAAJ;EACAoH,YAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,KAAV,CAAJ;EACA,mBAAOpG,CAAP;EACD;EACF;;EAED,YAAI1H,KAAK,GAAG,KAAKwB,CAAL,CAAOgL,QAAP,EAAZ;;EAEA,aAAK,IAAI1I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGua,QAAQ,CAACpZ,MAA7B,EAAqCnB,CAAC,EAAtC,EAA0C;EACxC,cAAI9D,KAAK,GAAGqe,QAAQ,CAACva,CAAD,CAAR,CAAY,CAAZ,CAAZ,EAA4B;EAC1B,mBAAOA,CAAC,GAAG,CAAX;EACD;EACF;;EAED,eAAO,CAAP;EACD,OAjIa;;EAmIdzD,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBsO,KAAhB,EAAuB;EAC7B,YAAIxG,GAAG,GAAG,OAAV;;EAEA,YAAI,KAAKuW,UAAL,OAAsB,OAA1B,EAAmC;EACjCvW,UAAAA,GAAG,GAAG,OAAN;EACD;;EAED,YAAIwG,KAAK,KAAKjK,SAAd,EAAyB;EACvB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;;EAEA,eAAK,IAAI/I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9E,OAAO,CAACmJ,GAAD,CAAP,CAAalD,MAAjC,EAAyCnB,CAAC,EAA1C,EAA8C;EAC5C,gBAAI6K,KAAK,KAAK3P,OAAO,CAACmJ,GAAD,CAAP,CAAarE,CAAb,EAAgB,CAAhB,CAAd,EAAkC;EAChC4D,cAAAA,CAAC,GAAGA,CAAC,CAAC1H,KAAF,CAAQhB,OAAO,CAACmJ,GAAD,CAAP,CAAarE,CAAb,EAAgB,CAAhB,CAAR,CAAJ;EACA4D,cAAAA,CAAC,GAAGA,CAAC,CAACpH,IAAF,CAAO,CAAP,CAAJ;EACAoH,cAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,KAAV,CAAJ;EACD;EACF;;EAED,iBAAOpG,CAAP;EACD;;EAED,YAAI1H,KAAK,GAAG,KAAKwB,CAAL,CAAOgL,QAAP,EAAZ;;EAEA,aAAK,IAAI7H,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG3F,OAAO,CAACmJ,GAAD,CAAP,CAAalD,MAAb,GAAsB,CAA5C,EAA+CN,EAAE,EAAjD,EAAqD;EACnD,cAAI3E,KAAK,IAAIhB,OAAO,CAACmJ,GAAD,CAAP,CAAaxD,EAAb,EAAiB,CAAjB,CAAT,IAAgC3E,KAAK,GAAGhB,OAAO,CAACmJ,GAAD,CAAP,CAAaxD,EAAE,GAAG,CAAlB,EAAqB,CAArB,CAA5C,EAAqE;EACnE,mBAAO3F,OAAO,CAACmJ,GAAD,CAAP,CAAaxD,EAAb,EAAiB,CAAjB,CAAP;EACD;EACF;;EAED,eAAO,QAAP;EACD,OAjKa;;EAmKdyB,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc3G,GAAd,EAAmB;EACvB,YAAIA,GAAG,KAAKiF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAnF,UAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACpH,IAAJ,CAASsB,CAAT,EAAYjI,GAAZ,CAAV;EACA,iBAAOiI,CAAP;EACD;;EAED,eAAO,KAAKlG,CAAL,CAAOiL,WAAP,EAAP;EACD,OA3Ka;;EA6Kd4I,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAa9V,GAAb,EAAkB;EACrB,YAAIA,GAAG,KAAKmF,SAAZ,EAAuB;EACrB,cAAIgD,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACAtN,UAAAA,GAAG,GAAGA,GAAG,CAACwK,WAAJ,EAAN,CAFqB;;EAIrB,cAAI3D,IAAI,GAAGsB,CAAC,CAAClG,CAAF,CAAIiL,WAAJ,EAAX,CAJqB;;EAMrB,cAAIlN,GAAG,KAAK,IAAR,IAAgB6G,IAAI,GAAG,CAA3B,EAA8B;EAC5BsB,YAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACpH,IAAJ,CAASsB,CAAT,EAAYtB,IAAI,GAAG,CAAC,CAApB,CAAV;EACD,WARoB;;;EAWrB,cAAI7G,GAAG,KAAK,IAAR,IAAgB6G,IAAI,GAAG,CAA3B,EAA8B;EAC5BsB,YAAAA,CAAC,CAACV,KAAF,GAAUwG,GAAG,CAACpH,IAAJ,CAASsB,CAAT,EAAYtB,IAAI,GAAG,CAAC,CAApB,CAAV;EACD;;EAED,iBAAOsB,CAAP;EACD;;EAED,YAAI,KAAKlG,CAAL,CAAOiL,WAAP,KAAuB,CAA3B,EAA8B;EAC5B,iBAAO,IAAP;EACD;;EAED,eAAO,IAAP;EACD,OArMa;;EAuMdkS,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBhQ,KAAhB,EAAuB;EAC7B,YAAIA,KAAK,KAAKjK,SAAd,EAAyB;EACvBiK,UAAAA,KAAK,GAAGY,MAAM,CAACZ,KAAD,CAAd;EACAA,UAAAA,KAAK,GAAGA,KAAK,CAACvF,OAAN,CAAc,aAAd,EAA6B,IAA7B,CAAR,CAFuB;;EAIvBuF,UAAAA,KAAK,GAAGA,KAAK,CAACvF,OAAN,CAAc,sBAAd,EAAsC,IAAtC,CAAR,CAJuB;;EAMvB,cAAI,CAACuF,KAAL,EAAY;EACV7G,YAAAA,OAAO,CAACC,IAAR,CAAa,iCAAb;EACA,mBAAO,IAAP;EACD,WATsB;;;EAYvB,cAAI4G,KAAK,CAAC1J,MAAN,KAAiB,CAAjB,IAAsB,aAAaW,IAAb,CAAkB+I,KAAlB,CAA1B,EAAoD;EAClDA,YAAAA,KAAK,GAAG,OAAOA,KAAf;EACD;;EAED,cAAIvI,IAAI,GAAG8C,MAAM,CAACyF,KAAD,CAAjB;;EAEA,cAAIF,KAAK,CAACrI,IAAD,CAAT,EAAiB;EACf,mBAAO,IAAP;EACD,WApBsB;;;EAuBvBA,UAAAA,IAAI,GAAG8F,IAAI,CAACwX,KAAL,CAAWtd,IAAI,GAAG,EAAlB,IAAwB,EAA/B;EACA,iBAAO,KAAKA,IAAL,CAAUA,IAAV,CAAP,CAxBuB;EAyBxB;;EAED,eAAO,KAAK0H,OAAL,CAAa,QAAb,EAAuB1H,IAAvB,EAAP;EACD,OApOa;;EAsOdwY,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBjQ,KAAjB,EAAwB;EAC/B,YAAIA,KAAK,KAAKjK,SAAd,EAAyB;EACvB,cAAI,OAAOiK,KAAP,KAAiB,QAArB,EAA+B;EAC7BA,YAAAA,KAAK,GAAGA,KAAK,CAACvF,OAAN,CAAc,sBAAd,EAAsC,IAAtC,CAAR,CAD6B;;EAG7BuF,YAAAA,KAAK,GAAGA,KAAK,CAACvF,OAAN,CAAc,gCAAd,EAAgD,UAAU+P,CAAV,EAAa2C,CAAb,EAAgBhB,CAAhB,EAAmB;EACzE,kBAAIA,CAAC,CAAC/a,KAAF,CAAQ,WAAR,CAAJ,EAA0B;EACxB+b,gBAAAA,CAAC,GAAG,MAAMA,CAAV;EACD;;EAED,qBAAOA,CAAP;EACD,aANO,CAAR;EAOAnN,YAAAA,KAAK,GAAGA,KAAK,CAACvF,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAR,CAV6B;EAW9B;;EAED,cAAIhD,IAAI,GAAG8C,MAAM,CAACyF,KAAD,CAAjB;;EAEA,cAAIF,KAAK,CAACE,KAAD,CAAT,EAAkB;EAChB7G,YAAAA,OAAO,CAACC,IAAR,CAAa,kCAAb;EACA,mBAAO,IAAP;EACD,WAnBsB;;;EAsBvB,cAAI3B,IAAI,KAAK,CAAb,EAAgB;EACdA,YAAAA,IAAI,GAAG,CAAP;EACD;;EAED,cAAIA,IAAI,IAAI,CAAZ,EAAe;EACbA,YAAAA,IAAI,GAAG,CAACA,IAAI,GAAG,CAAR,IAAa,GAApB;EACD,WAFD,MAEO;EACLA,YAAAA,IAAI,GAAG,CAACA,IAAI,GAAG,CAAR,IAAa,GAApB;EACD;;EAED,iBAAO,KAAKA,IAAL,CAAUA,IAAV,CAAP;EACD,SAlC8B;;;EAqC/B,YAAI3G,GAAG,GAAG,KAAKqO,OAAL,CAAa,SAAb,EAAwB1H,IAAxB,EAAV;EACA3G,QAAAA,GAAG,GAAGyM,IAAI,CAACwX,KAAL,CAAWjkB,GAAG,GAAG,GAAjB,CAAN;;EAEA,YAAIA,GAAG,GAAG,CAAV,EAAa;EACX,iBAAOA,GAAG,GAAG,CAAb;EACD;;EAED,eAAOA,GAAG,GAAG,CAAb;EACD,OAnRa;;EAqRdkkB,MAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBhV,KAAnB,EAA0B;EACnC,YAAIA,KAAK,KAAKjK,SAAd,EAAyB;EACvB,cAAI,OAAOiK,KAAP,KAAiB,QAArB,EAA+B;EAC7BA,YAAAA,KAAK,GAAGA,KAAK,CAACvF,OAAN,CAAc,sBAAd,EAAsC,IAAtC,CAAR,CAD6B;;EAG7BuF,YAAAA,KAAK,GAAGzF,MAAM,CAACyF,KAAD,CAAd;;EAEA,gBAAIF,KAAK,CAACE,KAAD,CAAT,EAAkB;EAChB7G,cAAAA,OAAO,CAACC,IAAR,CAAa,oCAAb;EACA,qBAAO,IAAP;EACD;EACF;;EAED,cAAI4G,KAAK,GAAG,CAAZ,EAAe;EACbA,YAAAA,KAAK,IAAI,CAAT;EACD;;EAED,cAAIvI,IAAI,GAAGuI,KAAK,GAAG,IAAnB,CAhBuB;;EAkBvB,cAAIvI,IAAI,KAAK,CAAb,EAAgB;EACdA,YAAAA,IAAI,GAAG,CAAP;EACD;;EAED,iBAAO,KAAKA,IAAL,CAAUA,IAAV,CAAP;EACD,SAxBkC;;;EA2BnC,YAAI3G,GAAG,GAAGyM,IAAI,CAACwX,KAAL,CAAW,KAAKtd,IAAL,KAAc,IAAzB,CAAV;;EAEA,YAAI3G,GAAG,IAAI,CAAX,EAAc;EACZA,UAAAA,GAAG,IAAI,CAAP;EACD;;EAED,eAAOA,GAAP;EACD;EAvTa,KAAhB;EAyTA,QAAImkB,OAAO,GAAGd,SAAd;EAEA,QAAIlhB,OAAO,GAAGyC,MAAM,CAAC8N,MAAP,CAAc,EAAd,EAAkBsQ,OAAlB,EAA2BG,OAA3B,EAAoCgB,OAApC,CAAd,CAzvHmB;;EA2vHnBhiB,IAAAA,OAAO,CAAC8J,YAAR,GAAuB9J,OAAO,CAAC0J,WAA/B;EACA1J,IAAAA,OAAO,CAAC8K,OAAR,GAAkB9K,OAAO,CAAC2J,MAA1B;EACA3J,IAAAA,OAAO,CAACqO,OAAR,GAAkBrO,OAAO,CAAC4J,MAA1B;EACA5J,IAAAA,OAAO,CAACoO,KAAR,GAAgBpO,OAAO,CAACgF,IAAxB;EACAhF,IAAAA,OAAO,CAACmT,MAAR,GAAiBnT,OAAO,CAACgF,IAAzB;EACAhF,IAAAA,OAAO,CAAC2X,GAAR,GAAc3X,OAAO,CAACoT,MAAtB;EACApT,IAAAA,OAAO,CAACgU,GAAR,GAAchU,OAAO,CAACmT,MAAtB;EACAnT,IAAAA,OAAO,CAAC8Q,IAAR,GAAe9Q,OAAO,CAAC+E,GAAvB;;EAEA,QAAIkd,YAAY,GAAG,SAASC,UAAT,CAAoBC,KAApB,EAA2B;;EAE5C1f,MAAAA,MAAM,CAAC2E,IAAP,CAAYpH,OAAZ,EAAqBvC,OAArB,CAA6B,UAAU4J,CAAV,EAAa;EACxC8a,QAAAA,KAAK,CAACpgB,SAAN,CAAgBsF,CAAhB,IAAqBrH,OAAO,CAACqH,CAAD,CAA5B;EACD,OAFD;EAGD,KALD;;EAOA,QAAI+a,KAAK,GAAGH,YAAZ;EAEA,QAAItV,UAAU,GAAGD,GAAG,CAACC,UAArB;;EAEA,QAAI0V,cAAc,GAAG,SAASA,cAAT,CAAwBjkB,KAAxB,EAA+BoG,IAA/B,EAAqC;EACxD,UAAIpG,KAAK,KAAK,CAAV,IAAeuO,UAAU,CAACnI,IAAD,CAA7B,EAAqC;EACnC,eAAO,EAAP;EACD;;EAED,aAAOiI,cAAc,CAACrO,KAAD,CAArB;EACD,KAND,CA/wHmB;;;;EAyxHnB,QAAIkkB,SAAS,GAAG,SAASA,SAAT,CAAmBhD,IAAnB,EAAyBtU,GAAzB,EAA8B;;EAE5C,UAAIsU,IAAI,CAAClhB,KAAL,GAAa,CAAjB,EAAoB;EAClB,YAAIoc,KAAK,GAAG1c,QAAQ,CAACwhB,IAAI,CAAClhB,KAAL,GAAa,EAAd,EAAkB,EAAlB,CAApB;EACAkhB,QAAAA,IAAI,CAAC9a,IAAL,GAAYwG,GAAG,CAACxG,IAAJ,KAAagW,KAAzB;EACA8E,QAAAA,IAAI,CAAClhB,KAAL,GAAakhB,IAAI,CAAClhB,KAAL,GAAa,EAA1B;EACD,OAJD,MAIO,IAAIkhB,IAAI,CAAClhB,KAAL,GAAa,CAAjB,EAAoB;;EAEzB,YAAImkB,MAAM,GAAGjY,IAAI,CAACwX,KAAL,CAAWxX,IAAI,CAACC,GAAL,CAAS+U,IAAI,CAAClhB,KAAd,IAAuB,EAAlC,EAAsC,EAAtC,CAAb;;EAEAmkB,QAAAA,MAAM,GAAGjY,IAAI,CAACC,GAAL,CAASgY,MAAT,IAAmB,CAA5B;EACAjD,QAAAA,IAAI,CAAC9a,IAAL,GAAYwG,GAAG,CAACxG,IAAJ,KAAa+d,MAAzB,CALyB;;EAOzBjD,QAAAA,IAAI,CAAClhB,KAAL,GAAakhB,IAAI,CAAClhB,KAAL,GAAa,EAA1B;EACAkhB,QAAAA,IAAI,CAAClhB,KAAL,GAAakhB,IAAI,CAAClhB,KAAL,GAAa,EAA1B;;EAEA,YAAIkhB,IAAI,CAAClhB,KAAL,KAAe,EAAnB,EAAuB;EACrBkhB,UAAAA,IAAI,CAAClhB,KAAL,GAAa,CAAb;EACD;EACF;;EAED,aAAOkhB,IAAP;EACD,KAtBD,CAzxHmB;;;EAkzHnB,QAAIkD,YAAY,GAAG,SAASA,YAAT,CAAsBlD,IAAtB,EAA4BtU,GAA5B,EAAiCmW,GAAjC,EAAsC;EACvD7B,MAAAA,IAAI,CAAC9a,IAAL,GAAYwG,GAAG,CAACxG,IAAJ,EAAZ;EACA8a,MAAAA,IAAI,CAAClhB,KAAL,GAAa4M,GAAG,CAAC5M,KAAJ,EAAb;EACA,UAAIM,IAAI,GAAGsM,GAAG,CAACtM,IAAJ,EAAX;EACA4gB,MAAAA,IAAI,CAAC5gB,IAAL,GAAYA,IAAI,GAAG4L,IAAI,CAACC,GAAL,CAAS4W,GAAT,CAAnB;;EAEA,aAAO7B,IAAI,CAAC5gB,IAAL,GAAY,CAAnB,EAAsB;EACpB4gB,QAAAA,IAAI,CAAClhB,KAAL,IAAc,CAAd;;EAEA,YAAIkhB,IAAI,CAAClhB,KAAL,GAAa,CAAjB,EAAoB;EAClBkhB,UAAAA,IAAI,CAAClhB,KAAL,GAAa,EAAb;EACAkhB,UAAAA,IAAI,CAAC9a,IAAL,IAAa,CAAb;EACD;;EAED,YAAIgK,GAAG,GAAG6T,cAAc,CAAC/C,IAAI,CAAClhB,KAAN,EAAakhB,IAAI,CAAC9a,IAAlB,CAAxB;EACA8a,QAAAA,IAAI,CAAC5gB,IAAL,IAAa8P,GAAb;EACD;;EAED,aAAO8Q,IAAP;EACD,KAnBD,CAlzHmB;;;EAw0HnB,QAAImD,UAAU,GAAG,SAASA,UAAT,CAAoBnD,IAApB,EAA0BtU,GAA1B,EAA+BmW,GAA/B,EAAoC;EACnD,UAAI3c,IAAI,GAAGwG,GAAG,CAACxG,IAAJ,EAAX;EACA,UAAIpG,KAAK,GAAG4M,GAAG,CAAC5M,KAAJ,EAAZ;EACA,UAAIoQ,GAAG,GAAG6T,cAAc,CAACjkB,KAAD,EAAQoG,IAAR,CAAxB;;EAEA,aAAO2c,GAAG,GAAG3S,GAAb,EAAkB;EAChB2S,QAAAA,GAAG,IAAI3S,GAAP;EACApQ,QAAAA,KAAK,IAAI,CAAT;;EAEA,YAAIA,KAAK,IAAI,EAAb,EAAiB;EACfA,UAAAA,KAAK,IAAI,EAAT;EACAoG,UAAAA,IAAI,IAAI,CAAR;EACD;;EAEDgK,QAAAA,GAAG,GAAG6T,cAAc,CAACjkB,KAAD,EAAQoG,IAAR,CAApB;EACD;;EAED8a,MAAAA,IAAI,CAAClhB,KAAL,GAAaA,KAAb;EACAkhB,MAAAA,IAAI,CAAC5gB,IAAL,GAAYyiB,GAAZ;EACA,aAAO7B,IAAP;EACD,KApBD;;EAsBA,QAAIoD,MAAM,GAAG;EACXhU,MAAAA,MAAM,EAAE4T,SADG;EAEXxR,MAAAA,IAAI,EAAE2R,UAFK;EAGXE,MAAAA,QAAQ,EAAEH;EAHC,KAAb,CA91HmB;;;;;EAy2HnB,QAAInS,KAAK,GAAG,CAAC,aAAD,EAAgB,QAAhB,EAA0B,QAA1B,EAAoC,MAApC,EAA4C,MAA5C,EAAoD,OAApD,CAAZ;EACA,QAAIuS,IAAI,GAAG;EACTjZ,MAAAA,MAAM,EAAE0G,KAAK,CAACxM,KAAN,CAAY,CAAZ,EAAe,CAAf,CADC;EAET+F,MAAAA,MAAM,EAAEyG,KAAK,CAACxM,KAAN,CAAY,CAAZ,EAAe,CAAf,CAFC;EAGT8Y,MAAAA,WAAW,EAAEtM,KAAK,CAACxM,KAAN,CAAY,CAAZ,EAAe,CAAf,CAHJ;EAITmB,MAAAA,IAAI,EAAEqL,KAAK,CAACxM,KAAN,CAAY,CAAZ,EAAe,CAAf,CAJG;EAKTnF,MAAAA,IAAI,EAAE2R,KAAK,CAACxM,KAAN,CAAY,CAAZ,EAAe,CAAf,CALG;EAMTzF,MAAAA,KAAK,EAAEiS,KAAK,CAACxM,KAAN,CAAY,CAAZ,EAAe,CAAf,CANE;EAOTuL,MAAAA,OAAO,EAAEiB,KAAK,CAACxM,KAAN,CAAY,CAAZ,EAAe,CAAf,CAPA;EAQTpF,MAAAA,MAAM,EAAE4R,KAAK,CAACxM,KAAN,CAAY,CAAZ,EAAe,CAAf,CARC;EASTW,MAAAA,IAAI,EAAE6L,KATG;EAUT0M,MAAAA,MAAM,EAAE1M,KAVC;EAWT2M,MAAAA,OAAO,EAAE3M;EAXA,KAAX;EAaAuS,IAAAA,IAAI,CAAC/Y,IAAL,GAAY+Y,IAAI,CAAC5d,IAAjB;EACA4d,IAAAA,IAAI,CAACnkB,MAAL,GAAcmkB,IAAI,CAAClkB,IAAnB;EACAkkB,IAAAA,IAAI,CAACxT,OAAL,GAAewT,IAAI,CAAClkB,IAApB,CAz3HmB;;EA23HnB,QAAImkB,aAAa,GAAG;EAClBre,MAAAA,IAAI,EAAE,IADY;EAElB4K,MAAAA,OAAO,EAAE,IAFS;EAGlB3Q,MAAAA,MAAM,EAAE,IAHU;EAIlBL,MAAAA,KAAK,EAAE,IAJW;EAKlByL,MAAAA,IAAI,EAAE,IALY;EAMlB9E,MAAAA,GAAG,EAAE;EANa,KAApB;EAQA,QAAI+d,QAAQ,GAAG;EACb1kB,MAAAA,KAAK,EAAE,IADM;EAEbgR,MAAAA,OAAO,EAAE,IAFI;EAGb3Q,MAAAA,MAAM,EAAE,IAHK;EAIb+F,MAAAA,IAAI,EAAE;EAJO,KAAf;;EAOA,QAAIue,YAAY,GAAG,SAASb,UAAT,CAAoBc,SAApB,EAA+B;EAChDA,MAAAA,SAAS,CAACjhB,SAAV,CAAoB6N,GAApB,GAA0B,UAAU/R,GAAV,EAAemM,IAAf,EAAqB;EAC7C,YAAIlE,CAAC,GAAG,KAAKmF,KAAL,EAAR;;EAEA,YAAI,CAACjB,IAAD,IAASnM,GAAG,KAAK,CAArB,EAAwB;EACtB,iBAAOiI,CAAP,CADsB;EAEvB;;EAED,YAAIkF,GAAG,GAAG,KAAKC,KAAL,EAAV;EACAjB,QAAAA,IAAI,GAAG0C,GAAG,CAACjM,SAAJ,CAAcuJ,IAAd,CAAP;;EAEA,YAAIA,IAAI,KAAK,aAAb,EAA4B;EAC1BlE,UAAAA,CAAC,CAACV,KAAF,IAAWvH,GAAX;EACA,iBAAOiI,CAAP;EACD,SAb4C;;;EAgB7C,YAAIkE,IAAI,KAAK,WAAb,EAA0B;EACxBnM,UAAAA,GAAG,IAAI,CAAP;EACAmM,UAAAA,IAAI,GAAG,MAAP;EACD,SAnB4C;;;EAsB7C,YAAIF,YAAY,CAACE,IAAD,CAAhB,EAAwB;EACtBlE,UAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAACE,IAAD,CAAZ,GAAqBnM,GAAhC;EACD,SAFD,MAEO,IAAImM,IAAI,KAAK,MAAb,EAAqB;EAC1BlE,UAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAAC/E,GAAb,IAAoBlH,GAAG,GAAG,CAA1B,CAAX;EACD,SAFM,MAEA,IAAImM,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,QAAnC,EAA6C;EAClDlE,UAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAAC1L,KAAb,IAAsBP,GAAG,GAAG,CAA5B,CAAX;EACD,SAFM,MAEA,IAAImM,IAAI,KAAK,aAAb,EAA4B;EACjClE,UAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAACF,MAAb,GAAsB,EAAtB,GAA2B/L,GAAtC;EACD,SA9B4C;;;EAiC7C,YAAIyhB,IAAI,GAAG,EAAX;;EAEA,YAAIsD,IAAI,CAAC5Y,IAAD,CAAR,EAAgB;EACd4Y,UAAAA,IAAI,CAAC5Y,IAAD,CAAJ,CAAWvM,OAAX,CAAmB,UAAU+d,CAAV,EAAa;EAC9B8D,YAAAA,IAAI,CAAC9D,CAAD,CAAJ,GAAUxQ,GAAG,CAACwQ,CAAD,CAAH,EAAV;EACD,WAFD;EAGD;;EAED,YAAIqH,aAAa,CAAC7Y,IAAD,CAAjB,EAAyB;EACvB,cAAIK,IAAI,GAAGW,GAAG,CAAC/C,QAAJ,GAAeiC,OAAf,CAAuB3F,MAAvB,GAAgCuB,CAAC,CAACmC,QAAF,GAAaiC,OAAb,CAAqB3F,MAAhE;EACAuB,UAAAA,CAAC,CAACV,KAAF,IAAWiF,IAAI,GAAG,IAAP,GAAc,IAAzB;EACD,SA5C4C;;;EA+C7C,YAAIL,IAAI,KAAK,OAAb,EAAsB;EACpBsV,UAAAA,IAAI,CAAClhB,KAAL,GAAa4M,GAAG,CAAC5M,KAAJ,KAAcP,GAA3B,CADoB;;EAGpByhB,UAAAA,IAAI,GAAGoD,MAAM,CAAChU,MAAP,CAAc4Q,IAAd,EAAoBtU,GAApB,CAAP;EACD,SAnD4C;;;EAsD7C,YAAIhB,IAAI,KAAK,MAAb,EAAqB;EACnB,cAAImX,GAAG,GAAGnW,GAAG,CAACtM,IAAJ,KAAab,GAAG,GAAG,CAA7B;;EAEA,cAAIsjB,GAAG,IAAI,EAAP,IAAaA,GAAG,GAAG,CAAvB,EAA0B;EACxB7B,YAAAA,IAAI,CAAC5gB,IAAL,GAAYyiB,GAAZ;EACD;EACF,SAND;EAAA,aAOK,IAAInX,IAAI,KAAK,MAAb,EAAqB;EACtB,gBAAInM,GAAG,GAAG,CAAV,EAAa;EACXyhB,cAAAA,IAAI,GAAGoD,MAAM,CAACC,QAAP,CAAgBrD,IAAhB,EAAsBtU,GAAtB,EAA2BnN,GAA3B,CAAP;EACD,aAFD,MAEO;;EAEL,kBAAIolB,IAAI,GAAGjY,GAAG,CAACtM,IAAJ,KAAab,GAAxB,CAFK;;;EAKLyhB,cAAAA,IAAI,GAAGoD,MAAM,CAAC5R,IAAP,CAAYwO,IAAZ,EAAkBtU,GAAlB,EAAuBiY,IAAvB,CAAP;EACD,aATqB;;;EAYtB,gBAAIplB,GAAG,KAAK,CAAR,IAAamN,GAAG,CAACuQ,MAAJ,CAAWzV,CAAX,EAAc,KAAd,CAAjB,EAAuC;EACrCwZ,cAAAA,IAAI,CAAC5gB,IAAL,GAAYsM,GAAG,CAACtM,IAAJ,KAAab,GAAzB;EACD;EACF,WAfE;EAAA,eAgBE,IAAImM,IAAI,KAAK,SAAb,EAAwB;EACzBsV,cAAAA,IAAI,CAAClhB,KAAL,GAAa4M,GAAG,CAAC5M,KAAJ,KAAcP,GAAG,GAAG,CAAjC;EACAyhB,cAAAA,IAAI,CAAC9a,IAAL,GAAYwG,GAAG,CAACxG,IAAJ,EAAZ,CAFyB;;EAIzB,kBAAI8a,IAAI,CAAClhB,KAAL,GAAa,CAAjB,EAAoB;EAClB,oBAAIoc,KAAK,GAAGlQ,IAAI,CAACwX,KAAL,CAAWxC,IAAI,CAAClhB,KAAL,GAAa,EAAxB,CAAZ;EACA,oBAAI8kB,SAAS,GAAG5D,IAAI,CAAClhB,KAAL,GAAakM,IAAI,CAACC,GAAL,CAASiQ,KAAT,IAAkB,EAA/C;EACA8E,gBAAAA,IAAI,CAAClhB,KAAL,GAAa8kB,SAAb;EACA5D,gBAAAA,IAAI,CAAC9a,IAAL,IAAagW,KAAb;EACD,eALD,MAKO,IAAI8E,IAAI,CAAClhB,KAAL,IAAc,EAAlB,EAAsB;EAC3B,oBAAImkB,MAAM,GAAGjY,IAAI,CAACwX,KAAL,CAAWxC,IAAI,CAAClhB,KAAL,GAAa,EAAxB,CAAb;;EAEAkhB,gBAAAA,IAAI,CAAClhB,KAAL,GAAakhB,IAAI,CAAClhB,KAAL,GAAa,EAA1B;EACAkhB,gBAAAA,IAAI,CAAC9a,IAAL,IAAa+d,MAAb;EACD;;EAEDjD,cAAAA,IAAI,CAAC5gB,IAAL,GAAYsM,GAAG,CAACtM,IAAJ,EAAZ;EACD,aAjBE;EAAA,iBAkBE,IAAIsL,IAAI,KAAK,MAAb,EAAqB;EACtB,oBAAImZ,QAAQ,GAAGnY,GAAG,CAACxG,IAAJ,KAAa3G,GAA5B;EACA,oBAAIulB,QAAQ,GAAGtd,CAAC,CAACtB,IAAF,EAAf;;EAEA,oBAAI4e,QAAQ,GAAGD,QAAf,EAAyB;EACvBrd,kBAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAAC/E,GAAxB;EACD,iBAFD,MAEO,IAAIqe,QAAQ,GAAGD,QAAf,EAAyB;EAC9Brd,kBAAAA,CAAC,CAACV,KAAF,IAAW0E,YAAY,CAAC/E,GAAxB;EACD;EACF,eATE;EAAA,mBAUE,IAAIiF,IAAI,KAAK,QAAb,EAAuB;EACxBsV,kBAAAA,IAAI,CAAC9a,IAAL,GAAYsB,CAAC,CAACtB,IAAF,KAAW,EAAvB;EACD,iBAFE,MAEI,IAAIwF,IAAI,KAAK,SAAb,EAAwB;EAC7BsV,kBAAAA,IAAI,CAAC9a,IAAL,GAAYsB,CAAC,CAACtB,IAAF,KAAW,GAAvB;EACD,iBA7GoC;;;EAgH7C,YAAIse,QAAQ,CAAC9Y,IAAD,CAAZ,EAAoB;EAClB,cAAIwE,GAAG,GAAG/B,cAAc,CAAC6S,IAAI,CAAClhB,KAAN,CAAxB;EACAkhB,UAAAA,IAAI,CAAC5gB,IAAL,GAAYsM,GAAG,CAACtM,IAAJ,EAAZ;;EAEA,cAAI4gB,IAAI,CAAC5gB,IAAL,GAAY8P,GAAhB,EAAqB;EACnB8Q,YAAAA,IAAI,CAAC5gB,IAAL,GAAY8P,GAAZ;EACD;EACF;;EAED,YAAI/L,MAAM,CAAC2E,IAAP,CAAYkY,IAAZ,EAAkBjc,MAAlB,GAA2B,CAA/B,EAAkC;EAChC8H,UAAAA,MAAM,CAACrF,CAAD,EAAIwZ,IAAJ,CAAN;EACD;;EAED,eAAOxZ,CAAP;EACD,OA9HD,CADgD;;;EAkIhDkd,MAAAA,SAAS,CAACjhB,SAAV,CAAoB+N,QAApB,GAA+B,UAAUjS,GAAV,EAAemM,IAAf,EAAqB;EAClD,YAAIlE,CAAC,GAAG,KAAKmF,KAAL,EAAR;EACA,eAAOnF,CAAC,CAAC8J,GAAF,CAAM/R,GAAG,GAAG,CAAC,CAAb,EAAgBmM,IAAhB,CAAP;EACD,OAHD,CAlIgD;;;EAwIhDgZ,MAAAA,SAAS,CAACjhB,SAAV,CAAoB2f,KAApB,GAA4BsB,SAAS,CAACjhB,SAAV,CAAoB+N,QAAhD;EACAkT,MAAAA,SAAS,CAACjhB,SAAV,CAAoBshB,IAApB,GAA2BL,SAAS,CAACjhB,SAAV,CAAoB6N,GAA/C;EACD,KA1ID;;EA4IA,QAAIA,GAAG,GAAGmT,YAAV,CAthImB;;EAyhInB,QAAIO,KAAK,GAAG;EACV5Z,MAAAA,WAAW,EAAE,SAASA,WAAT,CAAqB5D,CAArB,EAAwB;EACnC,eAAOA,CAAC,CAACV,KAAT;EACD,OAHS;EAIVuE,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB7D,CAAhB,EAAmB;EACzB,eAAO,CAACA,CAAC,CAACtB,IAAF,EAAD,EAAWsB,CAAC,CAAC1H,KAAF,EAAX,EAAsB0H,CAAC,CAACpH,IAAF,EAAtB,EAAgCoH,CAAC,CAACd,IAAF,EAAhC,EAA0Cc,CAAC,CAAC8D,MAAF,EAA1C,EAAsD9D,CAAC,CAAC6D,MAAF,EAAtD,EAAkEyD,IAAlE,CAAuE,GAAvE,CAAP;EACD,OANS;EAOVxD,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB9D,CAAhB,EAAmB;EACzB,eAAO,CAACA,CAAC,CAACtB,IAAF,EAAD,EAAWsB,CAAC,CAAC1H,KAAF,EAAX,EAAsB0H,CAAC,CAACpH,IAAF,EAAtB,EAAgCoH,CAAC,CAACd,IAAF,EAAhC,EAA0Cc,CAAC,CAAC8D,MAAF,EAA1C,EAAsDwD,IAAtD,CAA2D,GAA3D,CAAP;EACD,OATS;EAUVpI,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcc,CAAd,EAAiB;EACrB,eAAO,CAACA,CAAC,CAACtB,IAAF,EAAD,EAAWsB,CAAC,CAAC1H,KAAF,EAAX,EAAsB0H,CAAC,CAACpH,IAAF,EAAtB,EAAgCoH,CAAC,CAACd,IAAF,EAAhC,EAA0CoI,IAA1C,CAA+C,GAA/C,CAAP;EACD,OAZS;EAaVrI,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAae,CAAb,EAAgB;EACnB,eAAO,CAACA,CAAC,CAACtB,IAAF,EAAD,EAAWsB,CAAC,CAAC1H,KAAF,EAAX,EAAsB0H,CAAC,CAACpH,IAAF,EAAtB,EAAgC0O,IAAhC,CAAqC,GAArC,CAAP;EACD,OAfS;EAgBVvD,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAc/D,CAAd,EAAiB;EACrB,eAAO,CAACA,CAAC,CAACtB,IAAF,EAAD,EAAWsB,CAAC,CAAC+D,IAAF,EAAX,EAAqBuD,IAArB,CAA0B,GAA1B,CAAP;EACD,OAlBS;EAmBVhP,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAe0H,CAAf,EAAkB;EACvB,eAAO,CAACA,CAAC,CAACtB,IAAF,EAAD,EAAWsB,CAAC,CAAC1H,KAAF,EAAX,EAAsBgP,IAAtB,CAA2B,GAA3B,CAAP;EACD,OArBS;EAsBVgC,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBtJ,CAAjB,EAAoB;EAC3B,eAAO,CAACA,CAAC,CAACtB,IAAF,EAAD,EAAWsB,CAAC,CAACsJ,OAAF,EAAX,EAAwBhC,IAAxB,CAA6B,GAA7B,CAAP;EACD,OAxBS;EAyBV5I,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcsB,CAAd,EAAiB;EACrB,eAAOA,CAAC,CAACtB,IAAF,EAAP;EACD;EA3BS,KAAZ;EA6BA8e,IAAAA,KAAK,CAAC5kB,IAAN,GAAa4kB,KAAK,CAACve,GAAnB;;EAEA,QAAIwe,YAAY,GAAG,SAASrB,UAAT,CAAoBc,SAApB,EAA+B;EAChDA,MAAAA,SAAS,CAACjhB,SAAV,CAAoBwZ,MAApB,GAA6B,UAAUrB,CAAV,EAAalQ,IAAb,EAAmB;EAC9C,YAAIwZ,OAAO,GAAGvX,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAAlF;EACA,YAAIsL,CAAC,GAAG,IAAR;;EAEA,YAAI,CAACvN,IAAL,EAAW;EACT,iBAAO,IAAP;EACD,SAN6C;;;EAS9C,YAAI,OAAOkQ,CAAP,KAAa,QAAb,IAAyBxY,OAAO,CAACsI,IAAD,CAAP,KAAkB,QAA/C,EAAyD;EACvD,cAAI6D,GAAG,GAAGqM,CAAV;EACAA,UAAAA,CAAC,GAAGlQ,IAAJ;EACAA,UAAAA,IAAI,GAAG6D,GAAP;EACD;;EAED,YAAI,OAAOqM,CAAP,KAAa,QAAb,IAAyB,OAAOA,CAAP,KAAa,QAA1C,EAAoD;EAClDA,UAAAA,CAAC,GAAG,IAAI8I,SAAJ,CAAc9I,CAAd,EAAiB,KAAKjS,QAAL,CAAcnE,IAA/B,CAAJ;EACD,SAjB6C;;;EAoB9CkG,QAAAA,IAAI,GAAGA,IAAI,CAACxC,OAAL,CAAa,IAAb,EAAmB,EAAnB,CAAP,CApB8C;;EAsB9C,YAAIgc,OAAO,KAAK,IAAZ,IAAoBjM,CAAC,CAACtR,EAAF,KAASiU,CAAC,CAACjU,EAAnC,EAAuC;EACrCiU,UAAAA,CAAC,GAAGA,CAAC,CAACjP,KAAF,EAAJ;EACAiP,UAAAA,CAAC,CAACjU,EAAF,GAAOsR,CAAC,CAACtR,EAAT;EACD;;EAED,YAAIqd,KAAK,CAACtZ,IAAD,CAAT,EAAiB;EACf,iBAAOsZ,KAAK,CAACtZ,IAAD,CAAL,CAAYuN,CAAZ,MAAmB+L,KAAK,CAACtZ,IAAD,CAAL,CAAYkQ,CAAZ,CAA1B;EACD;;EAED,eAAO,IAAP;EACD,OAhCD;EAiCD,KAlCD;;EAoCA,QAAIuJ,IAAI,GAAGF,YAAX;;EAEA,QAAIG,YAAY,GAAG,SAASxB,UAAT,CAAoBc,SAApB,EAA+B;EAChD,UAAIhjB,OAAO,GAAG;EACZoa,QAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBxa,CAAjB,EAAoB;EAC3BA,UAAAA,CAAC,GAAG8M,GAAG,CAACqB,OAAJ,CAAYnO,CAAZ,EAAe,IAAf,CAAJ;EACA,cAAIwF,KAAK,GAAGsH,GAAG,CAACkB,QAAJ,CAAahO,CAAb,CAAZ;;EAEA,cAAIwF,KAAK,KAAK,IAAd,EAAoB;EAClB,mBAAO,IAAP;EACD;;EAED,iBAAO,KAAKA,KAAL,GAAaA,KAApB;EACD,SAVW;EAWZ+U,QAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBva,CAAlB,EAAqB;EAC7BA,UAAAA,CAAC,GAAG8M,GAAG,CAACqB,OAAJ,CAAYnO,CAAZ,EAAe,IAAf,CAAJ;EACA,cAAIwF,KAAK,GAAGsH,GAAG,CAACkB,QAAJ,CAAahO,CAAb,CAAZ;;EAEA,cAAIwF,KAAK,KAAK,IAAd,EAAoB;EAClB,mBAAO,IAAP;EACD;;EAED,iBAAO,KAAKA,KAAL,GAAaA,KAApB;EACD,SApBW;EAqBZue,QAAAA,OAAO,EAAE,SAASA,OAAT,CAAiB/jB,CAAjB,EAAoB;EAC3BA,UAAAA,CAAC,GAAG8M,GAAG,CAACqB,OAAJ,CAAYnO,CAAZ,EAAe,IAAf,CAAJ;EACA,cAAIwF,KAAK,GAAGsH,GAAG,CAACkB,QAAJ,CAAahO,CAAb,CAAZ;;EAEA,cAAIwF,KAAK,KAAK,IAAd,EAAoB;EAClB,mBAAO,IAAP;EACD;;EAED,iBAAO,KAAKA,KAAL,KAAeA,KAAtB;EACD,SA9BW;EA+BZwe,QAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBve,KAAnB,EAA0BC,GAA1B,EAA+B;EACxC,cAAIue,WAAW,GAAG5X,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAtF;EACA5G,UAAAA,KAAK,GAAGqH,GAAG,CAACqB,OAAJ,CAAY1I,KAAZ,EAAmB,IAAnB,CAAR;EACAC,UAAAA,GAAG,GAAGoH,GAAG,CAACqB,OAAJ,CAAYzI,GAAZ,EAAiB,IAAjB,CAAN;EACA,cAAIwe,UAAU,GAAGpX,GAAG,CAACkB,QAAJ,CAAavI,KAAb,CAAjB;;EAEA,cAAIye,UAAU,KAAK,IAAnB,EAAyB;EACvB,mBAAO,IAAP;EACD;;EAED,cAAIC,QAAQ,GAAGrX,GAAG,CAACkB,QAAJ,CAAatI,GAAb,CAAf;;EAEA,cAAIye,QAAQ,KAAK,IAAjB,EAAuB;EACrB,mBAAO,IAAP;EACD;;EAED,cAAIF,WAAJ,EAAiB;EACf,mBAAO,KAAKD,SAAL,CAAeve,KAAf,EAAsBC,GAAtB,KAA8B,KAAKqe,OAAL,CAAate,KAAb,CAA9B,IAAqD,KAAKse,OAAL,CAAare,GAAb,CAA5D;EACD;;EAED,iBAAOwe,UAAU,GAAG,KAAK1e,KAAlB,IAA2B,KAAKA,KAAL,GAAa2e,QAA/C;EACD;EApDW,OAAd,CADgD;;EAwDhDthB,MAAAA,MAAM,CAAC2E,IAAP,CAAYpH,OAAZ,EAAqBvC,OAArB,CAA6B,UAAU4J,CAAV,EAAa;EACxC2b,QAAAA,SAAS,CAACjhB,SAAV,CAAoBsF,CAApB,IAAyBrH,OAAO,CAACqH,CAAD,CAAhC;EACD,OAFD;EAGD,KA3DD;;EA6DA,QAAI2c,OAAO,GAAGN,YAAd;;EAEA,QAAIxB,UAAU,GAAG,SAASA,UAAT,CAAoBc,SAApB,EAA+B;EAC9C,UAAIhjB,OAAO,GAAG;EACZ6L,QAAAA,IAAI,EAAE,SAASA,IAAT,CAAc3E,IAAd,EAAoB;;EAExB,cAAIwF,GAAG,CAACM,QAAJ,CAAa9F,IAAI,CAAC4J,IAAlB,CAAJ,EAA6B;EAC3BA,YAAAA,IAAI,CAAClF,GAAL,CAAS1E,IAAI,CAAC4J,IAAd;EACD,WAJuB;;;EAOxB,cAAIpE,GAAG,CAACM,QAAJ,CAAa9F,IAAI,CAACwH,MAAlB,CAAJ,EAA+B;EAC7BlD,YAAAA,QAAQ,CAACI,GAAT,CAAa1E,IAAI,CAACwH,MAAlB;EACD,WATuB;;;EAYxB,cAAIhC,GAAG,CAACO,SAAJ,CAAc/F,IAAI,CAAC4K,YAAnB,CAAJ,EAAsC;EACpCD,YAAAA,UAAU,CAACjG,GAAX,CAAe1E,IAAI,CAAC4K,YAApB;EACD;EACF;EAhBW,OAAd,CAD8C;;EAoB9CrP,MAAAA,MAAM,CAAC2E,IAAP,CAAYpH,OAAZ,EAAqBvC,OAArB,CAA6B,UAAU4J,CAAV,EAAa;EACxC2b,QAAAA,SAAS,CAACjhB,SAAV,CAAoBsF,CAApB,IAAyBrH,OAAO,CAACqH,CAAD,CAAhC;EACD,OAFD;EAGD,KAvBD;;EAyBA,QAAIwE,IAAI,GAAGqW,UAAX;EAEA,QAAIlc,SAAS,GAAG0B,MAAhB,CAxrImB;;EA0rInB,QAAIsb,SAAS,GAAG,SAASA,SAAT,CAAmB/E,OAAnB,EAA4BhY,EAA5B,EAAgC;EAC9C,UAAIgJ,OAAO,GAAGhD,SAAS,CAAC5I,MAAV,GAAmB,CAAnB,IAAwB4I,SAAS,CAAC,CAAD,CAAT,KAAiBnJ,SAAzC,GAAqDmJ,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF,CAD8C;;EAG9C,WAAK7G,KAAL,GAAa,IAAb,CAH8C;;EAK9C,WAAKa,EAAL,GAAUwD,IAAI,CAACxD,EAAD,EAAKD,SAAL,CAAd,CAL8C;;EAO9C,WAAKkF,MAAL,GAAc+D,OAAO,CAAC/D,MAAR,IAAkB,IAAhC,CAP8C;;EAS9C,WAAKgE,OAAL,GAAeD,OAAO,CAAC2F,GAAR,IAAe3F,OAAO,CAACC,OAAtC,CAT8C;;EAW9C,WAAK0N,UAAL,GAAkB,CAAlB,CAX8C;;EAa9C,UAAI3N,OAAO,CAAC4P,SAAR,KAAsB/b,SAA1B,EAAqC;EACnC,aAAK8Z,UAAL,GAAkB3N,OAAO,CAAC4P,SAA1B;EACD,OAf6C;;;EAkB9C,WAAK1P,MAAL,GAAc,EAAd;;EAEA,UAAIF,OAAO,CAACL,KAAR,KAAkB9L,SAAtB,EAAiC;EAC/B,aAAKqM,MAAL,GAAcF,OAAO,CAACL,KAAtB;EACD,OAtB6C;;;EAyB9CnM,MAAAA,MAAM,CAACwhB,cAAP,CAAsB,IAAtB,EAA4B,GAA5B,EAAiC;;EAE/BC,QAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;EAClB,cAAI3f,MAAM,GAAGkC,KAAK,CAAC,IAAD,CAAlB,CADkB;;EAGlB,cAAI0d,IAAI,GAAG,IAAIlf,IAAJ,CAAS,KAAKG,KAAd,EAAqBgf,iBAArB,MAA4C,CAAvD,CAHkB;;EAKlB,cAAI7E,KAAK,GAAG4E,IAAI,GAAG5f,MAAM,GAAG,EAA5B,CALkB;;EAOlBgb,UAAAA,KAAK,GAAGA,KAAK,GAAG,EAAR,GAAa,IAArB,CAPkB;;;EAUlB,cAAIna,KAAK,GAAG,KAAKA,KAAL,GAAama,KAAzB;EACA,cAAI3f,CAAC,GAAG,IAAIqF,IAAJ,CAASG,KAAT,CAAR;EACA,iBAAOxF,CAAP;EACD;EAf8B,OAAjC,EAzB8C;;EA2C9C6C,MAAAA,MAAM,CAACwhB,cAAP,CAAsB,IAAtB,EAA4B,WAA5B,EAAyC;EACvCC,QAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;EAClB,iBAAOle,SAAP;EACD,SAHsC;EAIvC4F,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAajK,GAAb,EAAkB;EACrBqE,UAAAA,SAAS,GAAGrE,GAAZ;EACA,iBAAOA,GAAP;EACD;EAPsC,OAAzC,EA3C8C;;EAqD9C,UAAIkM,GAAG,GAAGd,KAAK,CAAC,IAAD,EAAOkR,OAAP,EAAgBhY,EAAhB,CAAf;EACA,WAAKb,KAAL,GAAayI,GAAG,CAACzI,KAAjB;EACD,KAvDD,CA1rImB;;;EAovInB3C,IAAAA,MAAM,CAAC2E,IAAP,CAAY6X,SAAZ,EAAuBxhB,OAAvB,CAA+B,UAAU4J,CAAV,EAAa;EAC1C2b,MAAAA,SAAS,CAACjhB,SAAV,CAAoBsF,CAApB,IAAyB4X,SAAS,CAAC5X,CAAD,CAAlC;EACD,KAFD,EApvImB;;EAwvInB2b,IAAAA,SAAS,CAACjhB,SAAV,CAAoBkJ,KAApB,GAA4B,YAAY;EACtC,aAAO,IAAI+X,SAAJ,CAAc,KAAK5d,KAAnB,EAA0B,KAAKa,EAA/B,EAAmC;EACxCiF,QAAAA,MAAM,EAAE,KAAKA,MAD2B;EAExC2T,QAAAA,SAAS,EAAE,KAAKjC,UAFwB;EAGxChO,QAAAA,KAAK,EAAE,KAAKO;EAH4B,OAAnC,CAAP;EAKD,KAND,CAxvImB;;;EAiwInB6T,IAAAA,SAAS,CAACjhB,SAAV,CAAoBsiB,WAApB,GAAkC,YAAY;EAC5C,aAAO,IAAIpf,IAAJ,CAAS,KAAKG,KAAd,CAAP;EACD,KAFD,CAjwImB;;;EAswInBgd,IAAAA,KAAK,CAACY,SAAD,CAAL;EACApT,IAAAA,GAAG,CAACoT,SAAD,CAAH;EACAS,IAAAA,IAAI,CAACT,SAAD,CAAJ;EACAgB,IAAAA,OAAO,CAAChB,SAAD,CAAP;EACAnX,IAAAA,IAAI,CAACmX,SAAD,CAAJ;EACA,QAAIsB,SAAS,GAAGtB,SAAhB;;EAEA,QAAIuB,QAAQ,GAAG,SAASA,QAAT,CAAkBhN,CAAlB,EAAqB2C,CAArB,EAAwB;EACrC,UAAI7U,KAAK,GAAG,IAAIif,SAAJ,CAAc,IAAd,CAAZ;EACA,UAAIhf,GAAG,GAAG,IAAIgf,SAAJ,CAAc,IAAd,CAAV;EACAjf,MAAAA,KAAK,GAAGA,KAAK,CAACtG,IAAN,CAAWwY,CAAX,CAAR,CAHqC;;EAKrC,UAAI2C,CAAJ,EAAO;EACL5U,QAAAA,GAAG,GAAGA,GAAG,CAACvG,IAAJ,CAASmb,CAAT,CAAN;EACD,OAFD,MAEO;EACL5U,QAAAA,GAAG,GAAGD,KAAK,CAACuK,GAAN,CAAU,EAAV,EAAc,SAAd,CAAN;EACD;;EAED,UAAI4U,SAAS,GAAGnf,KAAK,CAACL,IAAN,EAAhB;EACA,UAAIyf,OAAO,GAAGnf,GAAG,CAACN,IAAJ,EAAd;EACA,UAAI0f,GAAG,GAAGjiB,MAAM,CAAC2E,IAAP,CAAY/B,KAAK,CAACW,SAAlB,EAA6B+S,MAA7B,CAAoC,UAAU9S,EAAV,EAAc;EAC1D,YAAIA,EAAE,CAAC+O,OAAH,CAAW,GAAX,MAAoB,CAAC,CAAzB,EAA4B;EAC1B,iBAAO,KAAP;EACD;;EAED,YAAI1X,CAAC,GAAG,IAAIgnB,SAAJ,CAAc,IAAd,EAAoBre,EAApB,CAAR;EACA,YAAIjB,IAAI,GAAG1H,CAAC,CAAC0H,IAAF,EAAX,CAN0D;;EAQ1D,YAAIA,IAAI,IAAIwf,SAAR,IAAqBxf,IAAI,IAAIyf,OAAjC,EAA0C;;EAExC,cAAIzf,IAAI,KAAKwf,SAAT,IAAsBlnB,CAAC,CAACsM,MAAF,KAAavE,KAAK,CAACuE,MAAN,EAAvC,EAAuD;EACrD,mBAAO,KAAP;EACD;;EAED,cAAI5E,IAAI,KAAKyf,OAAT,IAAoBnnB,CAAC,CAACsM,MAAF,KAAatE,GAAG,CAACsE,MAAJ,EAArC,EAAmD;EACjD,mBAAO,KAAP;EACD;;EAED,iBAAO,IAAP;EACD;;EAED,eAAO,KAAP;EACD,OAtBS,CAAV;EAuBA,aAAO8a,GAAP;EACD,KArCD;;EAuCA,QAAIC,UAAU,GAAGJ,QAAjB;EAEA,QAAIK,QAAQ,GAAG,QAAf;;EAEA,QAAI7J,IAAI,GAAG,SAASA,IAAT,CAAchO,KAAd,EAAqB9G,EAArB,EAAyBgJ,OAAzB,EAAkC;EAC3C,aAAO,IAAIqV,SAAJ,CAAcvX,KAAd,EAAqB9G,EAArB,EAAyBgJ,OAAzB,CAAP;EACD,KAFD,CAxzImB;;;EA6zInB,QAAI4V,QAAQ,GAAG,SAASA,QAAT,CAAkB/e,CAAlB,EAAqB;EAClC,UAAI8I,KAAK,GAAG9I,CAAC,CAACqJ,MAAF,IAAY,EAAxB;EACA1M,MAAAA,MAAM,CAAC2E,IAAP,CAAYwH,KAAZ,EAAmBnR,OAAnB,CAA2B,UAAU4J,CAAV,EAAa;EACtCvB,QAAAA,CAAC,GAAGA,CAAC,CAACuB,CAAD,CAAD,CAAKuH,KAAK,CAACvH,CAAD,CAAV,CAAJ;EACD,OAFD;EAGA,aAAOvB,CAAP;EACD,KAND,CA7zImB;;;EAs0InBiV,IAAAA,IAAI,CAACvL,GAAL,GAAW,UAAUvJ,EAAV,EAAcgJ,OAAd,EAAuB;EAChC,UAAInJ,CAAC,GAAG,IAAIwe,SAAJ,CAAc,IAAIrf,IAAJ,GAAW6I,OAAX,EAAd,EAAoC7H,EAApC,EAAwCgJ,OAAxC,CAAR;EACAnJ,MAAAA,CAAC,GAAG+e,QAAQ,CAAC/e,CAAD,CAAZ;EACA,aAAOA,CAAP;EACD,KAJD;;EAMAiV,IAAAA,IAAI,CAACnM,KAAL,GAAa,UAAU3I,EAAV,EAAcgJ,OAAd,EAAuB;EAClC,UAAInJ,CAAC,GAAG,IAAIwe,SAAJ,CAAc,IAAIrf,IAAJ,GAAW6I,OAAX,EAAd,EAAoC7H,EAApC,EAAwCgJ,OAAxC,CAAR;EACAnJ,MAAAA,CAAC,GAAG+e,QAAQ,CAAC/e,CAAD,CAAZ;EACA,aAAOA,CAAC,CAACoG,OAAF,CAAU,KAAV,CAAP;EACD,KAJD;;EAMA6O,IAAAA,IAAI,CAACpL,QAAL,GAAgB,UAAU1J,EAAV,EAAcgJ,OAAd,EAAuB;EACrC,UAAInJ,CAAC,GAAG,IAAIwe,SAAJ,CAAc,IAAIrf,IAAJ,GAAW6I,OAAX,EAAd,EAAoC7H,EAApC,EAAwCgJ,OAAxC,CAAR;EACAnJ,MAAAA,CAAC,GAAG+e,QAAQ,CAAC/e,CAAD,CAAZ;EACA,aAAOA,CAAC,CAAC8J,GAAF,CAAM,CAAN,EAAS,KAAT,EAAgB1D,OAAhB,CAAwB,KAAxB,CAAP;EACD,KAJD;;EAMA6O,IAAAA,IAAI,CAAClL,SAAL,GAAiB,UAAU5J,EAAV,EAAcgJ,OAAd,EAAuB;EACtC,UAAInJ,CAAC,GAAG,IAAIwe,SAAJ,CAAc,IAAIrf,IAAJ,GAAW6I,OAAX,EAAd,EAAoC7H,EAApC,EAAwCgJ,OAAxC,CAAR;EACAnJ,MAAAA,CAAC,GAAG+e,QAAQ,CAAC/e,CAAD,CAAZ;EACA,aAAOA,CAAC,CAACgK,QAAF,CAAW,CAAX,EAAc,KAAd,EAAqB5D,OAArB,CAA6B,KAA7B,CAAP;EACD,KAJD;;EAMA6O,IAAAA,IAAI,CAAC+J,MAAL,GAAc,UAAUnjB,GAAV,EAAe;EAC3Bc,MAAAA,MAAM,CAAC2E,IAAP,CAAYzF,GAAZ,EAAiBlE,OAAjB,CAAyB,UAAU4J,CAAV,EAAa;EACpCid,QAAAA,SAAS,CAACviB,SAAV,CAAoBsF,CAApB,IAAyB1F,GAAG,CAAC0F,CAAD,CAA5B;EACD,OAFD;EAGA,aAAO,IAAP;EACD,KALD;;EAOA0T,IAAAA,IAAI,CAAC/U,SAAL,GAAiB,YAAY;EAC3B,UAAIF,CAAC,GAAG,IAAIwe,SAAJ,EAAR;EACA,aAAOxe,CAAC,CAACE,SAAT;EACD,KAHD,CAr2ImB;;;EA22InB+U,IAAAA,IAAI,CAACwJ,QAAL,GAAgBI,UAAhB;EACA5J,IAAAA,IAAI,CAACgK,OAAL,GAAeH,QAAf,CA52ImB;;EA82InB7J,IAAAA,IAAI,CAACiK,MAAL,GAAcjK,IAAI,CAAC+J,MAAnB;EACA,QAAIG,GAAG,GAAGlK,IAAV;EAEA,WAAOkK,GAAP;EAED,GAv3IA,CAAD;;;ECAA;EACA;;EAGA,IAAMC,OAAO,GAAG,UAAhB;EACA,IAAMC,IAAI,GAAG,OAAb;EACA,IAAMC,MAAM,GAAG,SAAf;EACA,IAAMC,MAAM,GAAG,SAAf;EACA,IAAMC,GAAG,GAAG,YAAZ;EACA,IAAMC,GAAG,GAAG,UAAZ;EAEA,IAAMC,QAAQ,GAAG;;EAEf,yBAAuBJ,MAAM,GAAG,QAFjB;EAGfK,EAAAA,GAAG,EAAEL,MAAM,GAAG,QAHC;EAIf,kBAAgBA,MAAM,GAAG,QAJV;EAKf,kBAAgBA,MAAM,GAAG,QALV;EAMf,uBAAqBA,MAAM,GAAG,QANf;EAOf,gBAAcA,MAAM,GAAG,QAPR;EAQfM,EAAAA,OAAO,EAAEN,MAAM,GAAG,QARH;EASf,2BAAyBA,MAAM,GAAG,QATnB;EAUfO,EAAAA,GAAG,EAAEP,MAAM,GAAG,QAVC;EAWf,kCAAgCA,MAAM,GAAG,QAX1B;EAYfQ,EAAAA,IAAI,EAAER,MAAM,GAAG,QAZA;EAaf,oBAAkBA,MAAM,GAAG,QAbZ;EAcf,2BAAyBA,MAAM,GAAG,MAdnB;EAefS,EAAAA,GAAG,EAAET,MAAM,GAAG,MAfC;EAgBf,kCAAgCA,MAAM,GAAG,MAhB1B;EAiBfU,EAAAA,IAAI,EAAEV,MAAM,GAAG,MAjBA;EAkBf,yBAAuBA,MAAM,GAAG,MAlBjB;EAmBf,2BAAyBA,MAAM,GAAG,QAnBnB;;EAqBf,kCAAgCA,MAAM,GAAG,QArB1B;;EAuBf,oBAAkBA,MAAM,GAAG,QAvBZ;EAwBf,0BAAwBA,MAAM,GAAG,UAxBlB;EAyBfW,EAAAA,GAAG,EAAEX,MAAM,GAAG,UAzBC;EA0Bf,kBAAgBA,MAAM,GAAG,UA1BV;;EA6BfY,EAAAA,GAAG,EAAEX,MAAM,GAAG,UA7BC;EA8BfY,EAAAA,GAAG,EAAEZ,MAAM,GAAG,UA9BC;EA+Bf,6BAA2BA,MAAM,GAAG,UA/BrB;EAgCfa,EAAAA,GAAG,EAAEb,MAAM,GAAG,UAhCC;EAiCf,sBAAoBA,MAAM,GAAG,SAjCd;;EAmCf,uBAAqBA,MAAM,GAAG,SAnCf;EAoCf,yBAAuBA,MAAM,GAAG,SApCjB;EAqCf,yBAAuBA,MAAM,GAAG,UArCjB;;EAuCf,0BAAwBA,MAAM,GAAG,UAvClB;EAwCf,gCAA8BA,MAAM,GAAG,cAxCxB;EAyCfc,EAAAA,IAAI,EAAEd,MAAM,GAAG,cAzCA;EA0Cf,qBAAmBA,MAAM,GAAG,cA1Cb;EA2Cf,mBAAiBA,MAAM,GAAG,cA3CX;EA4Cf,+BAA6BA,MAAM,GAAG,OA5CvB;;EA8Cf,yBAAuBA,MAAM,GAAG,OA9CjB;EA+Cf,uBAAqBA,MAAM,GAAG,OA/Cf;EAiDf,sCAAoCC,GAAG,GAAG,UAjD3B;EAkDfc,EAAAA,IAAI,EAAEd,GAAG,GAAG,UAlDG;EAmDf,sCAAoCA,GAAG,GAAG,UAnD3B;EAoDfe,EAAAA,IAAI,EAAEf,GAAG,GAAG,UApDG;EAqDf,uBAAqBA,GAAG,GAAG,UArDZ;EAsDf,sCAAoCA,GAAG,GAAG,UAtD3B;EAuDfgB,EAAAA,IAAI,EAAEhB,GAAG,GAAG,UAvDG;EAwDf,sCAAoCA,GAAG,GAAG,UAxD3B;EAyDfiB,EAAAA,IAAI,EAAEjB,GAAG,GAAG,UAzDG;EA0Df,oBAAkBA,GAAG,GAAG,UA1DT;EA2Df,sCAAoCA,GAAG,GAAG,OA3D3B;EA4DfkB,EAAAA,IAAI,EAAElB,GAAG,GAAG,OA5DG;EA6Df,sCAAoCA,GAAG,GAAG,OA7D3B;EA8DfmB,EAAAA,IAAI,EAAEnB,GAAG,GAAG,OA9DG;EA+Df,oBAAkBA,GAAG,GAAG,OA/DT;EAgEf,8CAA4CA,GAAG,GAAG,OAhEnC;EAiEfoB,EAAAA,KAAK,EAAEpB,GAAG,GAAG,OAjEE;EAkEf,4BAA0BA,GAAG,GAAG,OAlEjB;EAmEf,6BAA2BA,GAAG,GAAG,WAnElB;EAoEfqB,EAAAA,IAAI,EAAErB,GAAG,GAAG,WApEG;EAqEf,6BAA2BA,GAAG,GAAG,WArElB;EAsEfsB,EAAAA,IAAI,EAAEtB,GAAG,GAAG,WAtEG;EAuEf,2BAAyBF,MAAM,GAAG,QAvEnB;EAwEfyB,EAAAA,GAAG,EAAEzB,MAAM,GAAG,QAxEC;EAyEf0B,EAAAA,OAAO,EAAE1B,MAAM,GAAG,QAzEH;;EA4Ef,2BAAyBF,OAAO,GAAG,SA5EpB;EA6Ef,kBAAgBA,OAAO,GAAG,SA7EX;EA8Ef6B,EAAAA,GAAG,EAAE7B,OAAO,GAAG,QA9EA;EA+Ef,2BAAyBA,OAAO,GAAG,SA/EpB;EAgFf8B,EAAAA,GAAG,EAAE9B,OAAO,GAAG,QAhFA;EAiFf,4BAA0BA,OAAO,GAAG,QAjFrB;EAkFf,mBAAiBA,OAAO,GAAG,QAlFZ;EAmFf+B,EAAAA,GAAG,EAAE/B,OAAO,GAAG,QAnFA;EAoFf,4BAA0BA,OAAO,GAAG,QApFrB;EAqFfgC,EAAAA,GAAG,EAAEhC,OAAO,GAAG,QArFA;EAsFf,4BAA0BA,OAAO,GAAG,SAtFrB;EAuFf,mBAAiBA,OAAO,GAAG,SAvFZ;EAwFfiC,EAAAA,GAAG,EAAEhC,IAAI,GAAG,SAxFG;EAyFf,4BAA0BD,OAAO,GAAG,SAzFrB;EA0FfkC,EAAAA,GAAG,EAAElC,OAAO,GAAG,SA1FA;EA2Ff,2BAAyBA,OAAO,GAAG,UA3FpB;EA4Ff,kBAAgBA,OAAO,GAAG,UA5FX;EA6FfmC,EAAAA,GAAG,EAAEnC,OAAO,GAAG,UA7FA;EA8Ff,2BAAyBA,OAAO,GAAG,UA9FpB;EA+FfoC,EAAAA,GAAG,EAAEpC,OAAO,GAAG,UA/FA;EAgGf,kBAAgBA,OAAO,GAAG,aAhGX;EAiGf,2BAAyBA,OAAO,GAAG,aAjGpB;EAkGfqC,EAAAA,GAAG,EAAErC,OAAO,GAAG,aAlGA;EAmGf,2BAAyBA,OAAO,GAAG,aAnGpB;EAoGfsC,EAAAA,GAAG,EAAEtC,OAAO,GAAG,aApGA;EAqGf,2BAAyBA,OAAO,GAAG,WArGpB;EAsGf,kBAAgBA,OAAO,GAAG,WAtGX;EAuGfuC,EAAAA,IAAI,EAAEvC,OAAO,GAAG,WAvGD;EAwGf,2BAAyBA,OAAO,GAAG,WAxGpB;EAyGfwC,EAAAA,IAAI,EAAExC,OAAO,GAAG,WAzGD;EA0Gf,4BAA0BK,GAAG,GAAG,UA1GjB;EA2Gf,mBAAiBA,GAAG,GAAG,UA3GR;EA4GfoC,EAAAA,GAAG,EAAEpC,GAAG,GAAG,UA5GI;EA6Gf,mBAAiBA,GAAG,GAAG,UA7GR;EA8Gf,iBAAeA,GAAG,GAAG,UA9GN;EA+Gf,gCAA8BL,OAAO,GAAG,UA/GzB;EAgHf,uBAAqBA,OAAO,GAAG,UAhHhB;EAiHf0C,EAAAA,GAAG,EAAE1C,OAAO,GAAG,UAjHA;EAkHf,gCAA8BA,OAAO,GAAG,UAlHzB;EAmHf2C,EAAAA,GAAG,EAAE3C,OAAO,GAAG,UAnHA;EAoHf,iBAAeA,OAAO,GAAG,WApHV;EAqHf4C,EAAAA,GAAG,EAAE5C,OAAO,GAAG,WArHA;EAsHf6C,EAAAA,QAAQ,EAAE7C,OAAO,GAAG,WAtHL;EAuHf8C,EAAAA,QAAQ,EAAE9C,OAAO,GAAG,WAvHL;EAwHf,oBAAkBA,OAAO,GAAG,WAxHb;EAyHf,oBAAkBA,OAAO,GAAG,cAzHb;;EA2Hf,sBAAoBA,OAAO,GAAG,cA3Hf;EA4Hf,iBAAeA,OAAO,GAAG,QA5HV;EA6Hf+C,EAAAA,GAAG,EAAE/C,OAAO,GAAG,QA7HA;EA8Hf,oBAAkBA,OAAO,GAAG,QA9Hb;EA+Hf,iCAA+B,oBA/HhB;EAgIfgD,EAAAA,IAAI,EAAE,oBAhIS;EAiIf,+BAA6B,oBAjId;EAkIfC,EAAAA,KAAK,EAAE,oBAlIQ;EAmIf,8BAA4BjD,OAAO,GAAG,SAnIvB;EAoIf,qBAAmBA,OAAO,GAAG,SApId;EAqIfkD,EAAAA,GAAG,EAAElD,OAAO,GAAG,SArIA;EAsIf,oBAAkBA,OAAO,GAAG,SAtIb;EAuIf,mBAAiBA,OAAO,GAAG,UAvIZ;EAwIfmD,EAAAA,GAAG,EAAEnD,OAAO,GAAG,UAxIA;EAyIf,0BAAwBA,OAAO,GAAG,UAzInB;EA0IfoD,EAAAA,IAAI,EAAEpD,OAAO,GAAG,UA1ID;EA2If,wBAAsBA,OAAO,GAAG,QA3IjB;EA4If,eAAaA,OAAO,GAAG,QA5IR;EA6If,wBAAsBA,OAAO,GAAG,QA7IjB;EA8If,gBAAcA,OAAO,GAAG,QA9IT;EA+If,kBAAgBA,OAAO,GAAG,QA/IX;;EAiJf,mBAAiBA,OAAO,GAAG,QAjJZ;EAkJf,mBAAiBA,OAAO,GAAG,QAlJZ;EAmJfqD,EAAAA,GAAG,EAAErD,OAAO,GAAG,QAnJA;EAoJf,oBAAkBA,OAAO,GAAG,QApJb;EAqJf,eAAaA,OAAO,GAAG,UArJR;;EAuJf,eAAaA,OAAO,GAAG,MAvJR;;EAyJf,yBAAuBA,OAAO,GAAG,cAzJlB;EA0Jf,gBAAcA,OAAO,GAAG,cA1JT;EA2JfsD,EAAAA,IAAI,EAAEtD,OAAO,GAAG,cA3JD;EA4Jf,uBAAqBA,OAAO,GAAG,cA5JhB;EA6JfuD,EAAAA,IAAI,EAAEvD,OAAO,GAAG,cA7JD;EA8Jf,kBAAgBA,OAAO,GAAG,YA9JX;EA+JfwD,EAAAA,GAAG,EAAExD,OAAO,GAAG,YA/JA;;EAkKfyD,EAAAA,GAAG,EAAExD,IAAI,GAAG,WAlKG;EAmKf,0BAAwBA,IAAI,GAAG,SAnKhB;EAoKf,iBAAeA,IAAI,GAAG,SApKP;EAqKf,eAAaA,IAAI,GAAG,SArKL;EAsKf,wBAAsBA,IAAI,GAAG,QAtKd;EAuKf,eAAaA,IAAI,GAAG,QAvKL;EAwKfyD,EAAAA,IAAI,EAAEzD,IAAI,GAAG,QAxKE;EAyKf,wBAAsBA,IAAI,GAAG,QAzKd;EA0Kf0D,EAAAA,IAAI,EAAE1D,IAAI,GAAG,QA1KE;EA2Kf2D,EAAAA,OAAO,EAAE3D,IAAI,GAAG,QA3KD;EA4Kf,4BAA0BA,IAAI,GAAG,SA5KlB;EA6Kf,mBAAiBA,IAAI,GAAG,SA7KT;EA8Kf4D,EAAAA,GAAG,EAAE5D,IAAI,GAAG,SA9KG;EA+Kf,yBAAuBA,IAAI,GAAG,SA/Kf;EAgLf,iBAAeA,IAAI,GAAG,SAhLP;EAiLf,oBAAkBA,IAAI,GAAG,SAjLV;EAkLf6D,EAAAA,GAAG,EAAE7D,IAAI,GAAG,SAlLG;EAmLf,qBAAmBA,IAAI,GAAG,SAnLX;EAoLf,yBAAuBA,IAAI,GAAG,UApLf;EAqLf8D,EAAAA,EAAE,EAAE9D,IAAI,GAAG,UArLI;EAsLf,kBAAgBA,IAAI,GAAG,UAtLR;EAuLf,mBAAiBA,IAAI,GAAG,QAvLT;EAwLf+D,EAAAA,IAAI,EAAE/D,IAAI,GAAG,QAxLE;EAyLf,eAAaA,IAAI,GAAG,MAzLL;EA0Lf,eAAaA,IAAI,GAAG,MA1LL;EA2Lf,kBAAgBA,IAAI,GAAG,SA3LR;EA4LfgE,EAAAA,IAAI,EAAEhE,IAAI,GAAG,SA5LE;EA6Lf,wBAAsBA,IAAI,GAAG,OA7Ld;EA8Lf,eAAaA,IAAI,GAAG,OA9LL;EA+LfiE,EAAAA,GAAG,EAAEjE,IAAI,GAAG,OA/LG;EAgMfkE,EAAAA,GAAG,EAAElE,IAAI,GAAG,OAhMG;EAiMf,oBAAkBA,IAAI,GAAG,WAjMV;EAkMfmE,EAAAA,GAAG,EAAEnE,IAAI,GAAG,WAlMG;EAmMf,6BAA2BA,IAAI,GAAG,SAnMnB;EAoMfoE,EAAAA,GAAG,EAAEpE,IAAI,GAAG,SApMG;EAqMf,oBAAkBA,IAAI,GAAG,SArMV;EAsMf,6BAA2BA,IAAI,GAAG,UAtMnB;EAuMfqE,EAAAA,IAAI,EAAErE,IAAI,GAAG,UAvME;EAwMf,0BAAwBA,IAAI,GAAG,WAxMhB;EAyMfsE,EAAAA,GAAG,EAAEtE,IAAI,GAAG,WAzMG;EA0Mf,0BAAwBA,IAAI,GAAG,WA1MhB;EA2Mf,iBAAeA,IAAI,GAAG,WA3MP;EA4MfuE,EAAAA,OAAO,EAAEvE,IAAI,GAAG,WA5MD;EA6Mf,sBAAoBA,IAAI,GAAG,aA7MZ;EA8MfwE,EAAAA,IAAI,EAAExE,IAAI,GAAG,aA9ME;EA+Mf,mBAAiBA,IAAI,GAAG,cA/MT;EAgNfyE,EAAAA,GAAG,EAAEzE,IAAI,GAAG,cAhNG;EAiNf,oBAAkBA,IAAI,GAAG,WAjNV;EAkNf0E,EAAAA,GAAG,EAAE1E,IAAI,GAAG,WAlNG;EAmNf,yBAAuBA,IAAI,GAAG,OAnNf;EAoNf,gBAAcA,IAAI,GAAG,OApNN;EAqNf2E,EAAAA,GAAG,EAAE3E,IAAI,GAAG,OArNG;EAsNf,iBAAeA,IAAI,GAAG,OAtNP;EAuNf,qBAAmBA,IAAI,GAAG,WAvNX;EAwNf4E,EAAAA,GAAG,EAAE5E,IAAI,GAAG,WAxNG;EAyNf,sBAAoBA,IAAI,GAAG,aAzNZ;EA0Nf6E,EAAAA,IAAI,EAAE7E,IAAI,GAAG,aA1NE;;EA6Nf,mBAAiB,iBA7NF;EA8Nf8E,EAAAA,GAAG,EAAE,iBA9NU;EA+Nf,oBAAkB,kBA/NH;EAgOfC,EAAAA,GAAG,EAAE,kBAhOU;;EAmOf,2BAAyB3E,GAAG,GAAG,WAnOhB;EAoOf4E,EAAAA,GAAG,EAAE5E,GAAG,GAAG,WApOI;EAqOf,yBAAuBA,GAAG,GAAG,QArOd;EAsOf6E,EAAAA,GAAG,EAAE7E,GAAG,GAAG,QAtOI;EAuOf,iBAAeA,GAAG,GAAG,QAvON;EAwOf,4BAA0BA,GAAG,GAAG,MAxOjB;EAyOf8E,EAAAA,IAAI,EAAE9E,GAAG,GAAG,MAzOG;EA0Of,2BAAyBA,GAAG,GAAG,cA1OhB;EA2Of+E,EAAAA,GAAG,EAAE/E,GAAG,GAAG;EA3OI,CAAjB;;EA+OA,IAAIgF,IAAI,GAAGjG,SAAS,GAAGte,SAAvB;EACA,IAAIwkB,MAAM,GAAG/nB,MAAM,CAAC2E,IAAP,CAAYmjB,IAAZ,EAAkBvhB,MAAlB,CAAyB,UAACC,CAAD,EAAI5B,CAAJ,EAAU;EAC9C4B,EAAAA,CAAC,CAAC5B,CAAD,CAAD,GAAOA,CAAP;EACA,SAAO4B,CAAP;EACD,CAHY,EAGV,EAHU,CAAb;;EAIA,cAAc,GAAGxG,MAAM,CAAC8N,MAAP,CAAc,EAAd,EAAkBiV,QAAlB,EAA4BgF,MAA5B,CAAjB;;EChQA,SAAc,GAAG,CACf,SADe,EAGf,QAHe,EAIf,QAJe,EAKf,QALe,EAOf,UAPe,EAQf,SARe,EASf,SATe,EAUf,YAVe,EAYf,KAZe,EAaf,KAbe,EAcf,KAde,EAef,eAfe,EAgBf,eAhBe,EAiBf,WAjBe,CAAjB;;ECAA,eAAc,GAAG,CACf,WADe,EAEf,SAFe,EAGf,KAHe,EAIf,MAJe,EAKf,QALe,EAMf,SANe,EAOf,MAPe,EAQf,OARe,EASf,IATe,EAUf,KAVe,EAWf,aAXe,EAYf,cAZe,EAaf,QAbe,EAcf,SAde,EAef,KAfe,EAgBf,MAhBe,EAiBf,OAjBe,EAkBf,QAlBe,EAmBf,SAnBe,EAoBf,KApBe,EAqBf,MArBe,EAsBf,UAtBe,EAuBf,WAvBe,EAwBf,SAxBe,EAyBf,UAzBe,EA0Bf,MA1Be,EA2Bf,OA3Be,EA4Bf,IA5Be,EA6Bf,KA7Be,EA8Bf,MA9Be,EA+Bf,OA/Be,EAgCf,IAhCe,EAiCf,KAjCe,EAkCf,SAlCe;EAoCf,KApCe,EAqCf,MArCe,EAsCf,QAtCe,EAuCf,SAvCe,CAAjB;;ECAA,YAAc,GAAG,CACf,iBADe,EAEf,gBAFe,EAGf,aAHe,EAIf,aAJe,EAKf,eALe,EAMf,eANe,EAOf,cAPe,EAQf,YARe,EASf,YATe,EAUf,eAVe,EAWf,WAXe,EAYf,eAZe,EAaf,iBAbe,EAcf,gBAde,EAef,yBAfe,EAgBf,kBAhBe,EAiBf,kBAjBe,EAkBf,eAlBe,EAmBf,WAnBe,EAoBf,iBApBe,EAqBf,kBArBe,EAsBf,kBAtBe,EAuBf,kBAvBe,EAwBf,YAxBe,EAyBf,YAzBe,EA0Bf,sBA1Be,EA2Bf,qBA3Be,EA4Bf,eA5Be,EA6Bf,WA7Be,EA8Bf,kBA9Be,EA+Bf,kBA/Be,EAgCf,gBAhCe,EAiCf,mBAjCe,EAkCf,oBAlCe,EAmCf,oBAnCe,EAoCf,sBApCe,EAqCf,gBArCe,EAsCf,iBAtCe,EAuCf,iBAvCe,EAwCf,oBAxCe,EAyCf,gBAzCe,EA0Cf,YA1Ce,EA2Cf,cA3Ce,EA4Cf,cA5Ce,EA6Cf,qBA7Ce,EA8Cf,MA9Ce;;EAiDf,UAjDe,EAkDf,wBAlDe,EAmDf,mBAnDe,EAoDf,oBApDe,EAqDf,eArDe,EAsDf,oCAtDe,EAuDf,gCAvDe;EA0Df,SA1De;EA4Df,QA5De,EA6Df,UA7De,EA8Df,aA9De,EA+Df,SA/De,EAgEf,wBAhEe,EAiEf,SAjEe,EAkEf,gBAlEe,EAmEf,YAnEe,EAoEf,SApEe,EAqEf,kBArEe,EAsEf,aAtEe,EAuEf,cAvEe,EAwEf,aAxEe,EAyEf,cAzEe,EA0Ef,wBA1Ee,EA2Ef,uBA3Ee,EA4Ef,cA5Ee,EA6Ef,cA7Ee,EA8Ef,OA9Ee,EA+Ef,YA/Ee,EAgFf,cAhFe,EAiFf,cAjFe;EAmFf,eAnFe,EAoFf,aApFe,EAqFf,iBArFe,EAsFf,aAtFe,EAuFf,eAvFe,EAwFf,QAxFe,EAyFf,eAzFe,EA0Ff,eA1Fe,EA2Ff,sBA3Fe,EA4Ff,wBA5Fe,EA6Ff,iBA7Fe,EA8Ff,wBA9Fe,EA+Ff,eA/Fe,EAgGf,WAhGe,EAiGf,YAjGe,EAkGf,aAlGe,EAmGf,aAnGe,EAoGf,gBApGe,EAqGf,gBArGe,EAsGf,QAtGe;EAwGf,YAxGe,EAyGf,YAzGe,EA0Gf,OA1Ge,EA2Gf,UA3Ge,EA4Gf,aA5Ge,EA6Gf,YA7Ge,EA8Gf,SA9Ge,EA+Gf,WA/Ge,EAgHf,cAhHe,EAiHf,YAjHe,EAkHf,QAlHe,EAmHf,gBAnHe,EAoHf,eApHe,EAqHf,UArHe,EAsHf,UAtHe;EAwHf,gBAxHe,EAyHf,gBAzHe,EA0Hf,aA1He,EA2Hf,YA3He,EA4Hf,aA5He,EA6Hf,SA7He,EA8Hf,aA9He,EA+Hf,UA/He,EAgIf,uBAhIe,EAiIf,QAjIe,EAkIf,eAlIe,EAmIf,gBAnIe,EAoIf,OApIe,EAqIf,gBArIe,EAsIf,kBAtIe,EAuIf,OAvIe,EAwIf,mBAxIe,EAyIf,cAzIe,EA0If,kBA1Ie,EA2If,MA3Ie,EA4If,mBA5Ie,EA6If,iBA7Ie;EA+If,kBA/Ie,EAgJf,QAhJe,CAAjB;;ECAA,WAAc,GAAG,CACf,MADe,EAEf,UAFe,EAGf,SAHe,EAIf,SAJe,EAKf,SALe,EAMf,WANe,EAOf,gBAPe,EAQf,WARe,EASf,YATe,EAUf,QAVe,EAWf,KAXe,EAYf,QAZe,EAaf,QAbe,EAcf,UAde;;;;EAAA,CAAjB;;ECCA,IAAMtjB,IAAI,GAAG,CACX,CAACjH,KAAD,EAAqB,OAArB,CADW,EAEX,CAACC,WAAD,EAAyB,WAAzB,CAFW,EAGX,CAACC,QAAD,EAAwB,UAAxB,CAHW,EAIX,CAACC,OAAD,EAAqB,OAArB,CAJW,EAKX,CAACqC,MAAM,CAAC2E,IAAP,CAAYpB,UAAZ,CAAD,EAAyB,WAAzB,CALW,CAAb;EAOA,IAAIykB,GAAG,GAAG;EACR,cAAY,OADJ;EAER/Y,EAAAA,IAAI,EAAE;EAFE,CAAV;EAIAxK,IAAI,CAACzJ,OAAL,CAAa,UAAC8Z,CAAD,EAAO;EAClB,OAAK,IAAIrV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqV,CAAC,CAAC,CAAD,CAAD,CAAKlU,MAAzB,EAAiCnB,CAAC,EAAlC,EAAsC;EACpCuoB,IAAAA,GAAG,CAAClT,CAAC,CAAC,CAAD,CAAD,CAAKrV,CAAL,CAAD,CAAH,GAAeqV,CAAC,CAAC,CAAD,CAAhB;EACD;EACF,CAJD;EAMA,SAAc,GAAGkT,GAAjB;;MChBMC;EACJ,gBAAY3d,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAChC,SAAK3gB,IAAL,GAAYA,IAAI,IAAI,KAApB;EACA2gB,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;EACA,QAAI/b,KAAK,GAAG,EAAZ;;EACA,QAAI+b,OAAO,CAAC/b,KAAZ,EAAmB;EACjBA,MAAAA,KAAK,GAAG;EACNlQ,QAAAA,IAAI,EAAEisB,OAAO,CAAC/b,KAAR,CAAclQ,IAAd,EADA;EAENN,QAAAA,KAAK,EAAEusB,OAAO,CAAC/b,KAAR,CAAcxQ,KAAd,EAFD;EAGNoG,QAAAA,IAAI,EAAEmmB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd;EAHA,OAAR;EAKD,KAV+B;;;EAYhC,QAAI5E,CAAC,GAAG0kB,SAAS,CAACvX,KAAD,EAAQ4d,OAAO,CAAC1iB,QAAhB,EAA0B;EAAE2G,MAAAA,KAAK,EAAEA;EAAT,KAA1B,CAAjB,CAZgC;;;;;EAkBhCnM,IAAAA,MAAM,CAACwhB,cAAP,CAAsB,IAAtB,EAA4B,GAA5B,EAAiC;EAC/B2G,MAAAA,UAAU,EAAE,KADmB;EAE/BC,MAAAA,QAAQ,EAAE,IAFqB;EAG/BznB,MAAAA,KAAK,EAAExD;EAHwB,KAAjC;EAKA6C,IAAAA,MAAM,CAACwhB,cAAP,CAAsB,IAAtB,EAA4B,SAA5B,EAAuC;EACrC2G,MAAAA,UAAU,EAAE,KADyB;EAErCC,MAAAA,QAAQ,EAAE,IAF2B;EAGrCznB,MAAAA,KAAK,EAAEunB;EAH8B,KAAvC;EAKD;;;;;aAED,iBAAQ;EACN,UAAI/qB,CAAC,GAAG,IAAI8qB,IAAJ,CAAS,KAAK9qB,CAAd,EAAiB,KAAKoK,IAAtB,EAA4B,KAAK2gB,OAAjC,CAAR;EACA,aAAO/qB,CAAP;EACD;;;aACD,eAAM;EACJsG,MAAAA,OAAO,CAACsY,GAAR,CAAY,IAAZ;EACA,WAAK5e,CAAL,CAAO4e,GAAP;EACAtY,MAAAA,OAAO,CAACsY,GAAR,CAAY,IAAZ;EACA,aAAO,IAAP;EACD;;;aACD,sBAAqB;EAAA;;EAAA,UAAV7c,GAAU,uEAAJ,EAAI;EACnBc,MAAAA,MAAM,CAAC2E,IAAP,CAAYzF,GAAZ,EAAiBlE,OAAjB,CAAyB,UAACuM,IAAD,EAAU;EACjC,QAAA,KAAI,CAACpK,CAAL,GAAS,KAAI,CAACA,CAAL,CAAOgQ,GAAP,CAAWjO,GAAG,CAACqI,IAAD,CAAd,EAAsBA,IAAtB,CAAT;EACD,OAFD;EAGA,aAAO,IAAP;EACD;;;aACD,mBAAUrM,GAAV,EAAe;EACb,UAAIA,GAAJ,EAAS;EACP,aAAKiC,CAAL,GAAS,KAAKA,CAAL,CAAOb,IAAP,CAAYpB,GAAZ,CAAT;EACD,OAFD,MAEO;EACL,aAAKiC,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAf,CAAT,CADK;EAEN;;EACD,aAAO,IAAP;EACD;;;aACD,sBAAanH,GAAb,EAAkB;EAChB,UAAIA,GAAJ,EAAS;EACP,YAAIK,KAAK,GAAG,KAAKxF,CAAL,CAAOwF,KAAnB;EACA,aAAKxF,CAAL,GAAS,KAAKA,CAAL,CAAOmF,GAAP,CAAWA,GAAX,CAAT;;EACA,YAAI,KAAKnF,CAAL,CAAOwF,KAAP,GAAeA,KAAnB,EAA0B;EACxB,eAAKxF,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,MAAd,CAAT;EACD;EACF;;EACD,aAAO,IAAP;EACD;;;aACD,kBAASkb,GAAT,EAAc;EACZ,UAAIA,GAAG,KAAK,MAAZ,EAAoB;EAClB,eAAO,KAAK7nB,IAAL,EAAP;EACD;;EACD,UAAI6nB,GAAG,KAAK,MAAR,IAAkBA,GAAG,KAAK,WAA9B,EAA2C;;EAEzC,eAAO,KAAK1M,IAAL,EAAP;EACD;;EACD,aAAO,IAAP;EACD;;;aACD,sBAAa2M,OAAb,EAAsB;EACpB,UAAIA,OAAO,KAAK,OAAhB,EAAyB;EACvB,eAAO,KAAK1lB,KAAL,EAAP;EACD;;EACD,UAAI0lB,OAAO,KAAK,KAAhB,EAAuB;EACrB,eAAO,KAAKzlB,GAAL,EAAP;EACD;;EACD,UAAIylB,OAAO,KAAK,QAAhB,EAA0B;EACxB,eAAO,KAAKC,MAAL,EAAP;EACD;;EACD,aAAO,IAAP;EACD;;;aACD,gBAAO9V,GAAP,EAAY;EACV,aAAO,KAAKtV,CAAL,CAAOmI,MAAP,CAAcmN,GAAd,CAAP;EACD;;;aACD,iBAAQ;EACN,WAAKtV,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,CAAT;;EACA,UAAI,KAAK2gB,OAAL,CAAaM,QAAjB,EAA2B;EACzB,aAAKrrB,CAAL,GAAS,KAAKA,CAAL,CAAOb,IAAP,CAAY,KAAK4rB,OAAL,CAAaM,QAAzB,CAAT;EACD;;EACD,aAAO,IAAP;EACD;;;aACD,eAAM;EACJ,WAAKrrB,CAAL,GAAS,KAAKA,CAAL,CAAO6Z,KAAP,CAAa,KAAKzP,IAAlB,CAAT;;EACA,UAAI,KAAK2gB,OAAL,CAAaO,MAAjB,EAAyB;EACvB,aAAKtrB,CAAL,GAAS,KAAKA,CAAL,CAAOb,IAAP,CAAY,KAAK4rB,OAAL,CAAaO,MAAzB,CAAT;EACD;;EACD,aAAO,IAAP;EACD;;;aACD,kBAAS;EACP,UAAI7gB,IAAI,GAAG,KAAKzK,CAAL,CAAOyK,IAAP,CAAY,KAAKzK,CAAL,CAAO6Z,KAAP,CAAa,KAAKzP,IAAlB,CAAZ,CAAX;EACA,UAAIqE,OAAO,GAAG/D,IAAI,CAACyU,KAAL,CAAW1U,IAAI,CAACgE,OAAL,GAAe,CAA1B,CAAd;EACA,WAAKzO,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAWvB,OAAX,EAAoB,SAApB,CAAT;EACA,aAAO,IAAP;EACD;;;;aAED,qBAAY;EACV,UAAIhE,IAAI,GAAG,KAAKzK,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,EAA0BK,IAA1B,CAA+B,KAAKzK,CAAL,CAAO6Z,KAAP,CAAa,KAAKzP,IAAlB,CAA/B,CAAX;EACA,UAAImhB,IAAI,GAAG7gB,IAAI,CAACyU,KAAL,CAAW1U,IAAI,CAACgE,OAAL,GAAe,CAA1B,CAAX;EACA,WAAKzO,CAAL,GAAS,KAAKA,CAAL,CAAO6Z,KAAP,CAAa,KAAKzP,IAAlB,CAAT;EACA,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAayJ,IAAb,EAAmB,SAAnB,CAAT;;EACA,UAAI,KAAKR,OAAL,CAAaM,QAAjB,EAA2B;EACzB,aAAKrrB,CAAL,GAAS,KAAKA,CAAL,CAAOb,IAAP,CAAY,KAAK4rB,OAAL,CAAaM,QAAzB,CAAT;EACD;;EACD,aAAO,IAAP;EACD;;;;aAED,kBAAS;EACP,WAAKrrB,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,KAAK1X,IAArB,CAAT;EACA,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAO6Z,KAAP,CAAa,KAAKzP,IAAlB,CAAT;;EACA,UAAI,KAAK2gB,OAAL,CAAaO,MAAjB,EAAyB;EACvB,aAAKtrB,CAAL,GAAS,KAAKA,CAAL,CAAOb,IAAP,CAAY,KAAK4rB,OAAL,CAAaO,MAAzB,CAAT;EACD;;EACD,aAAO,IAAP;EACD;;;;aAED,iBAAQ;EACN,WAAKtrB,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,KAAK5F,IAAnB,CAAT;EACA,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,CAAT;EACA,aAAO,IAAP;EACD;;;;aAED,gBAAO;EACL,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,KAAK5F,IAAnB,CAAT;EACA,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,CAAT;EACA,aAAO,IAAP;EACD;;;;aAED,gBAAO;EACL,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,KAAK1X,IAArB,CAAT;EACA,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,CAAT;EACA,aAAO,IAAP;EACD;;;;;;EAEH,UAAc,GAAG0gB,IAAjB;;MCpJMU;;;;;EACJ,eAAYre,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,8BAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,UAAK3gB,IAAL,GAAY,KAAZ;;EACA,QAAI,MAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,YAAK9Q,CAAL,GAAS,MAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAf,CAAT;EACD;;EAL+B;EAMjC;;;IAPewe;;;MAWZW;;;;;EACJ,wBAAYte,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,WAAK3gB,IAAL,GAAY,KAAZ;;EACA,QAAI,OAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAf,CAAT;EACD;;EAL+B;EAMjC;;;;aACD,gBAAO;EACL,WAAKtM,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,MAAd,CAAT;EACA,aAAO,IAAP;EACD;;;aACD,gBAAO;EACL,WAAKhQ,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,MAAhB,CAAT;EACA,aAAO,IAAP;EACD;;;;IAfwB0J;;MAkBrBE;;;;;EACJ,mBAAYve,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,WAAK3gB,IAAL,GAAY,MAAZ,CAFgC;;EAIhC,QAAI,OAAO+C,KAAP,KAAiB,QAArB,EAA+B;EAC7B,aAAKnN,CAAL,GAAS0kB,SAAS,CAACqG,OAAO,CAAC/b,KAAT,EAAgB+b,OAAO,CAAC1iB,QAAxB,CAAlB;EACA,aAAKrI,CAAL,GAAS,OAAKA,CAAL,CAAOmF,GAAP,CAAWgI,KAAX,CAAT,CAF6B;;EAI7B,UAAI,OAAKnN,CAAL,CAAOua,QAAP,CAAgBwQ,OAAO,CAAC/b,KAAxB,CAAJ,EAAoC;EAClC,eAAKhP,CAAL,GAAS,OAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,MAAd,CAAT;EACD;EACF,KAPD,MAOO;EACL,aAAKhQ,CAAL,GAASmN,KAAT;EACD;;EACD,WAAKwe,OAAL,GAAe,OAAK3rB,CAAL,CAAOsS,OAAP,EAAf;;EACA,QAAI,OAAKtS,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAf,CAAT;EACD;;EAjB+B;EAkBjC;;;;aACD,iBAAQ;EACN,aAAO,IAAIof,OAAJ,CAAY,KAAK1rB,CAAjB,EAAoB,KAAKoK,IAAzB,EAA+B,KAAK2gB,OAApC,CAAP;EACD;;;aACD,eAAM;EACJ,WAAK/qB,CAAL,GAAS,KAAKA,CAAL,CAAO6Z,KAAP,CAAa,KAAb,CAAT;;EACA,UAAI,KAAKkR,OAAL,CAAaO,MAAjB,EAAyB;EACvB,aAAKtrB,CAAL,GAAS,KAAKA,CAAL,CAAOb,IAAP,CAAY,KAAK4rB,OAAL,CAAaO,MAAzB,CAAT;EACD;;EACD,aAAO,IAAP;EACD;;;aACD,gBAAO;EACL,WAAKtrB,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,MAAd,CAAT;EACA,WAAKhQ,CAAL,GAAS,KAAKA,CAAL,CAAOmF,GAAP,CAAW,KAAKwmB,OAAhB,CAAT;EACA,aAAO,IAAP;EACD;;;aACD,gBAAO;EACL,WAAK3rB,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,MAAhB,CAAT;EACA,WAAK9hB,CAAL,GAAS,KAAKA,CAAL,CAAOmF,GAAP,CAAW,KAAKwmB,OAAhB,CAAT;EACA,aAAO,IAAP;EACD;;;;aAED,kBAAS;EACP,WAAK3rB,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,KAAhB,CAAT;EACA,WAAK9hB,CAAL,GAAS,KAAKA,CAAL,CAAO6Z,KAAP,CAAa,KAAb,CAAT;;EACA,UAAI,KAAKkR,OAAL,CAAaO,MAAjB,EAAyB;EACvB,aAAKtrB,CAAL,GAAS,KAAKA,CAAL,CAAOb,IAAP,CAAY,KAAK4rB,OAAL,CAAaO,MAAzB,CAAT;EACD;;EACD,aAAO,IAAP;EACD;;;aACD,kBAASJ,GAAT,EAAc;EACZ,UAAIA,GAAG,KAAK,MAAZ,EAAoB;EAClB,YAAIU,MAAM,GAAG,KAAKb,OAAL,CAAa/b,KAAb,CAAmB6K,KAAnB,CAAyB,MAAzB,EAAiC7J,GAAjC,CAAqC,CAArC,EAAwC,MAAxC,CAAb;EACA,aAAK3M,IAAL,GAFkB;;EAIlB,YAAI,KAAKrD,CAAL,CAAOwa,OAAP,CAAeoR,MAAf,CAAJ,EAA4B;EAC1B,eAAKpN,IAAL,GAD0B;EAE3B;;EACD,eAAO,IAAP;EACD,OATW;;;EAWZ,UAAI0M,GAAG,KAAK,WAAZ,EAAyB;EACvB,eAAO,KAAK1M,IAAL,EAAP;EACD;;EACD,UAAI0M,GAAG,KAAK,MAAZ,EAAoB;EAClB,YAAIzlB,KAAK,GAAG,KAAKslB,OAAL,CAAa/b,KAAb,CAAmB1C,OAAnB,CAA2B,MAA3B,CAAZ;EACA,aAAKkS,IAAL,GAFkB;;EAIlB,YAAI,KAAKxe,CAAL,CAAOua,QAAP,CAAgB9U,KAAhB,MAA2B,KAA/B,EAAsC;EACpC,eAAK+Y,IAAL,GADoC;EAErC;;EACD,eAAO,IAAP;EACD;;EACD,aAAO,IAAP;EACD;;;;IAzEmBgN;;;MA6EhBjqB;;;;;EACJ,mBAAY4L,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,WAAK3gB,IAAL,GAAY,KAAZ;;EACA,QAAI,OAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAf,CAAT;EACD;;EAL+B;EAMjC;;;IAPmBmf;;EAUtB,QAAc,GAAG;EACfD,EAAAA,GAAG,EAAEA,KADU;EAEfE,EAAAA,OAAO,EAAEA,SAFM;EAGfD,EAAAA,YAAY,EAAEA,cAHC;EAIflqB,EAAAA,OAAO,EAAEA;EAJM,CAAjB;;MCpHMsqB;;;;;EACJ,oBAAY1e,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,8BAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,UAAK3gB,IAAL,GAAY,OAAZ,CAFgC;;EAIhC,QAAI,MAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,YAAK9Q,CAAL,GAAS,MAAKA,CAAL,CAAOsM,OAAP,CAAe,MAAKlC,IAApB,CAAT;EACD;;EAN+B;EAOjC;;;IARoB0gB;;;MAYjBgB;;;;;EACJ,iBAAY3e,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,WAAK3gB,IAAL,GAAY,OAAZ,CAFgC;;EAIhC,QAAI,OAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,OAAKlC,IAApB,CAAT;EACD;;EAN+B;EAOjC;;;;aACD,gBAAO;EACL,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,MAAd,CAAT;EACA,WAAKhQ,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,OAAf,CAAT;EACA,aAAO,IAAP;EACD;;;aACD,gBAAO;EACL,WAAKtM,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,MAAhB,CAAT;EACA,WAAK9hB,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,OAAf,CAAT;EACA,aAAO,IAAP;EACD;;;;IAlBiBwe;;MAqBdiB;;;;;EACJ,sBAAY5e,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,WAAK3gB,IAAL,GAAY,SAAZ,CAFgC;;EAIhC,QAAI,OAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,OAAKlC,IAApB,CAAT;EACD;;EAN+B;EAOjC;;;;aACD,gBAAO;EACL,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,SAAhB,CAAT;EACA,WAAK9hB,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,CAAT;EACA,aAAO,IAAP;EACD;;;;IAbsB0gB;;MAgBnBkB;;;;;EACJ,mBAAY7e,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,WAAK3gB,IAAL,GAAY,SAAZ,CAFgC;;EAIhC,QAAI,OAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,OAAKlC,IAApB,CAAT;EACD;;EAN+B;EAOjC;;;;aACD,gBAAO;EACL,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,MAAd,CAAT;EACA,WAAKhQ,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,CAAT;EACA,aAAO,IAAP;EACD;;;aACD,gBAAO;EACL,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,MAAhB,CAAT;EACA,WAAK9hB,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,CAAT;EACA,aAAO,IAAP;EACD;;;;IAlBmB0gB;;MAoBhB1pB;;;;;EACJ,kBAAY+L,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,WAAK3gB,IAAL,GAAY,QAAZ,CAFgC;;EAIhC,QAAI,OAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,OAAKlC,IAApB,CAAT;EACD;;EAN+B;EAOjC;;;;aACD,gBAAO;EACL,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,MAAd,CAAT;EACA,WAAKhQ,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,CAAT;EACA,aAAO,IAAP;EACD;;;aACD,gBAAO;EACL,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,MAAhB,CAAT;EACA,WAAK9hB,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAKlC,IAApB,CAAT;EACA,aAAO,IAAP;EACD;;;;IAlBkB0gB;;MAoBfzpB;;;;;EACJ,gBAAY8L,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,WAAK3gB,IAAL,GAAY,MAAZ;;EACA,QAAI,OAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,MAAf,CAAT;EACD;;EAL+B;EAMjC;;;IAPgBwe;;EAUnB,SAAc,GAAG;EACfe,EAAAA,QAAQ,EAAEA,UADK;EAEfC,EAAAA,KAAK,EAAEA,OAFQ;EAGfE,EAAAA,OAAO,EAAEA,SAHM;EAIfD,EAAAA,UAAU,EAAEA,YAJG;EAKf3qB,EAAAA,MAAM,EAAEA,QALO;EAMfC,EAAAA,IAAI,EAAEA;EANS,CAAjB;;MCpGM4qB;;;;;EACJ,gBAAY9e,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,8BAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,UAAK3gB,IAAL,GAAY,MAAZ;;EACA,QAAI,MAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,YAAK9Q,CAAL,GAAS,MAAKA,CAAL,CAAOsM,OAAP,CAAe,MAAf,CAAT;EACD;;EAL+B;EAMjC;;;IAPgBwe;;;MAWboB;;;;;EACJ,mBAAY/e,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB;EACA,WAAK3gB,IAAL,GAAY,MAAZ;;EACA,QAAI,OAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOmF,GAAP,CAAW,UAAX,CAAT;EACA,aAAKnF,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,KAAf,CAAT;EACD;;EAN+B;EAOjC;;;;aACD,iBAAQ;EACN,WAAKtM,CAAL,GAAS,KAAKA,CAAL,CAAOmF,GAAP,CAAW,UAAX,EAAuBmH,OAAvB,CAA+B,KAA/B,CAAT;EACA,aAAO,IAAP;EACD;;;;;;;aAKD,gBAAO;EACL,WAAKtM,CAAL,GAAS,KAAKA,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,KAAK5F,IAAnB,CAAT;EACA,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,SAAf,CAAT;EACA,aAAO,IAAP;EACD;;;aACD,gBAAO;EACL,WAAKtM,CAAL,GAAS,KAAKA,CAAL,CAAO8hB,KAAP,CAAa,CAAb,EAAgB,KAAK1X,IAArB,CAAT;EACA,WAAKpK,CAAL,GAAS,KAAKA,CAAL,CAAOsM,OAAP,CAAe,SAAf,CAAT;EACA,aAAO,IAAP;EACD;;;;IA1BmBwe;;EA6BtB,SAAc,GAAG;EACfmB,EAAAA,IAAI,EAAEA,MADS;EAEfC,EAAAA,OAAO,EAAEA;EAFM,CAAjB;;MCxCMC;;;;;EACJ,gBAAYhf,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,8BAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB,EAA4B,IAA5B;EACA,UAAK3gB,IAAL,GAAY,MAAZ;;EACA,QAAI,MAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,YAAK9Q,CAAL,GAAS,MAAKA,CAAL,CAAOsM,OAAP,CAAe,MAAf,CAAT;EACD;;EAL+B;EAMjC;;;IAPgBwe;;MASbsB;;;;;EACJ,kBAAYjf,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB,EAA4B,IAA5B;EACA,WAAK3gB,IAAL,GAAY,QAAZ;;EACA,QAAI,OAAKpK,CAAL,CAAO8Q,OAAP,EAAJ,EAAsB;EACpB,aAAK9Q,CAAL,GAAS,OAAKA,CAAL,CAAOsM,OAAP,CAAe,QAAf,CAAT;EACD;;EAL+B;EAMjC;;;IAPkBwe;;MASfuB;;;;;EACJ,kBAAYlf,KAAZ,EAAmB/C,IAAnB,EAAyB2gB,OAAzB,EAAkC;EAAA;;EAAA;;EAChC,gCAAM5d,KAAN,EAAa/C,IAAb,EAAmB2gB,OAAnB,EAA4B,IAA5B;EACA,WAAK3gB,IAAL,GAAY,aAAZ;EAFgC;EAGjC;;;IAJkB0gB;;EAOrB,SAAc,GAAG;EACfqB,EAAAA,IAAI,EAAEA,MADS;EAEfC,EAAAA,MAAM,EAAEA,QAFO;EAGfC,EAAAA,MAAM,EAAEA;EAHO,CAAjB;;EC3BA,WAAc,GAAGxpB,MAAM,CAAC8N,MAAP,CACf;EAAEma,EAAAA,IAAI,EAAEzqB;EAAR,CADe,EAEfC,IAFe,EAGfC,KAHe,EAIfC,KAJe,EAKfC,KALe,CAAjB;;ECAA,IAAM6rB,UAAU,GAAG;EACjBviB,EAAAA,MAAM,EAAE,IADS;EAEjBC,EAAAA,MAAM,EAAE,IAFS;EAGjB5E,EAAAA,IAAI,EAAE,IAHW;EAIjBD,EAAAA,GAAG,EAAE,IAJY;EAKjB8E,EAAAA,IAAI,EAAE,IALW;EAMjBsiB,EAAAA,OAAO,EAAE,IANQ;EAOjB/tB,EAAAA,KAAK,EAAE,IAPU;EAQjBK,EAAAA,MAAM,EAAE,IARS;EASjB2Q,EAAAA,OAAO,EAAE,IATQ;EAUjB5K,EAAAA,IAAI,EAAE;EAVW,CAAnB;EAaA,IAAMuM,OAAO,GAAG;EACdqb,EAAAA,EAAE,EAAE,MADU;EAEdC,EAAAA,GAAG,EAAE,QAFS;EAGd7M,EAAAA,GAAG,EAAE,QAHS;EAId2M,EAAAA,OAAO,EAAE,MAJK;;EAAA,CAAhB;;EAOA,IAAMG,SAAS,GAAG,SAAZA,SAAY,CAAUhvB,CAAV,EAAa;EAC7B,MAAI0M,IAAI,GAAG1M,CAAC,CAACa,KAAF,CAAQ,WAAR,EAAqBP,IAArB,CAA0B,QAA1B,CAAX;EACAoM,EAAAA,IAAI,GAAGA,IAAI,CAACxC,OAAL,CAAa,IAAb,EAAmB,EAAnB,CAAP,CAF6B;;EAI7B,MAAIuJ,OAAO,CAACzH,cAAR,CAAuBU,IAAvB,CAAJ,EAAkC;EAChCA,IAAAA,IAAI,GAAG+G,OAAO,CAAC/G,IAAD,CAAd;EACD;;EACD,SAAOA,IAAP;EACD,CARD;;;EAWA,IAAMuiB,UAAU,GAAG,SAAbA,UAAa,CAAUruB,GAAV,EAAe;EAChC,MAAIif,MAAM,GAAG,EAAb;EACA,MAAIoC,KAAK,GAAGrhB,GAAG,CAACC,KAAJ,CAAU,aAAV,CAAZ;;EACA,MAAIohB,KAAK,CAAC/hB,KAAN,KAAgB,KAApB,EAA2B;EACzB,WAAO2f,MAAP;EACD,GAL+B;;;EAOhCoC,EAAAA,KAAK,CAACphB,KAAN,CAAY,qBAAZ,EAAmCV,OAAnC,CAA2C,UAAC+uB,EAAD,EAAQ;EACjD,QAAI3uB,GAAG,GAAG2uB,EAAE,CAACruB,KAAH,CAAS,WAAT,EAAsBP,IAAtB,CAA2B,QAA3B,CAAV;EACAC,IAAAA,GAAG,GAAGiO,UAAU,CAACjO,GAAD,CAAhB;;EACA,QAAIA,GAAG,IAAI,OAAOA,GAAP,KAAe,QAA1B,EAAoC;EAClC,UAAImM,IAAI,GAAGsiB,SAAS,CAACE,EAAD,CAApB;;EACA,UAAIN,UAAU,CAACliB,IAAD,CAAV,KAAqB,IAAzB,EAA+B;EAC7BmT,QAAAA,MAAM,CAACnT,IAAD,CAAN,GAAenM,GAAf;EACD;EACF;EACF,GATD,EAPgC;;EAkBhC,MAAI0hB,KAAK,CAACrgB,GAAN,CAAU,0BAAV,MAA0C,IAA9C,EAAoD;EAClDuD,IAAAA,MAAM,CAAC2E,IAAP,CAAY+V,MAAZ,EAAoB1f,OAApB,CAA4B,UAAC4J,CAAD;EAAA,aAAQ8V,MAAM,CAAC9V,CAAD,CAAN,IAAa,CAAC,CAAtB;EAAA,KAA5B;EACD;;EACDkY,EAAAA,KAAK,CAACkN,MAAN,CAAa,qBAAb,EArBgC;;EAuBhC,MAAInvB,CAAC,GAAGiiB,KAAK,CAACphB,KAAN,CAAY,yCAAZ,CAAR;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIwM,IAAI,GAAG1M,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,CAAsB,SAAtB,CAAX,CADW;;EAGX,QAAI8uB,GAAG,GAAGpvB,CAAC,CAACwB,MAAF,CAAS,KAAT,EAAgBlB,IAAhB,CAAqB,SAArB,CAAV;;EACA,QAAI8uB,GAAG,KAAK,OAAZ,EAAqB;EACnBvP,MAAAA,MAAM,CAACnT,IAAD,CAAN,GAAe,CAAf;EACD,KAFD,MAEO,IAAI0iB,GAAG,KAAK,QAAZ,EAAsB;EAC3BvP,MAAAA,MAAM,CAACnT,IAAD,CAAN,GAAe,CAAC,CAAhB;EACD;EACF,GAjC+B;;;EAmChC1M,EAAAA,CAAC,GAAGiiB,KAAK,CAACphB,KAAN,CAAY,yBAAZ,EAAuC,CAAvC,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIwM,KAAI,GAAGsiB,SAAS,CAAChvB,CAAD,CAApB;;EACA6f,IAAAA,MAAM,CAACnT,KAAD,CAAN,GAAe,GAAf;EACD,GAvC+B;;;EAyChC9L,EAAAA,GAAG,CAACuuB,MAAJ,CAAW,YAAX;EACA,SAAOtP,MAAP;EACD,CA3CD;;EA4CA,YAAc,GAAGoP,UAAjB;;;;;;;;;;ECnEA,IAAMI,QAAQ,GAAG;EACf/iB,EAAAA,MAAM,EAAE;EADO,CAAjB;;EAGA,IAAMgjB,UAAU,GAAG,SAAbA,UAAa,CAAU1uB,GAAV,EAAe;;EAEhC,MAAIZ,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,0CAAV,CAAR;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAImE,GAAG,GAAGrE,CAAC,CAACwB,MAAF,EAAV;EACA,QAAIjB,GAAG,GAAG8D,GAAG,CAAC9D,GAAJ,CAAQD,IAAR,CAAa,SAAb,CAAV;EACA,QAAIoM,IAAI,GAAGrI,GAAG,CAACqI,IAAJ,CAASpM,IAAT,CAAc,SAAd,CAAX;EACA,QAAIJ,KAAK,GAAG;EACVwM,MAAAA,IAAI,EAAEA,IADI;EAEVnM,MAAAA,GAAG,EAAEyJ,MAAM,CAACzJ,GAAD,CAAN,IAAe;EAFV,KAAZ,CAJW;;EASX,QAAI,CAAC8uB,QAAQ,CAAC3iB,IAAD,CAAb,EAAqB;EACnBxM,MAAAA,KAAK,CAACK,GAAN,IAAa,CAAb;EACD;;EACDK,IAAAA,GAAG,GAAGA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX,CAAN;EACA,WAAOE,KAAP;EACD,GAjB+B;;;EAmBhCF,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,8DAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAImE,IAAG,GAAGrE,CAAC,CAACwB,MAAF,EAAV;;EACA,QAAI4tB,GAAG,GAAG/qB,IAAG,CAAC+qB,GAAJ,CAAQ9uB,IAAR,CAAa,SAAb,CAAV;;EACA,QAAIoM,KAAI,GAAGrI,IAAG,CAACqI,IAAJ,CAASpM,IAAT,CAAc,SAAd,CAAX;;EACA,QAAI8uB,GAAG,KAAK,SAAZ,EAAuB;EACrBA,MAAAA,GAAG,GAAG,OAAN;EACD;;EACD,QAAIA,GAAG,KAAK,OAAZ,EAAqB;EACnBA,MAAAA,GAAG,GAAG,MAAN;EACD;;EACD,QAAIlvB,MAAK,GAAG;EACVwM,MAAAA,IAAI,EAAEA,KADI;EAEV0iB,MAAAA,GAAG,EAAEA;EAFK,KAAZ;EAIAxuB,IAAAA,GAAG,GAAGA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX,CAAN;EACA,WAAOE,MAAP;EACD;;EAED,SAAO,EAAP;EACD,CAvCD;;EAwCA,cAAc,GAAGovB,UAAjB;;ECjDA,IAAMC,SAAS,GAAG;EAChBC,EAAAA,QAAQ,EAAE,QADM;;EAEhBzM,EAAAA,SAAS,EAAE,QAFK;EAGhBD,EAAAA,OAAO,EAAE,QAHO;EAIhBE,EAAAA,IAAI,EAAE,SAJU;EAKhByM,EAAAA,MAAM,EAAE,SALQ;EAMhBvM,EAAAA,SAAS,EAAE,QANK;EAOhBwM,EAAAA,SAAS,EAAE,SAPK;EAQhBvM,EAAAA,OAAO,EAAE,QARO;EAShBwM,EAAAA,UAAU,EAAE,QATI;EAUhBtM,EAAAA,KAAK,EAAE,QAVS;EAWhBuM,EAAAA,GAAG,EAAE,SAXW;EAYhBtM,EAAAA,QAAQ,EAAE;EAZM,CAAlB;;EAeA,IAAMuM,QAAQ,GAAG,SAAXA,QAAW,CAAU7vB,CAAV,EAAawI,CAAb,EAAgB;EAC/B,MAAId,IAAI,GAAG1H,CAAC,CAACa,KAAF,CAAQ,YAAR,EAAsBP,IAAtB,CAA2B,SAA3B,CAAX;EAEA,MAAIwvB,IAAI,GAAG9vB,CAAC,CAACa,KAAF,CAAQ,2BAAR,CAAX;EACA,MAAIgtB,IAAI,GAAGiC,IAAI,CAACxvB,IAAL,CAAU,SAAV,CAAX;;EACA,MAAIwvB,IAAI,CAACluB,GAAL,CAAS,MAAT,CAAJ,EAAsB;EACpBisB,IAAAA,IAAI,GAAG,IAAP;EACD;;EACD,MAAIiC,IAAI,CAACluB,GAAL,CAAS,SAAT,CAAJ,EAAyB;EACvBisB,IAAAA,IAAI,GAAG,IAAP;EACD;;EACD,MAAIkC,MAAM,GAAG/vB,CAAC,CAAC4B,GAAF,CAAM,IAAN,CAAb,CAX+B;;EAa/B4G,EAAAA,CAAC,GAAGA,CAAC,CAACd,IAAF,CAAOA,IAAP,CAAJ;EACAc,EAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,MAAV,CAAJ,CAd+B;;EAgB/B,MAAIlH,IAAI,GAAG,CAAX,EAAc;EACZc,IAAAA,CAAC,GAAGA,CAAC,CAACuG,IAAF,CAAO,IAAP,CAAJ;EACD;;EACD,MAAIghB,MAAJ,EAAY;EACVvnB,IAAAA,CAAC,GAAGA,CAAC,CAACgK,QAAF,CAAWqb,IAAX,EAAiB,SAAjB,CAAJ;EACD,GAFD,MAEO;EACLrlB,IAAAA,CAAC,GAAGA,CAAC,CAAC8J,GAAF,CAAMub,IAAN,EAAY,SAAZ,CAAJ;EACD;;EACD,SAAOrlB,CAAP;EACD,CAzBD;;EA2BA,IAAMkG,SAAS,GAAG,SAAZA,SAAY,CAAU9N,GAAV,EAAeysB,OAAf,EAAwB;EACxC,MAAI5rB,IAAI,GAAGb,GAAG,CAACC,KAAJ,CAAU,iCAAV,CAAX;;EACA,MAAIY,IAAI,CAACvB,KAAT,EAAgB;EACdU,IAAAA,GAAG,CAACuuB,MAAJ,CAAW1tB,IAAX;EACD,GAJuC;;;EAMxCA,EAAAA,IAAI,GAAGA,IAAI,CAACJ,GAAL,CAAS,0BAAT,CAAP;EACAI,EAAAA,IAAI,GAAGA,IAAI,CAACJ,GAAL,CAAS,OAAT,CAAP;EACAI,EAAAA,IAAI,GAAGA,IAAI,CAACJ,GAAL,CAAS,YAAT,CAAP;EACA,MAAImH,CAAC,GAAGwe,SAAS,CAAC9U,GAAV,CAAcmb,OAAO,CAAC1iB,QAAtB,CAAR;EACA,MAAIuH,GAAG,GAAG1J,CAAC,CAACmF,KAAF,EAAV,CAVwC;;EAaxC,MAAIqiB,OAAO,GAAGvuB,IAAI,CAACnB,IAAL,CAAU,SAAV,CAAd;;EACA,MAAIivB,SAAS,CAACvjB,cAAV,CAAyBgkB,OAAzB,CAAJ,EAAuC;EACrC,WAAOT,SAAS,CAACS,OAAD,CAAhB;EACD,GAhBuC;;;EAmBxC,MAAIhwB,CAAC,GAAGyB,IAAI,CAACZ,KAAL,CAAW,4BAAX,CAAR;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXF,IAAAA,CAAC,GAAGA,CAAC,CAACqB,GAAF,CAAM,QAAN,CAAJ;EACAmH,IAAAA,CAAC,GAAGA,CAAC,CAACd,IAAF,CAAO1H,CAAC,CAACM,IAAF,CAAO,SAAP,CAAP,CAAJ;EACAkI,IAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,MAAV,CAAJ;;EACA,QAAIpG,CAAC,CAAC4K,OAAF,MAAe,CAAC5K,CAAC,CAAC6d,OAAF,CAAUnU,GAAV,CAApB,EAAoC;EAClC,UAAInD,IAAI,GAAG/O,CAAC,CAACa,KAAF,CAAQ,SAAR,EAAmBP,IAAnB,CAAwB,SAAxB,CAAX;EACAkI,MAAAA,CAAC,GAAGA,CAAC,CAACuG,IAAF,CAAOA,IAAP,CAAJ;EACA,aAAOvG,CAAC,CAAC/G,IAAF,EAAP;EACD;EACF,GA7BuC;;;EAgCxCzB,EAAAA,CAAC,GAAGyB,IAAI,CAACZ,KAAL,CAAW,qDAAX,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXsI,IAAAA,CAAC,GAAGqnB,QAAQ,CAAC7vB,CAAD,EAAIwI,CAAJ,CAAZ;;EACA,QAAIA,CAAC,CAAC4K,OAAF,MAAe,CAAC5K,CAAC,CAAC6d,OAAF,CAAUnU,GAAV,CAApB,EAAoC;EAClC,aAAO1J,CAAC,CAAC/G,IAAF,EAAP;EACD;EACF,GAtCuC;;;EAwCxCzB,EAAAA,CAAC,GAAGyB,IAAI,CAACZ,KAAL,CAAW,sEAAX,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIG,IAAG,GAAGL,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,CAAsB,SAAtB,CAAV;;EACA,QAAI,eAAeoG,IAAf,CAAoBrG,IAApB,CAAJ,EAA8B;EAC5BmI,MAAAA,CAAC,GAAGA,CAAC,CAACd,IAAF,CAAOrH,IAAP,CAAJ,CAD4B;;EAE5BmI,MAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,MAAV,CAAJ;EACD,KAHD,MAGO;EACLpG,MAAAA,CAAC,GAAGA,CAAC,CAAC/G,IAAF,CAAOpB,IAAP,CAAJ,CADK;EAEN;;EACD,QAAImI,CAAC,CAAC4K,OAAF,MAAe,CAAC5K,CAAC,CAAC6d,OAAF,CAAUnU,GAAV,CAApB,EAAoC;EAClC,UAAI+d,IAAI,GAAGjwB,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,CAAsB,SAAtB,CAAX;;EACA,UAAI2vB,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,OAAnC,EAA4C;EAC1CznB,QAAAA,CAAC,GAAGA,CAAC,CAACuG,IAAF,CAAO,IAAP,CAAJ;EACD;;EACD,aAAOvG,CAAC,CAAC/G,IAAF,EAAP;EACD;EACF,GAxDuC;;;EA2DxCzB,EAAAA,CAAC,GAAGyB,IAAI,CAACZ,KAAL,CAAW,sEAAX,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIgwB,CAAC,GAAGlwB,CAAC,CAACwB,MAAF,EAAR;;EACA,QAAInB,KAAG,GAAG6vB,CAAC,CAACzuB,IAAF,CAAOnB,IAAP,CAAY,SAAZ,CAAV;;EACA,QAAI,eAAeoG,IAAf,CAAoBrG,KAApB,CAAJ,EAA8B;EAC5BmI,MAAAA,CAAC,GAAGA,CAAC,CAACd,IAAF,CAAOrH,KAAP,CAAJ,CAD4B;;EAE5BmI,MAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,MAAV,CAAJ;EACD,KAHD,MAGO;EACLpG,MAAAA,CAAC,GAAGA,CAAC,CAAC/G,IAAF,CAAOpB,KAAP,CAAJ,CADK;EAEN;;EACD,QAAImI,CAAC,CAAC4K,OAAF,MAAe,CAAC5K,CAAC,CAAC6d,OAAF,CAAUnU,GAAV,CAApB,EAAoC;EAClC,UAAI+d,KAAI,GAAGC,CAAC,CAACD,IAAF,CAAO3vB,IAAP,CAAY,SAAZ,CAAX;;EACA,UAAI2vB,KAAI,KAAK,SAAb,EAAwB;EACtBznB,QAAAA,CAAC,GAAGA,CAAC,CAACuG,IAAF,CAAO,IAAP,CAAJ;EACD;;EACD,UAAIkhB,KAAI,KAAK,SAAT,IAAsBA,KAAI,KAAK,SAAnC,EAA8C;EAC5CznB,QAAAA,CAAC,GAAGA,CAAC,CAACuG,IAAF,CAAO,IAAP,CAAJ;EACD;;EACD,aAAOvG,CAAC,CAAC/G,IAAF,EAAP;EACD;EACF,GA/EuC;;;EAkFxCzB,EAAAA,CAAC,GAAGyB,IAAI,CAACZ,KAAL,CAAW,aAAX,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXsI,IAAAA,CAAC,GAAGA,CAAC,CAACd,IAAF,CAAO1H,CAAC,CAACM,IAAF,CAAO,SAAP,CAAP,CAAJ;EACAkI,IAAAA,CAAC,GAAGA,CAAC,CAACoG,OAAF,CAAU,MAAV,CAAJ;;EACA,QAAIpG,CAAC,CAAC4K,OAAF,MAAe,CAAC5K,CAAC,CAAC6d,OAAF,CAAUnU,GAAV,CAApB,EAAoC;EAClC,aAAO1J,CAAC,CAAC/G,IAAF,EAAP;EACD;EACF,GAzFuC;;;EA4FxC,MAAIpB,GAAG,GAAGoB,IAAI,CAACnB,IAAL,CAAU,SAAV,CAAV;EACAkI,EAAAA,CAAC,GAAGA,CAAC,CAAC/G,IAAF,CAAOpB,GAAP,CAAJ;;EACA,MAAImI,CAAC,CAAC4K,OAAF,MAAe,CAAC5K,CAAC,CAAC6d,OAAF,CAAUnU,GAAV,CAApB,EAAoC;EAClC,WAAO1J,CAAC,CAAC/G,IAAF,EAAP;EACD,GAhGuC;;;EAkGxC,MAAI4rB,OAAO,CAACM,QAAZ,EAAsB;EACpB,WAAON,OAAO,CAACM,QAAf;EACD;;EACD,SAAO,IAAP;EACD,CAtGD;;EAuGA,WAAc,GAAGjf,SAAjB;;ECnJA;EACA,IAAMyhB,aAAa,GAAG,SAAhBA,aAAgB,CAAUvvB,GAAV,EAAe;;EAEnC,MAAIA,GAAG,CAACgB,GAAJ,CAAQ,mBAAR,CAAJ,EAAkC;EAChC,WAAO,IAAP;EACD,GAJkC;;;EAMnC,MAAI5B,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,+BAAV,CAAR;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXU,IAAAA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX;EACA,WAAO,MAAP;EACD,GAVkC;;;EAYnCA,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,eAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXU,IAAAA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX;EACA,WAAO,WAAP;EACD,GAhBkC;;;EAkBnCA,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,wBAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXU,IAAAA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX;EACA,WAAO,MAAP;EACD,GAtBkC;;;EAwBnCA,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,iBAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXU,IAAAA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX;EACA,WAAO,MAAP;EACD;;EACD,SAAO,IAAP;EACD,CA9BD;;EA+BA,eAAc,GAAGmwB,aAAjB;;EChCA;EACA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAUxvB,GAAV,EAAe;;EAElC,MAAIZ,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,0BAAV,EAAsC,CAAtC,CAAR;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXU,IAAAA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX;EACA,WAAO,OAAP;EACD,GANiC;;;EAQlCA,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,YAAV,EAAwB,CAAxB,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXU,IAAAA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX;EACA,WAAO,KAAP;EACD,GAZiC;;;EAclCA,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,iCAAV,EAA6C,CAA7C,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXU,IAAAA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX;EACA,WAAO,QAAP;EACD;;EACD,SAAO,IAAP;EACD,CApBD;;EAqBA,cAAc,GAAGowB,YAAjB;;ECpBA,IAAMplB,QAAQ,GAAG,oBAAjB;EACA,IAAMC,QAAQ,GAAG,aAAjB;EACA,IAAMC,SAAS,GAAG,oBAAlB;EACA,IAAMC,SAAS,GAAG,oBAAlB;;EAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAS7K,GAAT,EAAc;EAC3BA,EAAAA,GAAG,GAAGyJ,MAAM,CAACzJ,GAAD,CAAZ;;EACA,MAAIA,GAAG,GAAG,CAAC,EAAP,IAAaA,GAAG,GAAG,EAAvB,EAA2B;EACzBA,IAAAA,GAAG,GAAGA,GAAG,GAAG,CAAC,CAAb,CADyB;;EAEzBA,IAAAA,GAAG,GAAG,CAACA,GAAG,GAAG,CAAN,GAAU,GAAV,GAAgB,EAAjB,IAAuBA,GAA7B,CAFyB;;EAGzB,WAAO,YAAYA,GAAnB;EACD;;EACD,SAAO,IAAP;EACD,CARD;;EAUA,IAAM+K,WAAW,GAAG,SAAdA,WAAc,CAAS3C,EAAT,EAAa;;EAE/B,MAAI3I,CAAC,GAAG2I,EAAE,CAAC9H,KAAH,CAASmK,QAAT,CAAR;;EACA,MAAIhL,CAAC,KAAK,IAAV,EAAgB;EACd,WAAOoL,MAAM,CAACpL,CAAC,CAAC,CAAD,CAAF,CAAb;EACD,GAL8B;;;EAO/BA,EAAAA,CAAC,GAAG2I,EAAE,CAAC9H,KAAH,CAASqK,SAAT,CAAJ;;EACA,MAAIlL,CAAC,KAAK,IAAV,EAAgB;EACd,WAAOoL,MAAM,CAACpL,CAAC,CAAC,CAAD,CAAF,CAAb;EACD,GAV8B;;;EAY/BA,EAAAA,CAAC,GAAG2I,EAAE,CAAC9H,KAAH,CAASsK,SAAT,CAAJ;;EACA,MAAInL,CAAC,KAAK,IAAV,EAAgB;EACd,QAAIO,GAAG,GAAGyJ,MAAM,CAAChK,CAAC,CAAC,CAAD,CAAF,CAAN,GAAe,CAAC,CAA1B;EACA,WAAOoL,MAAM,CAAC7K,GAAD,CAAb;EACD,GAhB8B;;;EAkB/BP,EAAAA,CAAC,GAAG2I,EAAE,CAAC9H,KAAH,CAASoK,QAAT,CAAJ;;EACA,MAAIjL,CAAC,KAAK,IAAV,EAAgB;EACd,WAAOoL,MAAM,CAACpL,CAAC,CAAC,CAAD,CAAF,CAAb;EACD;;EACD,SAAO,IAAP;EACD,CAvBD;;EAyBA,IAAMqwB,aAAa,GAAG,SAAhBA,aAAgB,CAASzvB,GAAT,EAAc;EAClC,MAAIZ,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,YAAV,CAAR,CADkC;;EAGlCb,EAAAA,CAAC,GAAGA,CAAC,CAACmvB,MAAF,CAAS,qBAAT,CAAJ;EACA,MAAI9uB,GAAG,GAAGL,CAAC,CAACM,IAAF,CAAO,SAAP,CAAV,CAJkC;;EAOlCM,EAAAA,GAAG,CAACuuB,MAAJ,CAAW,YAAX,EAPkC;;EAUlC,MAAIjH,UAAQ,CAAClc,cAAT,CAAwB3L,GAAxB,CAAJ,EAAkC;EAChC,WAAO6nB,UAAQ,CAAC7nB,GAAD,CAAf;EACD;;EACD,MAAIsI,EAAE,GAAG2C,WAAW,CAACjL,GAAD,CAApB;;EACA,MAAIsI,EAAJ,EAAQ;EACN,WAAOA,EAAP;EACD;;EAED,SAAO,IAAP;EACD,CAnBD;;EAoBA,eAAc,GAAG0nB,aAAjB;;EC9DA;EACA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAU1vB,GAAV,EAAe;EAClC,MAAI6G,GAAG,GAAG7G,GAAG,CAACC,KAAJ,CAAU,UAAV,CAAV;;EACA,MAAI4G,GAAG,CAACvH,KAAJ,IAAa,CAACU,GAAG,CAACgB,GAAJ,CAAQ,YAAR,CAAlB,EAAyC;;EAEvC,QAAIhB,GAAG,CAACgB,GAAJ,CAAQ,wDAAR,CAAJ,EAAuE;EACrE,aAAO,IAAP;EACD;;EACDhB,IAAAA,GAAG,CAACuuB,MAAJ,CAAW1nB,GAAX;EACA,WAAOA,GAAG,CAACnH,IAAJ,CAAS,SAAT,CAAP;EACD;;EACD,SAAO,IAAP;EACD,CAXD;;EAYA,cAAc,GAAGgwB,YAAjB;;MCbQxC,QAAgBnrB,QAAhBmrB;MAAKa,WAAWhsB,QAAXgsB;EAEb,IAAM4B,SAAS,GAAG;EAChBjf,EAAAA,KAAK,EAAE,eAAC+b,OAAD,EAAa;EAClB,WAAO,IAAIS,KAAJ,CAAQT,OAAO,CAAC/b,KAAhB,EAAuB,IAAvB,EAA6B+b,OAA7B,CAAP;EACD,GAHe;EAIhB9a,EAAAA,SAAS,EAAE,mBAAC8a,OAAD,EAAa;EACtB,WAAO,IAAIS,KAAJ,CAAQT,OAAO,CAAC/b,KAAR,CAAc8S,KAAd,CAAoB,CAApB,EAAuB,KAAvB,CAAR,EAAuC,IAAvC,EAA6CiJ,OAA7C,CAAP;EACD,GANe;EAOhBhb,EAAAA,QAAQ,EAAE,kBAACgb,OAAD,EAAa;EACrB,WAAO,IAAIS,KAAJ,CAAQT,OAAO,CAAC/b,KAAR,CAAcyU,IAAd,CAAmB,CAAnB,EAAsB,KAAtB,CAAR,EAAsC,IAAtC,EAA4CsH,OAA5C,CAAP;EACD,GATe;EAUhBmD,EAAAA,GAAG,EAAE,aAACnD,OAAD,EAAa;EAChB,QAAI/qB,CAAC,GAAG+qB,OAAO,CAAC/b,KAAR,CAAc6K,KAAd,CAAoB,OAApB,CAAR;EACA7Z,IAAAA,CAAC,GAAGA,CAAC,CAACsM,OAAF,CAAU,KAAV,CAAJ;EACA,WAAO,IAAIkf,KAAJ,CAAQxrB,CAAR,EAAW,IAAX,EAAiB+qB,OAAjB,CAAP;EACD,GAde;;;;;;EAoBhBoD,EAAAA,GAAG,EAAE,aAACpD,OAAD,EAAa;EAChB,QAAI/qB,CAAC,GAAG+qB,OAAO,CAAC/b,KAAR,CAAc6K,KAAd,CAAoB,MAApB,CAAR;EACA7Z,IAAAA,CAAC,GAAGA,CAAC,CAACsM,OAAF,CAAU,KAAV,CAAJ;EACA,WAAO,IAAIkf,KAAJ,CAAQxrB,CAAR,EAAW,IAAX,EAAiB+qB,OAAjB,CAAP;EACD;EAxBe,CAAlB;EA0BAkD,SAAS,CAACG,SAAV,GAAsBH,SAAS,CAACle,QAAhC;EACAke,SAAS,CAACI,IAAV,GAAiBJ,SAAS,CAACle,QAA3B;;EAEA,IAAMf,KAAK,GAAG,SAARA,KAAQ,CAAU1Q,GAAV,EAAeysB,OAAf,EAAwBI,OAAxB,EAAiC;EAC7C,MAAI/gB,IAAI,GAAG,IAAX,CAD6C;;EAG7C,MAAI9L,GAAG,CAACV,KAAJ,KAAc,KAAlB,EAAyB;;EAEvB,QAAIutB,OAAO,CAAChsB,IAAR,KAAiB,IAArB,EAA2B;EACzBiL,MAAAA,IAAI,GAAG,IAAIiiB,QAAJ,CAAWtB,OAAO,CAAC/b,KAAnB,EAA0B,IAA1B,EAAgC+b,OAAhC,CAAP,CADyB;EAE1B,KAJsB;;;EAMvB,QAAIloB,MAAM,CAAC2E,IAAP,CAAY2jB,OAAO,CAACxL,KAApB,EAA2Blc,MAA3B,GAAoC,CAAxC,EAA2C;EACzC,UAAI0nB,OAAO,CAACxL,KAAR,CAAcva,IAAd,IAAsB+lB,OAAO,CAACxL,KAAR,CAAc3V,MAAxC,EAAgD;EAC9CI,QAAAA,IAAI,GAAG,IAAIiiB,QAAJ,CAAWtB,OAAO,CAAC/b,KAAnB,EAA0B,IAA1B,EAAgC+b,OAAhC,CAAP,CAD8C;EAE/C,OAFD,MAEO;EACL3gB,QAAAA,IAAI,GAAG,IAAIohB,KAAJ,CAAQT,OAAO,CAAC/b,KAAhB,EAAuB,IAAvB,EAA6B+b,OAA7B,CAAP,CADK;EAEN;EACF;EACF,GAhB4C;;;EAmB7C,MAAIhtB,GAAG,GAAGO,GAAG,CAACN,IAAJ,CAAS,SAAT,CAAV;;EACA,MAAIiwB,SAAS,CAACvkB,cAAV,CAAyB3L,GAAzB,MAAkC,IAAtC,EAA4C;EAC1C,WAAOkwB,SAAS,CAAClwB,GAAD,CAAT,CAAegtB,OAAf,CAAP;EACD,GAtB4C;;;EAwB7C,MAAIhtB,GAAG,KAAK,MAAR,IAAkB8E,MAAM,CAAC2E,IAAP,CAAY2jB,OAAO,CAACxL,KAApB,EAA2Blc,MAA3B,GAAoC,CAA1D,EAA6D;EAC3D,WAAOwqB,SAAS,CAACle,QAAV,CAAmBgb,OAAnB,CAAP;EACD;;EACD,SAAO3gB,IAAP;EACD,CA5BD;;EA6BA,YAAc,GAAG4E,KAAjB;;;;;;;;;;;;;;;;EC3DA,cAAA,SAAA;EACA,WAASsf,GAAT,UAAA;EACA,WAAS,GAAT,OAAA;EACA,cAAA,OAAA;EACA,cAAA,KAAA;EACA,cAAA,MAAA;EACA,cAAA,MAAA;EAEA,QAAA,GAAA,GAAA,QAAA;;EAEE,QAAA,GAAA,YAAA;EACA,QAAA,GAAA,aAAA;EACA,QAAA,GAAA,aAAA;EACA,QAAA,aAAA;EACA,uBAAA,CAAA,GAAA,IAAA;EACA,mBAAA,CAAA,GAAA,GAAA;EACA,uBAAA,IAAA,GAAA;EACA,0BAAmBC,CAAD,GAACA,IAAAA;EACnB,uBAAA,CAAA,GAAA,IAAA;EACA;EACA,uBAAA,CAAA,GAAA,GAAA;EACA,wBAAA,IAAA,GAAA;EACA;gCACmB,IAAA,IAAA;8BACEC,IAAAA,IAAAA;;;;4BAGJ;;;;;;;;;;;4BAWG,CAAA,GAAA,GAAA;;;;+BAID,IAAA,IAAA;;;4BAEAC,IAAAA,IAAAA;;4BACH;4BACE;;;;;;;;;;6BAUC;;;;;;+BAOE;;;;;;;;;;;;;EAvDvB;;;;;OAKE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCdMltB,UAAYlB,QAAZkB;;EAGR,IAAMmtB,YAAY,GAAG,SAAfA,YAAe,CAAUpwB,GAAV,EAAeysB,OAAf,EAAwB;EAC3C,MAAI3gB,IAAI,GAAG,IAAX;EACA,MAAI1M,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,qCAAV,CAAR;EACA,MAAIqG,IAAI,GAAGmmB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd,EAAX;;EACA,MAAIlH,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBtB,KAArB,EAA4B;EAC1BgH,IAAAA,IAAI,GAAG8C,MAAM,CAAChK,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,CAAsB,SAAtB,CAAD,CAAN,IAA4C4G,IAAnD;EACD;;EACD,MAAI7G,GAAG,GAAGL,CAAC,CAACwB,MAAF,CAAS,SAAT,EAAoBlB,IAApB,CAAyB,SAAzB,CAAV;EACA,MAAIkI,CAAC,GAAGyoB,gBAAgB,CAAC5wB,GAAD,EAAM6G,IAAN,EAAYmmB,OAAO,CAAC1iB,QAApB,CAAxB;;EACA,MAAInC,CAAC,KAAK,IAAV,EAAgB;;EAEd,QAAIA,CAAC,CAACqU,QAAF,CAAWwQ,OAAO,CAAC/b,KAAnB,KAA6BpK,IAAI,KAAKmmB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd,EAA1C,EAAgE;EAC9DsB,MAAAA,CAAC,GAAGyoB,gBAAgB,CAAC5wB,GAAD,EAAM6G,IAAI,GAAG,CAAb,EAAgBmmB,OAAO,CAAC1iB,QAAxB,CAApB;EACD;;EACD+B,IAAAA,IAAI,GAAG,IAAI7I,OAAJ,CAAY2E,CAAZ,EAAe,IAAf,EAAqB6kB,OAArB,CAAP;EACD;;EACD,SAAO3gB,IAAP;EACD,CAjBD;;EAkBA,eAAc,GAAGskB,YAAjB;;MCrBQzC,SAA0F5rB,QAA1F4rB;MAAMC,YAAoF7rB,QAApF6rB;MAASL,WAA2ExrB,QAA3EwrB;MAAUE,aAAiE1rB,QAAjE0rB;MAAY1qB,SAAqDhB,QAArDgB;MAAMD,WAA+Cf,QAA/Ce;MAAQsqB,YAAuCrrB,QAAvCqrB;MAASF,QAA8BnrB,QAA9BmrB;MAAKW,SAAyB9rB,QAAzB8rB;MAAMC,WAAmB/rB,QAAnB+rB;MAAQC,WAAWhsB,QAAXgsB;EACvF,IAAMtgB,SAAO,GAAG;EACd5G,EAAAA,GAAG,EAAEqmB,KADS;EAEdpmB,EAAAA,IAAI,EAAE+mB,MAFQ;EAGdtL,EAAAA,OAAO,EAAEsL,MAHK;EAIdpiB,EAAAA,MAAM,EAAEsiB,QAJM;EAKduC,EAAAA,UAAU,EAAEvC,QALE;EAMdwC,EAAAA,OAAO,EAAExC,QANK;EAOdriB,EAAAA,MAAM,EAAEoiB,QAPM;EAQdniB,EAAAA,IAAI,EAAEgiB,MARQ;EASdM,EAAAA,OAAO,EAAEL,SATK;EAUd1tB,EAAAA,KAAK,EAAEqtB,QAVO;EAWdrc,EAAAA,OAAO,EAAEuc,UAXK;EAYdnnB,EAAAA,IAAI,EAAEvD,MAZQ;EAadxC,EAAAA,MAAM,EAAEuC,QAbM;;EAed0tB,EAAAA,EAAE,EAAEztB,MAfU;EAgBd0tB,EAAAA,GAAG,EAAEhD,UAhBS;EAiBdS,EAAAA,EAAE,EAAEP,MAjBU;EAkBdrM,EAAAA,GAAG,EAAEyM,QAlBS;EAmBd2C,EAAAA,EAAE,EAAE7C;EAnBU,CAAhB;EAsBA,IAAI8C,QAAQ,eAAQpsB,MAAM,CAAC2E,IAAP,CAAYuE,SAAZ,EAAqByB,IAArB,CAA0B,GAA1B,CAAR,OAAZ;;EAGA,IAAM0hB,QAAQ,GAAG,SAAXA,QAAW,CAAU5wB,GAAV,EAAeysB,OAAf,EAAwB;;EAEvC,MAAIrtB,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU0wB,QAAV,CAAR;;EACA,MAAIvxB,CAAC,CAACE,KAAF,KAAY,IAAhB,EAAsB;EACpB,QAAIG,GAAG,GAAGL,CAAC,CAACM,IAAF,CAAO,SAAP,CAAV;;EACA,QAAI+N,SAAO,CAACrC,cAAR,CAAuB3L,GAAvB,CAAJ,EAAiC;EAC/B,UAAIoxB,KAAK,GAAGpjB,SAAO,CAAChO,GAAD,CAAnB;;EACA,UAAI,CAACoxB,KAAL,EAAY;EACV,eAAO,IAAP;EACD;;EACD,UAAI/kB,IAAI,GAAG,IAAI+kB,KAAJ,CAAU,IAAV,EAAgBpxB,GAAhB,EAAqBgtB,OAArB,CAAX;EACA,aAAO3gB,IAAP;EACD;EACF,GAbsC;;;EAgBvC1M,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,YAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAF,KAAY,IAAhB,EAAsB;EACpB,QAAIG,IAAG,GAAGL,CAAC,CAACM,IAAF,CAAO,SAAP,CAAV;;EACA,QAAIoM,KAAI,GAAG,IAAIshB,SAAJ,CAAY3tB,IAAZ,EAAiB,IAAjB,EAAuBgtB,OAAvB,CAAX;;EACA,WAAO3gB,KAAP;EACD,GArBsC;;;;;;;;;EA8BvC,SAAO,IAAP;EACD,CA/BD;;EAgCA,eAAc,GAAG8kB,QAAjB;;MC1DQlD,YAA0B3rB,QAA1B2rB;MAAS5qB,WAAiBf,QAAjBe;MAAQC,OAAShB,QAATgB;;EAGzB,IAAM+tB,QAAQ,GAAG,SAAXA,QAAW,CAAUrE,OAAV,EAAmB;EAClC,SAAO;EACLjsB,IAAAA,IAAI,EAAEisB,OAAO,CAAC/b,KAAR,CAAclQ,IAAd,EADD;EAELN,IAAAA,KAAK,EAAEusB,OAAO,CAAC/b,KAAR,CAAcxQ,KAAd,EAFF;EAGLoG,IAAAA,IAAI,EAAEmmB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd;EAHD,GAAP;EAKD,CAND;;EAQA,IAAMyqB,WAAW,GAAG,SAAdA,WAAc,CAAU/wB,GAAV,EAAeysB,OAAf,EAAwB;;EAE1C,MAAIrtB,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,mDAAV,CAAR;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIG,GAAG,GAAGO,GAAG,CAACN,IAAJ,CAAS,SAAT,CAAV;EACA,QAAIkI,CAAC,GAAGwe,SAAS,CAAC3mB,GAAD,EAAMgtB,OAAO,CAAC1iB,QAAd,EAAwB;EAAE2G,MAAAA,KAAK,EAAEogB,QAAQ,CAACrE,OAAD;EAAjB,KAAxB,CAAjB;EACA,QAAI3gB,IAAI,GAAG,IAAIhJ,QAAJ,CAAW8E,CAAX,EAAc,IAAd,EAAoB6kB,OAApB,CAAX;;EACA,QAAI3gB,IAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,IAAP;EACD;EACF,GAVyC;;;EAa1C1M,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,uCAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIG,IAAG,GAAGL,CAAC,CAACwB,MAAF,CAAS,GAAT,EAAclB,IAAd,CAAmB,SAAnB,CAAV;;EACA,QAAIkI,EAAC,GAAGwe,SAAS,CAAC3mB,IAAD,EAAMgtB,OAAO,CAAC1iB,QAAd,EAAwB;EAAE2G,MAAAA,KAAK,EAAEogB,QAAQ,CAACrE,OAAD;EAAjB,KAAxB,CAAjB;;EACA,QAAIrtB,CAAC,CAACwB,MAAF,CAAS,MAAT,CAAJ,EAAsB;EACpB,UAAI0F,IAAI,GAAG8C,MAAM,CAAChK,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,EAAD,CAAN,IAAmC+sB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd,EAA9C;EACAsB,MAAAA,EAAC,GAAGA,EAAC,CAACtB,IAAF,CAAOA,IAAP,CAAJ;EACD;;EACD,QAAIwF,KAAI,GAAG,IAAI4hB,SAAJ,CAAY9lB,EAAZ,EAAe,IAAf,EAAqB6kB,OAArB,CAAX;;EACA,QAAI3gB,KAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,KAAP;EACD;EACF,GAzByC;;;EA2B1C1M,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,6CAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIqf,CAAC,GAAGvf,CAAC,CAACwB,MAAF,CAAS,GAAT,EAAclB,IAAd,CAAmB,SAAnB,CAAR;;EACA,QAAIkI,GAAC,GAAGwe,SAAS,YAAKzH,CAAL,GAAU8N,OAAO,CAAC1iB,QAAlB,EAA4B;EAAE2G,MAAAA,KAAK,EAAEogB,QAAQ,CAACrE,OAAD;EAAjB,KAA5B,CAAjB;;EACA,QAAIrtB,CAAC,CAACwB,MAAF,CAAS,MAAT,CAAJ,EAAsB;EACpB,UAAI0F,KAAI,GAAG8C,MAAM,CAAChK,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,EAAD,CAAN,IAAmC+sB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd,EAA9C;;EACAsB,MAAAA,GAAC,GAAGA,GAAC,CAACtB,IAAF,CAAOA,KAAP,CAAJ;EACD;;EACD,QAAIwF,MAAI,GAAG,IAAI4hB,SAAJ,CAAY9lB,GAAZ,EAAe,IAAf,EAAqB6kB,OAArB,CAAX;;EACA,QAAI3gB,MAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,MAAP;EACD;EACF,GAvCyC;;;EAyC1C1M,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,SAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIG,KAAG,GAAGO,GAAG,CAACN,IAAJ,CAAS,SAAT,CAAV;;EACA,QAAIkI,GAAC,GAAGwe,SAAS,CAAC,IAAD,EAAOqG,OAAO,CAAC1iB,QAAf,EAAyB;EAAE2G,MAAAA,KAAK,EAAEogB,QAAQ,CAACrE,OAAD;EAAjB,KAAzB,CAAjB;;EACA7kB,IAAAA,GAAC,GAAGA,GAAC,CAACtB,IAAF,CAAO7G,KAAP,CAAJ;;EACA,QAAIqM,MAAI,GAAG,IAAI/I,IAAJ,CAAS6E,GAAT,EAAY,IAAZ,EAAkB6kB,OAAlB,CAAX;;EACA,QAAI3gB,MAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,MAAP;EACD;EACF;;EAED,SAAO,IAAP;EACD,CArDD;;EAsDA,aAAc,GAAGilB,WAAjB;;MCjEQ7D,QAAqCnrB,QAArCmrB;MAAKC,eAAgCprB,QAAhCorB;MAAcK,UAAkBzrB,QAAlByrB;MAAOO,SAAWhsB,QAAXgsB;EAGlC;;EACA,IAAMiD,aAAa,GAAG,SAAhBA,aAAgB,CAAUhxB,GAAV,EAAeysB,OAAf,EAAwB;EAC5C,MAAIwE,WAAW,GAAGxE,OAAO,CAAC/b,KAAR,CAAcpK,IAAd,EAAlB,CAD4C;;;EAI5C,MAAIlH,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,kDAAV,CAAR;;EACA,MAAI,CAACb,CAAC,CAACE,KAAP,EAAc;EACZF,IAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,mDAAV,CAAJ;EACD;;EACD,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAImE,GAAG,GAAG;EACRvD,MAAAA,KAAK,EAAEd,CAAC,CAACwB,MAAF,CAAS,OAAT,EAAkBlB,IAAlB,EADC;EAERc,MAAAA,IAAI,EAAEpB,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,EAFE;EAGR4G,MAAAA,IAAI,EAAElH,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,MAA2BuxB;EAHzB,KAAV;;EAKA,QAAInlB,KAAI,GAAG,IAAIqhB,YAAJ,CAAiB1pB,GAAjB,EAAsB,IAAtB,EAA4BgpB,OAA5B,CAAX;;EACA,QAAI3gB,KAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,KAAP;EACD;EACF,GAlB2C;;;EAoB5C1M,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,mCAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAImE,IAAG,GAAG;EACRvD,MAAAA,KAAK,EAAEd,CAAC,CAACwB,MAAF,CAAS,OAAT,EAAkBlB,IAAlB,EADC;EAER4G,MAAAA,IAAI,EAAElH,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,MAA2BuxB;EAFzB,KAAV;;EAIA,QAAInlB,MAAI,GAAG,IAAI0hB,OAAJ,CAAU/pB,IAAV,EAAe,IAAf,EAAqBgpB,OAArB,CAAX;;EACA,QAAI3gB,MAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,MAAP;EACD;EACF,GA9B2C;;;;EAiC5C1M,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,oCAAV,CAAJ,CAjC4C;;EAmC5C,MAAI,CAACb,CAAC,CAACE,KAAP,EAAc;EACZF,IAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,qCAAV,CAAJ;EACD;;EACD,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAImE,KAAG,GAAG;EACRvD,MAAAA,KAAK,EAAEd,CAAC,CAACwB,MAAF,CAAS,OAAT,EAAkBlB,IAAlB,EADC;EAERc,MAAAA,IAAI,EAAEpB,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,EAFE;EAGR4G,MAAAA,IAAI,EAAEmmB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd;EAHE,KAAV;;EAKA,QAAIwF,MAAI,GAAG,IAAIqhB,YAAJ,CAAiB1pB,KAAjB,EAAsB,IAAtB,EAA4BgpB,OAA5B,CAAX,CANW;;;EAQX,QAAI3gB,MAAI,CAACpK,CAAL,CAAOxB,KAAP,KAAiBusB,OAAO,CAAC/b,KAAR,CAAcxQ,KAAd,EAArB,EAA4C;EAC1CuD,MAAAA,KAAG,CAAC6C,IAAJ,IAAY,CAAZ;EACAwF,MAAAA,MAAI,GAAG,IAAIqhB,YAAJ,CAAiB1pB,KAAjB,EAAsB,IAAtB,EAA4BgpB,OAA5B,CAAP;EACD;;EACD,QAAI3gB,MAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,MAAP;EACD;EACF,GArD2C;;;EAuD5C,MAAI9L,GAAG,CAACgB,GAAJ,CAAQ,QAAR,CAAJ,EAAuB;EACrB,QAAIyC,KAAG,GAAG;EACRvD,MAAAA,KAAK,EAAEF,GAAG,CAACC,KAAJ,CAAU,QAAV,EAAoBP,IAApB,EADC;EAERc,MAAAA,IAAI,EAAE,CAFE;;EAGR8F,MAAAA,IAAI,EAAEmmB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd;EAHE,KAAV;;EAKA,QAAIwF,MAAI,GAAG,IAAI0hB,OAAJ,CAAU/pB,KAAV,EAAe,IAAf,EAAqBgpB,OAArB,CAAX,CANqB;;;EAQrB,QAAI3gB,MAAI,CAACpK,CAAL,CAAOxB,KAAP,KAAiBusB,OAAO,CAAC/b,KAAR,CAAcxQ,KAAd,EAArB,EAA4C;EAC1CuD,MAAAA,KAAG,CAAC6C,IAAJ,IAAY,CAAZ;EACAwF,MAAAA,MAAI,GAAG,IAAI0hB,OAAJ,CAAU/pB,KAAV,EAAe,IAAf,EAAqBgpB,OAArB,CAAP;EACD;;EACD,QAAI3gB,MAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,MAAP;EACD;EACF,GAtE2C;;;EAyE5C1M,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,yBAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAImE,KAAG,GAAG;EACRvD,MAAAA,KAAK,EAAEusB,OAAO,CAAC/b,KAAR,CAAcxQ,KAAd,EADC;EAERM,MAAAA,IAAI,EAAEpB,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,EAFE;EAGR4G,MAAAA,IAAI,EAAEmmB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd;EAHE,KAAV;;EAKA,QAAIwF,MAAI,GAAG,IAAIqhB,YAAJ,CAAiB1pB,KAAjB,EAAsB,IAAtB,EAA4BgpB,OAA5B,CAAX;;EACA,QAAI3gB,MAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,MAAP;EACD;EACF,GApF2C;;;EAsF5C1M,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,oBAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAImE,KAAG,GAAG;EACRvD,MAAAA,KAAK,EAAEusB,OAAO,CAAC/b,KAAR,CAAcxQ,KAAd,EADC;EAERM,MAAAA,IAAI,EAAEpB,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,EAFE;EAGR4G,MAAAA,IAAI,EAAEmmB,OAAO,CAAC/b,KAAR,CAAcpK,IAAd;EAHE,KAAV;;EAKA,QAAIwF,MAAI,GAAG,IAAIqhB,YAAJ,CAAiB1pB,KAAjB,EAAsB,IAAtB,EAA4BgpB,OAA5B,CAAX;;EACA,QAAI3gB,MAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;;EAE7B,UAAI1G,MAAI,CAACpK,CAAL,CAAOua,QAAP,CAAgBwQ,OAAO,CAAC/b,KAAxB,CAAJ,EAAoC;EAClC5E,QAAAA,MAAI,CAACpK,CAAL,GAASoK,MAAI,CAACpK,CAAL,CAAOgQ,GAAP,CAAW,CAAX,EAAc,OAAd,CAAT;EACD;;EACD,aAAO5F,MAAP;EACD;EACF,GArG2C;;;EAuG5C1M,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,wCAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIG,IAAG,GAAGO,GAAG,CAACN,IAAJ,CAAS,SAAT,CAAV;;EACA,QAAIoM,MAAI,GAAG,IAAIiiB,MAAJ,CAAWtuB,IAAX,EAAgB,IAAhB,EAAsBgtB,OAAtB,CAAX;;EACA,QAAI3gB,MAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,IAAzB,EAA+B;EAC7B,aAAO1G,MAAP;EACD;EACF;;EAED,MAAIrM,GAAG,GAAGO,GAAG,CAACN,IAAJ,CAAS,SAAT,CAAV,CAhH4C;;EAkH5C,MAAIoM,IAAI,GAAG,IAAIohB,KAAJ,CAAQztB,GAAR,EAAa,IAAb,EAAmBgtB,OAAnB,CAAX,CAlH4C;;;EAqH5C,MAAI3gB,IAAI,CAACpK,CAAL,CAAO8Q,OAAP,OAAqB,KAAzB,EAAgC;EAC9B,WAAO,IAAP;EACD;;EACD,SAAO1G,IAAP;EACD,CAzHD;;EA0HA,eAAc,GAAGklB,aAAjB;;MC9HQtD,UAA6D3rB,QAA7D2rB;MAAS5qB,SAAoDf,QAApDe;MAAQ6qB,OAA4C5rB,QAA5C4rB;MAAMT,MAAsCnrB,QAAtCmrB;MAAKW,OAAiC9rB,QAAjC8rB;MAAMC,SAA2B/rB,QAA3B+rB;MAAQN,QAAmBzrB,QAAnByrB;MAAOI,UAAY7rB,QAAZ6rB;EAEzD,IAAM7P,KAAK,GAAG;EACZlX,EAAAA,GAAG,EAAEqmB,GADO;EAEZvhB,EAAAA,IAAI,EAAEgiB,IAFM;EAGZM,EAAAA,OAAO,EAAEL,OAHG;EAIZ1tB,EAAAA,KAAK,EAAEstB,KAJK;EAKZtc,EAAAA,OAAO,EAAEwc,OALG;EAMZntB,EAAAA,MAAM,EAAEuC,MANI;EAOZgE,EAAAA,IAAI,EAAE+mB,IAPM;EAQZniB,EAAAA,MAAM,EAAEoiB;EARI,CAAd;;EAWA,IAAMoD,YAAY,GAAG,SAAfA,YAAe,CAAUplB,IAAV,EAA8B;EAAA,MAAdqlB,OAAc,uEAAJ,EAAI;EACjD,MAAI3E,IAAI,GAAGzO,KAAK,CAACoT,OAAO,CAACrlB,IAAT,CAAhB;;EACA,MAAI,CAAC0gB,IAAL,EAAW;EACT,WAAO1gB,IAAP;EACD;;EACD,MAAIpK,CAAC,GAAGoK,IAAI,CAACpK,CAAb,CALiD;;EAQjD,MAAIyvB,OAAO,CAAC3C,GAAR,KAAgB,OAAhB,IAA2B2C,OAAO,CAACxxB,GAAR,KAAgB,CAA/C,EAAkD;EAChD+B,IAAAA,CAAC,GAAGoK,IAAI,CAAC3E,KAAL,GAAazF,CAAjB;EACAA,IAAAA,CAAC,GAAGA,CAAC,CAACsM,OAAF,CAAUmjB,OAAO,CAACrlB,IAAlB,CAAJ;EACD,GAHD,MAGO,IAAIqlB,OAAO,CAAC3C,GAAR,KAAgB,MAApB,EAA4B;EACjC9sB,IAAAA,CAAC,GAAGA,CAAC,CAAC6Z,KAAF,CAAQzP,IAAI,CAACA,IAAb,CAAJ;EACApK,IAAAA,CAAC,GAAGA,CAAC,CAACsM,OAAF,CAAUmjB,OAAO,CAACrlB,IAAlB,CAAJ;EACD,GAHM,MAGA,IAAIqlB,OAAO,CAACxxB,GAAZ,EAAiB;;EAEtB+B,IAAAA,CAAC,GAAGA,CAAC,CAACgQ,GAAF,CAAMyf,OAAO,CAACxxB,GAAd,EAAmBwxB,OAAO,CAACrlB,IAA3B,CAAJ;EACD;;EACD,MAAIwR,CAAC,GAAG,IAAIkP,IAAJ,CAAS9qB,CAAT,EAAY,IAAZ,EAAkBoK,IAAI,CAAC2gB,OAAvB,CAAR;;EACA,MAAInP,CAAC,CAAC5b,CAAF,CAAI8Q,OAAJ,OAAkB,IAAtB,EAA4B;EAC1B,WAAO8K,CAAP;EACD;;EACD,SAAOxR,IAAP,CAtBiD;EAuBlD,CAvBD;;EAwBA,cAAc,GAAGolB,YAAjB;;MCrCQ9D,UAAYrrB,QAAZqrB;EACR,IAAMgE,MAAM,GAAG;EACb/P,EAAAA,KAAK,EAAErf,QADM;EAEbmvB,EAAAA,OAAO,EAAElvB,UAFI;EAGbpB,EAAAA,IAAI,EAAEqB,OAHO;EAIbmvB,EAAAA,QAAQ,EAAElvB,WAJG;EAKb0qB,EAAAA,OAAO,EAAEzqB,UALI;EAMb2H,EAAAA,QAAQ,EAAE1H,WANG;EAObivB,EAAAA,OAAO,EAAEhvB;EAPI,CAAf;EAUA,IAAMuO,OAAK,GAAG;EACZH,EAAAA,KAAK,EAAE6gB,QADK;EAEZC,EAAAA,OAAO,EAAEC,WAFG;EAGZb,EAAAA,QAAQ,EAAEc,WAHE;EAIZC,EAAAA,MAAM,EAAEC,SAJI;EAKZC,EAAAA,QAAQ,EAAEC;EALE,CAAd;EAQA,IAAMC,SAAS,GAAG;EAChBZ,EAAAA,OAAO,EAAEa;EADO,CAAlB;;EAIA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAUjyB,GAAV,EAAeysB,OAAf,EAAwB;;EAExCzsB,EAAAA,GAAG,CAACC,KAAJ,CAAU,gBAAV,EAA4B,CAA5B,EAA+BsuB,MAA/B,GAFwC;;;EAIxC,MAAIlN,KAAK,GAAG+P,MAAM,CAAC/P,KAAP,CAAarhB,GAAb,CAAZ;EACA,MAAImxB,OAAO,GAAGC,MAAM,CAACD,OAAP,CAAenxB,GAAf,CAAd;EACA,MAAI+H,EAAE,GAAGqpB,MAAM,CAACrnB,QAAP,CAAgB/J,GAAhB,CAAT;EACA,MAAIa,IAAI,GAAGuwB,MAAM,CAACvwB,IAAP,CAAYb,GAAZ,EAAiBysB,OAAjB,CAAX;EACA,MAAIY,OAAO,GAAG+D,MAAM,CAACE,OAAP,CAAetxB,GAAf,EAAoBysB,OAApB,CAAd;EACA,MAAII,OAAO,GAAGuE,MAAM,CAACvE,OAAP,CAAe7sB,GAAf,EAAoBysB,OAApB,CAAd;EACA,MAAIG,GAAG,GAAGwE,MAAM,CAACC,QAAP,CAAgBrxB,GAAhB,CAAV,CAVwC;;EAaxC,MAAI+H,EAAJ,EAAQ;EACN0kB,IAAAA,OAAO,GAAGloB,MAAM,CAAC8N,MAAP,CAAc,EAAd,EAAkBoa,OAAlB,EAA2B;EAAE1iB,MAAAA,QAAQ,EAAEhC;EAAZ,KAA3B,CAAV;EACA,QAAI8N,GAAG,GAAG4W,OAAO,CAAC/b,KAAR,CAAc7G,MAAd,CAAqB,WAArB,CAAV;EACA4iB,IAAAA,OAAO,CAAC/b,KAAR,GAAgB+b,OAAO,CAAC/b,KAAR,SAAmB+b,OAAO,CAAC1iB,QAA3B,EAAqC2D,GAArC,CAAyCmI,GAAzC,CAAhB;EACD;;EACD,MAAI/J,IAAI,GAAG,IAAX,CAlBwC;;EAoBxCA,EAAAA,IAAI,GAAGA,IAAI,IAAI+E,OAAK,CAACH,KAAN,CAAY1Q,GAAZ,EAAiBysB,OAAjB,EAA0B;EAAEpL,IAAAA,KAAK,EAALA,KAAF;EAASxgB,IAAAA,IAAI,EAAJA,IAAT;EAAe+rB,IAAAA,GAAG,EAAHA;EAAf,GAA1B,CAAf,CApBwC;;EAsBxC9gB,EAAAA,IAAI,GAAGA,IAAI,IAAI+E,OAAK,CAAC2gB,OAAN,CAAcxxB,GAAd,EAAmBysB,OAAnB,CAAf,CAtBwC;;EAwBxC3gB,EAAAA,IAAI,GAAGA,IAAI,IAAI+E,OAAK,CAAC+f,QAAN,CAAe5wB,GAAf,EAAoBysB,OAApB,CAAf,CAxBwC;;EA0BxC3gB,EAAAA,IAAI,GAAGA,IAAI,IAAI+E,OAAK,CAAC8gB,MAAN,CAAa3xB,GAAb,EAAkBysB,OAAlB,CAAf,CA1BwC;;EA4BxC3gB,EAAAA,IAAI,GAAGA,IAAI,IAAI+E,OAAK,CAACghB,QAAN,CAAe7xB,GAAf,EAAoBysB,OAApB,CAAf,CA5BwC;;;;;;;;;;;;EAyCxC,MAAI,CAAC3gB,IAAL,EAAW;EACT,WAAO,IAAP;EACD,GA3CuC;;;EA8CxC,MAAIuV,KAAJ,EAAW;EACTvV,IAAAA,IAAI,CAAComB,UAAL,CAAgB7Q,KAAhB;EACD,GAhDuC;;;EAkDxC,MAAIgM,OAAO,IAAIvhB,IAAI,CAACA,IAAL,KAAc,KAA7B,EAAoC;EAClCA,IAAAA,IAAI,CAACqmB,YAAL,CAAkB9E,OAAlB;EACAvhB,IAAAA,IAAI,GAAG,IAAIshB,OAAJ,CAAYthB,IAAI,CAACpK,CAAjB,EAAoB,IAApB,EAA0BoK,IAAI,CAAC2gB,OAA/B,CAAP;EACD,GArDuC;;;EAuDxC,MAAIG,GAAJ,EAAS;EACP9gB,IAAAA,IAAI,CAACsmB,QAAL,CAAcxF,GAAd;EACD,GAzDuC;;;EA2DxC,MAAIC,OAAJ,EAAa;EACX/gB,IAAAA,IAAI,CAACumB,YAAL,CAAkBxF,OAAlB;EACD,GA7DuC;;;EA+DxC,MAAIhsB,IAAJ,EAAU;EACRiL,IAAAA,IAAI,CAACwmB,SAAL,CAAezxB,IAAf;EACD,GAjEuC;;;EAmExC,MAAIswB,OAAO,IAAIA,OAAO,CAACrlB,IAAvB,EAA6B;EAC3BA,IAAAA,IAAI,GAAGimB,SAAS,CAACZ,OAAV,CAAkBrlB,IAAlB,EAAwBqlB,OAAxB,CAAP;EACD;;EACD,SAAOrlB,IAAP;EACD,CAvED;;EAwEA,aAAc,GAAGmmB,SAAjB;;EC/FA,IAAMM,QAAQ,GAAG;EACfC,EAAAA,GAAG,EAAE,QADU;EAEfC,EAAAA,GAAG,EAAE,SAFU;EAGfpf,EAAAA,IAAI,EAAE,WAHS;EAIfqf,EAAAA,GAAG,EAAE,WAJU;EAKfC,EAAAA,GAAG,EAAE,UALU;EAMfC,EAAAA,GAAG,EAAE,QANU;EAOfC,EAAAA,GAAG,EAAE,UAPU;EAQfC,EAAAA,GAAG,EAAE,QARU;EASfC,EAAAA,MAAM,EAAE,QATO;EAUfC,EAAAA,OAAO,EAAE,SAVM;EAWfC,EAAAA,SAAS,EAAE,WAXI;EAYfC,EAAAA,QAAQ,EAAE,UAZK;EAafC,EAAAA,MAAM,EAAE,QAbO;EAcfC,EAAAA,QAAQ,EAAE,UAdK;EAefC,EAAAA,MAAM,EAAE;EAfO,CAAjB;;EAkBA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAUl0B,CAAV,EAAa;EAC9B,MAAIA,CAAC,CAACa,KAAF,CAAQ,cAAR,EAAwBX,KAA5B,EAAmC;EACjC,WAAO,KAAP;EACD;;EACD,MAAIF,CAAC,CAACa,KAAF,CAAQ,SAAR,EAAmBX,KAAvB,EAA8B;EAC5B,WAAO,IAAP;EACD;;EACD,SAAO,IAAP;EACD,CARD;;;EAWA,IAAMi0B,cAAc,GAAG,SAAjBA,cAAiB,CAAUvzB,GAAV,EAAe;;EAEpC,MAAIZ,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,6FAAV,CAAR;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIk0B,MAAM,GAAG;EAAEC,MAAAA,QAAQ,EAAE;EAAZ,KAAb;EACA,QAAI3nB,IAAI,GAAG1M,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBlB,IAAjB,CAAsB,SAAtB,CAAX;EACA8zB,IAAAA,MAAM,CAACC,QAAP,CAAgB3nB,IAAhB,IAAwB,CAAxB;EACA0nB,IAAAA,MAAM,CAACE,MAAP,GAAgBJ,UAAU,CAACl0B,CAAD,CAA1B,CAJW;;EAMX,QAAIA,CAAC,CAACwB,MAAF,CAAS,MAAT,EAAiBtB,KAArB,EAA4B;EAC1Bk0B,MAAAA,MAAM,CAACC,QAAP,CAAgB3nB,IAAhB,IAAwB,CAAxB;EACD;;EACD9L,IAAAA,GAAG,GAAGA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX,CAAN;EACA,WAAO;EAAEo0B,MAAAA,MAAM,EAAEA;EAAV,KAAP;EACD,GAdmC;;;EAiBpCp0B,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,4FAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIk0B,OAAM,GAAG;EAAEC,MAAAA,QAAQ,EAAE;EAAZ,KAAb;EACA,QAAI1V,KAAK,GAAG3e,CAAC,CAACwB,MAAF,CAAS,MAAT,CAAZ;EACAmd,IAAAA,KAAK,CAAC4V,KAAN,GAAcC,UAAd;;EACA,QAAI9nB,KAAI,GAAGiS,KAAK,CAACre,IAAN,CAAW,SAAX,CAAX;;EACA8zB,IAAAA,OAAM,CAACC,QAAP,CAAgB3nB,KAAhB,IAAwB1M,CAAC,CAACwB,MAAF,CAAS,KAAT,EAAgB4B,OAAhB,GAA0BwjB,GAA1B,CAA8B,CAA9B,CAAxB;EACAwN,IAAAA,OAAM,CAACE,MAAP,GAAgBJ,UAAU,CAACl0B,CAAD,CAA1B;EACAY,IAAAA,GAAG,GAAGA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX,CAAN;EACA,WAAO;EAAEo0B,MAAAA,MAAM,EAAEA;EAAV,KAAP;EACD,GA3BmC;;;EA8BpCp0B,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,8FAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIk0B,QAAM,GAAG;EAAEC,MAAAA,QAAQ,EAAE;EAAE5sB,QAAAA,GAAG,EAAE;EAAP,OAAZ;EAAwBgU,MAAAA,MAAM,EAAE;EAAEgZ,QAAAA,QAAQ,EAAE;EAAZ;EAAhC,KAAb;EACA,QAAIp0B,GAAG,GAAGL,CAAC,CAACwB,MAAF,CAAS,KAAT,EAAgBlB,IAAhB,CAAqB,SAArB,CAAV;EACAD,IAAAA,GAAG,GAAG8yB,QAAQ,CAAC9yB,GAAD,CAAd,CAHW;;EAIX,QAAIA,GAAJ,EAAS;EACP+zB,MAAAA,QAAM,CAAC3Y,MAAP,CAAcgZ,QAAd,CAAuBp0B,GAAvB,IAA8B,IAA9B;EACA+zB,MAAAA,QAAM,CAACE,MAAP,GAAgBJ,UAAU,CAACl0B,CAAD,CAA1B;EACAY,MAAAA,GAAG,GAAGA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX,CAAN;EACA,aAAO;EAAEo0B,QAAAA,MAAM,EAAEA;EAAV,OAAP;EACD;EACF,GAzCmC;;;EA4CpCp0B,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CACF,4GADE,CAAJ;;EAGA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIk0B,QAAM,GAAG;EAAEC,MAAAA,QAAQ,EAAE;EAAE5sB,QAAAA,GAAG,EAAE;EAAP,OAAZ;EAAwBgU,MAAAA,MAAM,EAAE;EAAEgZ,QAAAA,QAAQ,EAAE;EAAZ;EAAhC,KAAb;EACA,QAAIhtB,GAAG,GAAGzH,CAAC,CAACwB,MAAF,CAAS,KAAT,CAAV;;EACA,QAAIiG,GAAG,CAAC7F,GAAJ,CAAQ,oBAAR,CAAJ,EAAmC;EACjCwyB,MAAAA,QAAM,CAAC3Y,MAAP,CAAcgZ,QAAd,GAAyB;EACvBd,QAAAA,MAAM,EAAE,IADe;EAEvBC,QAAAA,OAAO,EAAE,IAFc;EAGvBC,QAAAA,SAAS,EAAE,IAHY;EAIvBC,QAAAA,QAAQ,EAAE,IAJa;EAKvBC,QAAAA,MAAM,EAAE;EALe,OAAzB;EAOD,KARD,MAQO,IAAItsB,GAAG,CAAC7F,GAAJ,CAAQ,uBAAR,CAAJ,EAAsC;EAC3CwyB,MAAAA,QAAM,CAAC3Y,MAAP,CAAcgZ,QAAd,GAAyB;EACvBT,QAAAA,QAAQ,EAAE,IADa;EAEvBC,QAAAA,MAAM,EAAE;EAFe,OAAzB;EAID;;EACDG,IAAAA,QAAM,CAACE,MAAP,GAAgBJ,UAAU,CAACl0B,CAAD,CAA1B;EACAY,IAAAA,GAAG,GAAGA,GAAG,CAACuuB,MAAJ,CAAWnvB,CAAX,CAAN;EACA,WAAO;EAAEo0B,MAAAA,MAAM,EAAEA;EAAV,KAAP;EACD;;EACD,SAAO,IAAP;EACD,CArED;;EAsEA,aAAc,GAAGD,cAAjB;;EChGA,IAAMO,IAAI,GAAG,SAAPA,IAAO,CAAUhoB,IAAV,EAAgB2gB,OAAhB,EAAyB;EACpC3gB,EAAAA,IAAI,GAAGA,IAAI,CAAComB,UAAL,CAAgBzF,OAAO,CAACqH,IAAxB,CAAP;EACA,SAAOhoB,IAAP;EACD,CAHD;;EAKA,UAAc,GAAG,CACf;;EAEE7L,EAAAA,KAAK,EAAE,iCAFT;EAGE4Q,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAItlB,KAAK,GAAG/H,CAAC,CAACwB,MAAF,CAAS,OAAT,CAAZ;EACAuG,IAAAA,KAAK,GAAG8qB,SAAS,CAAC9qB,KAAD,EAAQslB,OAAR,CAAjB;EACA,QAAIrlB,GAAG,GAAGhI,CAAC,CAACwB,MAAF,CAAS,KAAT,CAAV;EACAwG,IAAAA,GAAG,GAAG6qB,SAAS,CAAC7qB,GAAD,EAAMqlB,OAAN,CAAf;EACArlB,IAAAA,GAAG,GAAGA,GAAG,CAACmC,MAAJ,EAAN;;EACA,QAAIpC,KAAK,IAAIC,GAAb,EAAkB;EAChB,aAAO;EACLD,QAAAA,KAAK,EAAEA,KADF;EAELC,QAAAA,GAAG,EAAEA;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAhBH,CADe,EAoBf;;EAEEnH,EAAAA,KAAK,EAAE,gFAFT;EAGE4Q,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAIla,GAAG,GAAGnT,CAAC,CAACwB,MAAF,EAAV;EACA,QAAIuG,KAAK,GAAGoL,GAAG,CAAC1M,IAAhB;;EACA,QAAI0M,GAAG,CAACjM,IAAR,EAAc;EACZa,MAAAA,KAAK,GAAGA,KAAK,CAAC4sB,MAAN,CAAaxhB,GAAG,CAACjM,IAAjB,CAAR;EACD;;EACDa,IAAAA,KAAK,GAAG8qB,SAAS,CAAC9qB,KAAD,EAAQslB,OAAR,CAAjB;;EACA,QAAItlB,KAAJ,EAAW;EACT,UAAIC,GAAG,GAAGmL,GAAG,CAACmI,EAAd;;EACA,UAAInI,GAAG,CAACjM,IAAR,EAAc;EACZc,QAAAA,GAAG,GAAGA,GAAG,CAAC2sB,MAAJ,CAAWxhB,GAAG,CAACjM,IAAf,CAAN;EACD;;EACDc,MAAAA,GAAG,GAAG6qB,SAAS,CAAC7qB,GAAD,EAAMqlB,OAAN,CAAf,CALS;;EAOT,UAAItlB,KAAK,CAACzF,CAAN,CAAQwa,OAAR,CAAgB9U,GAAG,CAAC1F,CAApB,CAAJ,EAA4B;EAC1B,YAAIiO,GAAG,GAAGxI,KAAV;EACAA,QAAAA,KAAK,GAAGC,GAAR;EACAA,QAAAA,GAAG,GAAGuI,GAAN;EACD;;EACD,aAAO;EACLxI,QAAAA,KAAK,EAAEA,KADF;EAELC,QAAAA,GAAG,EAAEA,GAAG,CAACA,GAAJ;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EA5BH,CApBe,EAkDf;;EAEEnH,EAAAA,KAAK,EAAE,iFAFT;EAGE4Q,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EAAA,oBACWrtB,CAAC,CAACwB,MAAF,EADX;EAAA,QACfV,KADe,aACfA,KADe;EAAA,QACR2F,IADQ,aACRA,IADQ;EAAA,QACF6U,EADE,aACFA,EADE;EAAA,QACEpU,IADF,aACEA,IADF;;EAErB,QAAI0tB,KAAK,GAAG1tB,IAAI,CAACyG,KAAL,EAAZ;EACA,QAAI5F,KAAK,GAAGtB,IAAI,CAACouB,OAAL,CAAa/zB,KAAK,CAACR,IAAN,EAAb,EAA2Bq0B,MAA3B,CAAkCztB,IAAI,CAAC5G,IAAL,EAAlC,CAAZ;EACAyH,IAAAA,KAAK,GAAG8qB,SAAS,CAAC9qB,KAAD,EAAQslB,OAAR,CAAjB;;EACA,QAAItlB,KAAJ,EAAW;EACT,UAAIC,GAAG,GAAGsT,EAAE,CAACuZ,OAAH,CAAW/zB,KAAK,CAACR,IAAN,EAAX,EAAyBq0B,MAAzB,CAAgCC,KAAhC,CAAV;EACA5sB,MAAAA,GAAG,GAAG6qB,SAAS,CAAC7qB,GAAD,EAAMqlB,OAAN,CAAf;EACA,aAAO;EACLtlB,QAAAA,KAAK,EAAEA,KADF;EAELC,QAAAA,GAAG,EAAEA,GAAG,CAACA,GAAJ;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAjBH,CAlDe,EAqEf;;EAEEnH,EAAAA,KAAK,EAAE,wEAFT;EAGE4Q,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAI/R,EAAE,GAAGtb,CAAC,CAACwB,MAAF,CAAS,IAAT,CAAT;EACA8Z,IAAAA,EAAE,GAAGuX,SAAS,CAACvX,EAAD,EAAK+R,OAAL,CAAd;;EACA,QAAI/R,EAAJ,EAAQ;EACN,UAAIwZ,QAAQ,GAAG90B,CAAC,CAACwB,MAAF,CAAS,IAAT,CAAf;EACA,UAAIiF,IAAI,GAAG6U,EAAE,CAAC3N,KAAH,EAAX;EACAlH,MAAAA,IAAI,CAACnE,CAAL,GAASmE,IAAI,CAACnE,CAAL,CAAOlB,IAAP,CAAY0zB,QAAQ,CAACx0B,IAAT,CAAc,QAAd,CAAZ,CAAT;EACA,aAAO;EACLyH,QAAAA,KAAK,EAAEtB,IADF;EAELuB,QAAAA,GAAG,EAAEsT,EAAE,CAACtT,GAAH;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAhBH,CArEe,EAwFf;;EAEEnH,EAAAA,KAAK,EAAE,8DAFT;EAGE4Q,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAI/R,EAAE,GAAGtb,CAAC,CAACwB,MAAF,CAAS,IAAT,CAAT;EACA8Z,IAAAA,EAAE,GAAGuX,SAAS,CAACvX,EAAD,EAAK+R,OAAL,CAAd;;EACA,QAAI/R,EAAJ,EAAQ;EACN,UAAIwZ,QAAQ,GAAG90B,CAAC,CAACwB,MAAF,CAAS,MAAT,CAAf;EACA,UAAIiF,IAAI,GAAG6U,EAAE,CAAC3N,KAAH,EAAX;EACAlH,MAAAA,IAAI,CAACnE,CAAL,GAASmE,IAAI,CAACnE,CAAL,CAAOlB,IAAP,CAAY0zB,QAAQ,CAACx0B,IAAT,CAAc,QAAd,CAAZ,CAAT;EACA,aAAO;EACLyH,QAAAA,KAAK,EAAEtB,IADF;EAELuB,QAAAA,GAAG,EAAEsT,EAAE,CAACtT,GAAH;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAhBH,CAxFe,EA2Gf;;EAEEnH,EAAAA,KAAK,EAAE,0DAFT;EAGE4Q,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAI5mB,IAAI,GAAGzG,CAAC,CAACwB,MAAF,CAAS,MAAT,CAAX;EACAiF,IAAAA,IAAI,GAAGosB,SAAS,CAACpsB,IAAD,EAAO4mB,OAAP,CAAhB;;EACA,QAAI5mB,IAAJ,EAAU;EACR,UAAIsuB,MAAM,GAAG/0B,CAAC,CAACwB,MAAF,CAAS,IAAT,CAAb;EACA,UAAI8Z,EAAE,GAAG7U,IAAI,CAACkH,KAAL,EAAT;EACA2N,MAAAA,EAAE,CAAChZ,CAAH,GAAOgZ,EAAE,CAAChZ,CAAH,CAAKlB,IAAL,CAAU2zB,MAAM,CAACz0B,IAAP,CAAY,QAAZ,CAAV,CAAP;EACA,aAAO;EACLyH,QAAAA,KAAK,EAAEtB,IADF;EAELuB,QAAAA,GAAG,EAAEsT,EAAE,CAACtT,GAAH;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAhBH,CA3Ge,EA8Hf;;EAEEnH,EAAAA,KAAK,EAAE,kFAFT;EAGE4Q,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAI5mB,IAAI,GAAGzG,CAAC,CAACwB,MAAF,CAAS,MAAT,CAAX;EACA,QAAI0F,IAAI,GAAGT,IAAI,CAACjF,MAAL,CAAY,MAAZ,EAAoB4B,OAApB,GAA8BwjB,GAA9B,CAAkC,CAAlC,CAAX;EACA,QAAItL,EAAE,GAAGtb,CAAC,CAACwB,MAAF,CAAS,IAAT,CAAT;EACAiF,IAAAA,IAAI,GAAGosB,SAAS,CAACpsB,IAAD,EAAO4mB,OAAP,CAAhB;EACA/R,IAAAA,EAAE,GAAGuX,SAAS,CAACvX,EAAD,EAAK+R,OAAL,CAAd;EACA5mB,IAAAA,IAAI,CAACnE,CAAL,GAASmE,IAAI,CAACnE,CAAL,CAAO4E,IAAP,CAAYA,IAAZ,CAAT;EACAoU,IAAAA,EAAE,CAAChZ,CAAH,GAAOgZ,EAAE,CAAChZ,CAAH,CAAK4E,IAAL,CAAUA,IAAV,CAAP;;EACA,QAAIT,IAAI,IAAI6U,EAAZ,EAAgB;;EAEd,UAAI7U,IAAI,CAACnE,CAAL,CAAOwa,OAAP,CAAexB,EAAE,CAAChZ,CAAlB,CAAJ,EAA0B;EACxB,YAAIiO,GAAG,GAAG9J,IAAV;EACAA,QAAAA,IAAI,GAAG6U,EAAP;EACAA,QAAAA,EAAE,GAAG/K,GAAL;EACD;;EACD,aAAO;EACLxI,QAAAA,KAAK,EAAEtB,IADF;EAELuB,QAAAA,GAAG,EAAEsT,EAAE,CAACtT,GAAH;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAxBH,CA9He,EAyJf;;EAEEnH,EAAAA,KAAK,EAAE,0DAFT;EAGE4Q,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAI5mB,IAAI,GAAGzG,CAAC,CAACwB,MAAF,CAAS,MAAT,CAAX;EACA,QAAI8Z,EAAE,GAAGtb,CAAC,CAACwB,MAAF,CAAS,IAAT,CAAT;EACAiF,IAAAA,IAAI,GAAGosB,SAAS,CAACpsB,IAAD,EAAO4mB,OAAP,CAAhB;EACA/R,IAAAA,EAAE,GAAGuX,SAAS,CAACvX,EAAD,EAAK+R,OAAL,CAAd;;EACA,QAAI5mB,IAAI,IAAI6U,EAAZ,EAAgB;EACd,aAAO;EACLvT,QAAAA,KAAK,EAAEtB,IADF;EAELuB,QAAAA,GAAG,EAAEsT,EAAE,CAACtT,GAAH;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAfH,CAzJe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA+Mf;;EAEEnH,EAAAA,KAAK,EAAE,uBAFT;EAGEm0B,EAAAA,KAAK,EAAE,CAHT;EAIEvjB,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAI3gB,IAAI,GAAGmmB,SAAS,CAAC7yB,CAAD,EAAIqtB,OAAJ,CAApB;;EACA,QAAI3gB,IAAJ,EAAU;EACR,UAAI3E,KAAK,GAAG,IAAIqlB,MAAJ,CAASC,OAAO,CAAC/b,KAAjB,EAAwB,IAAxB,EAA8B+b,OAA9B,CAAZ;;EACA,UAAItlB,KAAK,CAACzF,CAAN,CAAQwa,OAAR,CAAgBpQ,IAAI,CAACpK,CAArB,CAAJ,EAA6B;EAC3ByF,QAAAA,KAAK,GAAG2E,IAAI,CAACiB,KAAL,GAAamlB,UAAb,CAAwB;EAAEzV,UAAAA,KAAK,EAAE,CAAC;EAAV,SAAxB,CAAR;EACD,OAJO;;;EAMR,UAAIrV,GAAG,GAAG0E,IAAI,CAACiB,KAAL,GAAamlB,UAAb,CAAwB;EAAErrB,QAAAA,GAAG,EAAE,CAAC;EAAR,OAAxB,CAAV;EACA,aAAO;EACLM,QAAAA,KAAK,EAAEA,KADF;EAELC,QAAAA,GAAG,EAAEA,GAAG,CAACA,GAAJ;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAnBH,CA/Me,EAqOf;;EAEEnH,EAAAA,KAAK,EAAE,mBAFT;EAGEm0B,EAAAA,KAAK,EAAE,CAHT;EAIEvjB,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAI3gB,IAAI,GAAGmmB,SAAS,CAAC7yB,CAAD,EAAIqtB,OAAJ,CAApB;;EACA,QAAI3gB,IAAJ,EAAU;EACR,aAAO;EAAE3E,QAAAA,KAAK,EAAE2E,IAAT;EAAe1E,QAAAA,GAAG,EAAE0E,IAAI,CAACiB,KAAL,GAAa3F,GAAb;EAApB,OAAP;EACD;;EACD,WAAO,IAAP;EACD;EAVH,CArOe,EAkPf;;EAEEnH,EAAAA,KAAK,EAAE,wBAFT;EAGEm0B,EAAAA,KAAK,EAAE,CAHT;EAIEvjB,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAI3gB,IAAI,GAAGmmB,SAAS,CAAC7yB,CAAD,EAAIqtB,OAAJ,CAApB;;EACA,QAAI3gB,IAAJ,EAAU;EACRA,MAAAA,IAAI,GAAGA,IAAI,CAACuoB,KAAL,EAAP;EACA,aAAO;EACLltB,QAAAA,KAAK,EAAE2E,IAAI,CAACiB,KAAL,EADF;EAEL3F,QAAAA,GAAG,EAAE0sB,IAAI,CAAChoB,IAAI,CAACiB,KAAL,EAAD,EAAe0f,OAAf;EAFJ,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAdH,CAlPe,EAkQf;;EAEExsB,EAAAA,KAAK,EAAE,4BAFT;EAGEm0B,EAAAA,KAAK,EAAE,CAHT;EAIEvjB,EAAAA,KAAK,EAAE,eAACzR,CAAD,EAAIqtB,OAAJ,EAAgB;EACrB,QAAI3gB,IAAI,GAAGmmB,SAAS,CAAC7yB,CAAD,EAAIqtB,OAAJ,CAApB;;EACA,QAAI3gB,IAAJ,EAAU;EACR,aAAO;EACL3E,QAAAA,KAAK,EAAE2E,IADF;EAEL1E,QAAAA,GAAG,EAAE0E,IAAI,CAACiB,KAAL,GAAa3F,GAAb;EAFA,OAAP;EAID;;EACD,WAAO,IAAP;EACD;EAbH,CAlQe,CAAjB;;ECHA,IAAMktB,UAAU,GAAG,SAAbA,UAAa,CAAUt0B,GAAV,EAAeysB,OAAf,EAAwB;;EAEzC,MAAIgH,QAAQ,GAAGc,SAAa,CAACv0B,GAAD,CAAb,IAA+B,EAA9C,CAFyC;;EAIzC,OAAK,IAAIgE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwwB,MAAM,CAACrvB,MAA3B,EAAmCnB,CAAC,IAAI,CAAxC,EAA2C;EACzC,QAAIgT,GAAG,GAAGwd,MAAM,CAACxwB,CAAD,CAAhB;EACA,QAAI5E,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU+W,GAAG,CAAC/W,KAAd,CAAR;;EACA,QAAIb,CAAC,CAACE,KAAN,EAAa;EACX,UAAI0X,GAAG,CAACod,KAAJ,KAAcxvB,SAAlB,EAA6B;EAC3BxF,QAAAA,CAAC,GAAGA,CAAC,CAACwB,MAAF,CAASoW,GAAG,CAACod,KAAb,CAAJ;EACD;;EACD,UAAI7hB,IAAG,GAAGyE,GAAG,CAACnG,KAAJ,CAAUzR,CAAV,EAAaqtB,OAAb,CAAV;;EACA,UAAIla,IAAG,KAAK,IAAZ,EAAkB;;EAEhB,eAAOhO,MAAM,CAAC8N,MAAP,CAAc,EAAd,EAAkBohB,QAAlB,EAA4BlhB,IAA5B,CAAP;EACD;EACF;EACF,GAjBwC;;;EAmBzC,MAAIA,GAAG,GAAG;EACRpL,IAAAA,KAAK,EAAE,IADC;EAERC,IAAAA,GAAG,EAAE;EAFG,GAAV;EAIA,MAAI0E,IAAI,GAAGmmB,SAAS,CAACjyB,GAAD,EAAMysB,OAAN,CAApB;;EACA,MAAI3gB,IAAJ,EAAU;EACR,QAAI1E,GAAG,GAAG0E,IAAI,CAACiB,KAAL,GAAa3F,GAAb,EAAV,CADQ;;EAGR,QAAIA,GAAG,CAAC1F,CAAJ,CAAMwF,KAAN,KAAgB4E,IAAI,CAACpK,CAAL,CAAOwF,KAA3B,EAAkC;EAChC4E,MAAAA,IAAI,GAAGA,IAAI,CAAC2oB,SAAL,EAAP;EACD;;EACDliB,IAAAA,GAAG,GAAG;EACJpL,MAAAA,KAAK,EAAE2E,IADH;EAEJ1E,MAAAA,GAAG,EAAEA;EAFD,KAAN;EAID;;EACD,MAAIstB,QAAQ,GAAGnwB,MAAM,CAAC8N,MAAP,CAAc,EAAd,EAAkBohB,QAAlB,EAA4BlhB,GAA5B,CAAf,CAnCyC;;;EAuCzC,MAAImiB,QAAQ,CAACvtB,KAAT,CAAezF,CAAf,CAAiBwF,KAAjB,GAAyBwtB,QAAQ,CAACttB,GAAT,CAAa1F,CAAb,CAAewF,KAA5C,EAAmD;;EAEjDwtB,IAAAA,QAAQ,CAACvtB,KAAT,GAAiButB,QAAQ,CAACvtB,KAAT,CAAeA,KAAf,EAAjB,CAFiD;EAIlD;;EAED,SAAOutB,QAAP;EACD,CA9CD;;EA+CA,aAAc,GAAGJ,UAAjB;;ECpDA,IAAM/xB,SAAS,GAAG,SAAZA,SAAY,CAAUvC,GAAV,EAAe;EAC/BA,EAAAA,GAAG,GAAGA,GAAG,CAAC+M,KAAJ,EAAN,CAD+B;;EAI/B,MAAI3N,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,2CAAV,EAAuDA,KAAvD,CAA6D,QAA7D,CAAR;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIwH,IAAI,GAAG1H,CAAC,CAACwB,MAAF,CAAS,MAAT,CAAX;EACA,QAAIutB,GAAG,GAAG/uB,CAAC,CAACwB,MAAF,CAAS,KAAT,CAAV;EACA,QAAIjB,GAAG,GAAGmH,IAAI,CAAC/F,MAAL,GAAcilB,GAAd,CAAkB,CAAlB,CAAV;;EACA,QAAIrmB,GAAG,GAAG,CAAN,IAAWA,GAAG,IAAI,EAAtB,EAA0B;EACxB,UAAIstB,IAAI,GAAGkB,GAAG,CAACptB,MAAJ,GAAailB,GAAb,CAAiB,CAAjB,CAAX;EACA,UAAIvmB,GAAG,aAAME,GAAN,cAAastB,IAAb,CAAP;EACA7tB,MAAAA,CAAC,CAAC6B,WAAF,CAAcxB,GAAd;EACD;EACF;;EAED,MAAI,CAACO,GAAG,CAACwC,OAAT,EAAkB;EAChBwF,IAAAA,OAAO,CAACC,IAAR,CAAa,gFAAb;EACD,GAFD,MAEO;;EAEL,QAAItI,IAAG,GAAGK,GAAG,CAACwC,OAAJ,EAAV;;EACA7C,IAAAA,IAAG,CAACg1B,QAAJ;;EACAh1B,IAAAA,IAAG,CAAC6P,UAAJ,CAAe,KAAf;EACD,GAvB8B;;;EAyB/BxP,EAAAA,GAAG,CAAC40B,YAAJ,GAAmBC,MAAnB,GAzB+B;;EA2B/B70B,EAAAA,GAAG,CAAC80B,OAAJ,GAAcvG,MAAd,GA3B+B;;EA6B/BvuB,EAAAA,GAAG,CAACsJ,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,EAAmCzJ,GAAnC,CAAuC,MAAvC,EA7B+B;;EA+B/BG,EAAAA,GAAG,CAACsJ,OAAJ,CAAY,OAAZ,EAAqB,MAArB,EAA6BzJ,GAA7B,CAAiC,MAAjC,EA/B+B;;EAiC/BT,EAAAA,CAAC,GAAGY,GAAG,CAACC,KAAJ,CAAU,sBAAV,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXF,IAAAA,CAAC,CAACwB,MAAF,CAAS,GAAT,EAAcK,WAAd,CAA0B,GAA1B;EACA7B,IAAAA,CAAC,CAACS,GAAF,CAAM,WAAN;EACD;;EACD,SAAOG,GAAP;EACD,CAvCD;;EAwCA,eAAc,GAAGuC,SAAjB;;ECvCA,IAAMwyB,OAAO,GAAG,gBAAhB;;EAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAUptB,CAAV,EAAaqtB,KAAb,EAAoB;EACrC,MAAIA,KAAK,IAAIA,KAAK,CAACrtB,CAAC,CAACoM,OAAF,EAAD,CAAL,KAAuB,IAApC,EAA0C;EACxC,WAAO,KAAP;EACD;;EACD,SAAO,IAAP;EACD,CALD;;;EAQA,IAAMkhB,aAAa,GAAG,SAAhBA,aAAgB,CAAUjW,MAAV,EAAkBwN,OAAlB,EAA2B;EAC/C,MAAI0I,IAAI,GAAG,EAAX;EACA,MAAIC,SAAS,GAAG3I,OAAO,CAAC4I,UAAR,IAAsB,EAAtC;EACA,MAAIztB,CAAC,GAAGwe,SAAS,CAACnH,MAAM,CAAC9X,KAAP,IAAgBslB,OAAO,CAAC/b,KAAzB,EAAgC+b,OAAO,CAAC1iB,QAAxC,CAAjB,CAH+C;;EAK/C,MAAI3C,GAAG,GAAGgf,SAAS,CAACnH,MAAM,CAAC7X,GAAR,EAAaqlB,OAAO,CAAC1iB,QAArB,CAAnB;EACA,MAAIwZ,KAAK,GAAGhf,MAAM,CAAC2E,IAAP,CAAY+V,MAAM,CAACuU,MAAP,CAAcC,QAA1B,CAAZ;;EACA,MAAIlQ,KAAK,CAAC,CAAD,CAAL,IAAY3b,CAAC,CAACyV,MAAF,CAASjW,GAAT,EAAcmc,KAAK,CAAC,CAAD,CAAnB,MAA4B,IAA5C,EAAkD;;EAEhDnc,IAAAA,GAAG,GAAGgf,SAAS,CAAC2O,OAAD,EAAUtI,OAAO,CAAC1iB,QAAlB,CAAf;EACD,GAV8C;;;EAY/C,MAAIkrB,KAAK,GAAG,IAAZ;;EACA,MAAIhW,MAAM,CAACuU,MAAP,CAAc3Y,MAAlB,EAA0B;EACxBoa,IAAAA,KAAK,GAAGhW,MAAM,CAACuU,MAAP,CAAc3Y,MAAd,CAAqBgZ,QAA7B;EACD,GAf8C;;;EAiB/C,MAAIyB,KAAK,GAAG,CAAZ,CAjB+C;;EAmB/C,SAAOH,IAAI,CAAChwB,MAAL,GAAciwB,SAAd,IAA2BxtB,CAAC,CAACV,KAAF,GAAUE,GAAG,CAACF,KAAhD,EAAuD;EACrD,QAAI8tB,UAAU,CAACptB,CAAD,EAAIqtB,KAAJ,CAAd,EAA+B;EAC7BE,MAAAA,IAAI,CAAClwB,IAAL,CAAU2C,CAAC,CAACiO,GAAF,EAAV;EACD;;EACD0N,IAAAA,KAAK,CAAChkB,OAAN,CAAc,UAACuM,IAAD,EAAU;EACtBlE,MAAAA,CAAC,GAAGA,CAAC,CAAC8J,GAAF,CAAMuN,MAAM,CAACuU,MAAP,CAAcC,QAAd,CAAuB3nB,IAAvB,CAAN,EAAoCA,IAApC,CAAJ;EACD,KAFD;EAGAwpB,IAAAA,KAAK,IAAI,CAAT;;EACA,QAAIA,KAAK,GAAG,KAAZ,EAAmB;EACjBttB,MAAAA,OAAO,CAACC,IAAR,CAAa,gDAAb;EACAD,MAAAA,OAAO,CAACsY,GAAR,CAAYrB,MAAM,CAACuU,MAAnB;EACA;EACD;EACF;;EACDvU,EAAAA,MAAM,CAACuU,MAAP,CAAc+B,SAAd,GAA0BJ,IAA1B;EACA,SAAOlW,MAAP;EACD,CAnCD;;EAoCA,YAAc,GAAGiW,aAAjB;;EC1CA,IAAMM,WAAW,GAAG,SAAdA,WAAc,CAAUruB,KAAV,EAAiBC,GAAjB,EAAsB;EACxC,MAAI/G,QAAQ,GAAG,EAAf;;EACA,MAAI8G,KAAK,IAAIC,GAAb,EAAkB;EAChB/G,IAAAA,QAAQ,GAAG8G,KAAK,CAACzF,CAAN,CAAQyK,IAAR,CAAa/E,GAAG,CAAC1F,CAAjB,CAAX,CADgB;;EAGhB,WAAOrB,QAAQ,CAACuL,YAAhB;EACA,WAAOvL,QAAQ,CAACuM,OAAhB;EACD;;EACD,SAAOvM,QAAP;EACD,CATD;;EAWA,IAAMo1B,KAAK,GAAG,SAARA,KAAQ,CAAU3pB,IAAV,EAAgB;EAC5B,MAAIA,IAAI,IAAIA,IAAI,CAACpK,CAAjB,EAAoB;EAClB,WAAOoK,IAAI,CAACpK,CAAL,CAAOmI,MAAP,CAAc,KAAd,CAAP;EACD;;EACD,SAAO,IAAP;EACD,CALD;;EAOA,IAAMsH,OAAO,GAAG,SAAVA,OAAU,CAAUnR,GAAV,EAAeysB,OAAf,EAAwB;;EAEtCA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;EACAA,EAAAA,OAAO,CAAC1iB,QAAR,GAAmB0iB,OAAO,CAAC1iB,QAAR,IAAoB,SAAvC;EACA0iB,EAAAA,OAAO,CAAC/b,KAAR,GAAgB0V,SAAS,CAACqG,OAAO,CAAC/b,KAAR,IAAiB,IAAlB,EAAwB+b,OAAO,CAAC1iB,QAAhC,CAAzB,CAJsC;;EAMtC/J,EAAAA,GAAG,GAAGuC,WAAS,CAACvC,GAAD,CAAf,CANsC;;EAQtC,MAAIif,MAAM,GAAGyW,SAAW,CAAC11B,GAAD,EAAMysB,OAAN,CAAxB,CARsC;;EAUtCxN,EAAAA,MAAM,CAAC5e,QAAP,GAAkBm1B,WAAW,CAACvW,MAAM,CAAC9X,KAAR,EAAe8X,MAAM,CAAC7X,GAAtB,CAA7B,CAVsC;;EAYtC6X,EAAAA,MAAM,CAAC9X,KAAP,GAAesuB,KAAK,CAACxW,MAAM,CAAC9X,KAAR,CAApB;EACA8X,EAAAA,MAAM,CAAC7X,GAAP,GAAaquB,KAAK,CAACxW,MAAM,CAAC7X,GAAR,CAAlB,CAbsC;;EAetC,MAAI6X,MAAM,CAACuU,MAAX,EAAmB;EACjBvU,IAAAA,MAAM,GAAG0W,QAAQ,CAAC1W,MAAD,EAASwN,OAAT,CAAjB;EACD;;EAED,SAAOxN,MAAP;EACD,CApBD;;EAqBA,WAAc,GAAG9N,OAAjB;;EC5CA,IAAIpN,GAAG,GAAG,CACR,CAAC,KAAD,EAAQ,QAAR,CADQ,EAER,CAAC,KAAD,EAAQ,SAAR,CAFQ,EAGR,CAAC,MAAD,EAAS,SAAT,CAHQ,EAIR,CAAC,KAAD,EAAQ,WAAR,CAJQ,EAKR,CAAC,KAAD,EAAQ,UAAR,CALQ,EAMR,CAAC,OAAD,EAAU,UAAV,CANQ,EAOR,CAAC,KAAD,EAAQ,QAAR,CAPQ,EAQR,CAAC,KAAD,EAAQ,UAAR,CARQ,EASR,CAAC,KAAD,EAAQ,QAAR,CATQ,EAWR,CAAC,KAAD,EAAQ,SAAR,CAXQ,EAYR,CAAC,KAAD,EAAQ,UAAR,CAZQ,EAaR,CAAC,KAAD,EAAQ,OAAR,CAbQ,EAcR,CAAC,KAAD,EAAQ,OAAR,CAdQ,EAeR,CAAC,KAAD,EAAQ,MAAR,CAfQ,EAgBR,CAAC,KAAD,EAAQ,MAAR,CAhBQ,EAiBR,CAAC,KAAD,EAAQ,QAAR,CAjBQ,EAkBR,CAAC,KAAD,EAAQ,WAAR,CAlBQ,EAmBR,CAAC,MAAD,EAAS,WAAT,CAnBQ,EAoBR,CAAC,KAAD,EAAQ,SAAR,CApBQ,EAqBR,CAAC,KAAD,EAAQ,UAAR,CArBQ,EAsBR,CAAC,KAAD,EAAQ,UAAR,CAtBQ,CAAV;EAyBAA,GAAG,GAAGA,GAAG,CAACkX,GAAJ,CAAQ,UAAA5B,CAAC,EAAI;EACjB,SAAO;EAAE,aAAOA,CAAC,CAAC,CAAD,CAAV;EAAe,YAAMA,CAAC,CAAC,CAAD;EAAtB,GAAP;EACD,CAFK,CAAN;EAIA,YAAc,GAAGtV,GAAjB;;ECzBA,aAAc,GAAG;;EAEfiiB,EAAAA,GAAG,EAAE,aAAUjV,OAAV,EAAmB;EAAA;;EACtB,QAAIhN,GAAG,GAAG,EAAV;EACA,SAAKxE,OAAL,CAAa,UAACS,GAAD,EAAS;EACpB,UAAIV,KAAK,GAAGuR,OAAK,CAAC7Q,GAAD,EAAM,KAAI,CAACysB,OAAX,CAAjB;EACA1oB,MAAAA,GAAG,CAACkB,IAAJ,CAAS3F,KAAT;EACD,KAHD;;EAIA,QAAI,OAAOyR,OAAP,KAAmB,QAAvB,EAAiC;EAC/B,aAAOhN,GAAG,CAACgN,OAAD,CAAV;EACD;;EACD,WAAOhN,GAAP;EACD,GAZc;;;EAcfyR,EAAAA,IAAI,EAAE,cAAUzE,OAAV,EAAmB;EAAA;;EACvB,QAAIvL,CAAC,GAAG,IAAR;;EACA,QAAI,OAAOuL,OAAP,KAAmB,QAAvB,EAAiC;EAC/BvL,MAAAA,CAAC,GAAGuL,OAAJ;EACAA,MAAAA,OAAO,GAAG,IAAV;EACD;;EACDA,IAAAA,OAAO,GAAGA,OAAO,IAAI;EAAElP,MAAAA,KAAK,EAAE;EAAT,KAArB;EACA,QAAI0Q,GAAG,GAAG,EAAV;EACA,SAAKhT,OAAL,CAAa,UAACS,GAAD,EAAS;EACpB,UAAIwV,IAAI,GAAGxV,GAAG,CAACwV,IAAJ,CAASzE,OAAT,EAAkB,CAAlB,CAAX;EACA,UAAIzR,KAAK,GAAGuR,OAAK,CAAC7Q,GAAD,EAAM,MAAI,CAACysB,OAAX,CAAjB;EACAjX,MAAAA,IAAI,CAAChV,IAAL,GAAYlB,KAAZ;EACAiT,MAAAA,GAAG,CAACtN,IAAJ,CAASuQ,IAAT;EACD,KALD;;EAMA,QAAIhQ,CAAC,KAAK,IAAV,EAAgB;EACd,aAAO+M,GAAG,CAAC/M,CAAD,CAAV;EACD;;EACD,WAAO+M,GAAP;EACD,GAhCc;;;EAmCf1I,EAAAA,MAAM,EAAE,gBAAUmN,GAAV,EAAe;EAAA;;EACrB,SAAKzX,OAAL,CAAa,UAACS,GAAD,EAAS;EACpB,UAAIyD,GAAG,GAAGoN,OAAK,CAAC7Q,GAAD,EAAM,MAAI,CAACysB,OAAX,CAAf;;EACA,UAAIhpB,GAAG,CAAC0D,KAAR,EAAe;EACb,YAAIA,KAAK,GAAGif,SAAS,CAAC3iB,GAAG,CAAC0D,KAAL,EAAY,MAAI,CAACslB,OAAL,CAAa1iB,QAAzB,CAArB;EACA,YAAItK,GAAG,GAAG0H,KAAK,CAAC0C,MAAN,CAAamN,GAAb,CAAV;;EACA,YAAIvT,GAAG,CAAC2D,GAAR,EAAa;EACX,cAAIA,GAAG,GAAGgf,SAAS,CAAC3iB,GAAG,CAAC2D,GAAL,EAAU,MAAI,CAACqlB,OAAL,CAAa1iB,QAAvB,CAAnB;;EACA,cAAI5C,KAAK,CAACkW,MAAN,CAAajW,GAAb,EAAkB,KAAlB,MAA6B,KAAjC,EAAwC;EACtC3H,YAAAA,GAAG,IAAI,SAAS2H,GAAG,CAACyC,MAAJ,CAAWmN,GAAX,CAAhB;EACD;EACF;;EACDhX,QAAAA,GAAG,CAACiB,WAAJ,CAAgBxB,GAAhB,EAAqB;EAAEm2B,UAAAA,QAAQ,EAAE,IAAZ;EAAkBC,UAAAA,QAAQ,EAAE;EAA5B,SAArB;EACD;EACF,KAbD;EAcA,WAAO,IAAP;EACD,GAnDc;;;EAqDfC,EAAAA,UAAU,EAAE,sBAAY;EAAA;;EACtBC,IAAAA,QAAO,CAACx2B,OAAR,CAAgB,UAAC8Z,CAAD,EAAO;EACrB,MAAA,MAAI,CAAC/P,OAAL,CAAa+P,CAAC,SAAd,EAAsBA,CAAC,QAAvB,EAA8B,IAA9B;EACD,KAFD;EAGA,WAAO,IAAP;EACD,GA1Dc;;;EA4Df2c,EAAAA,WAAW,EAAE,uBAAY;EAAA;;EACvBD,IAAAA,QAAO,CAACx2B,OAAR,CAAgB,UAAC8Z,CAAD,EAAO;EACrB,MAAA,MAAI,CAAC/P,OAAL,CAAa+P,CAAC,QAAd,EAAqBA,CAAC,SAAtB,EAA8B,IAA9B;EACD,KAFD;EAGA,WAAO,IAAP;EACD;EAjEc,CAAjB;;ECJA,IAAM4c,KAAK,GAAG;EACZnX,EAAAA,OAAO,EAAE,IADG;EAEZjY,EAAAA,GAAG,EAAE,IAFO;EAGZgY,EAAAA,MAAM,EAAE,IAHI;EAIZ/X,EAAAA,IAAI,EAAE,IAJM;EAKZ0E,EAAAA,WAAW,EAAE,IALD;EAMZE,EAAAA,MAAM,EAAE,IANI;EAOZxL,EAAAA,KAAK,EAAE,IAPK;EAQZuL,EAAAA,MAAM,EAAE,IARI;EASZwiB,EAAAA,OAAO,EAAE,IATG;EAUZtiB,EAAAA,IAAI,EAAE,IAVM;EAWZrF,EAAAA,IAAI,EAAE,IAXM;EAYZ4K,EAAAA,OAAO,EAAE,IAZG;EAaZ3Q,EAAAA,MAAM,EAAE;EAbI,CAAd;EAgBA,IAAIkN,OAAO,GAAG;EACZrO,EAAAA,CAAC,EAAE,QADS;EAEZ2L,EAAAA,CAAC,EAAE,MAFS;EAGZ2lB,EAAAA,EAAE,EAAE,MAHQ;EAIZvC,EAAAA,GAAG,EAAE,QAJO;EAKZ7M,EAAAA,GAAG,EAAE,QALO;EAMZ,cAAY,SANA;EAOZ4M,EAAAA,EAAE,EAAE,MAPQ;EAQZsC,EAAAA,EAAE,EAAE,MARQ;EASZC,EAAAA,GAAG,EAAE;EATO,CAAd;;EAYAlsB,MAAM,CAAC2E,IAAP,CAAYuE,OAAZ,EAAqBlO,OAArB,CAA6B,UAAC4J,CAAD,EAAO;EAClCsE,EAAAA,OAAO,CAACtE,CAAC,GAAG,GAAL,CAAP,GAAmBsE,OAAO,CAACtE,CAAD,CAA1B;EACD,CAFD;;EAIA,IAAM0H,OAAK,GAAG,SAARA,KAAQ,CAAU7Q,GAAV,EAAe;EAC3B,MAAIK,QAAQ,GAAG,EAAf,CAD2B;;EAG3B,MAAI61B,OAAO,GAAGl2B,GAAG,CAACC,KAAJ,CAAU,mBAAV,CAAd;;EACA,MAAIi2B,OAAO,CAAC52B,KAAZ,EAAmB;EACjB42B,IAAAA,OAAO,CAAC32B,OAAR,CAAgB,UAACH,CAAD,EAAO;EACrB,UAAIO,GAAG,GAAGP,CAAC,CAACoD,OAAF,GAAYwjB,GAAZ,CAAgB,CAAhB,CAAV;EACA,UAAIla,IAAI,GAAG1M,CAAC,CAACyC,KAAF,GAAUqe,IAAV,GAAiByT,KAAjB,GAAyBC,UAAzB,GAAsCl0B,IAAtC,EAAX,CAFqB;;EAIrB,UAAI+N,OAAO,CAACrC,cAAR,CAAuBU,IAAvB,CAAJ,EAAkC;EAChCA,QAAAA,IAAI,GAAG2B,OAAO,CAAC3B,IAAD,CAAd;EACD;;EACD,UAAImqB,KAAK,CAAC7qB,cAAN,CAAqBU,IAArB,KAA8BnM,GAAG,KAAK,IAA1C,EAAgD;EAC9CU,QAAAA,QAAQ,CAACyL,IAAD,CAAR,GAAiBnM,GAAjB;EACD;EACF,KAVD;EAWD,GAZD,MAYO;EACL,QAAIw2B,OAAO,GAAGn2B,GAAG,CAACC,KAAJ,CAAU,+BAAV,CAAd;;EACA,QAAIk2B,OAAO,CAAC72B,KAAZ,EAAmB;EACjB,UAAIG,GAAG,GAAGO,GAAG,CAACN,IAAJ,EAAV;EACA,UAAIC,GAAG,GAAGF,GAAG,CAACQ,KAAJ,CAAU,UAAV,CAAV;EACA,UAAI6L,IAAI,GAAGrM,GAAG,CAACQ,KAAJ,CAAU,UAAV,CAAX;;EACA,UAAIN,GAAG,IAAImM,IAAX,EAAiB;EACfnM,QAAAA,GAAG,GAAGA,GAAG,CAAC,CAAD,CAAH,IAAU,IAAhB;EACAmM,QAAAA,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAJ,IAAW,IAAlB;;EACA,YAAI2B,OAAO,CAACrC,cAAR,CAAuBU,IAAvB,CAAJ,EAAkC;EAChCA,UAAAA,IAAI,GAAG2B,OAAO,CAAC3B,IAAD,CAAd;EACD;;EACD,YAAImqB,KAAK,CAAC7qB,cAAN,CAAqBU,IAArB,KAA8BnM,GAAG,KAAK,IAA1C,EAAgD;EAC9CU,UAAAA,QAAQ,CAACyL,IAAD,CAAR,GAAiB1C,MAAM,CAACzJ,GAAD,CAAvB;EACD;EACF;EACF;EACF;;EACD,SAAOU,QAAP;EACD,CAnCD;;EAoCA,aAAc,GAAGwQ,OAAjB;;EClEA,IAAM/O,SAAO,GAAG;;EAEdkkB,EAAAA,GAAG,EAAE,aAAUjV,OAAV,EAAmB;EACtB,QAAIhN,GAAG,GAAG,EAAV;EACA,SAAKxE,OAAL,CAAa,UAACS,GAAD,EAAS;EACpB,UAAIuS,GAAG,GAAG1B,SAAK,CAAC7Q,GAAD,CAAf;EACA+D,MAAAA,GAAG,CAACkB,IAAJ,CAASsN,GAAT;EACD,KAHD;;EAIA,QAAI,OAAOxB,OAAP,KAAmB,QAAvB,EAAiC;EAC/B,aAAOhN,GAAG,CAACgN,OAAD,CAAV;EACD;;EACD,WAAOhN,GAAP;EACD,GAZa;;;EAcdyR,EAAAA,IAAI,EAAE,cAAUzE,OAAV,EAAmB;EACvB,QAAIvL,CAAC,GAAG,IAAR;;EACA,QAAI,OAAOuL,OAAP,KAAmB,QAAvB,EAAiC;EAC/BvL,MAAAA,CAAC,GAAGuL,OAAJ;EACAA,MAAAA,OAAO,GAAG,IAAV;EACD;;EACDA,IAAAA,OAAO,GAAGA,OAAO,IAAI;EAAElP,MAAAA,KAAK,EAAE;EAAT,KAArB;EACA,QAAI0Q,GAAG,GAAG,EAAV;EACA,SAAKhT,OAAL,CAAa,UAACS,GAAD,EAAS;EACpB,UAAIwV,IAAI,GAAGxV,GAAG,CAACwV,IAAJ,CAASzE,OAAT,CAAX;EACAyE,MAAAA,IAAI,CAACnV,QAAL,GAAgBwQ,SAAK,CAAC7Q,GAAD,CAArB;EACAuS,MAAAA,GAAG,CAACtN,IAAJ,CAASuQ,IAAT;EACD,KAJD;;EAKA,QAAIhQ,CAAC,KAAK,IAAV,EAAgB;EACd,aAAO+M,GAAG,CAAC/M,CAAD,CAAV;EACD;;EACD,WAAO+M,GAAP;EACD,GA/Ba;;;EAiCdhQ,EAAAA,SAAS,EAAE,qBAAY;EACrB,SAAKhD,OAAL,CAAa,UAACS,GAAD,EAAS;EACpB,UAAIK,QAAQ,GAAGwQ,SAAK,CAAC7Q,GAAD,CAApB;EACA,UAAIm1B,IAAI,GAAG,EAAX;EACA5wB,MAAAA,MAAM,CAAC2E,IAAP,CAAY7I,QAAZ,EAAsBd,OAAtB,CAA8B,UAACuM,IAAD,EAAU;EACtC,YAAInM,GAAG,GAAGU,QAAQ,CAACyL,IAAD,CAAlB;EACA,YAAIsqB,IAAI,GAAGtqB,IAAX;;EACA,YAAInM,GAAG,KAAK,CAAZ,EAAe;EACby2B,UAAAA,IAAI,IAAI,GAAR;EACD;;EACDjB,QAAAA,IAAI,CAAClwB,IAAL,WAAatF,GAAb,cAAoBy2B,IAApB;EACD,OAPD,EAHoB;;EAYpB,UAAIjB,IAAI,CAAChwB,MAAL,GAAc,CAAlB,EAAqB;EACnB,YAAIsvB,SAAS,GAAGU,IAAI,CAAChwB,MAAL,GAAc,CAA9B;EACAgwB,QAAAA,IAAI,CAAChX,MAAL,CAAYsW,SAAZ,EAAuB,CAAvB,EAA0B,KAA1B;EACD;;EACD,UAAI/0B,IAAI,GAAGy1B,IAAI,CAACjmB,IAAL,CAAU,GAAV,CAAX;EACAlP,MAAAA,GAAG,CAACiB,WAAJ,CAAgBvB,IAAhB;EACD,KAlBD;EAmBA,WAAO,IAAP;EACD;EAtDa,CAAhB;;EAyDA,IAAM22B,YAAY,GAAG,SAAfA,YAAe,CAAUC,GAAV,EAAe;;EAAA,MAE5BC,SAF4B;EAAA;;EAAA;;EAGhC,uBAAYpB,IAAZ,EAAkBtvB,IAAlB,EAAwBuS,CAAxB,EAA2B;EAAA;;EAAA;;EACzB,gCAAM+c,IAAN,EAAYtvB,IAAZ,EAAkBuS,CAAlB;EACA,YAAKqU,OAAL,GAAe,EAAf;EAFyB;EAG1B;;EAN+B;EAAA,IAEV6J,GAFU;;;EASlC/xB,EAAAA,MAAM,CAAC8N,MAAP,CAAckkB,SAAS,CAAC1yB,SAAxB,EAAmC/B,SAAnC;;;EAGAw0B,EAAAA,GAAG,CAACzyB,SAAJ,CAAc2yB,SAAd,GAA0B,UAAUhxB,CAAV,EAAa;EACrC,QAAIpG,CAAC,GAAG,KAAKa,KAAL,CAAW,6CAAX,CAAR,CADqC;;EAGrCb,IAAAA,CAAC,GAAGA,CAAC,CAAC6O,MAAF,CAAS,KAAKhO,KAAL,CAAW,+BAAX,CAAT,CAAJ,CAHqC;;EAMrCb,IAAAA,CAAC,GAAGA,CAAC,CAACiC,KAAF,CAAQ,YAAR,CAAJ;;EAEA,QAAI,OAAOmE,CAAP,KAAa,QAAjB,EAA2B;EACzBpG,MAAAA,CAAC,GAAGA,CAAC,CAAC4mB,GAAF,CAAMxgB,CAAN,CAAJ;EACD;;EACD,WAAO,IAAI+wB,SAAJ,CAAcn3B,CAAC,CAAC+1B,IAAhB,EAAsB,IAAtB,EAA4B,KAAKsB,KAAjC,CAAP;EACD,GAZD;EAaD,CAzBD;;EA0BA,aAAc,GAAGJ,YAAjB;;EClFA,IAAMxlB,KAAK,GAAG,SAARA,KAAQ,CAAUzR,CAAV,EAAaqtB,OAAb,EAAsB;EAClCrtB,EAAAA,CAAC,GAAGmD,WAAS,CAACnD,CAAD,CAAb;EACA,MAAImT,GAAG,GAAGzE,OAAS,CAAC1O,CAAD,EAAIqtB,OAAJ,CAAnB;EACA,SAAOla,GAAP;EACD,CAJD;;EAKA,WAAc,GAAG1B,KAAjB;;ECNA,IAAM/O,OAAO,GAAG;;EAEdkkB,EAAAA,GAAG,EAAE,aAAUjV,OAAV,EAAmB;EAAA;;EACtB,QAAIhN,GAAG,GAAG,EAAV;EACA,SAAKxE,OAAL,CAAa,UAACS,GAAD,EAAS;EACpB,UAAIuS,GAAG,GAAG1B,OAAK,CAAC7Q,GAAD,EAAM,KAAI,CAACysB,OAAX,CAAf;EACA1oB,MAAAA,GAAG,CAACkB,IAAJ,CAASsN,GAAT;EACD,KAHD;;EAIA,QAAI,OAAOxB,OAAP,KAAmB,QAAvB,EAAiC;EAC/B,aAAOhN,GAAG,CAACgN,OAAD,CAAV;EACD;;EACD,WAAOhN,GAAP;EACD,GAZa;;;EAcdyR,EAAAA,IAAI,EAAE,cAAUzE,OAAV,EAAmB;EAAA;;EACvB,QAAIvL,CAAC,GAAG,IAAR;;EACA,QAAI,OAAOuL,OAAP,KAAmB,QAAvB,EAAiC;EAC/BvL,MAAAA,CAAC,GAAGuL,OAAJ;EACAA,MAAAA,OAAO,GAAG,IAAV;EACD;;EACDA,IAAAA,OAAO,GAAGA,OAAO,IAAI;EAAElP,MAAAA,KAAK,EAAE;EAAT,KAArB;EACA,QAAI0Q,GAAG,GAAG,EAAV;EACA,SAAKhT,OAAL,CAAa,UAACS,GAAD,EAAS;EACpB,UAAIwV,IAAI,GAAGxV,GAAG,CAACwV,IAAJ,CAASzE,OAAT,CAAX;EACAyE,MAAAA,IAAI,CAAC3U,IAAL,GAAYgQ,OAAK,CAAC7Q,GAAD,EAAM,MAAI,CAACysB,OAAX,CAAjB;EACAla,MAAAA,GAAG,CAACtN,IAAJ,CAASuQ,IAAT;EACD,KAJD;;EAKA,QAAIhQ,CAAC,KAAK,IAAV,EAAgB;EACd,aAAO+M,GAAG,CAAC/M,CAAD,CAAV;EACD;;EACD,WAAO+M,GAAP;EACD;EA/Ba,CAAhB;;EAkCA,IAAMmkB,QAAQ,GAAG,SAAXA,QAAW,CAAUJ,GAAV,EAAe;;EAAA,MAExBK,KAFwB;EAAA;;EAAA;;EAG5B,mBAAYxB,IAAZ,EAAkBtvB,IAAlB,EAAwBuS,CAAxB,EAA2B;EAAA;;EAAA;;EACzB,iCAAM+c,IAAN,EAAYtvB,IAAZ,EAAkBuS,CAAlB;EACA,aAAKqU,OAAL,GAAe,EAAf;EAFyB;EAG1B;;EAN2B;EAAA,IAEV6J,GAFU;;;EAS9B/xB,EAAAA,MAAM,CAAC8N,MAAP,CAAcskB,KAAK,CAAC9yB,SAApB,EAA+B/B,OAA/B;;;EAGAw0B,EAAAA,GAAG,CAACzyB,SAAJ,CAAcoe,KAAd,GAAsB,UAAUzc,CAAV,EAAa;EACjC,QAAIpG,CAAC,GAAG,KAAKa,KAAL,CAAW,iBAAX,CAAR,CADiC;;EAGjC,QAAI,OAAOuF,CAAP,KAAa,QAAjB,EAA2B;EACzBpG,MAAAA,CAAC,GAAGA,CAAC,CAAC4mB,GAAF,CAAMxgB,CAAN,CAAJ;EACD;;EACD,WAAO,IAAImxB,KAAJ,CAAUv3B,CAAC,CAAC+1B,IAAZ,EAAkB,IAAlB,EAAwB,KAAKsB,KAA7B,CAAP;EACD,GAPD;EAQD,CApBD;;EAqBA,SAAc,GAAGC,QAAjB;;ECzDA,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAAU52B,GAAV,EAAe;;EAE9B,MAAIuR,KAAK,GAAGvR,GAAG,CAACC,KAAJ,CAAU,QAAV,CAAZ,CAF8B;;EAK9BsR,EAAAA,KAAK,GAAGA,KAAK,CAACsJ,MAAN,CAAa,UAACzb,CAAD,EAAO;EAC1B,QAAIy3B,UAAU,GAAGz3B,CAAC,CAAC4B,GAAF,CAAM,cAAN,KAAyB5B,CAAC,CAAC4B,GAAF,CAAM,qBAAN,CAA1C,CAD0B;;EAG1B,QAAI61B,UAAU,KAAK,IAAf,IAAuBz3B,CAAC,CAAC4B,GAAF,CAAM,6BAAN,CAA3B,EAAiE;EAC/D,aAAO,IAAP;EACD;;EACD,WAAO61B,UAAU,KAAK,KAAtB;EACD,GAPO,CAAR,CAL8B;;EAc9B,MAAIz3B,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,0DAAZ,EAAwE,CAAxE,CAAR;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXiS,IAAAA,KAAK,GAAGA,KAAK,CAAC9Q,GAAN,CAAUrB,CAAV,CAAR;EACD,GAjB6B;;;EAmB9BA,EAAAA,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,gCAAZ,EAA8C,CAA9C,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXiS,IAAAA,KAAK,GAAGA,KAAK,CAAC9Q,GAAN,CAAUrB,CAAV,CAAR;EACD,GAtB6B;;;EAwB9BA,EAAAA,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,+BAAZ,EAA6C,CAA7C,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXiS,IAAAA,KAAK,GAAGA,KAAK,CAAC9Q,GAAN,CAAUrB,CAAV,CAAR;EACD,GA3B6B;;;EA6B9BA,EAAAA,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,4BAAZ,EAA0C,CAA1C,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACX,QAAIF,CAAC,CAAC03B,KAAF,GAAU91B,GAAV,CAAc,UAAd,MAA8B,KAAlC,EAAyC;EACvCuQ,MAAAA,KAAK,GAAGA,KAAK,CAACwlB,UAAN,CAAiB33B,CAAjB,CAAR;EACAmS,MAAAA,KAAK,GAAGA,KAAK,CAAC9Q,GAAN,CAAU,MAAV,CAAR;EACD;EACF,GAnC6B;;;EAqC9BrB,EAAAA,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,kCAAZ,EAAgD,CAAhD,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXiS,IAAAA,KAAK,GAAGA,KAAK,CAACwlB,UAAN,CAAiB33B,CAAjB,CAAR;EACAmS,IAAAA,KAAK,GAAGA,KAAK,CAAC9Q,GAAN,CAAU,MAAV,CAAR;EACD,GAzC6B;;;EA4C9BrB,EAAAA,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,iCAAZ,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXiS,IAAAA,KAAK,GAAGA,KAAK,CAACylB,OAAN,CAAc,UAAd,CAAR;EACAzlB,IAAAA,KAAK,GAAGA,KAAK,CAAC9Q,GAAN,CAAU,MAAV,CAAR;EACD,GAhD6B;;;EAkD9BrB,EAAAA,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,+BAAZ,EAA6C,CAA7C,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXiS,IAAAA,KAAK,GAAGA,KAAK,CAACwlB,UAAN,CAAiB33B,CAAjB,CAAR;EACD,GArD6B;;;EAuD9BA,EAAAA,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,wBAAZ,EAAsC,CAAtC,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXiS,IAAAA,KAAK,GAAGA,KAAK,CAACwlB,UAAN,CAAiB33B,CAAjB,CAAR;EACD,GA1D6B;;;EA4D9BA,EAAAA,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,6BAAZ,EAA2C,CAA3C,CAAJ,CA5D8B;;EA6D9B,MAAIb,CAAC,CAACE,KAAF,IAAW,CAACiS,KAAK,CAACvQ,GAAN,CAAU,mDAAV,CAAhB,EAAgF;EAC9EuQ,IAAAA,KAAK,GAAGA,KAAK,CAAC9Q,GAAN,CAAUrB,CAAV,CAAR;EACD,GA/D6B;;;EAiE9BA,EAAAA,CAAC,GAAGmS,KAAK,CAACtR,KAAN,CAAY,yBAAZ,CAAJ;;EACA,MAAIb,CAAC,CAACE,KAAN,EAAa;EACXiS,IAAAA,KAAK,GAAGA,KAAK,CAAC9Q,GAAN,CAAUrB,CAAV,CAAR;EACD,GApE6B;;;;;;;;EA4E9B,SAAOmS,KAAP;EACD,CA7ED;;EA8EA,QAAc,GAAGqlB,QAAjB;;ECrEA,IAAMK,IAAI,GAAG;EACXnD,EAAAA,IAAI,EAAE;EAAErX,IAAAA,KAAK,EAAE;EAAT;EADK,CAAb;;EAIA,IAAMuH,UAAU,GAAG,SAAbA,UAAa,CAAUsS,GAAV,EAAeG,KAAf,EAAsB;;EAEvCA,EAAAA,KAAK,CAACS,OAAN,CAAcC,KAAd,EAFuC;;EAIvCV,EAAAA,KAAK,CAACW,QAAN,CAAeC,KAAf,EAJuC;;EAMvCZ,EAAAA,KAAK,CAACa,WAAN,CAAkBC,SAAlB,EANuC;;EASvClB,EAAAA,SAAY,CAACC,GAAD,CAAZ,CATuC;;EAWvCI,EAAAA,KAAQ,CAACJ,GAAD,CAAR;;;EAXuC,MAcjCkB,KAdiC;EAAA;;EAAA;;EAerC,mBAAYrC,IAAZ,EAAkBtvB,IAAlB,EAAwBuS,CAAxB,EAA2B;EAAA;;EAAA;;EACzB,gCAAM+c,IAAN,EAAYtvB,IAAZ,EAAkBuS,CAAlB;EACA,YAAKqU,OAAL,GAAewK,IAAf;EAFyB;EAG1B;;EAlBoC;EAAA,IAcnBX,GAdmB;;;EAqBvC/xB,EAAAA,MAAM,CAAC8N,MAAP,CAAcmlB,KAAK,CAAC3zB,SAApB,EAA+B/B,SAA/B;;EAEAw0B,EAAAA,GAAG,CAACzyB,SAAJ,CAAc0N,KAAd,GAAsB,UAAU/L,CAAV,EAAa;EACjC,QAAIinB,OAAO,GAAG,EAAd;;EACA,QAAIjnB,CAAC,IAAI,QAAOA,CAAP,MAAa,QAAtB,EAAgC;EAC9BinB,MAAAA,OAAO,GAAGjnB,CAAV;EACAA,MAAAA,CAAC,GAAG,IAAJ;EACD;;EACDinB,IAAAA,OAAO,GAAGloB,MAAM,CAAC8N,MAAP,CAAc,EAAd,EAAkBoa,OAAlB,EAA2BwK,IAA3B,CAAV;EAEA,QAAI1lB,KAAK,GAAGkmB,IAAS,CAAC,IAAD,CAArB;;EACA,QAAI,OAAOjyB,CAAP,KAAa,QAAjB,EAA2B;EACzB+L,MAAAA,KAAK,GAAGA,KAAK,CAACyU,GAAN,CAAUxgB,CAAV,CAAR;EACD;;EACD,QAAI9D,CAAC,GAAG,IAAI81B,KAAJ,CAAUjmB,KAAK,CAAC4jB,IAAhB,EAAsB,IAAtB,EAA4B,KAAKsB,KAAjC,CAAR;;EACA,QAAIhK,OAAO,CAAC/b,KAAZ,EAAmB;EACjB+b,MAAAA,OAAO,CAAC/b,KAAR,GAAgB0V,SAAS,CAACqG,OAAO,CAAC/b,KAAT,EAAgB+b,OAAO,CAAC1iB,QAAxB,CAAzB;EACD;;EACDrI,IAAAA,CAAC,CAAC+qB,OAAF,GAAYA,OAAZ;EACA,WAAO/qB,CAAP;EACD,GAlBD;EAmBD,CA1CD;;SA4Cc,GAAGsiB;;;;;;;;"}
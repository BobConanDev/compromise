{"version":3,"file":"compromise-dates.js","sources":["../src/01-tagger/00-basic.js","../src/01-tagger/01-values.js","../src/01-tagger/02-dates.js","../src/01-tagger/03-sections.js","../src/01-tagger/04-time.js","../src/01-tagger/05-shifts.js","../src/01-tagger/06-fixup.js","../src/01-tagger/index.js","../src/data/_tags.js","../node_modules/spacetime/builds/spacetime.mjs","../src/data/_timezones.js","../src/data/words/dates.js","../src/data/words/durations.js","../src/data/words/holidays.js","../src/data/words/times.js","../src/data/words/index.js","../src/parseDate/01-tokenize/01-shift.js","../src/parseDate/01-tokenize/02-counter.js","../src/parseDate/01-tokenize/03-time.js","../src/parseDate/01-tokenize/04-relative.js","../src/parseDate/01-tokenize/05-section.js","../src/parseDate/01-tokenize/06-timezone.js","../src/parseDate/units/Unit.js","../src/parseDate/units/_day.js","../src/parseDate/units/_year.js","../src/parseDate/units/_week.js","../src/parseDate/units/_time.js","../src/parseDate/units/index.js","../src/parseDate/02-parse/01-today.js","../node_modules/spacetime-holiday/builds/spacetime-holiday.mjs","../src/parseDate/02-parse/02-holidays.js","../src/parseDate/02-parse/03-next-last.js","../src/parseDate/02-parse/04-yearly.js","../src/parseDate/02-parse/05-explicit.js","../src/parseDate/03-transform/addCounter.js","../src/parseDate/parse.js","../src/02-ranges/ranges.js","../src/02-ranges/index.js","../src/normalize.js","../src/find.js","../src/data/_abbrevs.js","../src/methods.js","../src/index.js"],"sourcesContent":["//ambiguous 'may' and 'march'\nconst preps = '(in|by|before|during|on|until|after|of|within|all)' //6\nconst thisNext = '(last|next|this|previous|current|upcoming|coming)' //2\nconst sections = '(start|end|middle|starting|ending|midpoint|beginning)' //2\nconst seasons = '(spring|summer|winter|fall|autumn)'\n\n//ensure a year is approximately typical for common years\n//please change in one thousand years\nconst tagYear = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1000 && num < 3000) {\n      p.tag('Year', reason)\n    }\n  })\n}\n//same, but for less-confident values\nconst tagYearSafe = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1900 && num < 2030) {\n      p.tag('Year', reason)\n    }\n  })\n}\n\nconst tagDates = function (doc) {\n  // in the evening\n  doc.match('in the (night|evening|morning|afternoon|day|daytime)').tag('Time', 'in-the-night')\n  // 8 pm\n  doc.match('(#Value|#Time) (am|pm)').tag('Time', 'value-ampm')\n  // 22-aug\n  // doc.match('/^[0-9]{2}-(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov)/').tag('Date', '20-jan')\n  // 2012-06\n  doc.match('/^[0-9]{4}-[0-9]{2}$/').tag('Date', '2012-06')\n\n  // misc weekday words\n  doc.match('(tue|thu)').tag('WeekDay', 'misc-weekday')\n\n  //months:\n  let month = doc.if('#Month')\n  if (month.found === true) {\n    //June 5-7th\n    month.match(`#Month #Date+`).tag('Date', 'correction-numberRange')\n    //5th of March\n    month.match('#Value of #Month').tag('Date', 'value-of-month')\n    //5 March\n    month.match('#Cardinal #Month').tag('Date', 'cardinal-month')\n    //march 5 to 7\n    month.match('#Month #Value to #Value').tag('Date', 'value-to-value')\n    //march the 12th\n    month.match('#Month the #Value').tag('Date', 'month-the-value')\n  }\n\n  //months:\n  let val = doc.if('#Value')\n  if (val.found === true) {\n    //june 7\n    val.match('(#WeekDay|#Month) #Value').ifNo('#Money').tag('Date', 'date-value')\n\n    //7 june\n    val.match('#Value (#WeekDay|#Month)').ifNo('#Money').tag('Date', 'value-date')\n\n    //may twenty five\n    val.match('#TextValue #TextValue').if('#Date').tag('#Date', 'textvalue-date')\n\n    //two thursdays back\n    val.match('#Value (#WeekDay|#Duration) back').tag('#Date', '3-back')\n\n    //eg 'year'\n    let duration = val.if('#Duration')\n    if (duration.found === true) {\n      //for 4 months\n      duration.match('for #Value #Duration').tag('Date', 'for-x-duration')\n      //two days before\n      duration.match('#Value #Duration #Conjunction').tag('Date', 'val-duration-conjunction')\n      //for four days\n      duration.match(`${preps}? #Value #Duration`).tag('Date', 'value-duration')\n      //two years old\n      duration.match('#Value #Duration old').unTag('Date', 'val-years-old')\n    }\n  }\n\n  //seasons\n  let season = doc.if(seasons)\n  if (season.found === true) {\n    season.match(`${preps}? ${thisNext} ${seasons}`).tag('Date', 'thisNext-season')\n    season.match(`the? ${sections} of ${seasons}`).tag('Date', 'section-season')\n    season.match(`${seasons} ${preps}? #Cardinal`).tag('Date', 'season-year')\n  }\n\n  //rest-dates\n  let date = doc.if('#Date')\n  if (date.found === true) {\n    //june the 5th\n    date.match('#Date the? #Ordinal').tag('Date', 'correction')\n    //last month\n    date.match(`${thisNext} #Date`).tag('Date', 'thisNext')\n    //by 5 March\n    date.match('due? (by|before|after|until) #Date').tag('Date', 'by')\n    //next feb\n    date.match('(last|next|this|previous|current|upcoming|coming|the) #Date').tag('Date', 'next-feb')\n    //start of june\n    date.match(`the? ${sections} of #Date`).tag('Date', 'section-of')\n    //fifth week in 1998\n    date.match('#Ordinal #Duration in #Date').tag('Date', 'duration-in')\n    //early in june\n    date.match('(early|late) (at|in)? the? #Date').tag('Time', 'early-evening')\n    //tomorrow before 3\n    date.match('#Date (by|before|after|at|@|about) #Cardinal').not('^#Date').tag('Time', 'date-before-Cardinal')\n    //saturday am\n    date.match('#Date [(am|pm)]', 0).unTag('Verb').unTag('Copula').tag('Time', 'date-am')\n    //feb to june\n    date.match('#Date (#Preposition|to) #Date').ifNo('#Duration').tag('Date', 'date-prep-date')\n    //2nd quarter of 2019\n    // date.match('#Date of #Date').tag('Date', 'date-of-date')\n  }\n\n  //year/cardinal tagging\n  let cardinal = doc.if('#Cardinal')\n  if (cardinal.found === true) {\n    let v = cardinal.match(`#Date #Value [#Cardinal]`, 0)\n    tagYear(v, 'date-value-year')\n    //scoops up a bunch\n    v = cardinal.match(`#Date [#Cardinal]`, 0)\n    tagYearSafe(v, 'date-year')\n    //middle of 1999\n    v = cardinal.match(`${sections} of [#Cardinal]`)\n    tagYearSafe(v, 'section-year')\n    //feb 8 2018\n    v = cardinal.match(`#Month #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-value-year')\n    //feb 8 to 10th 2018\n    v = cardinal.match(`#Month #Value to #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-range-year')\n    //in 1998\n    v = cardinal.match(`(in|of|by|during|before|starting|ending|for|year|since) [#Cardinal]`, 0)\n    tagYear(v, 'in-year-1')\n    //q2 2009\n    v = cardinal.match('(q1|q2|q3|q4) [#Cardinal]', 0)\n    tagYear(v, 'in-year-2')\n    //2nd quarter 2009\n    v = cardinal.match('#Ordinal quarter [#Cardinal]', 0)\n    tagYear(v, 'in-year-3')\n    //in the year 1998\n    v = cardinal.match('the year [#Cardinal]', 0)\n    tagYear(v, 'in-year-4')\n    //it was 1998\n    v = cardinal.match('it (is|was) [#Cardinal]', 0)\n    tagYearSafe(v, 'in-year-5')\n    // re-tag this part\n    cardinal.match(`${sections} of #Year`).tag('Date')\n  }\n\n  let time = doc.if('#Time')\n  if (time.found === true) {\n    //by 6pm\n    time.match('(by|before|after|at|@|about) #Time').tag('Time', 'preposition-time')\n    //7 7pm\n    // time.match('#Cardinal #Time').not('#Year').tag('Time', 'value-time')\n    //2pm est\n    time.match('#Time [(eastern|pacific|central|mountain)]', 0).tag('Date', 'timezone')\n    //6pm est\n    time.match('#Time [(est|pst|gmt)]', 0).tag('Date', 'timezone abbr')\n  }\n  //'2020' bare input\n  let m = doc.match('^/^20[012][0-9]$/$')\n  tagYearSafe(m, '2020-ish')\n\n  // in 20mins\n  doc.match('(in|after) /^[0-9]+(min|sec|wk)s?/').tag('Date', 'shift-units')\n  return doc\n}\nmodule.exports = tagDates\n","const here = 'date-values'\n//\nconst values = function (doc) {\n  // a year ago\n  if (!doc.has('once [a] #Duration')) {\n    doc.match('[a] #Duration', 0).replaceWith('1').tag('Cardinal', here)\n  }\n  if (doc.has('#Value')) {\n    //june 5 to 7th\n    doc.match('#Month #Value to #Value of? #Year?').tag('Date', here)\n    //5 to 7th june\n    doc.match('#Value to #Value of? #Month #Year?').tag('Date', here)\n    //third week of may\n    doc.match('#Value #Duration of #Date').tag('Date', here)\n    //two days after\n    doc.match('#Value+ #Duration (after|before|into|later|afterwards|ago)?').tag('Date', here)\n    //two days\n    doc.match('#Value #Date').tag('Date', here)\n    //june 5th\n    doc.match('#Date #Value').tag('Date', here)\n    //tuesday at 5\n    doc.match('#Date #Preposition #Value').tag('Date', here)\n    //tomorrow before 3\n    doc.match('#Date (after|before|during|on|in) #Value').tag('Date', here)\n    //a year and a half\n    doc.match('#Value (year|month|week|day) and a half').tag('Date', here)\n    //5 and a half years\n    doc.match('#Value and a half (years|months|weeks|days)').tag('Date', here)\n    //on the fifth\n    doc.match('on the #Ordinal').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = values\n","const here = 'date-tagger'\n//\nconst dateTagger = function (doc) {\n  doc.match('(spring|summer|winter|fall|autumn|springtime|wintertime|summertime)').match('#Noun').tag('Season', here)\n  doc.match('(q1|q2|q3|q4)').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) quarter').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) season').tag('Season', here)\n\n  if (doc.has('#Date')) {\n    //friday to sunday\n    doc.match('#Date #Preposition #Date').tag('Date', here)\n    //once a day..\n    doc.match('(once|twice) (a|an|each) #Date').tag('Date', here)\n    //TODO:fixme\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', here)\n    //tuesday\n    doc.match('#Date+').tag('Date', here)\n    //by June\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', here)\n    //a year after..\n    doc.match('a #Duration').tag('Date', here)\n    //between x and y\n    doc.match('(between|from) #Date').tag('Date', here)\n    doc.match('(to|until|upto) #Date').tag('Date', here)\n    doc.match('#Date and #Date').tag('Date', here)\n    //during this june\n    doc.match('(by|until|after|before|during|on|in|following|since) (next|this|last)? (#Date|#Date)').tag('Date', here)\n    //day after next\n    doc.match('the? #Date after next one?').tag('Date', here)\n    //approximately...\n    doc.match('(about|approx|approximately|around) #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = dateTagger\n","const here = 'section-tagger'\n//\nconst sectionTagger = function (doc) {\n  if (doc.has('#Date')) {\n    // //next september\n    doc.match('this? (last|next|past|this|previous|current|upcoming|coming|the) #Date').tag('Date', here)\n    //starting this june\n    doc.match('(starting|beginning|ending) #Date').tag('Date', here)\n    //start of june\n    doc.match('the? (start|end|middle|beginning) of (last|next|this|the) (#Date|#Date)').tag('Date', here)\n    //this coming june\n    doc.match('(the|this) #Date').tag('Date', here)\n    //january up to june\n    doc.match('#Date up to #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = sectionTagger\n","const here = 'time-tagger'\n\n//\nconst timeTagger = function (doc) {\n  // 2 oclock\n  doc.match('#Cardinal oclock').tag('Time', here)\n  // 13h30\n  doc.match('/^[0-9]{2}h[0-9]{2}$/').tag('Time', here)\n  // 03/02\n  doc.match('/^[0-9]{2}/[0-9]{2}/').tag('Date', here).unTag('Value')\n  // 3 in the morning\n  doc.match('[#Value] (in|at) the? (morning|evening|night|nighttime)').tag('Time', here)\n  // quarter to seven (not march 5 to 7)\n  if (doc.has('#Cardinal') && !doc.has('#Month')) {\n    doc.match('1? (half|quarter|25|15|10|5) (past|after|to) #Cardinal').tag('Time', here)\n  }\n  //timezone\n  if (doc.has('#Date')) {\n    // iso  (2020-03-02T00:00:00.000Z)\n    doc.match('/^[0-9]{4}[:-][0-9]{2}[:-][0-9]{2}T[0-9]/').tag('Time', here)\n    // tuesday at 4\n    doc.match('#Date [at #Cardinal]', 0).notIf('#Year').tag('Time', here)\n    // half an hour\n    doc.match('half an (hour|minute|second)').tag('Date', here)\n    //eastern daylight time\n    doc.match('#Noun (standard|daylight|central|mountain)? time').tag('Timezone', here)\n    //utc+5\n    doc.match('/^utc[+-][0-9]/').tag('Timezone', here)\n    doc.match('/^gmt[+-][0-9]/').tag('Timezone', here)\n\n    doc.match('(in|for|by|near|at) #Timezone').tag('Timezone', here)\n    // 2pm eastern\n    doc.match('#Time [(eastern|mountain|pacific|central)]', 0).tag('Timezone', here)\n  }\n  return doc\n}\nmodule.exports = timeTagger\n","const here = 'shift-tagger'\n//\nconst shiftTagger = function (doc) {\n  if (doc.has('#Date')) {\n    //'two days before'/ 'nine weeks frow now'\n    doc.match('#Cardinal #Duration (before|after|ago|from|hence|back)').tag('DateShift', here)\n    // in two weeks\n    doc.match('in #Cardinal #Duration').tag('DateShift', here)\n    // in a few weeks\n    doc.match('in a (few|couple) of? #Duration').tag('DateShift', here)\n    //two weeks and three days before\n    doc.match('#Cardinal #Duration and? #DateShift').tag('DateShift', here)\n    doc.match('#DateShift and #Cardinal #Duration').tag('DateShift', here)\n    // 'day after tomorrow'\n    doc.match('[#Duration (after|before)] #Date', 0).tag('DateShift', here)\n    // in half an hour\n    doc.match('in half (a|an) #Duration').tag('DateShift', here)\n  }\n  return doc\n}\nmodule.exports = shiftTagger\n","const here = 'fix-tagger'\n//\nconst fixUp = function (doc) {\n  //fixups\n  if (doc.has('#Date')) {\n    //first day by monday\n    let oops = doc.match('#Date+ by #Date+')\n    if (oops.found && !oops.has('^due')) {\n      oops.match('^#Date+').unTag('Date', 'by-monday')\n    }\n\n    let d = doc.match('#Date+')\n    //'spa day'\n    d.match('^day$').unTag('Date', 'spa-day')\n    // tomorrow's meeting\n    d.match('(in|of|by|for)? (#Possessive && #Date)').unTag('Date', 'tomorrows meeting')\n\n    let knownDate = '(yesterday|today|tomorrow)'\n    if (d.has(knownDate)) {\n      //yesterday 7\n      d.match(`${knownDate} [#Value]$`).unTag('Date', 'yesterday-7')\n      //7 yesterday\n      d.match(`^[#Value] ${knownDate}$`, 0).unTag('Date', '7 yesterday')\n      //friday yesterday\n      d.match(`#WeekDay+ ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'fri-yesterday')\n\n      // yesterday yesterday\n      // d.match(`${knownDate}+ ${knownDate}$`)\n      //   .unTag('Date')\n      //   .lastTerm()\n      //   .tag('Date', here)\n      d.match(`(this|last|next) #Date ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'this month yesterday')\n    }\n    //tomorrow on 5\n    d.match(`on #Cardinal$`).unTag('Date', here)\n    //this tomorrow\n    d.match(`this tomorrow`).terms(0).unTag('Date', 'this-tomorrow')\n    //q2 2019\n    d.match(`(q1|q2|q3|q4) #Year`).tag('Date', here)\n    //5 tuesday\n    // d.match(`^#Value #WeekDay`).terms(0).unTag('Date');\n    //5 next week\n    d.match(`^#Value (this|next|last)`).terms(0).unTag('Date', here)\n\n    if (d.has('(last|this|next)')) {\n      //this month 7\n      d.match(`(last|this|next) #Duration #Value`).terms(2).unTag('Date', here)\n      //7 this month\n      d.match(`!#Month #Value (last|this|next) #Date`).terms(0).unTag('Date', here)\n    }\n    //january 5 5\n    if (d.has('(#Year|#Time|#TextValue|#NumberRange)') === false) {\n      d.match('(#Month|#WeekDay) #Value #Value').terms(2).unTag('Date', here)\n    }\n    //between june\n    if (d.has('^between') && !d.has('and .')) {\n      d.unTag('Date', here)\n    }\n    //june june\n    if (d.has('#Month #Month') && !d.has('@hasHyphen') && !d.has('@hasComma')) {\n      d.match('#Month').lastTerm().unTag('Date', 'month-month')\n    }\n    // log the hours\n    if (d.has('(minutes|seconds|weeks|hours|days|months)') && !d.has('#Value #Duration')) {\n      d.match('(minutes|seconds|weeks|hours|days|months)').unTag('Date', 'log-hours')\n    }\n    // about thanksgiving\n    if (d.has('about #Holiday')) {\n      d.match('about').unTag('#Date', 'about-thanksgiving')\n    }\n\n    // a month from now\n    d.match('(from|by|before) now').unTag('Time')\n    // dangling date-chunks\n    // if (d.has('!#Date (in|of|by|for) !#Date')) {\n    //   d.unTag('Date', 'dangling-date')\n    // }\n    // the day after next\n    d.match('#Date+').match('^the').unTag('Date')\n  }\n  return doc\n}\nmodule.exports = fixUp\n","const methods = [\n  require('./00-basic'),\n  require('./01-values'),\n  require('./02-dates'),\n  require('./03-sections'),\n  require('./04-time'),\n  require('./05-shifts'),\n  require('./06-fixup'),\n]\n\n// normalizations to run before tagger\nconst normalize = function (doc) {\n  // turn '20mins' into '20 mins'\n  doc.numbers().normalize()\n  return doc\n}\n\n// run each of the taggers\nconst tagDate = function (doc) {\n  doc = normalize(doc)\n  // run taggers\n  methods.forEach((fn) => fn(doc))\n  return doc\n}\nmodule.exports = tagDate\n","module.exports = {\n  FinancialQuarter: {\n    isA: 'Date',\n  },\n  // 'summer'\n  Season: {\n    isA: 'Date',\n  },\n  // '1982'\n  Year: {\n    isA: ['Date'],\n    notA: 'RomanNumeral',\n  },\n  // 'months'\n  Duration: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'easter'\n  Holiday: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'PST'\n  Timezone: {\n    isA: ['Date', 'Noun'],\n    notA: ['Adjective', 'DateShift'],\n  },\n  // 'two weeks before'\n  DateShift: {\n    isA: ['Date'],\n    notA: ['TimeZone', 'Holiday'],\n  },\n}\n","/* spencermountain/spacetime 6.12.0 Apache 2.0 */\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar MSEC_IN_HOUR = 60 * 60 * 1000; //convert our local date syntax a javascript UTC date\n\nvar toUtc = function toUtc(dstChange, offset, year) {\n  var _dstChange$split = dstChange.split('/'),\n      _dstChange$split2 = _slicedToArray(_dstChange$split, 2),\n      month = _dstChange$split2[0],\n      rest = _dstChange$split2[1];\n\n  var _rest$split = rest.split(':'),\n      _rest$split2 = _slicedToArray(_rest$split, 2),\n      day = _rest$split2[0],\n      hour = _rest$split2[1];\n\n  return Date.UTC(year, month - 1, day, hour) - offset * MSEC_IN_HOUR;\n}; // compare epoch with dst change events (in utc)\n\n\nvar inSummerTime = function inSummerTime(epoch, start, end, summerOffset, winterOffset) {\n  var year = new Date(epoch).getUTCFullYear();\n  var startUtc = toUtc(start, winterOffset, year);\n  var endUtc = toUtc(end, summerOffset, year); // console.log(epoch, endUtc)\n  // simple number comparison now\n\n  return epoch >= startUtc && epoch < endUtc;\n};\n\nvar summerTime = inSummerTime;\n\n// it reproduces some things in ./index.js, but speeds up spacetime considerably\n\nvar quickOffset = function quickOffset(s) {\n  var zones = s.timezones;\n  var obj = zones[s.tz];\n\n  if (obj === undefined) {\n    console.warn(\"Warning: couldn't find timezone \" + s.tz);\n    return 0;\n  }\n\n  if (obj.dst === undefined) {\n    return obj.offset;\n  } //get our two possible offsets\n\n\n  var jul = obj.offset;\n  var dec = obj.offset + 1; // assume it's the same for now\n\n  if (obj.hem === 'n') {\n    dec = jul - 1;\n  }\n\n  var split = obj.dst.split('->');\n  var inSummer = summerTime(s.epoch, split[0], split[1], jul, dec);\n\n  if (inSummer === true) {\n    return jul;\n  }\n\n  return dec;\n};\n\nvar quick = quickOffset;\n\nvar _build = {\n\t\"9|s\": \"2/dili,2/jayapura\",\n\t\"9|n\": \"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau\",\n\t\"9.5|s|04/05:03->10/04:02\": \"4/adelaide,4/broken_hill,4/south,4/yancowinna\",\n\t\"9.5|s\": \"4/darwin,4/north\",\n\t\"8|s|03/08:01->10/04:00\": \"12/casey\",\n\t\"8|s\": \"2/kuala_lumpur,2/makassar,2/singapore,4/perth,4/west\",\n\t\"8|n|03/25:03->09/29:23\": \"2/ulan_bator\",\n\t\"8|n\": \"2/brunei,2/choibalsan,2/chongqing,2/chungking,2/harbin,2/hong_kong,2/irkutsk,2/kuching,2/macao,2/macau,2/manila,2/shanghai,2/taipei,2/ujung_pandang,2/ulaanbaatar\",\n\t\"8.75|s\": \"4/eucla\",\n\t\"7|s\": \"12/davis,2/jakarta,9/christmas\",\n\t\"7|n\": \"2/bangkok,2/barnaul,2/ho_chi_minh,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/saigon,2/tomsk,2/vientiane\",\n\t\"6|s\": \"12/vostok\",\n\t\"6|n\": \"2/almaty,2/bishkek,2/dacca,2/dhaka,2/kashgar,2/omsk,2/qyzylorda,2/qostanay,2/thimbu,2/thimphu,2/urumqi,9/chagos\",\n\t\"6.5|n\": \"2/rangoon,2/yangon,9/cocos\",\n\t\"5|s\": \"12/mawson,9/kerguelen\",\n\t\"5|n\": \"2/aqtau,2/aqtobe,2/ashgabat,2/ashkhabad,2/atyrau,2/baku,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives\",\n\t\"5.75|n\": \"2/kathmandu,2/katmandu\",\n\t\"5.5|n\": \"2/calcutta,2/colombo,2/kolkata\",\n\t\"4|s\": \"9/reunion\",\n\t\"4|n\": \"2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius\",\n\t\"4.5|n|03/21:00->09/20:24\": \"2/tehran\",\n\t\"4.5|n\": \"2/kabul\",\n\t\"3|s\": \"12/syowa,9/antananarivo\",\n\t\"3|n|03/29:03->10/25:04\": \"2/famagusta,2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/nicosia,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye\",\n\t\"3|n|03/29:02->10/25:03\": \"8/chisinau,8/tiraspol\",\n\t\"3|n|03/29:00->10/24:24\": \"2/beirut\",\n\t\"3|n|03/28:00->10/24:01\": \"2/gaza,2/hebron\",\n\t\"3|n|03/27:02->10/25:02\": \"2/jerusalem,2/tel_aviv\",\n\t\"3|n|03/27:00->10/30:01\": \"2/amman\",\n\t\"3|n|03/27:00->10/29:24\": \"2/damascus\",\n\t\"3|n\": \"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/istanbul,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte\",\n\t\"2|s|03/29:02->10/25:02\": \"12/troll\",\n\t\"2|s\": \"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane\",\n\t\"2|n|03/29:02->10/25:03\": \"0/ceuta,arctic/longyearbyen,3/jan_mayen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich\",\n\t\"2|n\": \"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad\",\n\t\"1|s|04/02:01->09/03:03\": \"0/windhoek\",\n\t\"1|s\": \"0/kinshasa,0/luanda\",\n\t\"1|n|04/19:03->05/31:02\": \"0/casablanca,0/el_aaiun\",\n\t\"1|n|03/29:01->10/25:02\": \"3/canary,3/faeroe,3/faroe,3/madeira,8/belfast,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london\",\n\t\"1|n\": \"0/algiers,0/bangui,0/brazzaville,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis\",\n\t\"14|n\": \"11/kiritimati\",\n\t\"13|s|04/05:04->09/27:03\": \"11/apia\",\n\t\"13|s|01/15:02->11/05:03\": \"11/tongatapu\",\n\t\"13|n\": \"11/enderbury,11/fakaofo\",\n\t\"12|s|04/05:03->09/27:02\": \"12/mcmurdo,12/south_pole,11/auckland\",\n\t\"12|s|01/12:03->12/20:02\": \"11/fiji\",\n\t\"12|n\": \"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis\",\n\t\"12.75|s|04/05:03->04/05:02\": \"11/chatham\",\n\t\"11|s|04/05:03->10/04:02\": \"12/macquarie\",\n\t\"11|s\": \"11/bougainville\",\n\t\"11|n\": \"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape\",\n\t\"11.5|n|04/05:03->10/04:02\": \"11/norfolk\",\n\t\"10|s|04/05:03->10/04:02\": \"4/act,4/canberra,4/currie,4/hobart,4/melbourne,4/nsw,4/sydney,4/tasmania,4/victoria\",\n\t\"10|s\": \"12/dumontdurville,4/brisbane,4/lindeman,4/queensland\",\n\t\"10|n\": \"2/ust-nera,2/vladivostok,2/yakutsk,11/chuuk,11/guam,11/port_moresby,11/saipan,11/truk,11/yap\",\n\t\"10.5|s|04/05:01->10/04:02\": \"4/lhi,4/lord_howe\",\n\t\"0|n|03/29:00->10/25:01\": \"1/scoresbysund,3/azores\",\n\t\"0|n\": \"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,0/timbuktu,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/gmt+0,13/gmt-0,13/gmt0,13/greenwich,13/utc,13/universal,13/zulu\",\n\t\"-9|n|03/08:02->11/01:02\": \"1/adak,1/atka\",\n\t\"-9|n\": \"11/gambier\",\n\t\"-9.5|n\": \"11/marquesas\",\n\t\"-8|n|03/08:02->11/01:02\": \"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat\",\n\t\"-8|n\": \"11/pitcairn\",\n\t\"-7|n|03/08:02->11/01:02\": \"1/ensenada,1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,6/pacific,10/bajanorte\",\n\t\"-7|n|03/08:02->11/01:01\": \"1/dawson,1/whitehorse,6/yukon\",\n\t\"-7|n\": \"1/creston,1/dawson_creek,1/fort_nelson,1/hermosillo,1/phoenix\",\n\t\"-6|s|04/04:22->09/05:22\": \"7/easterisland,11/easter\",\n\t\"-6|n|04/05:02->10/25:02\": \"1/chihuahua,1/mazatlan,10/bajasur\",\n\t\"-6|n|03/08:02->11/01:02\": \"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/shiprock,1/yellowknife,6/mountain\",\n\t\"-6|n\": \"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,6/east-saskatchewan,6/saskatchewan,11/galapagos\",\n\t\"-5|s\": \"1/lima,1/rio_branco,5/acre\",\n\t\"-5|n|04/05:02->10/25:02\": \"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general\",\n\t\"-5|n|03/12:03->11/05:01\": \"1/north_dakota\",\n\t\"-5|n|03/08:02->11/01:02\": \"1/chicago,1/knox_in,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,6/central\",\n\t\"-5|n\": \"1/atikokan,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/porto_acre\",\n\t\"-4|s|05/13:23->08/13:01\": \"12/palmer\",\n\t\"-4|s|04/04:24->09/06:00\": \"1/santiago,7/continental\",\n\t\"-4|s|03/21:24->10/04:00\": \"1/asuncion\",\n\t\"-4|s|02/16:24->11/03:00\": \"1/campo_grande,1/cuiaba\",\n\t\"-4|s\": \"1/la_paz,1/manaus,5/west\",\n\t\"-4|n|03/12:03->11/05:01\": \"1/indiana,1/kentucky\",\n\t\"-4|n|03/08:02->11/01:02\": \"1/detroit,1/fort_wayne,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,6/eastern\",\n\t\"-4|n|03/08:00->11/01:01\": \"1/havana\",\n\t\"-4|n\": \"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin\",\n\t\"-3|s\": \"1/argentina,1/buenos_aires,1/cordoba,1/fortaleza,1/montevideo,1/punta_arenas,1/sao_paulo,12/rothera,3/stanley,5/east\",\n\t\"-3|n|03/28:22->10/24:23\": \"1/nuuk\",\n\t\"-3|n|03/08:02->11/01:02\": \"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic\",\n\t\"-3|n\": \"1/araguaina,1/bahia,1/belem,1/catamarca,1/cayenne,1/jujuy,1/maceio,1/mendoza,1/paramaribo,1/recife,1/rosario,1/santarem\",\n\t\"-2|s\": \"5/denoronha\",\n\t\"-2|n|03/28:22->10/24:23\": \"1/godthab\",\n\t\"-2|n|03/08:02->11/01:02\": \"1/miquelon\",\n\t\"-2|n\": \"1/noronha,3/south_georgia\",\n\t\"-2.5|n|03/08:02->11/01:02\": \"1/st_johns,6/newfoundland\",\n\t\"-1|n\": \"3/cape_verde\",\n\t\"-11|n\": \"11/midway,11/niue,11/pago_pago,11/samoa\",\n\t\"-10|n\": \"11/honolulu,11/johnston,11/rarotonga,11/tahiti\"\n};\n\nvar _build$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': _build\n});\n\n//prefixes for iana names..\nvar _prefixes = ['africa', 'america', 'asia', 'atlantic', 'australia', 'brazil', 'canada', 'chile', 'europe', 'indian', 'mexico', 'pacific', 'antarctica', 'etc'];\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nfunction getCjsExportFromNamespace (n) {\n\treturn n && n['default'] || n;\n}\n\nvar data = getCjsExportFromNamespace(_build$1);\n\nvar all = {};\nObject.keys(data).forEach(function (k) {\n  var split = k.split('|');\n  var obj = {\n    offset: Number(split[0]),\n    hem: split[1]\n  };\n\n  if (split[2]) {\n    obj.dst = split[2];\n  }\n\n  var names = data[k].split(',');\n  names.forEach(function (str) {\n    str = str.replace(/(^[0-9]+)\\//, function (before, num) {\n      num = Number(num);\n      return _prefixes[num] + '/';\n    });\n    all[str] = obj;\n  });\n});\nall['utc'] = {\n  offset: 0,\n  hem: 'n' //(sorry)\n\n}; //add etc/gmt+n\n\nfor (var i = -14; i <= 14; i += 0.5) {\n  var num = i;\n\n  if (num > 0) {\n    num = '+' + num;\n  }\n\n  var name = 'etc/gmt' + num;\n  all[name] = {\n    offset: i * -1,\n    //they're negative!\n    hem: 'n' //(sorry)\n\n  };\n  name = 'utc/gmt' + num; //this one too, why not.\n\n  all[name] = {\n    offset: i * -1,\n    hem: 'n'\n  };\n} // console.log(all)\n// console.log(Object.keys(all).length)\n\n\nvar unpack = all;\n\n//find the implicit iana code for this machine.\n//safely query the Intl object\n//based on - https://bitbucket.org/pellepim/jstimezonedetect/src\nvar fallbackTZ = 'utc'; //\n//this Intl object is not supported often, yet\n\nvar safeIntl = function safeIntl() {\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return null;\n  }\n\n  var format = Intl.DateTimeFormat();\n\n  if (typeof format === 'undefined' || typeof format.resolvedOptions === 'undefined') {\n    return null;\n  }\n\n  var timezone = format.resolvedOptions().timeZone;\n\n  if (!timezone) {\n    return null;\n  }\n\n  return timezone.toLowerCase();\n};\n\nvar guessTz = function guessTz() {\n  var timezone = safeIntl();\n\n  if (timezone === null) {\n    return fallbackTZ;\n  }\n\n  return timezone;\n}; //do it once per computer\n\n\nvar guessTz_1 = guessTz;\n\nvar isOffset = /(\\-?[0-9]+)h(rs)?/i;\nvar isNumber = /(\\-?[0-9]+)/;\nvar utcOffset = /utc([\\-+]?[0-9]+)/i;\nvar gmtOffset = /gmt([\\-+]?[0-9]+)/i;\n\nvar toIana = function toIana(num) {\n  num = Number(num);\n\n  if (num >= -13 && num <= 13) {\n    num = num * -1; //it's opposite!\n\n    num = (num > 0 ? '+' : '') + num; //add plus sign\n\n    return 'etc/gmt' + num;\n  }\n\n  return null;\n};\n\nvar parseOffset = function parseOffset(tz) {\n  // '+5hrs'\n  var m = tz.match(isOffset);\n\n  if (m !== null) {\n    return toIana(m[1]);\n  } // 'utc+5'\n\n\n  m = tz.match(utcOffset);\n\n  if (m !== null) {\n    return toIana(m[1]);\n  } // 'GMT-5' (not opposite)\n\n\n  m = tz.match(gmtOffset);\n\n  if (m !== null) {\n    var num = Number(m[1]) * -1;\n    return toIana(num);\n  } // '+5'\n\n\n  m = tz.match(isNumber);\n\n  if (m !== null) {\n    return toIana(m[1]);\n  }\n\n  return null;\n};\n\nvar parseOffset_1 = parseOffset;\n\nvar local = guessTz_1(); //add all the city names by themselves\n\nvar cities = Object.keys(unpack).reduce(function (h, k) {\n  var city = k.split('/')[1] || '';\n  city = city.replace(/_/g, ' ');\n  h[city] = k;\n  return h;\n}, {}); //try to match these against iana form\n\nvar normalize = function normalize(tz) {\n  tz = tz.replace(/ time/g, '');\n  tz = tz.replace(/ (standard|daylight|summer)/g, '');\n  tz = tz.replace(/\\b(east|west|north|south)ern/g, '$1');\n  tz = tz.replace(/\\b(africa|america|australia)n/g, '$1');\n  tz = tz.replace(/\\beuropean/g, 'europe');\n  tz = tz.replace(/\\islands/g, 'island');\n  return tz;\n}; // try our best to reconcile the timzone to this given string\n\n\nvar lookupTz = function lookupTz(str, zones) {\n  if (!str) {\n    return local;\n  }\n\n  if (typeof str !== 'string') {\n    console.error(\"Timezone must be a string - recieved: '\", str, \"'\\n\");\n  }\n\n  var tz = str.trim();\n  var split = str.split('/'); //support long timezones like 'America/Argentina/Rio_Gallegos'\n\n  if (split.length > 2 && zones.hasOwnProperty(tz) === false) {\n    tz = split[0] + '/' + split[1];\n  }\n\n  tz = tz.toLowerCase();\n\n  if (zones.hasOwnProperty(tz) === true) {\n    return tz;\n  } //lookup more loosely..\n\n\n  tz = normalize(tz);\n\n  if (zones.hasOwnProperty(tz) === true) {\n    return tz;\n  } //try city-names\n\n\n  if (cities.hasOwnProperty(tz) === true) {\n    return cities[tz];\n  } // //try to parse '-5h'\n\n\n  if (/[0-9]/.test(tz) === true) {\n    var id = parseOffset_1(tz);\n\n    if (id) {\n      return id;\n    }\n  }\n\n  throw new Error(\"Spacetime: Cannot find timezone named: '\" + str + \"'. Please enter an IANA timezone id.\");\n};\n\nvar find = lookupTz;\n\nvar o = {\n  millisecond: 1\n};\no.second = 1000;\no.minute = 60000;\no.hour = 3.6e6; // dst is supported post-hoc\n\no.day = 8.64e7; //\n\no.date = o.day;\no.month = 8.64e7 * 29.5; //(average)\n\no.week = 6.048e8;\no.year = 3.154e10; // leap-years are supported post-hoc\n//add plurals\n\nObject.keys(o).forEach(function (k) {\n  o[k + 's'] = o[k];\n});\nvar milliseconds = o;\n\nvar walk = function walk(s, n, fn, unit, previous) {\n  var current = s.d[fn]();\n\n  if (current === n) {\n    return; //already there\n  }\n\n  var startUnit = previous === null ? null : s.d[previous]();\n  var original = s.epoch; //try to get it as close as we can\n\n  var diff = n - current;\n  s.epoch += milliseconds[unit] * diff; //DST edge-case: if we are going many days, be a little conservative\n  // console.log(unit, diff)\n\n  if (unit === 'day') {\n    // s.epoch -= ms.minute\n    //but don't push it over a month\n    if (Math.abs(diff) > 28 && n < 28) {\n      s.epoch += milliseconds.hour;\n    }\n  } // 1st time: oops, did we change previous unit? revert it.\n\n\n  if (previous !== null && startUnit !== s.d[previous]()) {\n    // console.warn('spacetime warning: missed setting ' + unit)\n    s.epoch = original; // s.epoch += ms[unit] * diff * 0.89 // maybe try and make it close...?\n  } //repair it if we've gone too far or something\n  //(go by half-steps, just in case)\n\n\n  var halfStep = milliseconds[unit] / 2;\n\n  while (s.d[fn]() < n) {\n    s.epoch += halfStep;\n  }\n\n  while (s.d[fn]() > n) {\n    s.epoch -= halfStep;\n  } // 2nd time: did we change previous unit? revert it.\n\n\n  if (previous !== null && startUnit !== s.d[previous]()) {\n    // console.warn('spacetime warning: missed setting ' + unit)\n    s.epoch = original;\n  }\n}; //find the desired date by a increment/check while loop\n\n\nvar units = {\n  year: {\n    valid: function valid(n) {\n      return n > -4000 && n < 4000;\n    },\n    walkTo: function walkTo(s, n) {\n      return walk(s, n, 'getFullYear', 'year', null);\n    }\n  },\n  month: {\n    valid: function valid(n) {\n      return n >= 0 && n <= 11;\n    },\n    walkTo: function walkTo(s, n) {\n      var d = s.d;\n      var current = d.getMonth();\n      var original = s.epoch;\n      var startUnit = d.getFullYear();\n\n      if (current === n) {\n        return;\n      } //try to get it as close as we can..\n\n\n      var diff = n - current;\n      s.epoch += milliseconds.day * (diff * 28); //special case\n      //oops, did we change the year? revert it.\n\n      if (startUnit !== s.d.getFullYear()) {\n        s.epoch = original;\n      } //incriment by day\n\n\n      while (s.d.getMonth() < n) {\n        s.epoch += milliseconds.day;\n      }\n\n      while (s.d.getMonth() > n) {\n        s.epoch -= milliseconds.day;\n      }\n    }\n  },\n  date: {\n    valid: function valid(n) {\n      return n > 0 && n <= 31;\n    },\n    walkTo: function walkTo(s, n) {\n      return walk(s, n, 'getDate', 'day', 'getMonth');\n    }\n  },\n  hour: {\n    valid: function valid(n) {\n      return n >= 0 && n < 24;\n    },\n    walkTo: function walkTo(s, n) {\n      return walk(s, n, 'getHours', 'hour', 'getDate');\n    }\n  },\n  minute: {\n    valid: function valid(n) {\n      return n >= 0 && n < 60;\n    },\n    walkTo: function walkTo(s, n) {\n      return walk(s, n, 'getMinutes', 'minute', 'getHours');\n    }\n  },\n  second: {\n    valid: function valid(n) {\n      return n >= 0 && n < 60;\n    },\n    walkTo: function walkTo(s, n) {\n      //do this one directly\n      s.epoch = s.seconds(n).epoch;\n    }\n  },\n  millisecond: {\n    valid: function valid(n) {\n      return n >= 0 && n < 1000;\n    },\n    walkTo: function walkTo(s, n) {\n      //do this one directly\n      s.epoch = s.milliseconds(n).epoch;\n    }\n  }\n};\n\nvar walkTo = function walkTo(s, wants) {\n  var keys = Object.keys(units);\n  var old = s.clone();\n\n  for (var i = 0; i < keys.length; i++) {\n    var k = keys[i];\n    var n = wants[k];\n\n    if (n === undefined) {\n      n = old[k]();\n    }\n\n    if (typeof n === 'string') {\n      n = parseInt(n, 10);\n    } //make-sure it's valid\n\n\n    if (!units[k].valid(n)) {\n      s.epoch = null;\n\n      if (s.silent === false) {\n        console.warn('invalid ' + k + ': ' + n);\n      }\n\n      return;\n    }\n\n    units[k].walkTo(s, n);\n  }\n\n  return;\n};\n\nvar walk_1 = walkTo;\n\nvar shortMonths = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sept', 'oct', 'nov', 'dec'];\nvar longMonths = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n\nfunction buildMapping() {\n  var obj = {\n    sep: 8 //support this format\n\n  };\n\n  for (var i = 0; i < shortMonths.length; i++) {\n    obj[shortMonths[i]] = i;\n  }\n\n  for (var _i = 0; _i < longMonths.length; _i++) {\n    obj[longMonths[_i]] = _i;\n  }\n\n  return obj;\n}\n\nvar months = {\n  \"short\": function short() {\n    return shortMonths;\n  },\n  \"long\": function long() {\n    return longMonths;\n  },\n  mapping: function mapping() {\n    return buildMapping();\n  },\n  set: function set(i18n) {\n    shortMonths = i18n[\"short\"] || shortMonths;\n    longMonths = i18n[\"long\"] || longMonths;\n  }\n};\n\n//pull-apart ISO offsets, like \"+0100\"\nvar parseOffset$1 = function parseOffset(s, offset) {\n  if (!offset) {\n    return s;\n  } //this is a fancy-move\n\n\n  if (offset === 'Z' || offset === 'z') {\n    offset = '+0000';\n  } // according to ISO8601, tz could be hh:mm, hhmm or hh\n  // so need few more steps before the calculation.\n\n\n  var num = 0; // for (+-)hh:mm\n\n  if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n    //support \"+01:00\"\n    if (/:00/.test(offset) === true) {\n      offset = offset.replace(/:00/, '');\n    } //support \"+01:30\"\n\n\n    if (/:30/.test(offset) === true) {\n      offset = offset.replace(/:30/, '.5');\n    }\n  } // for (+-)hhmm\n\n\n  if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n    offset = offset.replace(/30$/, '.5');\n  }\n\n  num = parseFloat(offset); //divide by 100 or 10 - , \"+0100\", \"+01\"\n\n  if (Math.abs(num) > 100) {\n    num = num / 100;\n  } //okay, try to match it to a utc timezone\n  //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n  //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n\n\n  num *= -1;\n\n  if (num >= 0) {\n    num = '+' + num;\n  }\n\n  var tz = 'etc/gmt' + num;\n  var zones = s.timezones;\n\n  if (zones[tz]) {\n    // log a warning if we're over-writing a given timezone?\n    // console.log('changing timezone to: ' + tz)\n    s.tz = tz;\n  }\n\n  return s;\n};\n\nvar parseOffset_1$1 = parseOffset$1;\n\nvar parseTime = function parseTime(s) {\n  var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  str = str.replace(/^\\s+/, '').toLowerCase(); //trim\n  //formal time formats - 04:30.23\n\n  var arr = str.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\\.]?([0-9]{1,4})?/);\n\n  if (arr !== null) {\n    //validate it a little\n    var h = Number(arr[1]);\n\n    if (h < 0 || h > 24) {\n      return s.startOf('day');\n    }\n\n    var m = Number(arr[2]); //don't accept '5:3pm'\n\n    if (arr[2].length < 2 || m < 0 || m > 59) {\n      return s.startOf('day');\n    }\n\n    if (arr[4] > 999) {\n      // fix overflow issue with milliseconds, if input is longer than standard (e.g. 2017-08-06T09:00:00.123456Z)\n      arr[4] = parseInt(\"\".concat(arr[4]).substring(0, 3), 10);\n    }\n\n    s = s.hour(h);\n    s = s.minute(m);\n    s = s.seconds(arr[3] || 0);\n    s = s.millisecond(arr[4] || 0); //parse-out am/pm\n\n    var ampm = str.match(/[\\b0-9](am|pm)\\b/);\n\n    if (ampm !== null && ampm[1]) {\n      s = s.ampm(ampm[1]);\n    }\n\n    return s;\n  } //try an informal form - 5pm (no minutes)\n\n\n  arr = str.match(/([0-9]+) ?(am|pm)/);\n\n  if (arr !== null && arr[1]) {\n    var _h = Number(arr[1]); //validate it a little..\n\n\n    if (_h > 12 || _h < 1) {\n      return s.startOf('day');\n    }\n\n    s = s.hour(arr[1] || 0);\n    s = s.ampm(arr[2]);\n    s = s.startOf('hour');\n    return s;\n  } //no time info found, use start-of-day\n\n\n  s = s.startOf('day');\n  return s;\n};\n\nvar parseTime_1 = parseTime;\n\nvar monthLengths = [31, // January - 31 days\n28, // February - 28 days in a common year and 29 days in leap years\n31, // March - 31 days\n30, // April - 30 days\n31, // May - 31 days\n30, // June - 30 days\n31, // July - 31 days\n31, // August - 31 days\n30, // September - 30 days\n31, // October - 31 days\n30, // November - 30 days\n31 // December - 31 days\n];\nvar monthLengths_1 = monthLengths; // 28 - feb\n\nvar fns = createCommonjsModule(function (module, exports) {\n  //git:blame @JuliasCaesar https://www.timeanddate.com/date/leapyear.html\n  exports.isLeapYear = function (year) {\n    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n  }; // unsurprisingly-nasty `typeof date` call\n\n\n  exports.isDate = function (d) {\n    return Object.prototype.toString.call(d) === '[object Date]' && !isNaN(d.valueOf());\n  };\n\n  exports.isArray = function (input) {\n    return Object.prototype.toString.call(input) === '[object Array]';\n  };\n\n  exports.isObject = function (input) {\n    return Object.prototype.toString.call(input) === '[object Object]';\n  };\n\n  exports.zeroPad = function (str) {\n    var len = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    var pad = '0';\n    str = str + '';\n    return str.length >= len ? str : new Array(len - str.length + 1).join(pad) + str;\n  };\n\n  exports.titleCase = function (str) {\n    if (!str) {\n      return '';\n    }\n\n    return str[0].toUpperCase() + str.substr(1);\n  };\n\n  exports.ordinal = function (i) {\n    var j = i % 10;\n    var k = i % 100;\n\n    if (j === 1 && k !== 11) {\n      return i + 'st';\n    }\n\n    if (j === 2 && k !== 12) {\n      return i + 'nd';\n    }\n\n    if (j === 3 && k !== 13) {\n      return i + 'rd';\n    }\n\n    return i + 'th';\n  }; //strip 'st' off '1st'..\n\n\n  exports.toCardinal = function (str) {\n    str = String(str);\n    str = str.replace(/([0-9])(st|nd|rd|th)$/i, '$1');\n    return parseInt(str, 10);\n  }; //used mostly for cleanup of unit names, like 'months'\n\n\n  exports.normalize = function () {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    str = str.toLowerCase().trim();\n    str = str.replace(/ies$/, 'y'); //'centuries'\n\n    str = str.replace(/s$/, '');\n    str = str.replace(/-/g, '');\n\n    if (str === 'day' || str === 'days') {\n      return 'date';\n    }\n\n    if (str === 'min' || str === 'mins') {\n      return 'minute';\n    }\n\n    return str;\n  };\n\n  exports.getEpoch = function (tmp) {\n    //support epoch\n    if (typeof tmp === 'number') {\n      return tmp;\n    } //suport date objects\n\n\n    if (exports.isDate(tmp)) {\n      return tmp.getTime();\n    }\n\n    if (tmp.epoch) {\n      return tmp.epoch;\n    }\n\n    return null;\n  }; //make sure this input is a spacetime obj\n\n\n  exports.beADate = function (d, s) {\n    if (exports.isObject(d) === false) {\n      return s.clone().set(d);\n    }\n\n    return d;\n  };\n\n  exports.formatTimezone = function (offset) {\n    var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var sign = offset > 0 ? '+' : '-';\n    var absOffset = Math.abs(offset);\n    var hours = exports.zeroPad(parseInt('' + absOffset, 10));\n    var minutes = exports.zeroPad(absOffset % 1 * 60);\n    return \"\".concat(sign).concat(hours).concat(delimiter).concat(minutes);\n  };\n});\nvar fns_1 = fns.isLeapYear;\nvar fns_2 = fns.isDate;\nvar fns_3 = fns.isArray;\nvar fns_4 = fns.isObject;\nvar fns_5 = fns.zeroPad;\nvar fns_6 = fns.titleCase;\nvar fns_7 = fns.ordinal;\nvar fns_8 = fns.toCardinal;\nvar fns_9 = fns.normalize;\nvar fns_10 = fns.getEpoch;\nvar fns_11 = fns.beADate;\nvar fns_12 = fns.formatTimezone;\n\nvar isLeapYear = fns.isLeapYear; //given a month, return whether day number exists in it\n\nvar hasDate = function hasDate(obj) {\n  //invalid values\n  if (monthLengths_1.hasOwnProperty(obj.month) !== true) {\n    return false;\n  } //support leap-year in february\n\n\n  if (obj.month === 1) {\n    if (isLeapYear(obj.year) && obj.date <= 29) {\n      return true;\n    } else {\n      return obj.date <= 28;\n    }\n  } //is this date too-big for this month?\n\n\n  var max = monthLengths_1[obj.month] || 0;\n\n  if (obj.date <= max) {\n    return true;\n  }\n\n  return false;\n};\n\nvar hasDate_1 = hasDate;\n\nvar months$1 = months.mapping();\n\nvar parseYear = function parseYear() {\n  var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var today = arguments.length > 1 ? arguments[1] : undefined;\n  var year = parseInt(str.trim(), 10); // use a given year from options.today\n\n  if (!year && today) {\n    year = today.year;\n  } // fallback to this year\n\n\n  year = year || new Date().getFullYear();\n  return year;\n};\n\nvar strFmt = [//iso-this 1998-05-30T22:00:00:000Z, iso-that 2017-04-03T08:00:00-0700\n{\n  reg: /^(\\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\\-\\+:]+)?$/i,\n  parse: function parse(s, arr, givenTz, options) {\n    var month = parseInt(arr[2], 10) - 1;\n    var obj = {\n      year: arr[1],\n      month: month,\n      date: arr[3]\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    parseOffset_1$1(s, arr[5]);\n    walk_1(s, obj);\n    s = parseTime_1(s, arr[4]);\n    return s;\n  }\n}, //iso \"2015-03-25\" or \"2015/03/25\" or \"2015/03/25 12:26:14 PM\"\n{\n  reg: /^([0-9]{4})[\\-\\/.]([0-9]{1,2})[\\-\\/.]([0-9]{1,2}),?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n  parse: function parse(s, arr) {\n    var obj = {\n      year: arr[1],\n      month: parseInt(arr[2], 10) - 1,\n      date: parseInt(arr[3], 10)\n    };\n\n    if (obj.month >= 12) {\n      //support yyyy/dd/mm (weird, but ok)\n      obj.date = parseInt(arr[2], 10);\n      obj.month = parseInt(arr[3], 10) - 1;\n    }\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s, arr[4]);\n    return s;\n  }\n}, //mm/dd/yyyy - uk/canada \"6/28/2019, 12:26:14 PM\"\n{\n  reg: /^([0-9]{1,2})[\\-\\/]([0-9]{1,2})[\\-\\/]?([0-9]{4})?,?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n  parse: function parse(s, arr) {\n    var month = parseInt(arr[1], 10) - 1;\n    var date = parseInt(arr[2], 10); //support dd/mm/yyy\n\n    if (s.british || month >= 12) {\n      date = parseInt(arr[1], 10);\n      month = parseInt(arr[2], 10) - 1;\n    }\n\n    var year = arr[3] || new Date().getFullYear();\n    var obj = {\n      year: year,\n      month: month,\n      date: date\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s, arr[4]);\n    return s;\n  }\n}, // '2012-06' last attempt at iso-like format\n{\n  reg: /^([0-9]{4})[\\-\\/]([0-9]{2})$/i,\n  parse: function parse(s, arr, givenTz, options) {\n    var month = parseInt(arr[2], 10) - 1;\n    var obj = {\n      year: arr[1],\n      month: month,\n      date: 1\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    parseOffset_1$1(s, arr[5]);\n    walk_1(s, obj);\n    s = parseTime_1(s, arr[4]);\n    return s;\n  }\n}, //common british format - \"25-feb-2015\"\n{\n  reg: /^([0-9]{1,2})[\\-\\/]([a-z]+)[\\-\\/]?([0-9]{4})?$/i,\n  parse: function parse(s, arr) {\n    var month = months$1[arr[2].toLowerCase()];\n    var year = parseYear(arr[3], s._today);\n    var obj = {\n      year: year,\n      month: month,\n      date: fns.toCardinal(arr[1] || '')\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s, arr[4]);\n    return s;\n  }\n}, //alt short format - \"feb-25-2015\"\n{\n  reg: /^([a-z]+)[\\-\\/]([0-9]{1,2})[\\-\\/]?([0-9]{4})?$/i,\n  parse: function parse(s, arr) {\n    var month = months$1[arr[1].toLowerCase()];\n    var year = parseYear(arr[3], s._today);\n    var obj = {\n      year: year,\n      month: month,\n      date: fns.toCardinal(arr[2] || '')\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s, arr[4]);\n    return s;\n  }\n}, //Long \"Mar 25 2015\"\n//February 22, 2017 15:30:00\n{\n  reg: /^([a-z]+) ([0-9]{1,2}(?:st|nd|rd|th)?),?( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,\n  parse: function parse(s, arr) {\n    var month = months$1[arr[1].toLowerCase()];\n    var year = parseYear(arr[3], s._today);\n    var obj = {\n      year: year,\n      month: month,\n      date: fns.toCardinal(arr[2] || '')\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s, arr[4]);\n    return s;\n  }\n}, //February 2017 (implied date)\n{\n  reg: /^([a-z]+) ([0-9]{4})$/i,\n  parse: function parse(s, arr) {\n    var month = months$1[arr[1].toLowerCase()];\n    var year = parseYear(arr[2], s._today);\n    var obj = {\n      year: year,\n      month: month,\n      date: s._today.date || 1\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s, arr[4]);\n    return s;\n  }\n}, //Long \"25 Mar 2015\"\n{\n  reg: /^([0-9]{1,2}(?:st|nd|rd|th)?) ([a-z]+),?( [0-9]{4})?,? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n  parse: function parse(s, arr) {\n    var month = months$1[arr[2].toLowerCase()];\n\n    if (!month) {\n      return null;\n    }\n\n    var year = parseYear(arr[3], s._today);\n    var obj = {\n      year: year,\n      month: month,\n      date: fns.toCardinal(arr[1])\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s, arr[4]);\n    return s;\n  }\n}, {\n  // 'q2 2002'\n  reg: /^(q[0-9])( of)?( [0-9]{4})?/i,\n  parse: function parse(s, arr) {\n    var quarter = arr[1] || '';\n    s = s.quarter(quarter);\n    var year = arr[3] || '';\n\n    if (year) {\n      year = year.trim();\n      s = s.year(year);\n    }\n\n    return s;\n  }\n}, {\n  // 'summer 2002'\n  reg: /^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,\n  parse: function parse(s, arr) {\n    var season = arr[1] || '';\n    s = s.season(season);\n    var year = arr[3] || '';\n\n    if (year) {\n      year = year.trim();\n      s = s.year(year);\n    }\n\n    return s;\n  }\n}, {\n  // '200bc'\n  reg: /^[0-9,]+ ?b\\.?c\\.?$/i,\n  parse: function parse(s, arr) {\n    var str = arr[0] || ''; //make negative-year\n\n    str = str.replace(/^([0-9,]+) ?b\\.?c\\.?$/i, '-$1'); //remove commas\n\n    str = str.replace(/,/g, '');\n    var year = parseInt(str.trim(), 10);\n    var d = new Date();\n    var obj = {\n      year: year,\n      month: d.getMonth(),\n      date: d.getDate()\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s);\n    return s;\n  }\n}, {\n  // '200ad'\n  reg: /^[0-9,]+ ?(a\\.?d\\.?|c\\.?e\\.?)$/i,\n  parse: function parse(s, arr) {\n    var str = arr[0] || ''; //remove commas\n\n    str = str.replace(/,/g, '');\n    var year = parseInt(str.trim(), 10);\n    var d = new Date();\n    var obj = {\n      year: year,\n      month: d.getMonth(),\n      date: d.getDate()\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s);\n    return s;\n  }\n}, {\n  // '1992'\n  reg: /^[0-9]{4}( ?a\\.?d\\.?)?$/i,\n  parse: function parse(s, arr) {\n    var today = s._today;\n    var year = parseYear(arr[0], today);\n    var d = new Date(); // using today's date, but a new month is awkward.\n\n    if (today.month && !today.date) {\n      today.date = 1;\n    }\n\n    var obj = {\n      year: year,\n      month: today.month || d.getMonth(),\n      date: today.date || d.getDate()\n    };\n\n    if (hasDate_1(obj) === false) {\n      s.epoch = null;\n      return s;\n    }\n\n    walk_1(s, obj);\n    s = parseTime_1(s);\n    return s;\n  }\n}];\nvar strParse = strFmt;\n\n// pull in 'today' data for the baseline moment\nvar getNow = function getNow(s) {\n  s.epoch = Date.now();\n  Object.keys(s._today || {}).forEach(function (k) {\n    if (typeof s[k] === 'function') {\n      s = s[k](s._today[k]);\n    }\n  });\n  return s;\n};\n\nvar dates = {\n  now: function now(s) {\n    return getNow(s);\n  },\n  today: function today(s) {\n    return getNow(s);\n  },\n  tonight: function tonight(s) {\n    s = getNow(s);\n    s = s.hour(18); //6pm\n\n    return s;\n  },\n  tomorrow: function tomorrow(s) {\n    s = getNow(s);\n    s = s.add(1, 'day');\n    s = s.startOf('day');\n    return s;\n  },\n  yesterday: function yesterday(s) {\n    s = getNow(s);\n    s = s.subtract(1, 'day');\n    s = s.startOf('day');\n    return s;\n  },\n  christmas: function christmas(s) {\n    var year = getNow(s).year();\n    s = s.set([year, 11, 25, 18, 0, 0]); // Dec 25\n\n    return s;\n  },\n  'new years': function newYears(s) {\n    var year = getNow(s).year();\n    s = s.set([year, 11, 31, 18, 0, 0]); // Dec 31\n\n    return s;\n  }\n};\ndates['new years eve'] = dates['new years'];\nvar namedDates = dates;\n\n//  -  can't use built-in js parser ;(\n//=========================================\n// ISO Date\t  \"2015-03-25\"\n// Short Date\t\"03/25/2015\" or \"2015/03/25\"\n// Long Date\t\"Mar 25 2015\" or \"25 Mar 2015\"\n// Full Date\t\"Wednesday March 25 2015\"\n//=========================================\n//-- also -\n// if the given epoch is really small, they've probably given seconds and not milliseconds\n// anything below this number is likely (but not necessarily) a mistaken input.\n// this may seem like an arbitrary number, but it's 'within jan 1970'\n// this is only really ambiguous until 2054 or so\n\nvar minimumEpoch = 2500000000;\nvar defaults = {\n  year: new Date().getFullYear(),\n  month: 0,\n  date: 1\n}; //support [2016, 03, 01] format\n\nvar handleArray = function handleArray(s, arr, today) {\n  if (arr.length === 0) {\n    return s;\n  }\n\n  var order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond'];\n\n  for (var i = 0; i < order.length; i++) {\n    var num = arr[i] || today[order[i]] || defaults[order[i]] || 0;\n    s = s[order[i]](num);\n  }\n\n  return s;\n}; //support {year:2016, month:3} format\n\n\nvar handleObject = function handleObject(s, obj, today) {\n  // if obj is empty, do nothing\n  if (Object.keys(obj).length === 0) {\n    return s;\n  }\n\n  obj = Object.assign({}, defaults, today, obj);\n  var keys = Object.keys(obj);\n\n  for (var i = 0; i < keys.length; i++) {\n    var unit = keys[i]; //make sure we have this method\n\n    if (s[unit] === undefined || typeof s[unit] !== 'function') {\n      continue;\n    } //make sure the value is a number\n\n\n    if (obj[unit] === null || obj[unit] === undefined || obj[unit] === '') {\n      continue;\n    }\n\n    var num = obj[unit] || today[unit] || defaults[unit] || 0;\n    s = s[unit](num);\n  }\n\n  return s;\n}; //find the epoch from different input styles\n\n\nvar parseInput = function parseInput(s, input, givenTz) {\n  var today = s._today || defaults; //if we've been given a epoch number, it's easy\n\n  if (typeof input === 'number') {\n    if (input > 0 && input < minimumEpoch && s.silent === false) {\n      console.warn('  - Warning: You are setting the date to January 1970.');\n      console.warn('       -   did input seconds instead of milliseconds?');\n    }\n\n    s.epoch = input;\n    return s;\n  } //set tmp time\n\n\n  s.epoch = Date.now(); // overwrite tmp time with 'today' value, if exists\n\n  if (s._today && fns.isObject(s._today) && Object.keys(s._today).length > 0) {\n    var res = handleObject(s, today, defaults);\n\n    if (res.isValid()) {\n      s.epoch = res.epoch;\n    }\n  } // null input means 'now'\n\n\n  if (input === null || input === undefined || input === '') {\n    return s; //k, we're good.\n  } //support input of Date() object\n\n\n  if (fns.isDate(input) === true) {\n    s.epoch = input.getTime();\n    return s;\n  } //support [2016, 03, 01] format\n\n\n  if (fns.isArray(input) === true) {\n    s = handleArray(s, input, today);\n    return s;\n  } //support {year:2016, month:3} format\n\n\n  if (fns.isObject(input) === true) {\n    //support spacetime object as input\n    if (input.epoch) {\n      s.epoch = input.epoch;\n      s.tz = input.tz;\n      return s;\n    }\n\n    s = handleObject(s, input, today);\n    return s;\n  } //input as a string..\n\n\n  if (typeof input !== 'string') {\n    return s;\n  } //little cleanup..\n\n\n  input = input.replace(/\\b(mon|tues|wed|wednes|thu|thurs|fri|sat|satur|sun)(day)?\\b/i, '');\n  input = input.replace(/,/g, '');\n  input = input.replace(/ +/g, ' ').trim(); //try some known-words, like 'now'\n\n  if (namedDates.hasOwnProperty(input) === true) {\n    s = namedDates[input](s);\n    return s;\n  } //try each text-parse template, use the first good result\n\n\n  for (var i = 0; i < strParse.length; i++) {\n    var m = input.match(strParse[i].reg);\n\n    if (m) {\n      // console.log(strFmt[i].reg)\n      var _res = strParse[i].parse(s, m, givenTz);\n\n      if (_res !== null && _res.isValid()) {\n        return _res;\n      }\n    }\n  }\n\n  if (s.silent === false) {\n    console.warn(\"Warning: couldn't parse date-string: '\" + input + \"'\");\n  }\n\n  s.epoch = null;\n  return s;\n};\n\nvar input = parseInput;\n\nvar shortDays = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nvar longDays = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\nvar days = {\n  \"short\": function short() {\n    return shortDays;\n  },\n  \"long\": function long() {\n    return longDays;\n  },\n  set: function set(i18n) {\n    shortDays = i18n[\"short\"] || shortDays;\n    longDays = i18n[\"long\"] || longDays;\n  },\n  aliases: {\n    tues: 2,\n    thur: 4,\n    thurs: 4\n  }\n};\n\n// it's kind of nuts how involved this is\n// \"+01:00\", \"+0100\", or simply \"+01\"\n\nvar isoOffset = function isoOffset(s) {\n  var offset = s.timezone().current.offset;\n  return !offset ? 'Z' : fns.formatTimezone(offset, ':');\n};\n\nvar _offset = isoOffset;\n\nvar format = {\n  day: function day(s) {\n    return fns.titleCase(s.dayName());\n  },\n  'day-short': function dayShort(s) {\n    return fns.titleCase(days[\"short\"]()[s.day()]);\n  },\n  'day-number': function dayNumber(s) {\n    return s.day();\n  },\n  'day-ordinal': function dayOrdinal(s) {\n    return fns.ordinal(s.day());\n  },\n  'day-pad': function dayPad(s) {\n    return fns.zeroPad(s.day());\n  },\n  date: function date(s) {\n    return s.date();\n  },\n  'date-ordinal': function dateOrdinal(s) {\n    return fns.ordinal(s.date());\n  },\n  'date-pad': function datePad(s) {\n    return fns.zeroPad(s.date());\n  },\n  month: function month(s) {\n    return fns.titleCase(s.monthName());\n  },\n  'month-short': function monthShort(s) {\n    return fns.titleCase(months[\"short\"]()[s.month()]);\n  },\n  'month-number': function monthNumber(s) {\n    return s.month();\n  },\n  'month-ordinal': function monthOrdinal(s) {\n    return fns.ordinal(s.month());\n  },\n  'month-pad': function monthPad(s) {\n    return fns.zeroPad(s.month());\n  },\n  'iso-month': function isoMonth(s) {\n    return fns.zeroPad(s.month() + 1);\n  },\n  //1-based months\n  year: function year(s) {\n    var year = s.year();\n\n    if (year > 0) {\n      return year;\n    }\n\n    year = Math.abs(year);\n    return year + ' BC';\n  },\n  'year-short': function yearShort(s) {\n    var year = s.year();\n\n    if (year > 0) {\n      return \"'\".concat(String(s.year()).substr(2, 4));\n    }\n\n    year = Math.abs(year);\n    return year + ' BC';\n  },\n  'iso-year': function isoYear(s) {\n    var year = s.year();\n    var isNegative = year < 0;\n    var str = fns.zeroPad(Math.abs(year), 4); //0-padded\n\n    if (isNegative) {\n      //negative years are for some reason 6-digits ('-00008')\n      str = fns.zeroPad(str, 6);\n      str = '-' + str;\n    }\n\n    return str;\n  },\n  time: function time(s) {\n    return s.time();\n  },\n  'time-24': function time24(s) {\n    return \"\".concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n  },\n  hour: function hour(s) {\n    return s.hour12();\n  },\n  'hour-pad': function hourPad(s) {\n    return fns.zeroPad(s.hour12());\n  },\n  'hour-24': function hour24(s) {\n    return s.hour24();\n  },\n  'hour-24-pad': function hour24Pad(s) {\n    return fns.zeroPad(s.hour24());\n  },\n  minute: function minute(s) {\n    return s.minute();\n  },\n  'minute-pad': function minutePad(s) {\n    return fns.zeroPad(s.minute());\n  },\n  second: function second(s) {\n    return s.second();\n  },\n  'second-pad': function secondPad(s) {\n    return fns.zeroPad(s.second());\n  },\n  ampm: function ampm(s) {\n    return s.ampm();\n  },\n  quarter: function quarter(s) {\n    return 'Q' + s.quarter();\n  },\n  season: function season(s) {\n    return s.season();\n  },\n  era: function era(s) {\n    return s.era();\n  },\n  json: function json(s) {\n    return s.json();\n  },\n  timezone: function timezone(s) {\n    return s.timezone().name;\n  },\n  offset: function offset(s) {\n    return _offset(s);\n  },\n  numeric: function numeric(s) {\n    return \"\".concat(s.year(), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n  },\n  // yyyy/mm/dd\n  'numeric-us': function numericUs(s) {\n    return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()), \"/\").concat(s.year());\n  },\n  // mm/dd/yyyy\n  'numeric-uk': function numericUk(s) {\n    return \"\".concat(fns.zeroPad(s.date()), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(s.year());\n  },\n  //dd/mm/yyyy\n  'mm/dd': function mmDd(s) {\n    return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n  },\n  //mm/dd\n  // ... https://en.wikipedia.org/wiki/ISO_8601 ;(((\n  iso: function iso(s) {\n    var year = s.format('iso-year');\n    var month = fns.zeroPad(s.month() + 1); //1-based months\n\n    var date = fns.zeroPad(s.date());\n    var hour = fns.zeroPad(s.h24());\n    var minute = fns.zeroPad(s.minute());\n    var second = fns.zeroPad(s.second());\n    var ms = fns.zeroPad(s.millisecond(), 3);\n    var offset = _offset(s);\n    return \"\".concat(year, \"-\").concat(month, \"-\").concat(date, \"T\").concat(hour, \":\").concat(minute, \":\").concat(second, \".\").concat(ms).concat(offset); //2018-03-09T08:50:00.000-05:00\n  },\n  'iso-short': function isoShort(s) {\n    var month = fns.zeroPad(s.month() + 1); //1-based months\n\n    var date = fns.zeroPad(s.date());\n    return \"\".concat(s.year(), \"-\").concat(month, \"-\").concat(date); //2017-02-15\n  },\n  'iso-utc': function isoUtc(s) {\n    return new Date(s.epoch).toISOString(); //2017-03-08T19:45:28.367Z\n  },\n  //i made these up\n  nice: function nice(s) {\n    return \"\".concat(months[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n  },\n  'nice-year': function niceYear(s) {\n    return \"\".concat(months[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.year());\n  },\n  'nice-day': function niceDay(s) {\n    return \"\".concat(days[\"short\"]()[s.day()], \" \").concat(fns.titleCase(months[\"short\"]()[s.month()]), \" \").concat(fns.ordinal(s.date()));\n  },\n  'nice-full': function niceFull(s) {\n    return \"\".concat(s.dayName(), \" \").concat(fns.titleCase(s.monthName()), \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n  }\n}; //aliases\n\nvar aliases = {\n  'day-name': 'day',\n  'month-name': 'month',\n  'iso 8601': 'iso',\n  'time-h24': 'time-24',\n  'time-12': 'time',\n  'time-h12': 'time',\n  tz: 'timezone',\n  'day-num': 'day-number',\n  'month-num': 'month-number',\n  'month-iso': 'iso-month',\n  'year-iso': 'iso-year',\n  'nice-short': 'nice',\n  mdy: 'numeric-us',\n  dmy: 'numeric-uk',\n  ymd: 'numeric',\n  'yyyy/mm/dd': 'numeric',\n  'mm/dd/yyyy': 'numeric-us',\n  'dd/mm/yyyy': 'numeric-us',\n  'little-endian': 'numeric-uk',\n  'big-endian': 'numeric',\n  'day-nice': 'nice-day'\n};\nObject.keys(aliases).forEach(function (k) {\n  return format[k] = format[aliases[k]];\n});\n\nvar printFormat = function printFormat(s) {\n  var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  //don't print anything if it's an invalid date\n  if (s.isValid() !== true) {\n    return '';\n  } //support .format('month')\n\n\n  if (format.hasOwnProperty(str)) {\n    var out = format[str](s) || '';\n\n    if (str !== 'json') {\n      out = String(out);\n\n      if (str !== 'ampm') {\n        out = fns.titleCase(out);\n      }\n    }\n\n    return out;\n  } //support '{hour}:{minute}' notation\n\n\n  if (str.indexOf('{') !== -1) {\n    var sections = /\\{(.+?)\\}/g;\n    str = str.replace(sections, function (_, fmt) {\n      fmt = fmt.toLowerCase().trim();\n\n      if (format.hasOwnProperty(fmt)) {\n        return String(format[fmt](s));\n      }\n\n      return '';\n    });\n    return str;\n  }\n\n  return s.format('iso-short');\n};\n\nvar format_1 = printFormat;\n\nvar pad = fns.zeroPad;\nvar formatTimezone = fns.formatTimezone; //parse this insane unix-time-templating thing, from the 19th century\n//http://unicode.org/reports/tr35/tr35-25.html#Date_Format_Patterns\n//time-symbols we support\n\nvar mapping = {\n  G: function G(s) {\n    return s.era();\n  },\n  GG: function GG(s) {\n    return s.era();\n  },\n  GGG: function GGG(s) {\n    return s.era();\n  },\n  GGGG: function GGGG(s) {\n    return s.era() === 'AD' ? 'Anno Domini' : 'Before Christ';\n  },\n  //year\n  y: function y(s) {\n    return s.year();\n  },\n  yy: function yy(s) {\n    //last two chars\n    return parseInt(String(s.year()).substr(2, 4), 10);\n  },\n  yyy: function yyy(s) {\n    return s.year();\n  },\n  yyyy: function yyyy(s) {\n    return s.year();\n  },\n  yyyyy: function yyyyy(s) {\n    return '0' + s.year();\n  },\n  // u: (s) => {},//extended non-gregorian years\n  //quarter\n  Q: function Q(s) {\n    return s.quarter();\n  },\n  QQ: function QQ(s) {\n    return s.quarter();\n  },\n  QQQ: function QQQ(s) {\n    return s.quarter();\n  },\n  QQQQ: function QQQQ(s) {\n    return s.quarter();\n  },\n  //month\n  M: function M(s) {\n    return s.month() + 1;\n  },\n  MM: function MM(s) {\n    return pad(s.month() + 1);\n  },\n  MMM: function MMM(s) {\n    return s.format('month-short');\n  },\n  MMMM: function MMMM(s) {\n    return s.format('month');\n  },\n  //week\n  w: function w(s) {\n    return s.week();\n  },\n  ww: function ww(s) {\n    return pad(s.week());\n  },\n  //week of month\n  // W: (s) => s.week(),\n  //date of month\n  d: function d(s) {\n    return s.date();\n  },\n  dd: function dd(s) {\n    return pad(s.date());\n  },\n  //date of year\n  D: function D(s) {\n    return s.dayOfYear();\n  },\n  DD: function DD(s) {\n    return pad(s.dayOfYear());\n  },\n  DDD: function DDD(s) {\n    return pad(s.dayOfYear(), 3);\n  },\n  // F: (s) => {},//date of week in month\n  // g: (s) => {},//modified julian day\n  //day\n  E: function E(s) {\n    return s.format('day-short');\n  },\n  EE: function EE(s) {\n    return s.format('day-short');\n  },\n  EEE: function EEE(s) {\n    return s.format('day-short');\n  },\n  EEEE: function EEEE(s) {\n    return s.format('day');\n  },\n  EEEEE: function EEEEE(s) {\n    return s.format('day')[0];\n  },\n  e: function e(s) {\n    return s.day();\n  },\n  ee: function ee(s) {\n    return s.day();\n  },\n  eee: function eee(s) {\n    return s.format('day-short');\n  },\n  eeee: function eeee(s) {\n    return s.format('day');\n  },\n  eeeee: function eeeee(s) {\n    return s.format('day')[0];\n  },\n  //am/pm\n  a: function a(s) {\n    return s.ampm().toUpperCase();\n  },\n  aa: function aa(s) {\n    return s.ampm().toUpperCase();\n  },\n  aaa: function aaa(s) {\n    return s.ampm().toUpperCase();\n  },\n  aaaa: function aaaa(s) {\n    return s.ampm().toUpperCase();\n  },\n  //hour\n  h: function h(s) {\n    return s.h12();\n  },\n  hh: function hh(s) {\n    return pad(s.h12());\n  },\n  H: function H(s) {\n    return s.hour();\n  },\n  HH: function HH(s) {\n    return pad(s.hour());\n  },\n  // j: (s) => {},//weird hour format\n  m: function m(s) {\n    return s.minute();\n  },\n  mm: function mm(s) {\n    return pad(s.minute());\n  },\n  s: function s(_s) {\n    return _s.second();\n  },\n  ss: function ss(s) {\n    return pad(s.second());\n  },\n  //milliseconds in the day\n  A: function A(s) {\n    return s.epoch - s.startOf('day').epoch;\n  },\n  //timezone\n  z: function z(s) {\n    return s.timezone().name;\n  },\n  zz: function zz(s) {\n    return s.timezone().name;\n  },\n  zzz: function zzz(s) {\n    return s.timezone().name;\n  },\n  zzzz: function zzzz(s) {\n    return s.timezone().name;\n  },\n  Z: function Z(s) {\n    return formatTimezone(s.timezone().current.offset);\n  },\n  ZZ: function ZZ(s) {\n    return formatTimezone(s.timezone().current.offset);\n  },\n  ZZZ: function ZZZ(s) {\n    return formatTimezone(s.timezone().current.offset);\n  },\n  ZZZZ: function ZZZZ(s) {\n    return formatTimezone(s.timezone().current.offset, ':');\n  }\n};\n\nvar addAlias = function addAlias(_char, to, n) {\n  var name = _char;\n  var toName = to;\n\n  for (var i = 0; i < n; i += 1) {\n    mapping[name] = mapping[toName];\n    name += _char;\n    toName += to;\n  }\n};\n\naddAlias('q', 'Q', 4);\naddAlias('L', 'M', 4);\naddAlias('Y', 'y', 4);\naddAlias('c', 'e', 4);\naddAlias('k', 'H', 2);\naddAlias('K', 'h', 2);\naddAlias('S', 's', 2);\naddAlias('v', 'z', 4);\naddAlias('V', 'Z', 4);\n\nvar unixFmt = function unixFmt(s, str) {\n  var chars = str.split(''); //combine consecutive chars, like 'yyyy' as one.\n\n  var arr = [chars[0]];\n  var quoteOn = false;\n\n  for (var i = 1; i < chars.length; i += 1) {\n    //support quoted substrings\n    if (chars[i] === \"'\") {\n      quoteOn = !quoteOn; //support '', meaning one tick\n\n      if (quoteOn === true && chars[i + 1] && chars[i + 1] === \"'\") {\n        quoteOn = true;\n      } else {\n        continue;\n      }\n    } //merge it with the last one\n\n\n    if (quoteOn === true || chars[i] === arr[arr.length - 1][0]) {\n      arr[arr.length - 1] += chars[i];\n    } else {\n      arr.push(chars[i]);\n    }\n  }\n\n  return arr.reduce(function (txt, c) {\n    if (mapping[c] !== undefined) {\n      txt += mapping[c](s) || '';\n    } else {\n      txt += c;\n    }\n\n    return txt;\n  }, '');\n};\n\nvar unixFmt_1 = unixFmt;\n\nvar units$1 = ['year', 'season', 'quarter', 'month', 'week', 'day', 'quarterHour', 'hour', 'minute'];\n\nvar doUnit = function doUnit(s, k) {\n  var start = s.clone().startOf(k);\n  var end = s.clone().endOf(k);\n  var duration = end.epoch - start.epoch;\n  var percent = (s.epoch - start.epoch) / duration;\n  return parseFloat(percent.toFixed(2));\n}; //how far it is along, from 0-1\n\n\nvar progress = function progress(s, unit) {\n  if (unit) {\n    unit = fns.normalize(unit);\n    return doUnit(s, unit);\n  }\n\n  var obj = {};\n  units$1.forEach(function (k) {\n    obj[k] = doUnit(s, k);\n  });\n  return obj;\n};\n\nvar progress_1 = progress;\n\nvar nearest = function nearest(s, unit) {\n  //how far have we gone?\n  var prog = s.progress();\n  unit = fns.normalize(unit); //fix camel-case for this one\n\n  if (unit === 'quarterhour') {\n    unit = 'quarterHour';\n  }\n\n  if (prog[unit] !== undefined) {\n    // go forward one?\n    if (prog[unit] > 0.5) {\n      s = s.add(1, unit);\n    } // go to start\n\n\n    s = s.startOf(unit);\n  } else if (s.silent === false) {\n    console.warn(\"no known unit '\" + unit + \"'\");\n  }\n\n  return s;\n};\n\nvar nearest_1 = nearest;\n\n//increment until dates are the same\nvar climb = function climb(a, b, unit) {\n  var i = 0;\n  a = a.clone();\n\n  while (a.isBefore(b)) {\n    //do proper, expensive increment to catch all-the-tricks\n    a = a.add(1, unit);\n    i += 1;\n  } //oops, we went too-far..\n\n\n  if (a.isAfter(b, unit)) {\n    i -= 1;\n  }\n\n  return i;\n}; // do a thurough +=1 on the unit, until they match\n// for speed-reasons, only used on day, month, week.\n\n\nvar diffOne = function diffOne(a, b, unit) {\n  if (a.isBefore(b)) {\n    return climb(a, b, unit);\n  } else {\n    return climb(b, a, unit) * -1; //reverse it\n  }\n};\n\nvar one = diffOne;\n\n// 2020 - 2019 may be 1 year, or 0 years\n// - '1 year difference' means 366 days during a leap year\n\nvar fastYear = function fastYear(a, b) {\n  var years = b.year() - a.year(); // should we decrement it by 1?\n\n  a = a.year(b.year());\n\n  if (a.isAfter(b)) {\n    years -= 1;\n  }\n\n  return years;\n}; // use a waterfall-method for computing a diff of any 'pre-knowable' units\n// compute years, then compute months, etc..\n// ... then ms-math for any very-small units\n\n\nvar diff = function diff(a, b) {\n  // an hour is always the same # of milliseconds\n  // so these units can be 'pre-calculated'\n  var msDiff = b.epoch - a.epoch;\n  var obj = {\n    milliseconds: msDiff,\n    seconds: parseInt(msDiff / 1000, 10)\n  };\n  obj.minutes = parseInt(obj.seconds / 60, 10);\n  obj.hours = parseInt(obj.minutes / 60, 10); //do the year\n\n  var tmp = a.clone();\n  obj.years = fastYear(tmp, b);\n  tmp = a.add(obj.years, 'year'); //there's always 12 months in a year...\n\n  obj.months = obj.years * 12;\n  tmp = a.add(obj.months, 'month');\n  obj.months += one(tmp, b, 'month'); // there's always atleast 52 weeks in a year..\n  // (month * 4) isn't as close\n\n  obj.weeks = obj.years * 52;\n  tmp = a.add(obj.weeks, 'week');\n  obj.weeks += one(tmp, b, 'week'); // there's always atleast 7 days in a week\n\n  obj.days = obj.weeks * 7;\n  tmp = a.add(obj.days, 'day');\n  obj.days += one(tmp, b, 'day');\n  return obj;\n};\n\nvar waterfall = diff;\n\nvar reverseDiff = function reverseDiff(obj) {\n  Object.keys(obj).forEach(function (k) {\n    obj[k] *= -1;\n  });\n  return obj;\n}; // this method counts a total # of each unit, between a, b.\n// '1 month' means 28 days in february\n// '1 year' means 366 days in a leap year\n\n\nvar main = function main(a, b, unit) {\n  b = fns.beADate(b, a); //reverse values, if necessary\n\n  var reversed = false;\n\n  if (a.isAfter(b)) {\n    var tmp = a;\n    a = b;\n    b = tmp;\n    reversed = true;\n  } //compute them all (i know!)\n\n\n  var obj = waterfall(a, b);\n\n  if (reversed) {\n    obj = reverseDiff(obj);\n  } //return just the requested unit\n\n\n  if (unit) {\n    //make sure it's plural-form\n    unit = fns.normalize(unit);\n\n    if (/s$/.test(unit) !== true) {\n      unit += 's';\n    }\n\n    if (unit === 'dates') {\n      unit = 'days';\n    }\n\n    return obj[unit];\n  }\n\n  return obj;\n};\n\nvar diff$1 = main;\n\n//our conceptual 'break-points' for each unit\n\nvar qualifiers = {\n  months: {\n    almost: 10,\n    over: 4\n  },\n  days: {\n    almost: 25,\n    over: 10\n  },\n  hours: {\n    almost: 20,\n    over: 8\n  },\n  minutes: {\n    almost: 50,\n    over: 20\n  },\n  seconds: {\n    almost: 50,\n    over: 20\n  }\n}; //get number of hours/minutes... between the two dates\n\nfunction getDiff(a, b) {\n  var isBefore = a.isBefore(b);\n  var later = isBefore ? b : a;\n  var earlier = isBefore ? a : b;\n  earlier = earlier.clone();\n  var diff = {\n    years: 0,\n    months: 0,\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0\n  };\n  Object.keys(diff).forEach(function (unit) {\n    if (earlier.isSame(later, unit)) {\n      return;\n    }\n\n    var max = earlier.diff(later, unit);\n    earlier = earlier.add(max, unit);\n    diff[unit] = max;\n  }); //reverse it, if necessary\n\n  if (isBefore) {\n    Object.keys(diff).forEach(function (u) {\n      if (diff[u] !== 0) {\n        diff[u] *= -1;\n      }\n    });\n  }\n\n  return diff;\n} // Expects a plural unit arg\n\n\nfunction pluralize(value, unit) {\n  if (value === 1) {\n    unit = unit.slice(0, -1);\n  }\n\n  return value + ' ' + unit;\n} //create the human-readable diff between the two dates\n\n\nvar since = function since(start, end) {\n  end = fns.beADate(end, start);\n  var diff = getDiff(start, end);\n  var isNow = Object.keys(diff).every(function (u) {\n    return !diff[u];\n  });\n\n  if (isNow === true) {\n    return {\n      diff: diff,\n      rounded: 'now',\n      qualified: 'now',\n      precise: 'now'\n    };\n  }\n\n  var rounded;\n  var qualified;\n  var precise;\n  var englishValues = []; //go through each value and create its text-representation\n\n  Object.keys(diff).forEach(function (unit, i, units) {\n    var value = Math.abs(diff[unit]);\n\n    if (value === 0) {\n      return;\n    }\n\n    var englishValue = pluralize(value, unit);\n    englishValues.push(englishValue);\n\n    if (!rounded) {\n      rounded = qualified = englishValue;\n\n      if (i > 4) {\n        return;\n      } //is it a 'almost' something, etc?\n\n\n      var nextUnit = units[i + 1];\n      var nextValue = Math.abs(diff[nextUnit]);\n\n      if (nextValue > qualifiers[nextUnit].almost) {\n        rounded = pluralize(value + 1, unit);\n        qualified = 'almost ' + rounded;\n      } else if (nextValue > qualifiers[nextUnit].over) qualified = 'over ' + englishValue;\n    }\n  }); //make them into a string\n\n  precise = englishValues.splice(0, 2).join(', '); //handle before/after logic\n\n  if (start.isAfter(end) === true) {\n    rounded += ' ago';\n    qualified += ' ago';\n    precise += ' ago';\n  } else {\n    rounded = 'in ' + rounded;\n    qualified = 'in ' + qualified;\n    precise = 'in ' + precise;\n  }\n\n  return {\n    diff: diff,\n    rounded: rounded,\n    qualified: qualified,\n    precise: precise\n  };\n};\n\nvar since_1 = since;\n\n//https://www.timeanddate.com/calendar/aboutseasons.html\n// Spring - from March 1 to May 31;\n// Summer - from June 1 to August 31;\n// Fall (autumn) - from September 1 to November 30; and,\n// Winter - from December 1 to February 28 (February 29 in a leap year).\nvar seasons = {\n  north: [['spring', 2, 1], //spring march 1\n  ['summer', 5, 1], //june 1\n  ['fall', 8, 1], //sept 1\n  ['autumn', 8, 1], //sept 1\n  ['winter', 11, 1] //dec 1\n  ],\n  south: [['fall', 2, 1], //march 1\n  ['autumn', 2, 1], //march 1\n  ['winter', 5, 1], //june 1\n  ['spring', 8, 1], //sept 1\n  ['summer', 11, 1] //dec 1\n  ]\n};\n\nvar quarters = [null, [0, 1], //jan 1\n[3, 1], //apr 1\n[6, 1], //july 1\n[9, 1] //oct 1\n];\n\nvar units$2 = {\n  minute: function minute(s) {\n    walk_1(s, {\n      second: 0,\n      millisecond: 0\n    });\n    return s;\n  },\n  quarterhour: function quarterhour(s) {\n    var minute = s.minutes();\n\n    if (minute >= 45) {\n      s = s.minutes(45);\n    } else if (minute >= 30) {\n      s = s.minutes(30);\n    } else if (minute >= 15) {\n      s = s.minutes(15);\n    } else {\n      s = s.minutes(0);\n    }\n\n    walk_1(s, {\n      second: 0,\n      millisecond: 0\n    });\n    return s;\n  },\n  hour: function hour(s) {\n    walk_1(s, {\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s;\n  },\n  day: function day(s) {\n    walk_1(s, {\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s;\n  },\n  week: function week(s) {\n    var original = s.clone();\n    s = s.day(s._weekStart); //monday\n\n    if (s.isAfter(original)) {\n      s = s.subtract(1, 'week');\n    }\n\n    walk_1(s, {\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s;\n  },\n  month: function month(s) {\n    walk_1(s, {\n      date: 1,\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s;\n  },\n  quarter: function quarter(s) {\n    var q = s.quarter();\n\n    if (quarters[q]) {\n      walk_1(s, {\n        month: quarters[q][0],\n        date: quarters[q][1],\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n    }\n\n    return s;\n  },\n  season: function season(s) {\n    var current = s.season();\n    var hem = 'north';\n\n    if (s.hemisphere() === 'South') {\n      hem = 'south';\n    }\n\n    for (var i = 0; i < seasons[hem].length; i++) {\n      if (seasons[hem][i][0] === current) {\n        //winter goes between years\n        var year = s.year();\n\n        if (current === 'winter' && s.month() < 3) {\n          year -= 1;\n        }\n\n        walk_1(s, {\n          year: year,\n          month: seasons[hem][i][1],\n          date: seasons[hem][i][2],\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        });\n        return s;\n      }\n    }\n\n    return s;\n  },\n  year: function year(s) {\n    walk_1(s, {\n      month: 0,\n      date: 1,\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s;\n  },\n  decade: function decade(s) {\n    s = s.startOf('year');\n    var year = s.year();\n    var decade = parseInt(year / 10, 10) * 10;\n    s = s.year(decade);\n    return s;\n  },\n  century: function century(s) {\n    s = s.startOf('year');\n    var year = s.year(); // near 0AD goes '-1 | +1'\n\n    var decade = parseInt(year / 100, 10) * 100;\n    s = s.year(decade);\n    return s;\n  }\n};\nunits$2.date = units$2.day;\n\nvar startOf = function startOf(a, unit) {\n  var s = a.clone();\n  unit = fns.normalize(unit);\n\n  if (units$2[unit]) {\n    return units$2[unit](s);\n  }\n\n  if (unit === 'summer' || unit === 'winter') {\n    s = s.season(unit);\n    return units$2.season(s);\n  }\n\n  return s;\n}; //piggy-backs off startOf\n\n\nvar endOf = function endOf(a, unit) {\n  var s = a.clone();\n  unit = fns.normalize(unit);\n\n  if (units$2[unit]) {\n    s = units$2[unit](s);\n    s = s.add(1, unit);\n    s = s.subtract(1, 'milliseconds');\n    return s;\n  }\n\n  return s;\n};\n\nvar startOf_1 = {\n  startOf: startOf,\n  endOf: endOf\n};\n\nvar isDay = function isDay(unit) {\n  if (days[\"short\"]().find(function (s) {\n    return s === unit;\n  })) {\n    return true;\n  }\n\n  if (days[\"long\"]().find(function (s) {\n    return s === unit;\n  })) {\n    return true;\n  }\n\n  return false;\n}; // return a list of the weeks/months/days between a -> b\n// returns spacetime objects in the timezone of the input\n\n\nvar every = function every(start) {\n  var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n\n  if (!unit || !end) {\n    return [];\n  } //cleanup unit param\n\n\n  unit = fns.normalize(unit); //cleanup to param\n\n  end = start.clone().set(end); //swap them, if they're backwards\n\n  if (start.isAfter(end)) {\n    var tmp = start;\n    start = end;\n    end = tmp;\n  } //support 'every wednesday'\n\n\n  var d = start.clone();\n\n  if (isDay(unit)) {\n    d = d.next(unit);\n    unit = 'week';\n  } else {\n    d = d.next(unit);\n  } //okay, actually start doing it\n\n\n  var result = [];\n\n  while (d.isBefore(end)) {\n    result.push(d);\n    d = d.add(1, unit);\n  }\n\n  return result;\n};\n\nvar every_1 = every;\n\nvar parseDst = function parseDst(dst) {\n  if (!dst) {\n    return [];\n  }\n\n  return dst.split('->');\n};\n\nvar titleCase = function titleCase(str) {\n  str = str[0].toUpperCase() + str.substr(1);\n  str = str.replace(/\\/gmt/, '/GMT');\n  str = str.replace(/[\\/_]([a-z])/gi, function (s) {\n    return s.toUpperCase();\n  });\n  return str;\n}; //get metadata about this timezone\n\n\nvar timezone = function timezone(s) {\n  var zones = s.timezones;\n  var tz = s.tz;\n\n  if (zones.hasOwnProperty(tz) === false) {\n    tz = find(s.tz, zones);\n  }\n\n  if (tz === null) {\n    if (s.silent === false) {\n      console.warn(\"Warn: could not find given or local timezone - '\" + s.tz + \"'\");\n    }\n\n    return {\n      current: {\n        epochShift: 0\n      }\n    };\n  }\n\n  var found = zones[tz];\n  var result = {\n    name: titleCase(tz),\n    hasDst: Boolean(found.dst),\n    default_offset: found.offset,\n    //do north-hemisphere version as default (sorry!)\n    hemisphere: found.hem === 's' ? 'South' : 'North',\n    current: {}\n  };\n\n  if (result.hasDst) {\n    var arr = parseDst(found.dst);\n    result.change = {\n      start: arr[0],\n      back: arr[1]\n    };\n  } //find the offsets for summer/winter times\n  //(these variable names are north-centric)\n\n\n  var summer = found.offset; // (july)\n\n  var winter = summer; // (january) assume it's the same for now\n\n  if (result.hasDst === true) {\n    if (result.hemisphere === 'North') {\n      winter = summer - 1;\n    } else {\n      //southern hemisphere\n      winter = found.offset + 1;\n    }\n  } //find out which offset to use right now\n  //use 'summer' time july-time\n\n\n  if (result.hasDst === false) {\n    result.current.offset = summer;\n    result.current.isDST = false;\n  } else if (summerTime(s.epoch, result.change.start, result.change.back, summer, winter) === true) {\n    result.current.offset = summer;\n    result.current.isDST = result.hemisphere === 'North'; //dst 'on' in winter in north\n  } else {\n    //use 'winter' january-time\n    result.current.offset = winter;\n    result.current.isDST = result.hemisphere === 'South'; //dst 'on' in summer in south\n  }\n\n  return result;\n};\n\nvar timezone_1 = timezone;\n\nvar units$3 = ['century', 'decade', 'year', 'month', 'date', 'day', 'hour', 'minute', 'second', 'millisecond']; //the spacetime instance methods (also, the API)\n\nvar methods = {\n  set: function set(input$1, tz) {\n    var s = this.clone();\n    s = input(s, input$1, null);\n\n    if (tz) {\n      this.tz = find(tz);\n    }\n\n    return s;\n  },\n  timezone: function timezone() {\n    return timezone_1(this);\n  },\n  isDST: function isDST() {\n    return timezone_1(this).current.isDST;\n  },\n  hasDST: function hasDST() {\n    return timezone_1(this).hasDst;\n  },\n  offset: function offset() {\n    return timezone_1(this).current.offset * 60;\n  },\n  hemisphere: function hemisphere() {\n    return timezone_1(this).hemisphere;\n  },\n  format: function format(fmt) {\n    return format_1(this, fmt);\n  },\n  unixFmt: function unixFmt(fmt) {\n    return unixFmt_1(this, fmt);\n  },\n  startOf: function startOf(unit) {\n    return startOf_1.startOf(this, unit);\n  },\n  endOf: function endOf(unit) {\n    return startOf_1.endOf(this, unit);\n  },\n  leapYear: function leapYear() {\n    var year = this.year();\n    return fns.isLeapYear(year);\n  },\n  progress: function progress(unit) {\n    return progress_1(this, unit);\n  },\n  nearest: function nearest(unit) {\n    return nearest_1(this, unit);\n  },\n  diff: function diff(d, unit) {\n    return diff$1(this, d, unit);\n  },\n  since: function since(d) {\n    if (!d) {\n      d = this.clone().set();\n    }\n\n    return since_1(this, d);\n  },\n  next: function next(unit) {\n    var s = this.add(1, unit);\n    return s.startOf(unit);\n  },\n  //the start of the previous year/week/century\n  last: function last(unit) {\n    var s = this.subtract(1, unit);\n    return s.startOf(unit);\n  },\n  isValid: function isValid() {\n    //null/undefined epochs\n    if (!this.epoch && this.epoch !== 0) {\n      return false;\n    }\n\n    return !isNaN(this.d.getTime());\n  },\n  //travel to this timezone\n  \"goto\": function goto(tz) {\n    var s = this.clone();\n    s.tz = find(tz, s.timezones); //science!\n\n    return s;\n  },\n  //get each week/month/day between a -> b\n  every: function every(unit, to) {\n    return every_1(this, unit, to);\n  },\n  isAwake: function isAwake() {\n    var hour = this.hour(); //10pm -> 8am\n\n    if (hour < 8 || hour > 22) {\n      return false;\n    }\n\n    return true;\n  },\n  isAsleep: function isAsleep() {\n    return !this.isAwake();\n  },\n  //pretty-printing\n  log: function log() {\n    console.log('');\n    console.log(format_1(this, 'nice-short'));\n    return this;\n  },\n  logYear: function logYear() {\n    console.log('');\n    console.log(format_1(this, 'full-short'));\n    return this;\n  },\n  json: function json() {\n    var _this = this;\n\n    return units$3.reduce(function (h, unit) {\n      h[unit] = _this[unit]();\n      return h;\n    }, {});\n  },\n  debug: function debug() {\n    var tz = this.timezone();\n    var date = this.format('MM') + ' ' + this.format('date-ordinal') + ' ' + this.year();\n    date += '\\n     - ' + this.format('time');\n    console.log('\\n\\n', date + '\\n     - ' + tz.name + ' (' + tz.current.offset + ')');\n    return this;\n  },\n  //alias of 'since' but opposite - like moment.js\n  from: function from(d) {\n    d = this.clone().set(d);\n    return d.since(this);\n  },\n  fromNow: function fromNow() {\n    var d = this.clone().set(Date.now());\n    return d.since(this);\n  },\n  weekStart: function weekStart(input) {\n    //accept a number directly\n    if (typeof input === 'number') {\n      this._weekStart = input;\n      return this;\n    }\n\n    if (typeof input === 'string') {\n      // accept 'wednesday'\n      input = input.toLowerCase().trim();\n      var num = days[\"short\"]().indexOf(input);\n\n      if (num === -1) {\n        num = days[\"long\"]().indexOf(input);\n      }\n\n      if (num === -1) {\n        num = 1; //go back to default\n      }\n\n      this._weekStart = num;\n    } else {\n      console.warn('Spacetime Error: Cannot understand .weekStart() input:', input);\n    }\n\n    return this;\n  }\n}; // aliases\n\nmethods.inDST = methods.isDST;\nmethods.round = methods.nearest;\nmethods.each = methods.every;\nvar methods_1 = methods;\n\n//these methods wrap around them.\n\nvar isLeapYear$1 = fns.isLeapYear;\n\nvar validate = function validate(n) {\n  //handle number as a string\n  if (typeof n === 'string') {\n    n = parseInt(n, 10);\n  }\n\n  return n;\n};\n\nvar order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond']; //reduce hostile micro-changes when moving dates by millisecond\n\nvar confirm = function confirm(s, tmp, unit) {\n  var n = order.indexOf(unit);\n  var arr = order.slice(n, order.length);\n\n  for (var i = 0; i < arr.length; i++) {\n    var want = tmp[arr[i]]();\n    s[arr[i]](want);\n  }\n\n  return s;\n};\n\nvar set = {\n  milliseconds: function milliseconds(s, n) {\n    n = validate(n);\n    var current = s.millisecond();\n    var diff = current - n; //milliseconds to shift by\n\n    return s.epoch - diff;\n  },\n  seconds: function seconds(s, n) {\n    n = validate(n);\n    var diff = s.second() - n;\n    var shift = diff * milliseconds.second;\n    return s.epoch - shift;\n  },\n  minutes: function minutes(s, n) {\n    n = validate(n);\n    var old = s.clone();\n    var diff = s.minute() - n;\n    var shift = diff * milliseconds.minute;\n    s.epoch -= shift; // check against a screw-up\n    // if (old.hour() != s.hour()) {\n    //   walkTo(old, {\n    //     minute: n\n    //   })\n    //   return old.epoch\n    // }\n\n    confirm(s, old, 'second');\n    return s.epoch;\n  },\n  hours: function hours(s, n) {\n    n = validate(n);\n\n    if (n >= 24) {\n      n = 24;\n    } else if (n < 0) {\n      n = 0;\n    }\n\n    var old = s.clone();\n    var diff = s.hour() - n;\n    var shift = diff * milliseconds.hour;\n    s.epoch -= shift; // oops, did we change the day?\n\n    if (s.date() !== old.date()) {\n      s = old.clone();\n\n      if (diff > 1) {\n        diff -= 1;\n      }\n\n      if (diff < 1) {\n        diff += 1;\n      }\n\n      shift = diff * milliseconds.hour;\n      s.epoch -= shift;\n    }\n\n    walk_1(s, {\n      hour: n\n    });\n    confirm(s, old, 'minute');\n    return s.epoch;\n  },\n  //support setting time by '4:25pm' - this isn't very-well developed..\n  time: function time(s, str) {\n    var m = str.match(/([0-9]{1,2}):([0-9]{1,2})(:[0-9]{1,2})? ?(am|pm)?/);\n\n    if (!m) {\n      //fallback to support just '2am'\n      m = str.match(/([0-9]{1,2}) ?(am|pm)/);\n\n      if (!m) {\n        return s.epoch;\n      }\n\n      m.splice(2, 0, '0'); //add implicit 0 minutes\n\n      m.splice(3, 0, ''); //add implicit seconds\n    }\n\n    var h24 = false;\n    var hour = parseInt(m[1], 10);\n    var minute = parseInt(m[2], 10);\n\n    if (hour > 12) {\n      h24 = true;\n    } //make the hour into proper 24h time\n\n\n    if (h24 === false) {\n      if (m[4] === 'am' && hour === 12) {\n        //12am is midnight\n        hour = 0;\n      }\n\n      if (m[4] === 'pm' && hour < 12) {\n        //12pm is noon\n        hour += 12;\n      }\n    } // handle seconds\n\n\n    m[3] = m[3] || '';\n    m[3] = m[3].replace(/:/, '');\n    var sec = parseInt(m[3], 10) || 0;\n    s = s.hour(hour);\n    s = s.minute(minute);\n    s = s.second(sec);\n    s = s.millisecond(0);\n    return s.epoch;\n  },\n  date: function date(s, n) {\n    n = validate(n); //avoid setting february 31st\n\n    if (n > 28) {\n      var month = s.month();\n      var max = monthLengths_1[month]; // support leap day in february\n\n      if (month === 1 && n === 29 && isLeapYear$1(s.year())) {\n        max = 29;\n      }\n\n      if (n > max) {\n        n = max;\n      }\n    } //avoid setting < 0\n\n\n    if (n <= 0) {\n      n = 1;\n    }\n\n    walk_1(s, {\n      date: n\n    });\n    return s.epoch;\n  },\n  //this one's tricky\n  month: function month(s, n) {\n    if (typeof n === 'string') {\n      n = months.mapping()[n.toLowerCase()];\n    }\n\n    n = validate(n); //don't go past december\n\n    if (n >= 12) {\n      n = 11;\n    }\n\n    if (n <= 0) {\n      n = 0;\n    }\n\n    var date = s.date(); //there's no 30th of february, etc.\n\n    if (date > monthLengths_1[n]) {\n      //make it as close as we can..\n      date = monthLengths_1[n];\n    }\n\n    walk_1(s, {\n      month: n,\n      date: date\n    });\n    return s.epoch;\n  },\n  year: function year(s, n) {\n    n = validate(n);\n    walk_1(s, {\n      year: n\n    });\n    return s.epoch;\n  },\n  dayOfYear: function dayOfYear(s, n) {\n    n = validate(n);\n    var old = s.clone();\n    n -= 1; //days are 1-based\n\n    if (n <= 0) {\n      n = 0;\n    } else if (n >= 365) {\n      n = 364;\n    }\n\n    s = s.startOf('year');\n    s = s.add(n, 'day');\n    confirm(s, old, 'hour');\n    return s.epoch;\n  }\n};\n\nvar methods$1 = {\n  millisecond: function millisecond(num) {\n    if (num !== undefined) {\n      var s = this.clone();\n      s.epoch = set.milliseconds(s, num);\n      return s;\n    }\n\n    return this.d.getMilliseconds();\n  },\n  second: function second(num) {\n    if (num !== undefined) {\n      var s = this.clone();\n      s.epoch = set.seconds(s, num);\n      return s;\n    }\n\n    return this.d.getSeconds();\n  },\n  minute: function minute(num) {\n    if (num !== undefined) {\n      var s = this.clone();\n      s.epoch = set.minutes(s, num);\n      return s;\n    }\n\n    return this.d.getMinutes();\n  },\n  hour: function hour(num) {\n    var d = this.d;\n\n    if (num !== undefined) {\n      var s = this.clone();\n      s.epoch = set.hours(s, num);\n      return s;\n    }\n\n    return d.getHours();\n  },\n  //'3:30' is 3.5\n  hourFloat: function hourFloat(num) {\n    if (num !== undefined) {\n      var s = this.clone();\n\n      var _minute = num % 1;\n\n      _minute = _minute * 60;\n\n      var _hour = parseInt(num, 10);\n\n      s.epoch = set.hours(s, _hour);\n      s.epoch = set.minutes(s, _minute);\n      return s;\n    }\n\n    var d = this.d;\n    var hour = d.getHours();\n    var minute = d.getMinutes();\n    minute = minute / 60;\n    return hour + minute;\n  },\n  // hour in 12h format\n  hour12: function hour12(str) {\n    var d = this.d;\n\n    if (str !== undefined) {\n      var s = this.clone();\n      str = '' + str;\n      var m = str.match(/^([0-9]+)(am|pm)$/);\n\n      if (m) {\n        var hour = parseInt(m[1], 10);\n\n        if (m[2] === 'pm') {\n          hour += 12;\n        }\n\n        s.epoch = set.hours(s, hour);\n      }\n\n      return s;\n    } //get the hour\n\n\n    var hour12 = d.getHours();\n\n    if (hour12 > 12) {\n      hour12 = hour12 - 12;\n    }\n\n    if (hour12 === 0) {\n      hour12 = 12;\n    }\n\n    return hour12;\n  },\n  //some ambiguity here with 12/24h\n  time: function time(str) {\n    if (str !== undefined) {\n      var s = this.clone();\n      str = str.toLowerCase().trim();\n      s.epoch = set.time(s, str);\n      return s;\n    }\n\n    return \"\".concat(this.h12(), \":\").concat(fns.zeroPad(this.minute())).concat(this.ampm());\n  },\n  // either 'am' or 'pm'\n  ampm: function ampm(input) {\n    var which = 'am';\n    var hour = this.hour();\n\n    if (hour >= 12) {\n      which = 'pm';\n    }\n\n    if (typeof input !== 'string') {\n      return which;\n    } //okay, we're doing a setter\n\n\n    var s = this.clone();\n    input = input.toLowerCase().trim(); //ampm should never change the day\n    // - so use `.hour(n)` instead of `.minus(12,'hour')`\n\n    if (hour >= 12 && input === 'am') {\n      //noon is 12pm\n      hour -= 12;\n      return s.hour(hour);\n    }\n\n    if (hour < 12 && input === 'pm') {\n      hour += 12;\n      return s.hour(hour);\n    }\n\n    return s;\n  },\n  //some hard-coded times of day, like 'noon'\n  dayTime: function dayTime(str) {\n    if (str !== undefined) {\n      var times = {\n        morning: '7:00am',\n        breakfast: '7:00am',\n        noon: '12:00am',\n        lunch: '12:00pm',\n        afternoon: '2:00pm',\n        evening: '6:00pm',\n        dinner: '6:00pm',\n        night: '11:00pm',\n        midnight: '23:59pm'\n      };\n      var s = this.clone();\n      str = str || '';\n      str = str.toLowerCase();\n\n      if (times.hasOwnProperty(str) === true) {\n        s = s.time(times[str]);\n      }\n\n      return s;\n    }\n\n    var h = this.hour();\n\n    if (h < 6) {\n      return 'night';\n    }\n\n    if (h < 12) {\n      //until noon\n      return 'morning';\n    }\n\n    if (h < 17) {\n      //until 5pm\n      return 'afternoon';\n    }\n\n    if (h < 22) {\n      //until 10pm\n      return 'evening';\n    }\n\n    return 'night';\n  },\n  //parse a proper iso string\n  iso: function iso(num) {\n    if (num !== undefined) {\n      return this.set(num);\n    }\n\n    return this.format('iso');\n  }\n};\nvar _01Time = methods$1;\n\nvar methods$2 = {\n  // # day in the month\n  date: function date(num) {\n    if (num !== undefined) {\n      var s = this.clone();\n      s.epoch = set.date(s, num);\n      return s;\n    }\n\n    return this.d.getDate();\n  },\n  //like 'wednesday' (hard!)\n  day: function day(input) {\n    if (input === undefined) {\n      return this.d.getDay();\n    }\n\n    var original = this.clone();\n    var want = input; // accept 'wednesday'\n\n    if (typeof input === 'string') {\n      input = input.toLowerCase();\n\n      if (days.aliases.hasOwnProperty(input)) {\n        want = days.aliases[input];\n      } else {\n        want = days[\"short\"]().indexOf(input);\n\n        if (want === -1) {\n          want = days[\"long\"]().indexOf(input);\n        }\n      }\n    } //move approx\n\n\n    var day = this.d.getDay();\n    var diff = day - want;\n    var s = this.subtract(diff, 'days'); //tighten it back up\n\n    walk_1(s, {\n      hour: original.hour(),\n      minute: original.minute(),\n      second: original.second()\n    });\n    return s;\n  },\n  //these are helpful name-wrappers\n  dayName: function dayName(input) {\n    if (input === undefined) {\n      return days[\"long\"]()[this.day()];\n    }\n\n    var s = this.clone();\n    s = s.day(input);\n    return s;\n  },\n  //either name or number\n  month: function month(input) {\n    if (input !== undefined) {\n      var s = this.clone();\n      s.epoch = set.month(s, input);\n      return s;\n    }\n\n    return this.d.getMonth();\n  }\n};\nvar _02Date = methods$2;\n\nvar clearMinutes = function clearMinutes(s) {\n  s = s.minute(0);\n  s = s.second(0);\n  s = s.millisecond(1);\n  return s;\n};\n\nvar methods$3 = {\n  // day 0-366\n  dayOfYear: function dayOfYear(num) {\n    if (num !== undefined) {\n      var s = this.clone();\n      s.epoch = set.dayOfYear(s, num);\n      return s;\n    } //days since newyears - jan 1st is 1, jan 2nd is 2...\n\n\n    var sum = 0;\n    var month = this.d.getMonth();\n    var tmp; //count the num days in each month\n\n    for (var i = 1; i <= month; i++) {\n      tmp = new Date();\n      tmp.setDate(1);\n      tmp.setFullYear(this.d.getFullYear()); //the year matters, because leap-years\n\n      tmp.setHours(1);\n      tmp.setMinutes(1);\n      tmp.setMonth(i);\n      tmp.setHours(-2); //the last day of the month\n\n      sum += tmp.getDate();\n    }\n\n    return sum + this.d.getDate();\n  },\n  //since the start of the year\n  week: function week(num) {\n    // week-setter\n    if (num !== undefined) {\n      var s = this.clone();\n      s = s.month(0);\n      s = s.date(1);\n      s = s.day('monday');\n      s = clearMinutes(s); //first week starts first Thurs in Jan\n      // so mon dec 28th is 1st week\n      // so mon dec 29th is not the week\n\n      if (s.monthName() === 'december' && s.date() >= 28) {\n        s = s.add(1, 'week');\n      }\n\n      num -= 1; //1-based\n\n      s = s.add(num, 'weeks');\n      return s;\n    } //find-out which week it is\n\n\n    var tmp = this.clone();\n    tmp = tmp.month(0);\n    tmp = tmp.date(1);\n    tmp = clearMinutes(tmp);\n    tmp = tmp.day('monday'); //don't go into last-year\n\n    if (tmp.monthName() === 'december' && tmp.date() >= 28) {\n      tmp = tmp.add(1, 'week');\n    } // is first monday the 1st?\n\n\n    var toAdd = 1;\n\n    if (tmp.date() === 1) {\n      toAdd = 0;\n    }\n\n    tmp = tmp.minus(1, 'second');\n    var thisOne = this.epoch; //if the week technically hasn't started yet\n\n    if (tmp.epoch > thisOne) {\n      return 1;\n    } //speed it up, if we can\n\n\n    var i = 0;\n    var skipWeeks = this.month() * 4;\n    tmp.epoch += milliseconds.week * skipWeeks;\n    i += skipWeeks;\n\n    for (; i < 52; i++) {\n      if (tmp.epoch > thisOne) {\n        return i + toAdd;\n      }\n\n      tmp = tmp.add(1, 'week');\n    }\n\n    return 52;\n  },\n  //'january'\n  monthName: function monthName(input) {\n    if (input === undefined) {\n      return months[\"long\"]()[this.month()];\n    }\n\n    var s = this.clone();\n    s = s.month(input);\n    return s;\n  },\n  //q1, q2, q3, q4\n  quarter: function quarter(num) {\n    if (num !== undefined) {\n      if (typeof num === 'string') {\n        num = num.replace(/^q/i, '');\n        num = parseInt(num, 10);\n      }\n\n      if (quarters[num]) {\n        var s = this.clone();\n        var _month = quarters[num][0];\n        s = s.month(_month);\n        s = s.date(1);\n        s = s.startOf('day');\n        return s;\n      }\n    }\n\n    var month = this.d.getMonth();\n\n    for (var i = 1; i < quarters.length; i++) {\n      if (month < quarters[i][0]) {\n        return i - 1;\n      }\n    }\n\n    return 4;\n  },\n  //spring, summer, winter, fall\n  season: function season(input) {\n    var hem = 'north';\n\n    if (this.hemisphere() === 'South') {\n      hem = 'south';\n    }\n\n    if (input !== undefined) {\n      var s = this.clone();\n\n      for (var i = 0; i < seasons[hem].length; i++) {\n        if (input === seasons[hem][i][0]) {\n          s = s.month(seasons[hem][i][1]);\n          s = s.date(1);\n          s = s.startOf('day');\n        }\n      }\n\n      return s;\n    }\n\n    var month = this.d.getMonth();\n\n    for (var _i = 0; _i < seasons[hem].length - 1; _i++) {\n      if (month >= seasons[hem][_i][1] && month < seasons[hem][_i + 1][1]) {\n        return seasons[hem][_i][0];\n      }\n    }\n\n    return 'winter';\n  },\n  //the year number\n  year: function year(num) {\n    if (num !== undefined) {\n      var s = this.clone();\n      s.epoch = set.year(s, num);\n      return s;\n    }\n\n    return this.d.getFullYear();\n  },\n  //bc/ad years\n  era: function era(str) {\n    if (str !== undefined) {\n      var s = this.clone();\n      str = str.toLowerCase(); //TODO: there is no year-0AD i think. may have off-by-1 error here\n\n      var year = s.d.getFullYear(); //make '1992' into 1992bc..\n\n      if (str === 'bc' && year > 0) {\n        s.epoch = set.year(s, year * -1);\n      } //make '1992bc' into '1992'\n\n\n      if (str === 'ad' && year < 0) {\n        s.epoch = set.year(s, year * -1);\n      }\n\n      return s;\n    }\n\n    if (this.d.getFullYear() < 0) {\n      return 'BC';\n    }\n\n    return 'AD';\n  },\n  // 2019 -> 2010\n  decade: function decade(input) {\n    if (input !== undefined) {\n      input = String(input);\n      input = input.replace(/([0-9])'?s$/, '$1'); //1950's\n\n      input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n      if (!input) {\n        console.warn('Spacetime: Invalid decade input');\n        return this;\n      } // assume 20th century?? for '70s'.\n\n\n      if (input.length === 2 && /[0-9][0-9]/.test(input)) {\n        input = '19' + input;\n      }\n\n      var year = Number(input);\n\n      if (isNaN(year)) {\n        return this;\n      } // round it down to the decade\n\n\n      year = Math.floor(year / 10) * 10;\n      return this.year(year); //.startOf('decade')\n    }\n\n    return this.startOf('decade').year();\n  },\n  // 1950 -> 19+1\n  century: function century(input) {\n    if (input !== undefined) {\n      if (typeof input === 'string') {\n        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n        input = input.replace(/([0-9]+) ?(b\\.?c\\.?|a\\.?d\\.?)/i, function (a, b, c) {\n          if (c.match(/b\\.?c\\.?/i)) {\n            b = '-' + b;\n          }\n\n          return b;\n        });\n        input = input.replace(/c$/, ''); //20thC\n      }\n\n      var year = Number(input);\n\n      if (isNaN(input)) {\n        console.warn('Spacetime: Invalid century input');\n        return this;\n      } // there is no century 0\n\n\n      if (year === 0) {\n        year = 1;\n      }\n\n      if (year >= 0) {\n        year = (year - 1) * 100;\n      } else {\n        year = (year + 1) * 100;\n      }\n\n      return this.year(year);\n    } // century getter\n\n\n    var num = this.startOf('century').year();\n    num = Math.floor(num / 100);\n\n    if (num < 0) {\n      return num - 1;\n    }\n\n    return num + 1;\n  },\n  // 2019 -> 2+1\n  millenium: function millenium(input) {\n    if (input !== undefined) {\n      if (typeof input === 'string') {\n        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n        input = Number(input);\n\n        if (isNaN(input)) {\n          console.warn('Spacetime: Invalid millenium input');\n          return this;\n        }\n      }\n\n      if (input > 0) {\n        input -= 1;\n      }\n\n      var year = input * 1000; // there is no year 0\n\n      if (year === 0) {\n        year = 1;\n      }\n\n      return this.year(year);\n    } // get the current millenium\n\n\n    var num = Math.floor(this.year() / 1000);\n\n    if (num >= 0) {\n      num += 1;\n    }\n\n    return num;\n  }\n};\nvar _03Year = methods$3;\n\nvar methods$4 = Object.assign({}, _01Time, _02Date, _03Year); //aliases\n\nmethods$4.milliseconds = methods$4.millisecond;\nmethods$4.seconds = methods$4.second;\nmethods$4.minutes = methods$4.minute;\nmethods$4.hours = methods$4.hour;\nmethods$4.hour24 = methods$4.hour;\nmethods$4.h12 = methods$4.hour12;\nmethods$4.h24 = methods$4.hour24;\nmethods$4.days = methods$4.day;\n\nvar addMethods = function addMethods(Space) {\n  //hook the methods into prototype\n  Object.keys(methods$4).forEach(function (k) {\n    Space.prototype[k] = methods$4[k];\n  });\n};\n\nvar query = addMethods;\n\nvar isLeapYear$2 = fns.isLeapYear;\n\nvar getMonthLength = function getMonthLength(month, year) {\n  if (month === 1 && isLeapYear$2(year)) {\n    return 29;\n  }\n\n  return monthLengths_1[month];\n}; //month is the one thing we 'model/compute'\n//- because ms-shifting can be off by enough\n\n\nvar rollMonth = function rollMonth(want, old) {\n  //increment year\n  if (want.month > 0) {\n    var years = parseInt(want.month / 12, 10);\n    want.year = old.year() + years;\n    want.month = want.month % 12;\n  } else if (want.month < 0) {\n    //decrement year\n    var _years = Math.floor(Math.abs(want.month) / 13, 10);\n\n    _years = Math.abs(_years) + 1;\n    want.year = old.year() - _years; //ignore extras\n\n    want.month = want.month % 12;\n    want.month = want.month + 12;\n\n    if (want.month === 12) {\n      want.month = 0;\n    }\n  }\n\n  return want;\n}; // briefly support day=-2 (this does not need to be perfect.)\n\n\nvar rollDaysDown = function rollDaysDown(want, old, sum) {\n  want.year = old.year();\n  want.month = old.month();\n  var date = old.date();\n  want.date = date - Math.abs(sum);\n\n  while (want.date < 1) {\n    want.month -= 1;\n\n    if (want.month < 0) {\n      want.month = 11;\n      want.year -= 1;\n    }\n\n    var max = getMonthLength(want.month, want.year);\n    want.date += max;\n  }\n\n  return want;\n}; // briefly support day=33 (this does not need to be perfect.)\n\n\nvar rollDaysUp = function rollDaysUp(want, old, sum) {\n  var year = old.year();\n  var month = old.month();\n  var max = getMonthLength(month, year);\n\n  while (sum > max) {\n    sum -= max;\n    month += 1;\n\n    if (month >= 12) {\n      month -= 12;\n      year += 1;\n    }\n\n    max = getMonthLength(month, year);\n  }\n\n  want.month = month;\n  want.date = sum;\n  return want;\n};\n\nvar _model = {\n  months: rollMonth,\n  days: rollDaysUp,\n  daysBack: rollDaysDown\n};\n\n// but briefly:\n// millisecond-math, and some post-processing covers most-things\n// we 'model' the calendar here only a little bit\n// and that usually works-out...\n\nvar order$1 = ['millisecond', 'second', 'minute', 'hour', 'date', 'month'];\nvar keep = {\n  second: order$1.slice(0, 1),\n  minute: order$1.slice(0, 2),\n  quarterhour: order$1.slice(0, 2),\n  hour: order$1.slice(0, 3),\n  date: order$1.slice(0, 4),\n  month: order$1.slice(0, 4),\n  quarter: order$1.slice(0, 4),\n  season: order$1.slice(0, 4),\n  year: order$1,\n  decade: order$1,\n  century: order$1\n};\nkeep.week = keep.hour;\nkeep.season = keep.date;\nkeep.quarter = keep.date; // Units need to be dst adjuested\n\nvar dstAwareUnits = {\n  year: true,\n  quarter: true,\n  season: true,\n  month: true,\n  week: true,\n  day: true\n};\nvar keepDate = {\n  month: true,\n  quarter: true,\n  season: true,\n  year: true\n};\n\nvar addMethods$1 = function addMethods(SpaceTime) {\n  SpaceTime.prototype.add = function (num, unit) {\n    var s = this.clone();\n\n    if (!unit || num === 0) {\n      return s; //don't bother\n    }\n\n    var old = this.clone();\n    unit = fns.normalize(unit); // support 'fortnight' alias\n\n    if (unit === 'fortnight') {\n      num *= 2;\n      unit = 'week';\n    } //move forward by the estimated milliseconds (rough)\n\n\n    if (milliseconds[unit]) {\n      s.epoch += milliseconds[unit] * num;\n    } else if (unit === 'week') {\n      s.epoch += milliseconds.day * (num * 7);\n    } else if (unit === 'quarter' || unit === 'season') {\n      s.epoch += milliseconds.month * (num * 4);\n    } else if (unit === 'season') {\n      s.epoch += milliseconds.month * (num * 4);\n    } else if (unit === 'quarterhour') {\n      s.epoch += milliseconds.minute * 15 * num;\n    } //now ensure our milliseconds/etc are in-line\n\n\n    var want = {};\n\n    if (keep[unit]) {\n      keep[unit].forEach(function (u) {\n        want[u] = old[u]();\n      });\n    }\n\n    if (dstAwareUnits[unit]) {\n      var diff = old.timezone().current.offset - s.timezone().current.offset;\n      s.epoch += diff * 3600 * 1000;\n    } //ensure month/year has ticked-over\n\n\n    if (unit === 'month') {\n      want.month = old.month() + num; //month is the one unit we 'model' directly\n\n      want = _model.months(want, old);\n    } //support coercing a week, too\n\n\n    if (unit === 'week') {\n      var sum = old.date() + num * 7;\n\n      if (sum <= 28 && sum > 1) {\n        want.date = sum;\n      }\n    } //support 25-hour day-changes on dst-changes\n    else if (unit === 'date') {\n        if (num < 0) {\n          want = _model.daysBack(want, old, num);\n        } else {\n          //specify a naive date number, if it's easy to do...\n          var _sum = old.date() + num; // ok, model this one too\n\n\n          want = _model.days(want, old, _sum);\n        } //manually punt it if we haven't moved at all..\n\n\n        if (num !== 0 && old.isSame(s, 'day')) {\n          want.date = old.date() + num;\n        }\n      } //ensure year has changed (leap-years)\n      else if (unit === 'year') {\n          var wantYear = old.year() + num;\n          var haveYear = s.year();\n\n          if (haveYear < wantYear) {\n            s.epoch += milliseconds.day;\n          } else if (haveYear > wantYear) {\n            s.epoch += milliseconds.day;\n          }\n        } //these are easier\n        else if (unit === 'decade') {\n            want.year = s.year() + 10;\n          } else if (unit === 'century') {\n            want.year = s.year() + 100;\n          } //keep current date, unless the month doesn't have it.\n\n\n    if (keepDate[unit]) {\n      var max = monthLengths_1[want.month];\n      want.date = old.date();\n\n      if (want.date > max) {\n        want.date = max;\n      }\n    }\n\n    walk_1(s, want);\n    return s;\n  }; //subtract is only add *-1\n\n\n  SpaceTime.prototype.subtract = function (num, unit) {\n    var s = this.clone();\n    return s.add(num * -1, unit);\n  }; //add aliases\n\n\n  SpaceTime.prototype.minus = SpaceTime.prototype.subtract;\n  SpaceTime.prototype.plus = SpaceTime.prototype.add;\n};\n\nvar add = addMethods$1;\n\n//make a string, for easy comparison between dates\nvar print = {\n  millisecond: function millisecond(s) {\n    return s.epoch;\n  },\n  second: function second(s) {\n    return [s.year(), s.month(), s.date(), s.hour(), s.minute(), s.second()].join('-');\n  },\n  minute: function minute(s) {\n    return [s.year(), s.month(), s.date(), s.hour(), s.minute()].join('-');\n  },\n  hour: function hour(s) {\n    return [s.year(), s.month(), s.date(), s.hour()].join('-');\n  },\n  day: function day(s) {\n    return [s.year(), s.month(), s.date()].join('-');\n  },\n  week: function week(s) {\n    return [s.year(), s.week()].join('-');\n  },\n  month: function month(s) {\n    return [s.year(), s.month()].join('-');\n  },\n  quarter: function quarter(s) {\n    return [s.year(), s.quarter()].join('-');\n  },\n  year: function year(s) {\n    return s.year();\n  }\n};\nprint.date = print.day;\n\nvar addMethods$2 = function addMethods(SpaceTime) {\n  SpaceTime.prototype.isSame = function (b, unit) {\n    var tzAware = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var a = this;\n\n    if (!unit) {\n      return null;\n    }\n\n    if (typeof b === 'string' || typeof b === 'number') {\n      b = new SpaceTime(b, this.timezone.name);\n    } //support 'seconds' aswell as 'second'\n\n\n    unit = unit.replace(/s$/, ''); // make them the same timezone for proper comparison\n\n    if (tzAware === true && a.tz !== b.tz) {\n      b = b.clone();\n      b.tz = a.tz;\n    }\n\n    if (print[unit]) {\n      return print[unit](a) === print[unit](b);\n    }\n\n    return null;\n  };\n};\n\nvar same = addMethods$2;\n\nvar addMethods$3 = function addMethods(SpaceTime) {\n  var methods = {\n    isAfter: function isAfter(d) {\n      d = fns.beADate(d, this);\n      var epoch = fns.getEpoch(d);\n\n      if (epoch === null) {\n        return null;\n      }\n\n      return this.epoch > epoch;\n    },\n    isBefore: function isBefore(d) {\n      d = fns.beADate(d, this);\n      var epoch = fns.getEpoch(d);\n\n      if (epoch === null) {\n        return null;\n      }\n\n      return this.epoch < epoch;\n    },\n    isEqual: function isEqual(d) {\n      d = fns.beADate(d, this);\n      var epoch = fns.getEpoch(d);\n\n      if (epoch === null) {\n        return null;\n      }\n\n      return this.epoch === epoch;\n    },\n    isBetween: function isBetween(start, end) {\n      var isInclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      start = fns.beADate(start, this);\n      end = fns.beADate(end, this);\n      var startEpoch = fns.getEpoch(start);\n\n      if (startEpoch === null) {\n        return null;\n      }\n\n      var endEpoch = fns.getEpoch(end);\n\n      if (endEpoch === null) {\n        return null;\n      }\n\n      if (isInclusive) {\n        return this.isBetween(start, end) || this.isEqual(start) || this.isEqual(end);\n      }\n\n      return startEpoch < this.epoch && this.epoch < endEpoch;\n    }\n  }; //hook them into proto\n\n  Object.keys(methods).forEach(function (k) {\n    SpaceTime.prototype[k] = methods[k];\n  });\n};\n\nvar compare = addMethods$3;\n\nvar addMethods$4 = function addMethods(SpaceTime) {\n  var methods = {\n    i18n: function i18n(data) {\n      //change the day names\n      if (fns.isObject(data.days)) {\n        days.set(data.days);\n      } //change the month names\n\n\n      if (fns.isObject(data.months)) {\n        months.set(data.months);\n      }\n    }\n  }; //hook them into proto\n\n  Object.keys(methods).forEach(function (k) {\n    SpaceTime.prototype[k] = methods[k];\n  });\n};\n\nvar i18n = addMethods$4;\n\nvar timezones = unpack; //fake timezone-support, for fakers (es5 class)\n\nvar SpaceTime = function SpaceTime(input$1, tz) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  //the holy moment\n  this.epoch = null; //the shift for the given timezone\n\n  this.tz = find(tz, timezones); //whether to output warnings to console\n\n  this.silent = options.silent || true; // favour british interpretation of 02/02/2018, etc\n\n  this.british = options.dmy || options.british; //does the week start on sunday, or monday:\n\n  this._weekStart = 1; //default to monday\n\n  if (options.weekStart !== undefined) {\n    this._weekStart = options.weekStart;\n  } // the reference today date object, (for testing)\n\n\n  this._today = {};\n\n  if (options.today !== undefined) {\n    this._today = options.today;\n  } //add getter/setters\n\n\n  Object.defineProperty(this, 'd', {\n    //return a js date object\n    get: function get() {\n      var offset = quick(this); //every computer is somewhere- get this computer's built-in offset\n\n      var bias = new Date(this.epoch).getTimezoneOffset() || 0; //movement\n\n      var shift = bias + offset * 60; //in minutes\n\n      shift = shift * 60 * 1000; //in ms\n      //remove this computer's offset\n\n      var epoch = this.epoch + shift;\n      var d = new Date(epoch);\n      return d;\n    }\n  }); //add this data on the object, to allow adding new timezones\n\n  Object.defineProperty(this, 'timezones', {\n    get: function get() {\n      return timezones;\n    },\n    set: function set(obj) {\n      timezones = obj;\n      return obj;\n    }\n  }); //parse the various formats\n\n  var tmp = input(this, input$1, tz);\n  this.epoch = tmp.epoch;\n}; //(add instance methods to prototype)\n\n\nObject.keys(methods_1).forEach(function (k) {\n  SpaceTime.prototype[k] = methods_1[k];\n}); // ¯\\_(ツ)_/¯\n\nSpaceTime.prototype.clone = function () {\n  return new SpaceTime(this.epoch, this.tz, {\n    silent: this.silent,\n    weekStart: this._weekStart,\n    today: this._today\n  });\n}; //return native date object at the same epoch\n\n\nSpaceTime.prototype.toLocalDate = function () {\n  return new Date(this.epoch);\n}; //append more methods\n\n\nquery(SpaceTime);\nadd(SpaceTime);\nsame(SpaceTime);\ncompare(SpaceTime);\ni18n(SpaceTime);\nvar spacetime = SpaceTime;\n\nvar whereIts = function whereIts(a, b) {\n  var start = new spacetime(null);\n  var end = new spacetime(null);\n  start = start.time(a); //if b is undefined, use as 'within one hour'\n\n  if (b) {\n    end = end.time(b);\n  } else {\n    end = start.add(59, 'minutes');\n  }\n\n  var startHour = start.hour();\n  var endHour = end.hour();\n  var tzs = Object.keys(start.timezones).filter(function (tz) {\n    if (tz.indexOf('/') === -1) {\n      return false;\n    }\n\n    var m = new spacetime(null, tz);\n    var hour = m.hour(); //do 'calendar-compare' not real-time-compare\n\n    if (hour >= startHour && hour <= endHour) {\n      //test minutes too, if applicable\n      if (hour === startHour && m.minute() < start.minute()) {\n        return false;\n      }\n\n      if (hour === endHour && m.minute() > end.minute()) {\n        return false;\n      }\n\n      return true;\n    }\n\n    return false;\n  });\n  return tzs;\n};\n\nvar whereIts_1 = whereIts;\n\nvar _version = '6.12.0';\n\nvar main$1 = function main(input, tz, options) {\n  return new spacetime(input, tz, options);\n}; // set all properties of a given 'today' object\n\n\nvar setToday = function setToday(s) {\n  var today = s._today || {};\n  Object.keys(today).forEach(function (k) {\n    s = s[k](today[k]);\n  });\n  return s;\n}; //some helper functions on the main method\n\n\nmain$1.now = function (tz, options) {\n  var s = new spacetime(new Date().getTime(), tz, options);\n  s = setToday(s);\n  return s;\n};\n\nmain$1.today = function (tz, options) {\n  var s = new spacetime(new Date().getTime(), tz, options);\n  s = setToday(s);\n  return s.startOf('day');\n};\n\nmain$1.tomorrow = function (tz, options) {\n  var s = new spacetime(new Date().getTime(), tz, options);\n  s = setToday(s);\n  return s.add(1, 'day').startOf('day');\n};\n\nmain$1.yesterday = function (tz, options) {\n  var s = new spacetime(new Date().getTime(), tz, options);\n  s = setToday(s);\n  return s.subtract(1, 'day').startOf('day');\n};\n\nmain$1.extend = function (obj) {\n  Object.keys(obj).forEach(function (k) {\n    spacetime.prototype[k] = obj[k];\n  });\n  return this;\n}; //find tz by time\n\n\nmain$1.whereIts = whereIts_1;\nmain$1.version = _version; //aliases:\n\nmain$1.plugin = main$1.extend;\nvar src = main$1;\n\nexport default src;\n","// some opinionated-but-common-sense timezone abbreviations\n// these timezone abbreviations are wholly made-up by me, Spencer Kelly, with no expertise in geography\n// generated humbly from https://github.com/spencermountain/spacetime-informal\nconst spacetime = require('spacetime')\n\nconst america = 'America/'\nconst asia = 'Asia/'\nconst europe = 'Europe/'\nconst africa = 'Africa/'\nconst aus = 'Australia/'\nconst pac = 'Pacific/'\n\nconst informal = {\n  //europe\n  'british summer time': europe + 'London',\n  bst: europe + 'London',\n  'british time': europe + 'London',\n  'britain time': europe + 'London',\n  'irish summer time': europe + 'Dublin',\n  'irish time': europe + 'Dublin',\n  ireland: europe + 'Dublin',\n  'central european time': europe + 'Berlin',\n  cet: europe + 'Berlin',\n  'central european summer time': europe + 'Berlin',\n  cest: europe + 'Berlin',\n  'central europe': europe + 'Berlin',\n  'eastern european time': europe + 'Riga',\n  eet: europe + 'Riga',\n  'eastern european summer time': europe + 'Riga',\n  eest: europe + 'Riga',\n  'eastern europe time': europe + 'Riga',\n  'western european time': europe + 'Lisbon',\n  // wet: europe+'Lisbon',\n  'western european summer time': europe + 'Lisbon',\n  // west: europe+'Lisbon',\n  'western europe': europe + 'Lisbon',\n  'turkey standard time': europe + 'Istanbul',\n  trt: europe + 'Istanbul',\n  'turkish time': europe + 'Istanbul',\n\n  //africa\n  etc: africa + 'Freetown',\n  utc: africa + 'Freetown',\n  'greenwich standard time': africa + 'Freetown',\n  gmt: africa + 'Freetown',\n  'east africa time': africa + 'Nairobi',\n  // eat: africa+'Nairobi',\n  'east african time': africa + 'Nairobi',\n  'eastern africa time': africa + 'Nairobi',\n  'central africa time': africa + 'Khartoum',\n  // cat: africa+'Khartoum',\n  'central african time': africa + 'Khartoum',\n  'south africa standard time': africa + 'Johannesburg',\n  sast: africa + 'Johannesburg',\n  'southern africa': africa + 'Johannesburg',\n  'south african': africa + 'Johannesburg',\n  'west africa standard time': africa + 'Lagos',\n  // wat: africa+'Lagos',\n  'western africa time': africa + 'Lagos',\n  'west african time': africa + 'Lagos',\n\n  'australian central standard time': aus + 'Adelaide',\n  acst: aus + 'Adelaide',\n  'australian central daylight time': aus + 'Adelaide',\n  acdt: aus + 'Adelaide',\n  'australia central': aus + 'Adelaide',\n  'australian eastern standard time': aus + 'Brisbane',\n  aest: aus + 'Brisbane',\n  'australian eastern daylight time': aus + 'Brisbane',\n  aedt: aus + 'Brisbane',\n  'australia east': aus + 'Brisbane',\n  'australian western standard time': aus + 'Perth',\n  awst: aus + 'Perth',\n  'australian western daylight time': aus + 'Perth',\n  awdt: aus + 'Perth',\n  'australia west': aus + 'Perth',\n  'australian central western standard time': aus + 'Eucla',\n  acwst: aus + 'Eucla',\n  'australia central west': aus + 'Eucla',\n  'lord howe standard time': aus + 'Lord_Howe',\n  lhst: aus + 'Lord_Howe',\n  'lord howe daylight time': aus + 'Lord_Howe',\n  lhdt: aus + 'Lord_Howe',\n  'russian standard time': europe + 'Moscow',\n  msk: europe + 'Moscow',\n  russian: europe + 'Moscow',\n\n  //america\n  'central standard time': america + 'Chicago',\n  'central time': america + 'Chicago',\n  cst: america + 'Havana',\n  'central daylight time': america + 'Chicago',\n  cdt: america + 'Havana',\n  'mountain standard time': america + 'Denver',\n  'mountain time': america + 'Denver',\n  mst: america + 'Denver',\n  'mountain daylight time': america + 'Denver',\n  mdt: america + 'Denver',\n  'atlantic standard time': america + 'Halifax',\n  'atlantic time': america + 'Halifax',\n  ast: asia + 'Baghdad',\n  'atlantic daylight time': america + 'Halifax',\n  adt: america + 'Halifax',\n  'eastern standard time': america + 'New_York',\n  'eastern time': america + 'New_York',\n  est: america + 'New_York',\n  'eastern daylight time': america + 'New_York',\n  edt: america + 'New_York',\n  'pacific time': america + 'Los_Angeles',\n  'pacific standard time': america + 'Los_Angeles',\n  pst: america + 'Los_Angeles',\n  'pacific daylight time': america + 'Los_Angeles',\n  pdt: america + 'Los_Angeles',\n  'alaskan standard time': america + 'Anchorage',\n  'alaskan time': america + 'Anchorage',\n  ahst: america + 'Anchorage',\n  'alaskan daylight time': america + 'Anchorage',\n  ahdt: america + 'Anchorage',\n  'hawaiian standard time': pac + 'Honolulu',\n  'hawaiian time': pac + 'Honolulu',\n  hst: pac + 'Honolulu',\n  'aleutian time': pac + 'Honolulu',\n  'hawaii time': pac + 'Honolulu',\n  'newfoundland standard time': america + 'St_Johns',\n  'newfoundland time': america + 'St_Johns',\n  nst: america + 'St_Johns',\n  'newfoundland daylight time': america + 'St_Johns',\n  ndt: america + 'St_Johns',\n  'brazil time': america + 'Sao_Paulo',\n  brt: america + 'Sao_Paulo',\n  brasília: america + 'Sao_Paulo',\n  brasilia: america + 'Sao_Paulo',\n  'brazilian time': america + 'Sao_Paulo',\n  'argentina time': america + 'Buenos_Aires',\n  // art: a+'Buenos_Aires',\n  'argentinian time': america + 'Buenos_Aires',\n  'amazon time': america + 'Manaus',\n  amt: america + 'Manaus',\n  'amazonian time': america + 'Manaus',\n  'easter island standard time': 'Chile/Easterisland',\n  east: 'Chile/Easterisland',\n  'easter island summer time': 'Chile/Easterisland',\n  easst: 'Chile/Easterisland',\n  'venezuelan standard time': america + 'Caracas',\n  'venezuelan time': america + 'Caracas',\n  vet: america + 'Caracas',\n  'venezuela time': america + 'Caracas',\n  'paraguay time': america + 'Asuncion',\n  pyt: america + 'Asuncion',\n  'paraguay summer time': america + 'Asuncion',\n  pyst: america + 'Asuncion',\n  'cuba standard time': america + 'Havana',\n  'cuba time': america + 'Havana',\n  'cuba daylight time': america + 'Havana',\n  'cuban time': america + 'Havana',\n  'bolivia time': america + 'La_Paz',\n  // bot: a+'La_Paz',\n  'bolivian time': america + 'La_Paz',\n  'colombia time': america + 'Bogota',\n  cot: america + 'Bogota',\n  'colombian time': america + 'Bogota',\n  'acre time': america + 'Eirunepe',\n  // act: a+'Eirunepe',\n  'peru time': america + 'Lima',\n  // pet: a+'Lima',\n  'chile standard time': america + 'Punta_Arenas',\n  'chile time': america + 'Punta_Arenas',\n  clst: america + 'Punta_Arenas',\n  'chile summer time': america + 'Punta_Arenas',\n  cldt: america + 'Punta_Arenas',\n  'uruguay time': america + 'Montevideo',\n  uyt: america + 'Montevideo',\n\n  //asia\n  ist: asia + 'Jerusalem',\n  'arabic standard time': asia + 'Baghdad',\n  'arabic time': asia + 'Baghdad',\n  'arab time': asia + 'Baghdad',\n  'iran standard time': asia + 'Tehran',\n  'iran time': asia + 'Tehran',\n  irst: asia + 'Tehran',\n  'iran daylight time': asia + 'Tehran',\n  irdt: asia + 'Tehran',\n  iranian: asia + 'Tehran',\n  'pakistan standard time': asia + 'Karachi',\n  'pakistan time': asia + 'Karachi',\n  pkt: asia + 'Karachi',\n  'india standard time': asia + 'Kolkata',\n  'indian time': asia + 'Kolkata',\n  'indochina time': asia + 'Bangkok',\n  ict: asia + 'Bangkok',\n  'south east asia': asia + 'Bangkok',\n  'china standard time': asia + 'Shanghai',\n  ct: asia + 'Shanghai',\n  'chinese time': asia + 'Shanghai',\n  'alma-ata time': asia + 'Almaty',\n  almt: asia + 'Almaty',\n  'oral time': asia + 'Oral',\n  'orat time': asia + 'Oral',\n  'yakutsk time': asia + 'Yakutsk',\n  yakt: asia + 'Yakutsk',\n  'gulf standard time': asia + 'Dubai',\n  'gulf time': asia + 'Dubai',\n  gst: asia + 'Dubai',\n  uae: asia + 'Dubai',\n  'hong kong time': asia + 'Hong_Kong',\n  hkt: asia + 'Hong_Kong',\n  'western indonesian time': asia + 'Jakarta',\n  wib: asia + 'Jakarta',\n  'indonesia time': asia + 'Jakarta',\n  'central indonesian time': asia + 'Makassar',\n  wita: asia + 'Makassar',\n  'israel daylight time': asia + 'Jerusalem',\n  idt: asia + 'Jerusalem',\n  'israel standard time': asia + 'Jerusalem',\n  'israel time': asia + 'Jerusalem',\n  israeli: asia + 'Jerusalem',\n  'krasnoyarsk time': asia + 'Krasnoyarsk',\n  krat: asia + 'Krasnoyarsk',\n  'malaysia time': asia + 'Kuala_Lumpur',\n  myt: asia + 'Kuala_Lumpur',\n  'singapore time': asia + 'Singapore',\n  sgt: asia + 'Singapore',\n  'korea standard time': asia + 'Seoul',\n  'korea time': asia + 'Seoul',\n  kst: asia + 'Seoul',\n  'korean time': asia + 'Seoul',\n  'uzbekistan time': asia + 'Samarkand',\n  uzt: asia + 'Samarkand',\n  'vladivostok time': asia + 'Vladivostok',\n  vlat: asia + 'Vladivostok',\n\n  //indian\n  'maldives time': 'Indian/Maldives',\n  mvt: 'Indian/Maldives',\n  'mauritius time': 'Indian/Mauritius',\n  mut: 'Indian/Mauritius',\n\n  // pacific\n  'marshall islands time': pac + 'Kwajalein',\n  mht: pac + 'Kwajalein',\n  'samoa standard time': pac + 'Midway',\n  sst: pac + 'Midway',\n  'somoan time': pac + 'Midway',\n  'chamorro standard time': pac + 'Guam',\n  chst: pac + 'Guam',\n  'papua new guinea time': pac + 'Bougainville',\n  pgt: pac + 'Bougainville',\n}\n\n//add the official iana zonefile names\nlet iana = spacetime().timezones\nlet formal = Object.keys(iana).reduce((h, k) => {\n  h[k] = k\n  return h\n}, {})\nmodule.exports = Object.assign({}, informal, formal)\n","module.exports = [\n  'weekday',\n\n  'summer',\n  'winter',\n  'autumn',\n\n  'some day',\n  'one day',\n  'all day',\n  'some point',\n\n  'eod',\n  'eom',\n  'eoy',\n  'standard time',\n  'daylight time',\n  'tommorrow',\n]\n","module.exports = [\n  'centuries',\n  'century',\n  'day',\n  'days',\n  'decade',\n  'decades',\n  'hour',\n  'hours',\n  'hr',\n  'hrs',\n  'millisecond',\n  'milliseconds',\n  'minute',\n  'minutes',\n  'min',\n  'mins',\n  'month',\n  'months',\n  'seconds',\n  'sec',\n  'secs',\n  'week end',\n  'week ends',\n  'weekend',\n  'weekends',\n  'week',\n  'weeks',\n  'wk',\n  'wks',\n  'year',\n  'years',\n  'yr',\n  'yrs',\n  'quarter',\n  'quarters',\n  'qtr',\n  'qtrs',\n  'season',\n  'seasons',\n]\n","module.exports = [\n  'all hallows eve',\n  'all saints day',\n  'all sts day',\n  'april fools',\n  'armistice day',\n  'australia day',\n  'bastille day',\n  'boxing day',\n  'canada day',\n  'christmas eve',\n  'christmas',\n  'cinco de mayo',\n  'day of the dead',\n  'dia de muertos',\n  'dieciseis de septiembre',\n  'emancipation day',\n  'grito de dolores',\n  'groundhog day',\n  'halloween',\n  'harvey milk day',\n  'inauguration day',\n  'independence day',\n  'independents day',\n  'juneteenth',\n  'labour day',\n  'national freedom day',\n  'national nurses day',\n  'new years eve',\n  'new years',\n  'purple heart day',\n  'rememberance day',\n  'rosa parks day',\n  'saint andrews day',\n  'saint patricks day',\n  'saint stephens day',\n  'saint valentines day',\n  'st andrews day',\n  'st patricks day',\n  'st stephens day',\n  'st valentines day ',\n  'valentines day',\n  'valentines',\n  'veterans day',\n  'victoria day',\n  'womens equality day',\n  'xmas',\n  // Fixed religious and cultural holidays\n  // Catholic + Christian\n  'epiphany',\n  'orthodox christmas day',\n  'orthodox new year',\n  'assumption of mary',\n  'all souls day',\n  'feast of the immaculate conception',\n  'feast of our lady of guadalupe',\n\n  // Kwanzaa\n  'kwanzaa',\n  // Pagan / metal 🤘\n  'imbolc',\n  'beltaine',\n  'lughnassadh',\n  'samhain',\n  'martin luther king day',\n  'mlk day',\n  'presidents day',\n  'mardi gras',\n  'tax day',\n  'commonwealth day',\n  'mothers day',\n  'memorial day',\n  'fathers day',\n  'columbus day',\n  'indigenous peoples day',\n  'canadian thanksgiving',\n  'election day',\n  'thanksgiving',\n  't-day',\n  'turkey day',\n  'black friday',\n  'cyber monday',\n  // Astronomical religious and cultural holidays\n  'ash wednesday',\n  'palm sunday',\n  'maundy thursday',\n  'good friday',\n  'holy saturday',\n  'easter',\n  'easter sunday',\n  'easter monday',\n  'orthodox good friday',\n  'orthodox holy saturday',\n  'orthodox easter',\n  'orthodox easter monday',\n  'ascension day',\n  'pentecost',\n  'whitsunday',\n  'whit sunday',\n  'whit monday',\n  'trinity sunday',\n  'corpus christi',\n  'advent',\n  // Jewish\n  'tu bishvat',\n  'tu bshevat',\n  'purim',\n  'passover',\n  'yom hashoah',\n  'lag baomer',\n  'shavuot',\n  'tisha bav',\n  'rosh hashana',\n  'yom kippur',\n  'sukkot',\n  'shmini atzeret',\n  'simchat torah',\n  'chanukah',\n  'hanukkah',\n  // Muslim\n  'isra and miraj',\n  'lailat al-qadr',\n  'eid al-fitr',\n  'id al-Fitr',\n  'eid ul-Fitr',\n  'ramadan',\n  'eid al-adha',\n  'muharram',\n  'the prophets birthday',\n  'ostara',\n  'march equinox',\n  'vernal equinox',\n  'litha',\n  'june solistice',\n  'summer solistice',\n  'mabon',\n  'september equinox',\n  'fall equinox',\n  'autumnal equinox',\n  'yule',\n  'december solstice',\n  'winter solstice',\n  // Additional important holidays\n  'chinese new year',\n  'diwali',\n]\n","module.exports = [\n  'noon',\n  'midnight',\n  'now',\n  'morning',\n  'tonight',\n  'evening',\n  'afternoon',\n  'night',\n  'breakfast time',\n  'lunchtime',\n  'dinnertime',\n  'sometime',\n  'midday',\n  'eod',\n  'oclock',\n  'oclock',\n  'all day',\n  'at night',\n]\n","const timezones = require('../_timezones')\nconst data = [\n  [require('./dates'), '#Date'],\n  [require('./durations'), '#Duration'],\n  [require('./holidays'), '#Holiday'],\n  [require('./times'), '#Time'],\n  [Object.keys(timezones), '#Timezone'],\n]\nlet lex = {\n  'a couple': 'Value',\n}\ndata.forEach((a) => {\n  for (let i = 0; i < a[0].length; i++) {\n    lex[a[0][i]] = a[1]\n  }\n})\n\nmodule.exports = lex\n","const knownUnits = {\n  second: true,\n  minute: true,\n  hour: true,\n  day: true,\n  week: true,\n  weekend: true,\n  month: true,\n  season: true,\n  quarter: true,\n  year: true,\n}\n\nconst aliases = {\n  wk: 'week',\n  min: 'minute',\n  sec: 'second',\n  weekend: 'week', //for now...\n}\n\nconst parseUnit = function (m) {\n  let unit = m.match('#Duration').text('normal')\n  unit = unit.replace(/s$/, '')\n  // support shorthands like 'min'\n  if (aliases.hasOwnProperty(unit)) {\n    unit = aliases[unit]\n  }\n  return unit\n}\n\n//turn '5 weeks before' to {weeks:5}\nconst parseShift = function (doc) {\n  let result = {}\n  let shift = doc.match('#DateShift+')\n  if (shift.found === false) {\n    return result\n  }\n  // '5 weeks'\n  shift.match('#Cardinal #Duration').forEach((ts) => {\n    let num = ts.match('#Cardinal').text('normal')\n    num = parseFloat(num)\n    if (num && typeof num === 'number') {\n      let unit = parseUnit(ts)\n      if (knownUnits[unit] === true) {\n        result[unit] = num\n      }\n    }\n  })\n  //is it 2 weeks ago?  → -2\n  if (shift.has('(before|ago|hence|back)$') === true) {\n    Object.keys(result).forEach((k) => (result[k] *= -1))\n  }\n  shift.remove('#Cardinal #Duration')\n  // supoprt '1 day after tomorrow'\n  let m = shift.match('[<unit>#Duration] [<dir>(after|before)]')\n  if (m.found) {\n    let unit = m.groups('unit').text('reduced')\n    // unit = unit.replace(/s$/, '')\n    let dir = m.groups('dir').text('reduced')\n    if (dir === 'after') {\n      result[unit] = 1\n    } else if (dir === 'before') {\n      result[unit] = -1\n    }\n  }\n  // in half an hour\n  m = shift.match('half (a|an) [#Duration]', 0)\n  if (m.found) {\n    let unit = parseUnit(m)\n    result[unit] = 0.5\n  }\n  // finally, remove it from our text\n  doc.remove('#DateShift')\n  return result\n}\nmodule.exports = parseShift\n","/*\na 'counter' is a Unit determined after a point\n  * first hour of x\n  * 7th week in x\n  * last year in x\n  * \nunlike a shift, like \"2 weeks after x\"\n*/\nconst oneBased = {\n  minute: true,\n}\nconst getCounter = function (doc) {\n  // 7th week of\n  let m = doc.match('[<num>#Value] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let num = obj.num.text('reduced')\n    let unit = obj.unit.text('reduced')\n    let found = {\n      unit: unit,\n      num: Number(num) || 0,\n    }\n    // 0-based or 1-based units\n    if (!oneBased[unit]) {\n      found.num -= 1\n    }\n    doc = doc.remove(m)\n    return found\n  }\n  // first week of\n  m = doc.match('[<dir>(first|initial|last|final)] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let dir = obj.dir.text('reduced')\n    let unit = obj.unit.text('reduced')\n    if (dir === 'initial') {\n      dir = 'first'\n    }\n    if (dir === 'final') {\n      dir = 'last'\n    }\n    let found = {\n      unit: unit,\n      dir: dir,\n    }\n    doc = doc.remove(m)\n    return found\n  }\n\n  return {}\n}\nmodule.exports = getCounter\n","const spacetime = require('spacetime')\n\nconst hardCoded = {\n  daybreak: '7:00am', //ergh\n  breakfast: '8:00am',\n  morning: '9:00am',\n  noon: '12:00pm',\n  midday: '12:00pm',\n  afternoon: '2:00pm',\n  lunchtime: '12:00pm',\n  evening: '6:00pm',\n  dinnertime: '6:00pm',\n  night: '8:00pm',\n  eod: '10:00pm',\n  midnight: '12:00am',\n}\n\nconst halfPast = function (m, s) {\n  let hour = m.match('#Cardinal$').text('reduced')\n\n  let term = m.match('(half|quarter|25|15|10|5)')\n  let mins = term.text('reduced')\n  if (term.has('half')) {\n    mins = '30'\n  }\n  if (term.has('quarter')) {\n    mins = '15'\n  }\n  let behind = m.has('to')\n  // apply it\n  s = s.hour(hour)\n  s = s.startOf('hour')\n  // assume 'half past 5' is 5pm\n  if (hour < 6) {\n    s = s.ampm('pm')\n  }\n  if (behind) {\n    s = s.subtract(mins, 'minutes')\n  } else {\n    s = s.add(mins, 'minutes')\n  }\n  return s\n}\n\nconst parseTime = function (doc, context) {\n  let time = doc.match('(at|by|for|before|this)? #Time+')\n  if (time.found) {\n    doc.remove(time)\n  }\n  // get the main part of the time\n  time = time.not('^(at|by|for|before|this)')\n  time = time.not('sharp')\n  time = time.not('on the dot')\n  let s = spacetime.now(context.timezone)\n  let now = s.clone()\n\n  // check for known-times (like 'today')\n  let timeStr = time.text('reduced')\n  if (hardCoded.hasOwnProperty(timeStr)) {\n    return hardCoded[timeStr]\n  }\n\n  // '5 oclock'\n  let m = time.match('^#Cardinal oclock (am|pm)?')\n  if (m.found) {\n    m = m.not('oclock')\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n\n  // 'quarter to two'\n  m = time.match('(half|quarter|25|15|10|5) (past|after|to) #Cardinal')\n  if (m.found) {\n    s = halfPast(m, s)\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n  // '4 in the evening'\n  m = time.match('[<time>#Time] (in|at) the? [<desc>(morning|evening|night|nighttime)]')\n  if (m.found) {\n    let str = m.groups('time').text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3 in the morning\n    } else {\n      s = s.time(str) // 3:30 in the morning\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = m.groups('desc').text('reduced')\n      if (desc === 'evening' || desc === 'night') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'this morning at 4'\n  m = time.match('this? [<desc>(morning|evening|tonight)] at [<time>(#Cardinal|#Time)]')\n  if (m.found) {\n    let g = m.groups()\n    let str = g.time.text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3\n      s = s.startOf('hour')\n    } else {\n      s = s.time(str) // 3:30\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = g.desc.text('reduced')\n      if (desc === 'morning') {\n        s = s.ampm('am')\n      }\n      if (desc === 'evening' || desc === 'tonight') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'at 4' -> '4'\n  m = time.match('^#Cardinal$')\n  if (m.found) {\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n\n  // parse random a time like '4:54pm'\n  let str = time.text('reduced')\n  s = s.time(str)\n  if (s.isValid() && !s.isEqual(now)) {\n    return s.time()\n  }\n  return null\n}\nmodule.exports = parseTime\n","// interpret 'this halloween' or 'next june'\nconst parseRelative = function (doc) {\n  // avoid parsing 'last month of 2019'\n  // if (doc.has('^(this|current|next|upcoming|last|previous) #Duration')) {\n  //   return null\n  // }\n  // parse 'this evening'\n  // let m = doc.match('^(next|last|this)$')\n  // if (m.found) {\n  //   doc.remove(m)\n  //   return doc.text('reduced')\n  // }\n  // but avoid parsing 'day after next'\n  if (doc.has('(next|last|this)$')) {\n    return null\n  }\n  let rel = null\n  let m = doc.match('^this? (next|upcoming|coming)')\n  if (m.found) {\n    rel = 'next'\n    doc.remove(m)\n  }\n  m = doc.match('^this? (last|previous)')\n  if (m.found) {\n    rel = 'last'\n    doc.remove(m)\n  }\n  m = doc.match('^(this|current)')\n  if (m.found) {\n    rel = 'this'\n    doc.remove(m)\n  }\n  // finally, remove it from our text\n  // doc.remove('^(this|current|next|upcoming|last|previous)')\n\n  return rel\n}\nmodule.exports = parseRelative\n","// 'start of october', 'middle of june 1st'\nconst parseSection = function (doc) {\n  // start of 2019\n  let m = doc.match('[(start|beginning) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'start'\n  }\n  // end of 2019\n  m = doc.match('[end of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'end'\n  }\n  // middle of 2019\n  m = doc.match('[(middle|midpoint|center) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'middle'\n  }\n  return null\n}\nmodule.exports = parseSection\n","const informal = require('../../data/_timezones')\n\nconst isOffset = /(\\-?[0-9]+)h(rs)?/i\nconst isNumber = /(\\-?[0-9]+)/\nconst utcOffset = /utc([\\-+]?[0-9]+)/i\nconst gmtOffset = /gmt([\\-+]?[0-9]+)/i\n\nconst toIana = function(num) {\n  num = Number(num)\n  if (num > -13 && num < 13) {\n    num = num * -1 //it's opposite!\n    num = (num > 0 ? '+' : '') + num //add plus sign\n    return 'Etc/GMT' + num\n  }\n  return null\n}\n\nconst parseOffset = function(tz) {\n  // '+5hrs'\n  let m = tz.match(isOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'utc+5'\n  m = tz.match(utcOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'GMT-5' (not opposite)\n  m = tz.match(gmtOffset)\n  if (m !== null) {\n    let num = Number(m[1]) * -1\n    return toIana(num)\n  }\n  // '+5'\n  m = tz.match(isNumber)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  return null\n}\n\nconst parseTimezone = function(doc) {\n  let m = doc.match('#Timezone+')\n  //remove prepositions\n  m = m.remove('(in|for|by|near|at)')\n  let str = m.text('reduced')\n\n  // remove it from our doc, either way\n  doc.remove('#Timezone+')\n\n  // check our list of informal tz names\n  if (informal.hasOwnProperty(str)) {\n    return informal[str]\n  }\n  let tz = parseOffset(str)\n  if (tz) {\n    return tz\n  }\n\n  return null\n}\nmodule.exports = parseTimezone\n","const spacetime = require('spacetime')\n\nclass Unit {\n  constructor(input, unit, context, keepTime) {\n    this.unit = unit || 'day'\n    context = context || {}\n    let today = {}\n    if (context.today) {\n      today = {\n        date: context.today.date(),\n        month: context.today.month(),\n        year: context.today.year(),\n      }\n    }\n    // set it to the beginning of the given unit\n    let d = spacetime(input, context.timezone, { today: today })\n\n    // set to beginning\n    // if (d.isValid() && keepTime !== true) {\n    //   d = d.startOf(this.unit)\n    // }\n    Object.defineProperty(this, 'd', {\n      enumerable: false,\n      writable: true,\n      value: d,\n    })\n    Object.defineProperty(this, 'context', {\n      enumerable: false,\n      writable: true,\n      value: context,\n    })\n  }\n  // make a new one\n  clone() {\n    let d = new Unit(this.d, this.unit, this.context)\n    return d\n  }\n  log() {\n    console.log('--')\n    this.d.log()\n    console.log('\\n')\n    return this\n  }\n  applyShift(obj = {}) {\n    Object.keys(obj).forEach((unit) => {\n      this.d = this.d.add(obj[unit], unit)\n    })\n    return this\n  }\n  applyTime(str) {\n    if (str) {\n      this.d = this.d.time(str)\n    } else {\n      this.d = this.d.startOf('day') //zero-out time\n    }\n    return this\n  }\n  applyRel(rel) {\n    if (rel === 'next') {\n      return this.next()\n    }\n    if (rel === 'last') {\n      return this.last()\n    }\n    return this\n  }\n  applySection(section) {\n    if (section === 'start') {\n      return this.start()\n    }\n    if (section === 'end') {\n      return this.end()\n    }\n    if (section === 'middle') {\n      return this.middle()\n    }\n    return this\n  }\n  format(fmt) {\n    return this.d.format(fmt)\n  }\n  start() {\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  end() {\n    this.d = this.d.endOf(this.unit)\n    return this\n  }\n  middle() {\n    let diff = this.d.diff(this.d.endOf(this.unit))\n    let minutes = Math.round(diff.minutes / 2)\n    this.d = this.d.add(minutes, 'minutes')\n    return this\n  }\n  // the millescond before\n  before() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.endOf(this.unit)\n    return this\n  }\n  // 'after 2019'\n  after() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'next june' 'next tuesday'\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'last june' 'last tuesday'\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nmodule.exports = Unit\n","const spacetime = require('spacetime')\nconst Unit = require('./Unit')\n\nclass Day extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n}\n\n// like 'feb 2'\nclass CalendarDate extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    return this\n  }\n}\n\nclass WeekDay extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    // is the input just a weekday?\n    if (typeof input === 'string') {\n      this.d = spacetime(context.today, context.timezone)\n      this.d = this.d.day(input)\n      // assume a wednesday in the future\n      if (this.d.isBefore(context.today)) {\n        this.d = this.d.add(7, 'days')\n      }\n    } else {\n      this.d = input\n    }\n    this.weekDay = this.d.dayName()\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  clone() {\n    //overloaded method\n    return new WeekDay(this.d, this.unit, this.context)\n  }\n  end() {\n    //overloaded method\n    this.d = this.d.endOf('day')\n    return this\n  }\n  next() {\n    this.d = this.d.add(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n}\n\n// like 'haloween'\nclass Holiday extends CalendarDate {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n}\n\nmodule.exports = {\n  Day: Day,\n  WeekDay: WeekDay,\n  CalendarDate: CalendarDate,\n  Holiday: Holiday,\n}\n","const Unit = require('./Unit')\n\n// a specific month, like 'March'\nclass AnyMonth extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n}\n\n// a specific month, like 'March'\nclass Month extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n}\nclass AnyQuarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  last() {\n    console.log(this.d.format())\n    this.d = this.d.minus(1, 'quarter')\n    console.log(this.d.format())\n    this.d = this.d.startOf(this.unit)\n    console.log(this.d.format())\n    return this\n  }\n}\n\nclass Quarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Season extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'season'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Year extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'year'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('year')\n    }\n  }\n}\n\nmodule.exports = {\n  AnyMonth: AnyMonth,\n  Month: Month,\n  Quarter: Quarter,\n  AnyQuarter: AnyQuarter,\n  Season: Season,\n  Year: Year,\n}\n","const Unit = require('./Unit')\n\nclass Week extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('week')\n    }\n  }\n}\n\n//may need some work\nclass WeekEnd extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.day('saturday')\n      this.d = this.d.startOf('day')\n    }\n  }\n  start() {\n    this.d = this.d.day('saturday').startOf('day')\n    return this\n  }\n  // end() {\n  //   this.d = this.d.day('sunday').endOf('day')\n  //   return this\n  // }\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n}\n\nmodule.exports = {\n  Week: Week,\n  WeekEnd: WeekEnd,\n}\n","const Unit = require('./Unit')\n\nclass Hour extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'hour'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('hour')\n    }\n  }\n}\nclass Minute extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'minute'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('minute')\n    }\n  }\n}\nclass Moment extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'millisecond'\n  }\n}\n\nmodule.exports = {\n  Hour: Hour,\n  Minute: Minute,\n  Moment: Moment,\n}\n","module.exports = Object.assign(\n  { Unit: require('./Unit') },\n  require('./_day'),\n  require('./_year'),\n  require('./_week'),\n  require('./_time')\n)\n","const { Day, Moment, Hour } = require('../units')\n\nconst knownWord = {\n  today: (context) => {\n    return new Day(context.today, null, context)\n  },\n  yesterday: (context) => {\n    return new Day(context.today.minus(1, 'day'), null, context)\n  },\n  tomorrow: (context) => {\n    return new Day(context.today.plus(1, 'day'), null, context)\n  },\n  eom: (context) => {\n    let d = context.today.endOf('month')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n  // eod: (context) => {\n  //   let d = context.today.endOf('day')\n  //   d = d.startOf('hour').minus(4, 'hours') //rough\n  //   return new Hour(d, null, context)\n  // },\n  eoy: (context) => {\n    let d = context.today.endOf('year')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n}\nknownWord.tommorrow = knownWord.tomorrow\nknownWord.tmrw = knownWord.tomorrow\n\nconst today = function (doc, context, section) {\n  let unit = null\n  // is it empty?\n  if (doc.found === false) {\n    // do we have just a time?\n    if (section.time !== null) {\n      unit = new Moment(context.today, null, context) // choose today\n    }\n    //do we just have a shift?\n    if (Object.keys(section.shift).length > 0) {\n      if (section.shift.hour || section.shift.minute) {\n        unit = new Moment(context.today, null, context) // choose now\n      } else {\n        unit = new Day(context.today, null, context) // choose today\n      }\n    }\n  }\n\n  // today, yesterday, tomorrow\n  let str = doc.text('reduced')\n  if (knownWord.hasOwnProperty(str) === true) {\n    return knownWord[str](context)\n  }\n  // day after next\n  if (str === 'next' && Object.keys(section.shift).length > 0) {\n    return knownWord.tomorrow(context)\n  }\n  return unit\n}\nmodule.exports = today\n","import spacetime from 'spacetime';\n\n//yep,\nconst jan = 'january';\nconst feb = 'february';\nconst mar = 'march';\nconst apr = 'april';\nconst may = 'may';\nconst jun = 'june';\nconst jul = 'july';\nconst aug = 'august';\nconst sep = 'september';\nconst oct = 'october';\nconst nov = 'november';\nconst dec = 'december';\n\nvar fixedHolidays = {\n  'new years eve': [dec, 31],\n  'new years': [jan, 1],\n  'new years day': [jan, 1],\n  'inauguration day': [jan, 20],\n  'australia day': [jan, 26],\n  'national freedom day': [feb, 1],\n  'groundhog day': [feb, 2],\n  'rosa parks day': [feb, 4],\n  'valentines day': [feb, 14],\n  'saint valentines day': [feb, 14],\n  'st valentines day ': [feb, 14],\n  'saint patricks day': [mar, 17],\n  'st patricks day': [mar, 17],\n  'april fools': [apr, 1],\n  'april fools day': [apr, 1],\n  'emancipation day': [apr, 16],\n  'tax day': [apr, 15], //US\n  'labour day': [may, 1],\n  'cinco de mayo': [may, 5],\n  'national nurses day': [may, 6],\n  'harvey milk day': [may, 22],\n  'victoria day': [may, 24],\n  juneteenth: [jun, 19],\n  'canada day': [jul, 1],\n  'independence day': [jul, 4],\n  'independents day': [jul, 4],\n  'bastille day': [jul, 14],\n  'purple heart day': [aug, 7],\n  'womens equality day': [aug, 26],\n  '16 de septiembre': [sep, 16],\n  'dieciseis de septiembre': [sep, 16],\n  'grito de dolores': [sep, 16],\n  halloween: [oct, 31],\n  'all hallows eve': [oct, 31],\n  'day of the dead': [oct, 31], // Ranged holiday [nov, 2],\n  'dia de muertos': [oct, 31], // Ranged holiday [nov, 2],\n  'veterans day': [nov, 11],\n  'st andrews day': [nov, 30],\n  'saint andrews day': [nov, 30],\n  'all saints day': [nov, 1],\n  'all sts day': [nov, 1],\n  'armistice day': [nov, 11],\n  'rememberance day': [nov, 11],\n  'christmas eve': [dec, 24],\n  christmas: [dec, 25],\n  xmas: [dec, 25],\n  'boxing day': [dec, 26],\n  'st stephens day': [dec, 26],\n  'saint stephens day': [dec, 26],\n\n  // Fixed religious and cultural holidays\n  // Catholic + Christian\n  epiphany: [jan, 6],\n  'orthodox christmas day': [jan, 7],\n  'orthodox new year': [jan, 14],\n  'assumption of mary': [aug, 15],\n  'all souls day': [nov, 2],\n  'feast of the immaculate conception': [dec, 8],\n  'feast of our lady of guadalupe': [dec, 12],\n\n  // Kwanzaa\n  kwanzaa: [dec, 26], // Ranged holiday [jan, 1],\n\n  // Pagan / metal 🤘\n  imbolc: [feb, 2],\n  beltaine: [may, 1],\n  lughnassadh: [aug, 1],\n  samhain: [oct, 31]\n};\n\n// holidays that are the same date every year\nconst fixedDates = function (str, normal, year, tz) {\n  if (fixedHolidays.hasOwnProperty(str) || fixedHolidays.hasOwnProperty(normal)) {\n    let arr = fixedHolidays[str] || fixedHolidays[normal] || [];\n    let s = spacetime.now(tz);\n    s = s.year(year);\n    s = s.startOf('year');\n    s = s.month(arr[0]);\n    s = s.date(arr[1]);\n    if (s.isValid()) {\n      return s\n    }\n  }\n  return null\n};\nvar _01FixedDates = fixedDates;\n\n//these are holidays on the 'nth weekday of month'\nconst jan$1 = 'january';\nconst feb$1 = 'february';\nconst mar$1 = 'march';\n// const apr = 'april'\nconst may$1 = 'may';\nconst jun$1 = 'june';\n// const jul = 'july'\n// const aug = 'august'\nconst sep$1 = 'september';\nconst oct$1 = 'october';\nconst nov$1 = 'november';\n// const dec = 'december'\n\nconst mon = 'monday';\n// const tues = 'tuesday'\n// const wed = 'wednesday'\nconst thurs = 'thursday';\nconst fri = 'friday';\n// const sat = 'saturday'\nconst sun = 'sunday';\n\nlet holidays = {\n  'martin luther king day': [3, mon, jan$1], //[third monday in january],\n  'presidents day': [3, mon, feb$1], //[third monday in february],\n\n  'commonwealth day': [2, mon, mar$1], //[second monday in march],\n  'mothers day': [2, sun, may$1], //[second Sunday in May],\n  'fathers day': [3, sun, jun$1], //[third Sunday in June],\n  'labor day': [1, mon, sep$1], //[first monday in september],\n  'columbus day': [2, mon, oct$1], //[second monday in october],\n  'canadian thanksgiving': [2, mon, oct$1], //[second monday in october],\n  thanksgiving: [4, thurs, nov$1], // [fourth Thursday in November],\n  'black friday': [4, fri, nov$1] //[fourth friday in november],\n\n  // 'memorial day': [may], //[last monday in may],\n  // 'us election': [nov], // [Tuesday following the first Monday in November],\n  // 'cyber monday': [nov]\n  // 'advent': [] // fourth Sunday before Christmas\n};\n\n// add aliases\nholidays['turday day'] = holidays.thanksgiving;\nholidays['indigenous peoples day'] = holidays['columbus day'];\nholidays['mlk day'] = holidays['martin luther king day'];\nvar calendarHolidays = holidays;\n\n// holidays that are the same date every year\nconst fixedDates$1 = function (str, normal, year, tz) {\n  if (calendarHolidays.hasOwnProperty(str) || calendarHolidays.hasOwnProperty(normal)) {\n    let arr = calendarHolidays[str] || calendarHolidays[normal] || [];\n    let s = spacetime.now(tz);\n    s = s.year(year);\n\n    // [3rd, 'monday', 'january']\n    s = s.month(arr[2]);\n    s = s.startOf('month');\n    // make it january\n    let month = s.month();\n\n    // make it the 1st monday\n    s = s.day(arr[1]);\n    if (s.month() !== month) {\n      s = s.add(1, 'week');\n    }\n    // make it nth monday\n    if (arr[0] > 1) {\n      s = s.add(arr[0] - 1, 'week');\n    }\n    if (s.isValid()) {\n      return s\n    }\n  }\n\n  return null\n};\nvar _02NthWeekday = fixedDates$1;\n\n// https://www.timeanddate.com/calendar/determining-easter-date.html\n\nlet dates = {\n  easter: 0,\n  'ash wednesday': -46, // (46 days before easter)\n  'palm sunday': 7, // (1 week before easter)\n  'maundy thursday': -3, // (3 days before easter)\n  'good friday': -2, // (2 days before easter)\n  'holy saturday': -1, // (1 days before easter)\n  'easter saturday': -1, // (1 day before easter)\n  'easter monday': 1, // (1 day after easter)\n  'ascension day': 39, // (39 days after easter)\n  'whit sunday': 49, // / pentecost (49 days after easter)\n  'whit monday': 50, // (50 days after easter)\n  'trinity sunday': 65, // (56 days after easter)\n  'corpus christi': 60, // (60 days after easter)\n\n  'mardi gras': -47 //(47 days before easter)\n};\ndates['easter sunday'] = dates.easter;\ndates['pentecost'] = dates['whit sunday'];\ndates['whitsun'] = dates['whit sunday'];\n\nvar easterHolidays = dates;\n\n// by John Dyer\n// based on the algorithm by Oudin (1940) from http://www.tondering.dk/claus/cal/easter.php\nconst calcEaster = function(year) {\n  let f = Math.floor,\n    // Golden Number - 1\n    G = year % 19,\n    C = f(year / 100),\n    // related to Epact\n    H = (C - f(C / 4) - f((8 * C + 13) / 25) + 19 * G + 15) % 30,\n    // number of days from 21 March to the Paschal full moon\n    I = H - f(H / 28) * (1 - f(29 / (H + 1)) * f((21 - G) / 11)),\n    // weekday for the Paschal full moon\n    J = (year + f(year / 4) + I + 2 - C + f(C / 4)) % 7,\n    // number of days from 21 March to the Sunday on or before the Paschal full moon\n    L = I - J,\n    month = 3 + f((L + 40) / 44),\n    date = L + 28 - 31 * f(month / 4);\n\n  month = month === 4 ? 'April' : 'March';\n  return month + ' ' + date\n};\n\nvar calcEaster_1 = calcEaster;\n\n//calculate any holidays based on easter\nconst easterDates = function (str, normal, year, tz) {\n  if (easterHolidays.hasOwnProperty(str) || easterHolidays.hasOwnProperty(normal)) {\n    let days = easterHolidays[str] || easterHolidays[normal] || [];\n\n    let date = calcEaster_1(year);\n    if (!date) {\n      return null //no easter for this year\n    }\n    let e = spacetime(date, tz);\n    e = e.year(year);\n\n    let s = e.add(days, 'day');\n    if (s.isValid()) {\n      return s\n    }\n  }\n  return null\n};\nvar _03EasterDates = easterDates;\n\n// http://www.astropixels.com/ephemeris/soleq2001.html\n\n// years 2000-2100\nconst exceptions = {\n  spring: [\n    2003,\n    2007,\n    2044,\n    2048,\n    2052,\n    2056,\n    2060,\n    2064,\n    2068,\n    2072,\n    2076,\n    2077,\n    2080,\n    2081,\n    2084,\n    2085,\n    2088,\n    2089,\n    2092,\n    2093,\n    2096,\n    2097\n  ],\n  summer: [\n    2021,\n    2016,\n    2020,\n    2024,\n    2028,\n    2032,\n    2036,\n    2040,\n    2041,\n    2044,\n    2045,\n    2048,\n    2049,\n    2052,\n    2053,\n    2056,\n    2057,\n    2060,\n    2061,\n    2064,\n    2065,\n    2068,\n    2069,\n    2070,\n    2072,\n    2073,\n    2074,\n    2076,\n    2077,\n    2078,\n    2080,\n    2081,\n    2082,\n    2084,\n    2085,\n    2086,\n    2088,\n    2089,\n    2090,\n    2092,\n    2093,\n    2094,\n    2096,\n    2097,\n    2098,\n    2099\n  ],\n  fall: [\n    2002,\n    2003,\n    2004,\n    2006,\n    2007,\n    2010,\n    2011,\n    2014,\n    2015,\n    2018,\n    2019,\n    2022,\n    2023,\n    2026,\n    2027,\n    2031,\n    2035,\n    2039,\n    2043,\n    2047,\n    2051,\n    2055,\n    2059,\n    2092,\n    2096\n  ],\n  winter: [\n    2002,\n    2003,\n    2006,\n    2007,\n    2011,\n    2015,\n    2019,\n    2023,\n    2027,\n    2031,\n    2035,\n    2039,\n    2043,\n    2080,\n    2084,\n    2088,\n    2092,\n    2096\n  ]\n};\n\nconst winter20th = [2080, 2084, 2088, 2092, 2096];\n\nconst calcSeasons = function(year) {\n  // most common defaults\n  let res = {\n    spring: 'March 20 ' + year,\n    summer: 'June 21 ' + year,\n    fall: 'Sept 22 ' + year,\n    winter: 'Dec 21 ' + year\n  };\n  if (exceptions.spring.indexOf(year) !== -1) {\n    res.spring = 'March 19 ' + year;\n  }\n  if (exceptions.summer.indexOf(year) !== -1) {\n    res.summer = 'June 20 ' + year;\n  }\n  if (exceptions.fall.indexOf(year) !== -1) {\n    res.fall = 'Sept 21 ' + year;\n  }\n  // winter can be 20th, 21st, or 22nd\n  if (exceptions.winter.indexOf(year) !== -1) {\n    res.winter = 'Dec 22 ' + year;\n  }\n  if (winter20th.indexOf(year) !== -1) {\n    res.winter = 'Dec 20 ' + year;\n  }\n  return res\n};\nvar seasons = calcSeasons;\n\n// these are properly calculated in ./lib/seasons\nlet dates$1 = {\n  'spring equinox': 'spring',\n  'summer solistice': 'summer',\n  'fall equinox': 'fall',\n  'winter solstice': 'winter'\n};\n\n// aliases\ndates$1['march equinox'] = dates$1['spring equinox'];\ndates$1['vernal equinox'] = dates$1['spring equinox'];\ndates$1['ostara'] = dates$1['spring equinox'];\n\ndates$1['june solstice'] = dates$1['summer solistice'];\ndates$1['litha'] = dates$1['summer solistice'];\n\ndates$1['autumn equinox'] = dates$1['fall equinox'];\ndates$1['autumnal equinox'] = dates$1['fall equinox'];\ndates$1['september equinox'] = dates$1['fall equinox'];\ndates$1['sept equinox'] = dates$1['fall equinox'];\ndates$1['mabon'] = dates$1['fall equinox'];\n\ndates$1['december solstice'] = dates$1['winter solistice'];\ndates$1['dec solstice'] = dates$1['winter solistice'];\ndates$1['yule'] = dates$1['winter solistice'];\n\nvar astroHolidays = dates$1;\n\nconst astroDates = function (str, normal, year, tz) {\n  if (astroHolidays.hasOwnProperty(str) || astroHolidays.hasOwnProperty(normal)) {\n    let season = astroHolidays[str] || astroHolidays[normal];\n    let seasons$1 = seasons(year);\n    if (!season || !seasons$1 || !seasons$1[season]) {\n      return null // couldn't figure it out\n    }\n    let s = spacetime(seasons$1[season], tz);\n    if (s.isValid()) {\n      return s\n    }\n  }\n\n  return null\n};\nvar _04Astronomical = astroDates;\n\nlet dates$2 = {\n  // Muslim holidays\n  'isra and miraj': 'april 13',\n  'lailat al-qadr': 'june 10',\n  'eid al-fitr': 'june 15',\n  'id al-Fitr': 'june 15',\n  'eid ul-Fitr': 'june 15',\n  ramadan: 'may 16', // Range holiday\n  'eid al-adha': 'sep 22',\n  muharram: 'sep 12',\n  'prophets birthday': 'nov 21'\n};\nvar lunarHolidays = dates$2;\n\n// (lunar year is 354.36 days)\nconst dayDiff = -10.64;\n\nconst lunarDates = function (str, normal, year, tz) {\n  if (lunarHolidays.hasOwnProperty(str) || lunarHolidays.hasOwnProperty(normal)) {\n    let date = lunarHolidays[str] || lunarHolidays[normal] || [];\n    if (!date) {\n      return null\n    }\n    // start at 2018\n    let s = spacetime(date + ' 2018', tz);\n    let diff = year - 2018;\n    let toAdd = diff * dayDiff;\n    s = s.add(toAdd, 'day');\n    s = s.startOf('day');\n\n    // now set the correct year\n    s = s.year(year);\n\n    if (s.isValid()) {\n      return s\n    }\n  }\n  return null\n};\nvar _05LunarDates = lunarDates;\n\nconst nowYear = spacetime.now().year();\n\nconst spacetimeHoliday = function (str, year, tz) {\n  year = year || nowYear;\n  str = str || '';\n  str = String(str);\n  str = str.trim().toLowerCase();\n  str = str.replace(/'s/, 's'); // 'mother's day'\n\n  let normal = str.replace(/ day$/, '');\n  normal = normal.replace(/^the /, '');\n  normal = normal.replace(/^orthodox /, ''); //orthodox good friday\n\n  // try easier, unmoving holidays\n  let s = _01FixedDates(str, normal, year, tz);\n  if (s !== null) {\n    return s\n  }\n  // try 'nth monday' holidays\n  s = _02NthWeekday(str, normal, year, tz);\n  if (s !== null) {\n    return s\n  }\n  // easter-based holidays\n  s = _03EasterDates(str, normal, year, tz);\n  if (s !== null) {\n    return s\n  }\n  // solar-based holidays\n  s = _04Astronomical(str, normal, year, tz);\n  if (s !== null) {\n    return s\n  }\n  // mostly muslim holidays\n  s = _05LunarDates(str, normal, year, tz);\n  if (s !== null) {\n    return s\n  }\n\n  return null\n};\nvar src = spacetimeHoliday;\n\nexport default src;\n","const { Holiday } = require('../units')\nconst spacetimeHoliday = require('spacetime-holiday')\n\nconst parseHoliday = function (doc, context) {\n  let unit = null\n  let m = doc.match('[<holiday>#Holiday+] [<year>#Year?]')\n  let year = context.today.year()\n  if (m.groups('year').found) {\n    year = Number(m.groups('year').text('reduced')) || year\n  }\n  let str = m.groups('holiday').text('reduced')\n  let s = spacetimeHoliday(str, year, context.timezone)\n  if (s !== null) {\n    // assume the year in the future..\n    if (s.isBefore(context.today) && year === context.today.year()) {\n      s = spacetimeHoliday(str, year + 1, context.timezone)\n    }\n    unit = new Holiday(s, null, context)\n  }\n  return unit\n}\nmodule.exports = parseHoliday\n","const { Week, WeekEnd, AnyMonth, AnyQuarter, Year, Season, WeekDay, Day, Hour, Minute, Moment } = require('../units')\nconst mapping = {\n  day: Day,\n  hour: Hour,\n  evening: Hour,\n  second: Moment,\n  milliscond: Moment,\n  instant: Moment,\n  minute: Minute,\n  week: Week,\n  weekend: WeekEnd,\n  month: AnyMonth,\n  quarter: AnyQuarter,\n  year: Year,\n  season: Season,\n  // set aliases\n  yr: Year,\n  qtr: AnyQuarter,\n  wk: Week,\n  sec: Moment,\n  hr: Hour,\n}\n\nlet matchStr = `^(${Object.keys(mapping).join('|')})$`\n\n// when a unit of time is spoken of as 'this month' - instead of 'february'\nconst nextLast = function (doc, context) {\n  //this month, last quarter, next year\n  let m = doc.match(matchStr)\n  if (m.found === true) {\n    let str = m.text('reduced')\n    if (mapping.hasOwnProperty(str)) {\n      let Model = mapping[str]\n      if (!Model) {\n        return null\n      }\n      let unit = new Model(null, str, context)\n      return unit\n    }\n  }\n\n  //try this version - 'next friday, last thursday'\n  m = doc.match('^#WeekDay$')\n  if (m.found === true) {\n    let str = m.text('reduced')\n    let unit = new WeekDay(str, null, context)\n    return unit\n  }\n  return null\n}\nmodule.exports = nextLast\n","const { Quarter, Season, Year } = require('../units')\nconst spacetime = require('spacetime')\n\nconst fmtToday = function (context) {\n  return {\n    date: context.today.date(),\n    month: context.today.month(),\n    year: context.today.year(),\n  }\n}\n\nconst parseYearly = function (doc, context) {\n  // support 'summer 2002'\n  let m = doc.match('(spring|summer|winter|fall|autumn) [<year>#Year?]')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    let unit = new Season(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'q4 2020'\n  m = doc.match('[<q>#FinancialQuarter] [<year>#Year?]')\n  if (m.found) {\n    let str = m.groups('q').text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '4th quarter 2020'\n  m = doc.match('[<q>#Value] quarter (of|in)? [<year>#Year?]')\n  if (m.found) {\n    let q = m.groups('q').text('reduced')\n    let s = spacetime(`q${q}`, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '2020'\n  m = doc.match('^#Year$')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(null, context.timezone, { today: fmtToday(context) })\n    s = s.year(str)\n    let unit = new Year(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  return null\n}\nmodule.exports = parseYearly\n","const { Day, CalendarDate, Month, Moment } = require('../units')\n\n// parse things like 'june 5th 2019'\n// most of this is done in spacetime\nconst parseExplicit = function (doc, context) {\n  let impliedYear = context.today.year()\n  // 'fifth of june 1992'\n  // 'june the fifth 1992'\n  let m = doc.match('[<date>#Value] of? [<month>#Month] [<year>#Year]')\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value] [<year>#Year]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // 'march 1992'\n  m = doc.match('[<month>#Month] of? [<year>#Year]')\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new Month(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  //no-years\n  // 'fifth of june'\n  m = doc.match('[<date>#Value] of? [<month>#Month]')\n  // 'june the fifth'\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new CalendarDate(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support 'december'\n  if (doc.has('#Month')) {\n    let obj = {\n      month: doc.match('#Month').text(),\n      date: 1, //assume 1st\n      year: context.today.year(),\n    }\n    let unit = new Month(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new Month(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'thursday 21st'\n  m = doc.match('#WeekDay [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support date-only 'the 21st'\n  m = doc.match('the [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      // assume it's forward\n      if (unit.d.isBefore(context.today)) {\n        unit.d = unit.d.add(1, 'month')\n      }\n      return unit\n    }\n  }\n  // parse ISO as a Moment\n  m = doc.match('/[0-9]{4}-[0-9]{2}-[0-9]{2}t[0-9]{2}:/')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let unit = new Moment(str, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  let str = doc.text('reduced')\n  // punt it to spacetime, for the heavy-lifting\n  let unit = new Day(str, null, context)\n  // did we find a date?\n  if (unit.d.isValid() === false) {\n    return null\n  }\n  return unit\n}\nmodule.exports = parseExplicit\n","const { Quarter, Season, Week, Day, Hour, Minute, Month, WeekEnd } = require('../units')\n\nconst units = {\n  day: Day,\n  week: Week,\n  weekend: WeekEnd,\n  month: Month,\n  quarter: Quarter,\n  season: Season,\n  hour: Hour,\n  minute: Minute,\n}\n\nconst applyCounter = function (unit, counter = {}) {\n  let Unit = units[counter.unit]\n  if (!Unit) {\n    return unit\n  }\n  let d = unit.d\n\n  // support 'first' or 0th\n  if (counter.dir === 'first' || counter.num === 0) {\n    d = unit.start().d\n    d = d.startOf(counter.unit)\n  } else if (counter.dir === 'last') {\n    d = d.endOf(unit.unit)\n    d = d.startOf(counter.unit)\n  } else if (counter.num) {\n    // support 'nth week', eg.\n    d = d.add(counter.num, counter.unit)\n  }\n  let u = new Unit(d, null, unit.context)\n  if (u.d.isValid() === true) {\n    return u\n  }\n  return unit //fallback\n}\nmodule.exports = applyCounter\n","// const { Hour, Moment } = require('./units')\nconst tokens = {\n  shift: require('./01-tokenize/01-shift'),\n  counter: require('./01-tokenize/02-counter'),\n  time: require('./01-tokenize/03-time'),\n  relative: require('./01-tokenize/04-relative'),\n  section: require('./01-tokenize/05-section'),\n  timezone: require('./01-tokenize/06-timezone'),\n}\n\nconst parse = {\n  today: require('./02-parse/01-today'),\n  holiday: require('./02-parse/02-holidays'),\n  nextLast: require('./02-parse/03-next-last'),\n  yearly: require('./02-parse/04-yearly'),\n  explicit: require('./02-parse/05-explicit'),\n}\n\nconst transform = {\n  counter: require('./03-transform/addCounter'),\n}\n\nconst parseDate = function (doc, context) {\n  // quick normalization\n  doc.match('[^the] !#Value', 0).remove() // keep 'the 17th'\n  //parse-out any sections\n  let shift = tokens.shift(doc)\n  let counter = tokens.counter(doc)\n  let tz = tokens.timezone(doc)\n  let time = tokens.time(doc, context)\n  let section = tokens.section(doc, context)\n  let rel = tokens.relative(doc)\n  //set our new timezone\n  if (tz) {\n    context = Object.assign({}, context, { timezone: tz })\n    let iso = context.today.format('iso-short')\n    context.today = context.today.goto(context.timezone).set(iso)\n  }\n  let unit = null\n  //'in two days'\n  unit = unit || parse.today(doc, context, { shift, time, rel })\n  // 'this haloween'\n  unit = unit || parse.holiday(doc, context)\n  // 'this month'\n  unit = unit || parse.nextLast(doc, context)\n  // 'q2 2002'\n  unit = unit || parse.yearly(doc, context)\n  // 'this june 2nd'\n  unit = unit || parse.explicit(doc, context)\n  // doc.debug()\n  if (!unit) {\n    return null\n  }\n\n  // 2 days after..\n  if (shift) {\n    unit.applyShift(shift)\n    // if (shift.hour || shift.minute || shift.second) {\n    //   console.log(shift)\n    //   unit = new Hour(unit.d, null, unit.context)\n    // }\n  }\n  // this/next/last\n  if (rel) {\n    unit.applyRel(rel)\n  }\n  // end of\n  if (section) {\n    unit.applySection(section)\n  }\n  // at 5:40pm\n  if (time) {\n    unit.applyTime(time)\n  }\n  // apply counter\n  if (counter && counter.unit) {\n    unit = transform.counter(unit, counter)\n  }\n  // debugging\n  // console.log('\\n\\n=-=-=-=-=-=-=-=-=-=-=-=Date-=-=-=-=-=-=-=-=-=-=-=-=-\\n')\n  // console.log(`  shift:      ${JSON.stringify(shift)}`)\n  // console.log(`  counter:   `, counter)\n  // console.log(`  rel:        ${rel || '-'}`)\n  // console.log(`  section:    ${section || '-'}`)\n  // console.log(`  time:       ${time || '-'}`)\n  // console.log(`  str:       '${doc.text()}'`)\n  // console.log('  unit:     ', unit, '\\n')\n  // doc.debug()\n  // console.log('=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\\n\\n')\n  return unit\n}\nmodule.exports = parseDate\n","const parseDate = require('../parseDate/parse')\nconst Unit = require('../parseDate/units/Unit')\n\nconst punt = function (unit, context) {\n  unit = unit.applyShift(context.punt)\n  return unit\n}\n\nmodule.exports = [\n  {\n    // two explicit dates - 'between friday and sunday'\n    match: 'between [<start>*] and [<end>*]',\n    parse: (m, context) => {\n      let start = m.groups('start')\n      start = parseDate(start, context)\n      let end = m.groups('end')\n      end = parseDate(end, context)\n      if (start && end) {\n        return {\n          start: start,\n          end: end.before(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // two months, no year - 'june 5 to june 7'\n    match: '[<from>#Month #Value] (to|through|thru) [<to>#Month #Value] [<year>#Year?]',\n    parse: (m, context) => {\n      let res = m.groups()\n      let start = res.from\n      if (res.year) {\n        start = start.append(res.year)\n      }\n      start = parseDate(start, context)\n      if (start) {\n        let end = res.to\n        if (res.year) {\n          end = end.append(res.year)\n        }\n        end = parseDate(end, context)\n        // reverse the order?\n        if (start.d.isAfter(end.d)) {\n          let tmp = start\n          start = end\n          end = tmp\n        }\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, first form - 'january 5 to 7 1998'\n    match: '[<month>#Month] [<from>#Value] (to|through|thru) [<to>#Value] of? [<year>#Year]',\n    parse: (m, context) => {\n      let { month, from, to, year } = m.groups()\n      let year2 = year.clone()\n      let start = from.prepend(month.text()).append(year.text())\n      start = parseDate(start, context)\n      if (start) {\n        let end = to.prepend(month.text()).append(year2)\n        end = parseDate(end, context)\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, second form - '5 to 7 of january 1998'\n    match: '[<from>#Value] (to|through|thru) [<to>#Value of? #Month of? #Year]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('to')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - '5 to 7 of january'\n    match: '[<from>#Value] (to|through|thru) [<to>#Value of? #Month]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('from')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - 'january 5 to 7'\n    match: '[<from>#Month #Value] (to|through|thru) [<to>#Value]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      from = parseDate(from, context)\n      if (from) {\n        let toDate = m.groups('to')\n        let to = from.clone()\n        to.d = to.d.date(toDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'from A to B'\n    match: 'from? [<from>*] (to|until|upto|through|thru) [<to>*]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      let to = m.groups('to')\n      from = parseDate(from, context)\n      to = parseDate(to, context)\n      if (from && to) {\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  // {\n  //   // 'A through B' (inclusive end)\n  //   match: 'from? [<a>*] (through|thru) [<b>*]',\n  //   parse: (m, context) => {\n  //     let from = m.groups('a')\n  //     let to = m.groups('b')\n  //     from = parseDate(from, context)\n  //     to = parseDate(to, context)\n  //     if (from && to) {\n  //       return {\n  //         start: from,\n  //         end: to.end(),\n  //       }\n  //     }\n  //     return null\n  //   },\n  // },\n\n  // {\n  //   // 'A until B' (not inclusive end)\n  //   match: 'from? [<a>*] (to|until|upto) [<b>*]',\n  //   parse: (m, context) => {\n  //     let from = m.groups('a')\n  //     let to = m.groups('b')\n  //     from = parseDate(from, context)\n  //     to = parseDate(to, context)\n  //     if (from && to) {\n  //       return {\n  //         start: from,\n  //         end: to.end(),\n  //       }\n  //     }\n  //     return null\n  //   },\n  // },\n\n  {\n    // 'before june'\n    match: '^due? (by|before) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        let start = new Unit(context.today, null, context)\n        if (start.d.isAfter(unit.d)) {\n          start = unit.clone().applyShift({ weeks: -2 })\n        }\n        // end the night before\n        let end = unit.clone().applyShift({ day: -1 })\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'in june'\n    match: '^(on|in|at|@) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return { start: unit, end: unit.clone().end() }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'after june'\n    match: '^(after|following) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        unit = unit.after()\n        return {\n          start: unit.clone(),\n          end: punt(unit.clone(), context),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // 'in june'\n    match: '^(on|during|in|during) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return {\n          start: unit,\n          end: unit.clone().end(),\n        }\n      }\n      return null\n    },\n  },\n]\n","const parseDate = require('../parseDate/parse')\nconst ranges = require('./ranges')\n\n// loop thru each range template\nconst parseRange = function (doc, context) {\n  // try each template in order\n  for (let i = 0; i < ranges.length; i += 1) {\n    let fmt = ranges[i]\n    let m = doc.match(fmt.match)\n    if (m.found) {\n      if (fmt.group !== undefined) {\n        m = m.groups(fmt.group)\n      }\n      let res = fmt.parse(m, context)\n      if (res !== null) {\n        // console.log(fmt.match)\n        return res\n      }\n    }\n  }\n  //else, try whole thing\n  let unit = parseDate(doc, context)\n  if (unit) {\n    return {\n      start: unit,\n      end: unit.clone().end(),\n    }\n  }\n  return {\n    start: null,\n    end: null,\n  }\n}\nmodule.exports = parseRange\n","const normalize = function (doc) {\n  doc = doc.clone()\n  if (!doc.numbers) {\n    console.warn(\"Compromise: compromise-dates cannot find plugin dependency 'compromise-number'\")\n  } else {\n    // convert 'two' to 2\n    let num = doc.numbers()\n    num.toNumber()\n    num.toCardinal(false)\n    // num.normalize()\n  }\n  // // expand 'aug 20-21'\n  doc.contractions().expand()\n  // // remove adverbs\n  doc.adverbs().remove()\n  // // 'week-end'\n  doc.replace('week end', 'weekend').tag('Date')\n  // // 'a up to b'\n  doc.replace('up to', 'upto').tag('Date')\n  // 'in a few years'\n  let m = doc.match('in [a few] #Duration')\n  if (m.found) {\n    m.groups('0').replaceWith('2')\n    m.tag('DateShift')\n  }\n  return doc\n}\nmodule.exports = normalize\n","const spacetime = require('spacetime')\nconst parseRanges = require('./02-ranges')\nconst normalize = require('./normalize')\n\nconst getDate = function (doc, context) {\n  // validate context a bit\n  context = context || {}\n  context.timezone = context.timezone || 'ETC/UTC'\n  context.today = spacetime(context.today || null, context.timezone)\n  //turn 'five' into 5..\n  doc = normalize(doc)\n  //interpret 'between [A] and [B]'...\n  return parseRanges(doc, context)\n}\nmodule.exports = getDate\n","let arr = [\n  ['mon', 'monday'],\n  ['tue', 'tuesday'],\n  ['tues', 'tuesday'],\n  ['wed', 'wednesday'],\n  ['thu', 'thursday'],\n  ['thurs', 'thursday'],\n  ['fri', 'friday'],\n  ['sat', 'saturday'],\n  ['sun', 'sunday'],\n\n  ['jan', 'january'],\n  ['feb', 'february'],\n  ['mar', 'march'],\n  ['apr', 'april'],\n  ['jun', 'june'],\n  ['jul', 'july'],\n  ['aug', 'august'],\n  ['sep', 'september'],\n  ['sept', 'september'],\n  ['oct', 'october'],\n  ['nov', 'november'],\n  ['dec', 'december'],\n]\n\narr = arr.map(a => {\n  return { short: a[0], long: a[1] }\n})\n\nmodule.exports = arr\n","const parse = require('./find')\nconst abbrevs = require('./data/_abbrevs')\n\nmodule.exports = {\n  /** overload the original json with noun information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    let format = options.format || 'iso'\n    this.forEach((doc) => {\n      let json = doc.json(options)[0]\n      let obj = parse(doc, this.context)\n      let start = obj.start ? obj.start.format(format) : null\n      let end = obj.end ? obj.end.format(format) : null\n      // set iso strings to json result\n      json.date = {\n        start: start,\n        end: end,\n      }\n      // add duration\n      if (start && end) {\n        json.date.duration = obj.start.d.diff(obj.end.d)\n        // we don't need these\n        delete json.date.duration.milliseconds\n        delete json.date.duration.seconds\n      }\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n\n  /** render all dates according to a specific format */\n  format: function (fmt) {\n    this.forEach((doc) => {\n      let obj = parse(doc, this.context)\n      let str = ''\n      if (obj.start) {\n        str = obj.start.format(fmt)\n        if (obj.end) {\n          let end = obj.start.format(fmt)\n          if (str !== end) {\n            str += ' to ' + end\n          }\n        }\n        doc.replaceWith(str, { keepTags: true, keepCase: false })\n      }\n    })\n    return this\n  },\n  /** replace 'Fri' with 'Friday', etc*/\n  toLongForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.short, a.long, true)\n    })\n    return this\n  },\n  /** replace 'Friday' with 'Fri', etc*/\n  toShortForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.long, a.short, true)\n    })\n    return this\n  },\n}\n","const tagger = require('./01-tagger')\nconst tags = require('./data/_tags')\nconst words = require('./data/words')\nconst methods = require('./methods')\nconst spacetime = require('spacetime')\n\nconst opts = {\n  punt: { weeks: 2 },\n}\n\nconst addMethods = function (Doc, world) {\n  // our new tags\n  world.addTags(tags)\n  // add info for the date plugin\n  world.addWords(words)\n  // run our tagger\n  world.postProcess(tagger)\n\n  /**  */\n  class Dates extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = opts\n    }\n  }\n  //add-in methods\n  Object.assign(Dates.prototype, methods)\n\n  Doc.prototype.dates = function (n) {\n    let context = {}\n    if (n && typeof n === 'object') {\n      context = n\n      n = null\n    }\n    context = Object.assign({}, context, opts)\n    // let r = this.clauses()\n    let dates = this.match('#Date+')\n    if (typeof n === 'number') {\n      dates = dates.get(n)\n    }\n    let d = new Dates(dates.list, this, this.world)\n    if (context.today) {\n      context.today = spacetime(context.today, context.timezone)\n    }\n    d.context = context\n    return d\n  }\n}\n\nmodule.exports = addMethods\n"],"names":["preps","thisNext","sections","seasons","tagYear","m","reason","found","forEach","p","str","text","num","parseInt","tag","tagYearSafe","tagDates","doc","match","month","val","ifNo","duration","unTag","season","date","not","cardinal","v","time","here","values","has","replaceWith","dateTagger","sectionTagger","timeTagger","notIf","shiftTagger","fixUp","oops","d","knownDate","lastTerm","terms","methods","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","normalize","numbers","tagDate","fn","FinancialQuarter","isA","Season","Year","notA","Duration","Holiday","Timezone","DateShift","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","len","arr2","TypeError","MSEC_IN_HOUR","toUtc","dstChange","offset","year","_dstChange$split","split","_dstChange$split2","rest","_rest$split","_rest$split2","day","hour","Date","UTC","inSummerTime","epoch","start","end","summerOffset","winterOffset","getUTCFullYear","startUtc","endUtc","summerTime","quickOffset","s","zones","timezones","obj","tz","console","warn","dst","jul","dec","hem","inSummer","quick","_build","_build$1","freeze","__proto__","_prefixes","createCommonjsModule","module","exports","getCjsExportFromNamespace","data","all","keys","k","Number","names","replace","before","unpack","fallbackTZ","safeIntl","Intl","DateTimeFormat","format","resolvedOptions","timezone","timeZone","toLowerCase","guessTz","guessTz_1","isOffset","isNumber","utcOffset","gmtOffset","toIana","parseOffset","parseOffset_1","local","cities","reduce","h","city","lookupTz","error","trim","hasOwnProperty","id","Error","find","millisecond","second","minute","week","milliseconds","walk","unit","previous","current","startUnit","original","diff","Math","abs","halfStep","units","valid","walkTo","getMonth","getFullYear","seconds","wants","old","clone","silent","walk_1","shortMonths","longMonths","buildMapping","sep","months","short","long","mapping","set","i18n","parseOffset$1","parseFloat","parseOffset_1$1","parseTime","arguments","startOf","concat","substring","ampm","_h","parseTime_1","monthLengths","monthLengths_1","fns","isLeapYear","isDate","isNaN","valueOf","input","isObject","zeroPad","pad","join","titleCase","toUpperCase","substr","ordinal","j","toCardinal","String","getEpoch","tmp","getTime","beADate","formatTimezone","delimiter","sign","absOffset","hours","minutes","fns_1","fns_2","fns_3","fns_4","fns_5","fns_6","fns_7","fns_8","fns_9","fns_10","fns_11","fns_12","hasDate","max","hasDate_1","months$1","parseYear","today","strFmt","reg","parse","givenTz","options","british","_today","quarter","getDate","strParse","getNow","now","dates","tonight","tomorrow","add","yesterday","subtract","christmas","newYears","namedDates","minimumEpoch","defaults","handleArray","order","handleObject","assign","parseInput","res","isValid","_res","shortDays","longDays","days","aliases","tues","thur","thurs","isoOffset","_offset","dayName","dayShort","dayNumber","dayOrdinal","dayPad","dateOrdinal","datePad","monthName","monthShort","monthNumber","monthOrdinal","monthPad","isoMonth","yearShort","isoYear","isNegative","time24","hour24","hour12","hourPad","hour24Pad","minutePad","secondPad","era","json","numeric","numericUs","numericUk","mmDd","iso","h24","ms","isoShort","isoUtc","toISOString","nice","niceYear","niceDay","niceFull","mdy","dmy","ymd","printFormat","out","indexOf","_","fmt","format_1","G","GG","GGG","GGGG","y","yy","yyy","yyyy","yyyyy","Q","QQ","QQQ","QQQQ","M","MM","MMM","MMMM","w","ww","dd","D","dayOfYear","DD","DDD","E","EE","EEE","EEEE","EEEEE","e","ee","eee","eeee","eeeee","a","aa","aaa","aaaa","h12","hh","H","HH","mm","ss","A","z","zz","zzz","zzzz","Z","ZZ","ZZZ","ZZZZ","addAlias","_char","to","toName","unixFmt","chars","quoteOn","txt","c","unixFmt_1","units$1","doUnit","endOf","percent","toFixed","progress","progress_1","nearest","prog","nearest_1","climb","b","isBefore","isAfter","diffOne","one","fastYear","years","msDiff","weeks","waterfall","reverseDiff","main","reversed","diff$1","qualifiers","almost","over","getDiff","later","earlier","isSame","u","pluralize","since","isNow","every","rounded","qualified","precise","englishValues","englishValue","nextUnit","nextValue","splice","since_1","north","south","quarters","units$2","quarterhour","_weekStart","q","hemisphere","decade","century","startOf_1","isDay","result","every_1","parseDst","epochShift","hasDst","Boolean","default_offset","change","back","summer","winter","isDST","timezone_1","units$3","input$1","hasDST","leapYear","last","goto","isAwake","isAsleep","log","logYear","_this","debug","fromNow","weekStart","inDST","round","each","methods_1","isLeapYear$1","validate","confirm","want","shift","sec","methods$1","getMilliseconds","getSeconds","getMinutes","getHours","hourFloat","_minute","_hour","which","dayTime","times","morning","breakfast","noon","lunch","afternoon","evening","dinner","night","midnight","_01Time","methods$2","getDay","_02Date","clearMinutes","methods$3","sum","setDate","setFullYear","setHours","setMinutes","setMonth","toAdd","minus","thisOne","skipWeeks","_month","floor","millenium","_03Year","methods$4","addMethods","Space","query","isLeapYear$2","getMonthLength","rollMonth","_years","rollDaysDown","rollDaysUp","_model","daysBack","order$1","keep","dstAwareUnits","keepDate","addMethods$1","SpaceTime","_sum","wantYear","haveYear","plus","print","addMethods$2","tzAware","same","addMethods$3","isEqual","isBetween","isInclusive","startEpoch","endEpoch","compare","addMethods$4","defineProperty","get","bias","getTimezoneOffset","toLocalDate","spacetime","whereIts","startHour","endHour","tzs","filter","whereIts_1","_version","main$1","setToday","extend","version","plugin","src","america","asia","europe","africa","aus","pac","informal","bst","ireland","cet","cest","eet","eest","trt","etc","utc","gmt","sast","acst","acdt","aest","aedt","awst","awdt","acwst","lhst","lhdt","msk","russian","cst","cdt","mst","mdt","ast","adt","est","edt","pst","pdt","ahst","ahdt","hst","nst","ndt","brt","brasília","brasilia","amt","east","easst","vet","pyt","pyst","cot","clst","cldt","uyt","ist","irst","irdt","iranian","pkt","ict","ct","almt","yakt","gst","uae","hkt","wib","wita","idt","israeli","krat","myt","sgt","kst","uzt","vlat","mvt","mut","mht","sst","chst","pgt","iana","formal","lex","knownUnits","weekend","wk","min","parseUnit","parseShift","ts","remove","groups","dir","oneBased","getCounter","hardCoded","daybreak","midday","lunchtime","dinnertime","eod","halfPast","term","mins","behind","context","timeStr","desc","g","parseRelative","rel","parseSection","parseTimezone","Unit","keepTime","enumerable","writable","section","middle","Day","CalendarDate","WeekDay","weekDay","AnyMonth","Month","AnyQuarter","Quarter","Week","WeekEnd","Hour","Minute","Moment","knownWord","eom","eoy","tommorrow","tmrw","jan","feb","mar","apr","may","jun","aug","oct","nov","fixedHolidays","juneteenth","halloween","xmas","epiphany","kwanzaa","imbolc","beltaine","lughnassadh","samhain","fixedDates","normal","_01FixedDates","jan$1","feb$1","mar$1","may$1","jun$1","sep$1","oct$1","nov$1","mon","fri","sun","holidays","thanksgiving","calendarHolidays","fixedDates$1","_02NthWeekday","easter","easterHolidays","calcEaster","f","C","I","J","L","calcEaster_1","easterDates","_03EasterDates","exceptions","spring","fall","winter20th","calcSeasons","dates$1","astroHolidays","astroDates","seasons$1","_04Astronomical","dates$2","ramadan","muharram","lunarHolidays","dayDiff","lunarDates","_05LunarDates","nowYear","spacetimeHoliday","parseHoliday","milliscond","instant","yr","qtr","hr","matchStr","nextLast","Model","fmtToday","parseYearly","parseExplicit","impliedYear","applyCounter","counter","tokens","relative","holiday","require$$7","require$$8","yearly","require$$9","explicit","require$$10","transform","require$$11","parseDate","applyShift","applyRel","applySection","applyTime","punt","append","year2","prepend","fromDate","toDate","group","after","parseRange","ranges","toNumber","contractions","expand","adverbs","parseRanges","map","keepTags","keepCase","toLongForm","abbrevs","toShortForm","opts","Doc","world","addTags","tags","addWords","words","postProcess","tagger","Dates","list"],"mappings":"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"}
{"version":3,"file":"compromise-dates.js","sources":["../src/01-tag/00-basic.js","../src/01-tag/01-values.js","../src/01-tag/02-dates.js","../src/01-tag/03-sections.js","../src/01-tag/04-time.js","../src/01-tag/05-shifts.js","../src/01-tag/06-fixup.js","../src/01-tag/index.js","../src/data/_tags.js","../node_modules/spacetime/builds/spacetime.mjs","../src/data/_timezones.js","../src/data/words/dates.js","../src/data/words/durations.js","../src/data/words/holidays.js","../src/data/words/times.js","../src/data/words/index.js","../src/02-getDate/00-normalize.js","../src/03-parseDate/sections/01-shift.js","../src/03-parseDate/sections/02-time.js","../src/03-parseDate/sections/03-relative.js","../src/03-parseDate/sections/04-timezone.js","../src/03-parseDate/Unit.js","../src/03-parseDate/_units.js","../src/03-parseDate/steps/00-implied.js","../src/03-parseDate/steps/01-duration.js","../node_modules/spacetime-holiday/builds/spacetime-holiday.js","../src/03-parseDate/steps/02-holidays.js","../src/03-parseDate/steps/03-explicit.js","../src/03-parseDate/index.js","../src/02-getDate/01-parse-range.js","../src/02-getDate/index.js","../src/data/_abbrevs.js","../src/methods.js","../src/index.js"],"sourcesContent":["//ambiguous 'may' and 'march'\nconst preps = '(in|by|before|during|on|until|after|of|within|all)' //6\nconst thisNext = '(last|next|this|previous|current|upcoming|coming)' //2\nconst sections = '(start|end|middle|starting|ending|midpoint|beginning)' //2\nconst seasons = '(spring|summer|winter|fall|autumn)'\n\n//ensure a year is approximately typical for common years\n//please change in one thousand years\nconst tagYear = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  let term = m.termList()[0]\n  if (term) {\n    let num = parseInt(term.clean, 10)\n    if (num && num > 1000 && num < 3000) {\n      m.tag('Year', reason)\n    }\n  }\n}\n//same, but for less-confident values\nconst tagYearSafe = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  let term = m.termList()[0]\n  if (term) {\n    let num = parseInt(term.clean, 10)\n    if (num && num > 1900 && num < 2030) {\n      m.tag('Year', reason)\n    }\n  }\n}\n\nconst fixDates = function(doc) {\n  doc.match('in the (night|evening|morning|afternoon|day|daytime)').tag('Time', 'in-the-night')\n  doc.match('(#Value|#Time) (am|pm)').tag('Time', 'value-ampm')\n\n  //months:\n  let month = doc.if('#Month')\n  if (month.found === true) {\n    //June 5-7th\n    month.match(`#Month #DateRange+`).tag('Date', 'correction-numberRange')\n    //5th of March\n    month.match('#Value of #Month').tag('Date', 'value-of-month')\n    //5 March\n    month.match('#Cardinal #Month').tag('Date', 'cardinal-month')\n    //march 5 to 7\n    month.match('#Month #Value to #Value').tag('Date', 'value-to-value')\n    //march the 12th\n    month.match('#Month the #Value').tag('Date', 'month-the-value')\n  }\n\n  //months:\n  let val = doc.if('#Value')\n  if (val.found === true) {\n    //june 7\n    val\n      .match('(#WeekDay|#Month) #Value')\n      .ifNo('#Money')\n      .tag('Date', 'date-value')\n\n    //7 june\n    val\n      .match('#Value (#WeekDay|#Month)')\n      .ifNo('#Money')\n      .tag('Date', 'value-date')\n\n    //may twenty five\n    val\n      .match('#TextValue #TextValue')\n      .if('#Date')\n      .tag('#Date', 'textvalue-date')\n\n    //eg 'year'\n    let duration = val.if('#Duration')\n    if (duration.found === true) {\n      //for 4 months\n      duration.match('for #Value #Duration').tag('Date', 'for-x-duration')\n      //two days before\n      duration.match('#Value #Duration #Conjunction').tag('Date', 'val-duration-conjunction')\n      //for four days\n      duration.match(`${preps}? #Value #Duration`).tag('Date', 'value-duration')\n      //two years old\n      duration.match('#Value #Duration old').unTag('Date', 'val-years-old')\n    }\n  }\n\n  //seasons\n  let season = doc.if(seasons)\n  if (season.found === true) {\n    season.match(`${preps}? ${thisNext} ${seasons}`).tag('Date', 'thisNext-season')\n    season.match(`the? ${sections} of ${seasons}`).tag('Date', 'section-season')\n    season.match(`${seasons} ${preps}? #Cardinal`).tag('Date', 'season-year')\n  }\n\n  //rest-dates\n  let date = doc.if('#Date')\n  if (date.found === true) {\n    //june the 5th\n    date.match('#Date the? #Ordinal').tag('Date', 'correction')\n    //last month\n    date.match(`${thisNext} #Date`).tag('Date', 'thisNext')\n    //by 5 March\n    date.match('due? (by|before|after|until) #Date').tag('Date', 'by')\n    //next feb\n    date.match('(last|next|this|previous|current|upcoming|coming|the) #Date').tag('Date', 'next-feb')\n    //start of june\n    date.match(`the? ${sections} of #Date`).tag('Date', 'section-of')\n    //fifth week in 1998\n    date.match('#Ordinal #Duration in #Date').tag('Date', 'duration-in')\n    //early in june\n    date.match('(early|late) (at|in)? the? #Date').tag('Time', 'early-evening')\n    //tomorrow before 3\n    date\n      .match('#Date (by|before|after|at|@|about) #Cardinal')\n      .not('^#Date')\n      .tag('Time', 'date-before-Cardinal')\n    //saturday am\n    date\n      .match('#Date [(am|pm)]')\n      .unTag('Verb')\n      .unTag('Copula')\n      .tag('Time', 'date-am')\n    //feb to june\n    date\n      .match('#Date (#Preposition|to) #Date')\n      .ifNo('#Duration')\n      .tag('Date', 'date-prep-date')\n  }\n\n  //year/cardinal tagging\n  let cardinal = doc.if('#Cardinal')\n  if (cardinal.found === true) {\n    let v = cardinal.match(`#Date #Value [#Cardinal]`)\n    tagYear(v, 'date-value-year')\n    //scoops up a bunch\n    v = cardinal.match(`#Date+ [#Cardinal]`)\n    tagYear(v, 'date-year')\n    //feb 8 2018\n    v = cardinal.match(`#Month #Value [#Cardinal]`)\n    tagYear(v, 'month-value-year')\n    //feb 8 to 10th 2018\n    v = cardinal.match(`#Month #Value to #Value [#Cardinal]`)\n    tagYear(v, 'month-range-year')\n    //in 1998\n    v = cardinal.match(`(in|of|by|during|before|starting|ending|for|year) [#Cardinal]`)\n    tagYear(v, 'in-year')\n    //q2 2009\n    v = cardinal.match('(q1|q2|q3|q4) [#Cardinal]')\n    tagYear(v, 'in-year')\n    //2nd quarter 2009\n    v = cardinal.match('#Ordinal quarter [#Cardinal]')\n    tagYear(v, 'in-year')\n    //in the year 1998\n    v = cardinal.match('the year [#Cardinal]')\n    tagYear(v, 'in-year')\n    //it was 1998\n    v = cardinal.match('it (is|was) [#Cardinal]')\n    tagYearSafe(v, 'in-year')\n  }\n\n  let time = doc.if('#Time')\n  if (time.found === true) {\n    //by 6pm\n    time.match('(by|before|after|at|@|about) #Time').tag('Time', 'preposition-time')\n    //7 7pm\n    time\n      .match('#Cardinal #Time')\n      .not('#Year')\n      .tag('Time', 'value-time')\n    //2pm est\n    time.match('#Time [(eastern|pacific|central|mountain)]').tag('Date', 'timezone')\n    //6pm est\n    time.match('#Time [(est|pst|gmt)]').tag('Date', 'timezone abbr')\n  }\n\n  return doc\n}\nmodule.exports = fixDates\n","const here = 'date-values'\n//\nconst values = function(doc) {\n  if (doc.has('#Value')) {\n    //june 5 to 7th\n    doc.match('#Month #Value to #Value of? #Year?').tag('Date', here);\n    //5 to 7th june\n    doc.match('#Value to #Value of? #Month #Year?').tag('Date', here);\n    //third week of may\n    doc.match('#Value #Duration of #Date').tag('Date', here);\n    //two days after\n    doc.match('#Value+ #Duration (after|before|into|later|afterwards|ago)?').tag('Date', here);\n    //two days\n    doc.match('#Value #Date').tag('Date', here);\n    //june 5th\n    doc.match('#Date #Value').tag('Date', here);\n    //tuesday at 5\n    doc.match('#Date #Preposition #Value').tag('Date', here);\n    //tomorrow before 3\n    doc.match('#Date (after|before|during|on|in) #Value').tag('Date', here);\n    //a year and a half\n    doc.match('#Value (year|month|week|day) and a half').tag('Date', here);\n    //5 and a half years\n    doc.match('#Value and a half (years|months|weeks|days)').tag('Date', here);\n    //on the fifth\n    doc.match('on the #Ordinal').tag('Date', here);\n  }\n  return doc\n}\nmodule.exports = values\n","const here = 'date-tagger'\n//\nconst dateTagger = function(doc) {\n\n  doc.match('(spring|summer|winter|fall|autumn|springtime|wintertime|summertime)').match('#Noun').tag('Season', here)\n  doc.match('(q1|q2|q3|q4)').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) quarter').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) season').tag('Season', here)\n\n  if (doc.has('#Date')) {\n    //friday to sunday\n    doc.match('#Date #Preposition #Date').tag('Date', here);\n    //once a day..\n    doc.match('(once|twice) (a|an|each) #Date').tag('Date', here);\n    //TODO:fixme\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', here);\n    //tuesday\n    doc.match('#Date+').tag('Date', here);\n    //by June\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', here);\n    //a year after..\n    doc.match('a #Duration').tag('Date', here);\n    //between x and y\n    doc.match('(between|from) #Date').tag('Date', here);\n    doc.match('(to|until|upto) #Date').tag('Date', here);\n    doc.match('#Date and #Date').tag('Date', here);\n    //during this june\n    doc.match('(by|until|after|before|during|on|in|following) (next|this|last)? (#Date|#Date)').tag('Date', here);\n    //day after next\n    doc.match('the? #Date after next one?').tag('Date', here);\n    //approximately...\n    doc.match('(about|approx|approximately|around) #Date').tag('Date', here);\n  }\n  return doc\n}\nmodule.exports = dateTagger\n","const here = 'section-tagger'\n//\nconst sectionTagger = function(doc) {\n  if (doc.has('#Date')) {\n    // //next september\n    doc.match('this? (last|next|past|this|previous|current|upcoming|coming|the) #Date').tag('Date', here);\n    //starting this june\n    doc.match('(starting|beginning|ending) #Date').tag('Date', here);\n    //start of june\n    doc.match('the? (start|end|middle|beginning) of (last|next|this|the) (#Date|#Date)').tag('Date', here);\n    //this coming june\n    doc.match('(the|this) #Date').tag('Date', here);\n  }\n  return doc\n}\nmodule.exports = sectionTagger\n","const here = 'time-tagger'\n\n//\nconst timeTagger = function(doc) {\n  // quarter to seven\n  if (doc.has('#Cardinal')) {\n    doc.match('(half|quarter|25|15|10|5) (past|after|to) #Cardinal').tag('Time', here)\n  }\n  //timezone\n  if (doc.has('#Date')) {\n    //eastern daylight time\n    doc.match('#Noun (standard|daylight|central|mountain)? time').tag('Timezone', here)\n    //utc+5\n    doc.match('/^utc[+-][0-9]/').tag('Timezone', here)\n    doc.match('/^gmt[+-][0-9]/').tag('Timezone', here)\n\n    doc.match('(in|for|by|near|at) #Timezone').tag('Timezone', here)\n\n    // https://raw.githubusercontent.com/davispuh/TimezoneParser/master/data/abbreviations.yml\n    // let abbr =\n    // '(acdt|acst|ace|dmt|ist|tse|addt|adt|aedt|aest|ahdt|ahst|akdt|akst|amt|nst|apt|awt|gmt|awdt|awst|bdst|bst|bdt|nwt|bmt|wet|bost|cddt|cdt|cet|cmt|cpt|cst|cwt|chst|gst|eat|eddt|edt|eest|eet|emt|ept|ewt|est|ffmt|fmt|hdt|hst|hkst|hkt|hmt|iddt|idt|jmt|imt|jdt|jst|kdt|kst|kmt|lst|mddt|mdst|msd|msk|mdt|mmt|mpt|pdt|pst|mst|mwt|nddt|ndt|npt|nzdt|nzmt|nzst|pddt|pkst|pkt|plmt|pmmt|pmt|ppmt|ppt|pwt|qmt|rmt|sast|sdmt|set|sjmt|smt|sst|tbmt|tmt|utc|wast|wemt|wib|wit|wita|wmt|yddt|ydt|ypt|ywt|yst)'\n    // doc.match(abbr).tag('Timezone', here)\n  }\n  return doc\n}\nmodule.exports = timeTagger\n","const here = 'shift-tagger'\n//\nconst shiftTagger = function(doc) {\n  if (doc.has('#Date')) {\n    //two weeks before\n    doc.match('#Cardinal #Duration (before|after)').tag('#DateShift', here)\n    // in two weeks\n    doc.match('in #Cardinal #Duration').tag('#DateShift', here)\n    //two weeks and three days before\n    doc.match('#Cardinal #Duration and? #DateShift').tag('#DateShift', here)\n    doc.match('#DateShift and #Cardinal #Duration').tag('#DateShift', here)\n    // doc.match('#Cardinal #Duration and? #DateShift').tag('#DateShift', here)\n  }\n  return doc\n}\nmodule.exports = shiftTagger\n","const here = 'fix-tagger'\n//\nconst fixUp = function(doc) {\n  //fixups\n  if (doc.has('#Date')) {\n    //first day by monday\n    let oops = doc.match('#Date+ by #Date+')\n    if (oops.found && !oops.has('^due')) {\n      oops.match('^#Date+').unTag('Date', 'by-monday')\n    }\n\n    let d = doc.match('#Date+')\n    //'spa day'\n    d.match('^day$').unTag('Date', 'spa-day')\n\n    let knownDate = '(yesterday|today|tomorrow)'\n    if (d.has(knownDate)) {\n      //yesterday 7\n      d.match(`${knownDate} [#Value]$`).unTag('Date', 'yesterday-7')\n      //7 yesterday\n      d.match(`^[#Value] ${knownDate}$`).unTag('Date', '7 yesterday')\n      //friday yesterday\n      d.match(`#WeekDay+ ${knownDate}$`)\n        .unTag('Date')\n        .lastTerm()\n        .tag('Date', 'fri-yesterday')\n\n      // yesterday yesterday\n      // d.match(`${knownDate}+ ${knownDate}$`)\n      //   .unTag('Date')\n      //   .lastTerm()\n      //   .tag('Date', here)\n      d.match(`(this|last|next) #Date ${knownDate}$`)\n        .unTag('Date')\n        .lastTerm()\n        .tag('Date', 'this month yesterday')\n    }\n    //tomorrow on 5\n    d.match(`on #Cardinal$`).unTag('Date', here)\n    //this tomorrow\n    d.match(`this tomorrow`)\n      .terms(0)\n      .unTag('Date', 'this-tomorrow')\n    //q2 2019\n    d.match(`(q1|q2|q3|q4) #Year`).tag('Date', here)\n    //5 tuesday\n    // d.match(`^#Value #WeekDay`).terms(0).unTag('Date');\n    //5 next week\n    d.match(`^#Value (this|next|last)`)\n      .terms(0)\n      .unTag('Date', here)\n\n    if (d.has('(last|this|next)')) {\n      //this month 7\n      d.match(`(last|this|next) #Duration #Value`)\n        .terms(2)\n        .unTag('Date', here)\n      //7 this month\n      d.match(`!#Month #Value (last|this|next) #Date`)\n        .terms(0)\n        .unTag('Date', here)\n    }\n    //january 5 5\n    if (d.has('(#Year|#Time|#TextValue|#NumberRange)') === false) {\n      d.match('(#Month|#WeekDay) #Value #Value')\n        .terms(2)\n        .unTag('Date', here)\n    }\n    //between june\n    if (d.has('^between') && !d.has('and .')) {\n      d.unTag('Date', here)\n    }\n    //june june\n    if (d.has('#Month #Month') && !d.has('@hasHyphen') && !d.has('@hasComma')) {\n      d.match('#Month')\n        .lastTerm()\n        .unTag('Date', 'month-month')\n    }\n  }\n  return doc\n}\nmodule.exports = fixUp\n","const methods = [\n  require('./00-basic'),\n  require('./01-values'),\n  require('./02-dates'),\n  require('./03-sections'),\n  require('./04-time'),\n  require('./05-shifts'),\n  require('./06-fixup'),\n]\n// run each of the taggers\nconst tagDate = function(doc) {\n  methods.forEach(fn => fn(doc))\n  return doc\n}\nmodule.exports = tagDate\n","module.exports = {\n  FinancialQuarter: {\n    isA: 'Date',\n  },\n  // 'summer'\n  Season: {\n    isA: 'Date',\n  },\n  // '1982'\n  Year: {\n    isA: ['Date'],\n    notA: 'RomanNumeral',\n  },\n  // 'months'\n  Duration: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'easter'\n  Holiday: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'PST'\n  Timezone: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'two weeks before'\n  DateShift: {\n    isA: ['Date'],\n  },\n}\n","function createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nfunction getCjsExportFromNamespace (n) {\n\treturn n && n['default'] || n;\n}\n\nvar fns = createCommonjsModule(function (module, exports) {\n//git:blame @JuliasCaesar https://www.timeanddate.com/date/leapyear.html\nexports.isLeapYear = year => (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n// unsurprisingly-nasty `typeof date` call\nexports.isDate = d => Object.prototype.toString.call(d) === '[object Date]' && !isNaN(d.valueOf());\nexports.isArray = input => Object.prototype.toString.call(input) === '[object Array]';\nexports.isObject = input => Object.prototype.toString.call(input) === '[object Object]';\n\nexports.zeroPad = (str, len = 2) => {\n  let pad = '0';\n  str = str + '';\n  return str.length >= len ? str : new Array(len - str.length + 1).join(pad) + str\n};\n\nexports.titleCase = str => {\n  if (!str) {\n    return ''\n  }\n  return str[0].toUpperCase() + str.substr(1)\n};\n\nexports.ordinal = i => {\n  let j = i % 10;\n  let k = i % 100;\n  if (j === 1 && k !== 11) {\n    return i + 'st'\n  }\n  if (j === 2 && k !== 12) {\n    return i + 'nd'\n  }\n  if (j === 3 && k !== 13) {\n    return i + 'rd'\n  }\n  return i + 'th'\n};\n\n//strip 'st' off '1st'..\nexports.toCardinal = str => {\n  str = String(str);\n  str = str.replace(/([0-9])(st|nd|rd|th)$/i, '$1');\n  return parseInt(str, 10)\n};\n\n//used mostly for cleanup of unit names, like 'months'\nexports.normalize = (str = '') => {\n  str = str.toLowerCase().trim();\n  str = str.replace(/ies$/, 'y'); //'centuries'\n  str = str.replace(/s$/, '');\n  str = str.replace(/-/g, '');\n  if (str === 'day') {\n    return 'date'\n  }\n  return str\n};\n\nexports.getEpoch = tmp => {\n  //support epoch\n  if (typeof tmp === 'number') {\n    return tmp\n  }\n  //suport date objects\n  if (exports.isDate(tmp)) {\n    return tmp.getTime()\n  }\n  if (tmp.epoch) {\n    return tmp.epoch\n  }\n  return null\n};\n\n//make sure this input is a spacetime obj\nexports.beADate = (d, s) => {\n  if (exports.isObject(d) === false) {\n    return s.clone().set(d)\n  }\n  return d\n};\n\nexports.formatTimezone = (offset, delimiter = '') => {\n  const absOffset = Math.abs(offset);\n  const sign = offset > 0 ? '+' : '-';\n  return `${sign}${exports.zeroPad(absOffset)}${delimiter}00`\n};\n});\nvar fns_1 = fns.isLeapYear;\nvar fns_2 = fns.isDate;\nvar fns_3 = fns.isArray;\nvar fns_4 = fns.isObject;\nvar fns_5 = fns.zeroPad;\nvar fns_6 = fns.titleCase;\nvar fns_7 = fns.ordinal;\nvar fns_8 = fns.toCardinal;\nvar fns_9 = fns.normalize;\nvar fns_10 = fns.getEpoch;\nvar fns_11 = fns.beADate;\nvar fns_12 = fns.formatTimezone;\n\nconst zeroPad = fns.zeroPad;\n\nconst toString = d =>\n  zeroPad(d.getMonth() + 1) + '/' + zeroPad(d.getDate()) + ':' + zeroPad(d.getHours());\n\n// a timezone will begin with a specific offset in january\n// then some will switch to something else between november-march\nconst shouldChange = (epoch, start, end, defaultOffset) => {\n  //note: this has a cray order-of-operations issue\n  //we can't get the date, without knowing the timezone, and vice-versa\n  //it's possible that we can miss a dst-change by a few hours.\n  let d = new Date(epoch);\n  //(try to mediate this a little?)\n  let bias = d.getTimezoneOffset() || 0;\n  let shift = bias + defaultOffset * 60; //in minutes\n  shift = shift * 60 * 1000; //in ms\n  d = new Date(epoch + shift);\n\n  let current = toString(d);\n  //eg. is it after ~november?\n  if (current >= start) {\n    //eg. is it before ~march~ too?\n    if (current < end) {\n      return true\n    }\n  }\n  return false\n};\nvar summerTime = shouldChange;\n\n// this method avoids having to do a full dst-calculation on every operation\n// it reproduces some things in ./index.js, but speeds up spacetime considerably\nconst quickOffset = s => {\n  let zones = s.timezones;\n  let obj = zones[s.tz];\n  if (obj === undefined) {\n    console.warn(\"Warning: couldn't find timezone \" + s.tz);\n    return 0\n  }\n  if (obj.dst === undefined) {\n    return obj.offset\n  }\n\n  //get our two possible offsets\n  let jul = obj.offset;\n  let dec = obj.offset + 1; // assume it's the same for now\n  if (obj.hem === 'n') {\n    dec = jul - 1;\n  }\n  let split = obj.dst.split('->');\n  let inSummer = summerTime(s.epoch, split[0], split[1], jul);\n  if (inSummer === true) {\n    return jul\n  }\n  return dec\n};\nvar quick = quickOffset;\n\nvar _build = {\n\t\"9|s\": \"2/dili,2/jayapura\",\n\t\"9|n\": \"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau\",\n\t\"9.5|s|04/07:03->10/06:02\": \"4/adelaide,4/broken_hill,4/south,4/yancowinna\",\n\t\"9.5|s\": \"4/darwin,4/north\",\n\t\"8|s\": \"12/casey,2/kuala_lumpur,2/makassar,2/singapore,4/perth,4/west\",\n\t\"8|n|03/25:03->09/29:23\": \"2/ulan_bator\",\n\t\"8|n\": \"2/brunei,2/choibalsan,2/chongqing,2/chungking,2/harbin,2/hong_kong,2/irkutsk,2/kuching,2/macao,2/macau,2/manila,2/shanghai,2/taipei,2/ujung_pandang,2/ulaanbaatar\",\n\t\"8.75|s\": \"4/eucla\",\n\t\"7|s\": \"12/davis,2/jakarta,9/christmas\",\n\t\"7|n\": \"2/bangkok,2/barnaul,2/ho_chi_minh,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/saigon,2/tomsk,2/vientiane\",\n\t\"6|s\": \"12/vostok\",\n\t\"6|n\": \"2/almaty,2/bishkek,2/dacca,2/dhaka,2/kashgar,2/omsk,2/qyzylorda,2/thimbu,2/thimphu,2/urumqi,9/chagos\",\n\t\"6.5|n\": \"2/rangoon,9/cocos\",\n\t\"5|s\": \"12/mawson,9/kerguelen\",\n\t\"5|n\": \"2/aqtau,2/aqtobe,2/ashgabat,2/ashkhabad,2/atyrau,2/baku,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives\",\n\t\"5.75|n\": \"2/kathmandu,2/katmandu\",\n\t\"5.5|n\": \"2/calcutta,2/colombo,2/kolkata\",\n\t\"4|s\": \"9/reunion\",\n\t\"4|n\": \"2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius\",\n\t\"4.5|n|03/22:00->09/21:24\": \"2/tehran\",\n\t\"4.5|n\": \"2/kabul\",\n\t\"3|s\": \"12/syowa,9/antananarivo\",\n\t\"3|n|03/31:03->10/27:04\": \"2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/nicosia,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye\",\n\t\"3|n|03/31:02->10/27:03\": \"8/chisinau,8/tiraspol\",\n\t\"3|n|03/31:00->10/26:24\": \"2/beirut\",\n\t\"3|n|03/29:02->10/27:02\": \"2/jerusalem,2/tel_aviv\",\n\t\"3|n|03/29:00->10/26:01\": \"2/gaza,2/hebron\",\n\t\"3|n|03/29:00->10/25:01\": \"2/amman\",\n\t\"3|n|03/29:00->10/24:24\": \"2/damascus\",\n\t\"3|n\": \"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/istanbul,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte\",\n\t\"2|s|03/31:02->10/27:02\": \"12/troll\",\n\t\"2|s\": \"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane\",\n\t\"2|n|03/31:02->10/27:03\": \"0/ceuta,arctic/longyearbyen,3/jan_mayen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich\",\n\t\"2|n\": \"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad\",\n\t\"1|s|04/02:01->09/03:03\": \"0/windhoek\",\n\t\"1|s\": \"0/kinshasa,0/luanda\",\n\t\"1|n|05/05:03->06/09:02\": \"0/casablanca,0/el_aaiun\",\n\t\"1|n|03/31:01->10/27:02\": \"3/canary,3/faeroe,3/faroe,3/madeira,8/belfast,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london\",\n\t\"1|n\": \"0/algiers,0/bangui,0/brazzaville,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis\",\n\t\"14|n\": \"11/kiritimati\",\n\t\"13|s|04/07:04->09/29:03\": \"11/apia\",\n\t\"13|s|01/15:02->11/05:03\": \"11/tongatapu\",\n\t\"13|n\": \"11/enderbury,11/fakaofo\",\n\t\"12|s|04/07:03->09/29:02\": \"12/mcmurdo,12/south_pole,11/auckland\",\n\t\"12|s|01/13:03->11/10:02\": \"11/fiji\",\n\t\"12|n\": \"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis\",\n\t\"12.75|s|04/07:03->09/29:02\": \"11/chatham\",\n\t\"11|s\": \"12/macquarie,11/bougainville\",\n\t\"11|n\": \"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape\",\n\t\"11.5|n\": \"11/norfolk\",\n\t\"10|s|04/07:03->10/06:02\": \"4/act,4/canberra,4/currie,4/hobart,4/melbourne,4/nsw,4/sydney,4/tasmania,4/victoria\",\n\t\"10|s\": \"12/dumontdurville,4/brisbane,4/lindeman,4/queensland\",\n\t\"10|n\": \"2/ust-nera,2/vladivostok,2/yakutsk,11/chuuk,11/guam,11/port_moresby,11/saipan,11/truk,11/yap\",\n\t\"10.5|s|04/07:01->10/06:02\": \"4/lhi,4/lord_howe\",\n\t\"0|n|03/31:00->10/27:01\": \"1/scoresbysund,3/azores\",\n\t\"0|n\": \"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,0/timbuktu,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/gmt+0,13/gmt-0,13/gmt0,13/greenwich,13/utc,13/universal,13/zulu\",\n\t\"-9|n|03/10:02->11/03:02\": \"1/adak,1/atka\",\n\t\"-9|n\": \"11/gambier\",\n\t\"-9.5|n\": \"11/marquesas\",\n\t\"-8|n|03/10:02->11/03:02\": \"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat\",\n\t\"-8|n\": \"11/pitcairn\",\n\t\"-7|n|03/10:02->11/03:02\": \"1/dawson,1/ensenada,1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,1/whitehorse,6/pacific,6/yukon,10/bajanorte\",\n\t\"-7|n\": \"1/creston,1/dawson_creek,1/hermosillo,1/phoenix\",\n\t\"-6|s|04/06:22->09/07:22\": \"7/easterisland,11/easter\",\n\t\"-6|n|04/07:02->10/27:02\": \"1/chihuahua,1/mazatlan,10/bajasur\",\n\t\"-6|n|03/10:02->11/03:02\": \"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/shiprock,1/yellowknife,6/mountain\",\n\t\"-6|n\": \"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,6/east-saskatchewan,6/saskatchewan,11/galapagos\",\n\t\"-5|s\": \"1/lima,1/rio_branco,5/acre\",\n\t\"-5|n|04/07:02->10/27:02\": \"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general\",\n\t\"-5|n|03/12:03->11/05:01\": \"1/north_dakota\",\n\t\"-5|n|03/10:02->11/03:02\": \"1/chicago,1/knox_in,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,6/central\",\n\t\"-5|n\": \"1/atikokan,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/porto_acre\",\n\t\"-4|s|05/13:23->08/13:01\": \"12/palmer\",\n\t\"-4|s|04/06:24->09/08:00\": \"1/santiago,7/continental\",\n\t\"-4|s|03/23:24->10/06:00\": \"1/asuncion\",\n\t\"-4|s|02/16:24->11/03:00\": \"1/campo_grande,1/cuiaba\",\n\t\"-4|s\": \"1/la_paz,1/manaus,5/west\",\n\t\"-4|n|03/12:03->11/05:01\": \"1/indiana,1/kentucky\",\n\t\"-4|n|03/10:02->11/03:02\": \"1/detroit,1/fort_wayne,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,6/eastern\",\n\t\"-4|n|03/10:00->11/03:01\": \"1/havana\",\n\t\"-4|n\": \"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin\",\n\t\"-3|s\": \"1/argentina,1/buenos_aires,1/cordoba,1/fortaleza,1/montevideo,1/punta_arenas,1/sao_paulo,12/rothera,3/stanley,5/east\",\n\t\"-3|n|03/10:02->11/03:02\": \"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic\",\n\t\"-3|n\": \"1/araguaina,1/bahia,1/belem,1/catamarca,1/cayenne,1/jujuy,1/maceio,1/mendoza,1/paramaribo,1/recife,1/rosario,1/santarem\",\n\t\"-2|s\": \"5/denoronha\",\n\t\"-2|n|03/30:22->10/26:23\": \"1/godthab\",\n\t\"-2|n|03/10:02->11/03:02\": \"1/miquelon\",\n\t\"-2|n\": \"1/noronha,3/south_georgia\",\n\t\"-2.5|n|03/10:02->11/03:02\": \"1/st_johns,6/newfoundland\",\n\t\"-1|n\": \"3/cape_verde\",\n\t\"-11|n\": \"11/midway,11/niue,11/pago_pago,11/samoa\",\n\t\"-10|n\": \"11/honolulu,11/johnston,11/rarotonga,11/tahiti\"\n};\n\nvar _build$1 = /*#__PURE__*/Object.freeze({\n\t'default': _build\n});\n\n//prefixes for iana names..\nvar _prefixes = [\n  'africa',\n  'america',\n  'asia',\n  'atlantic',\n  'australia',\n  'brazil',\n  'canada',\n  'chile',\n  'europe',\n  'indian',\n  'mexico',\n  'pacific',\n  'antarctica',\n  'etc'\n];\n\nvar data = getCjsExportFromNamespace(_build$1);\n\nlet all = {};\nObject.keys(data).forEach(k => {\n  let split = k.split('|');\n  let obj = {\n    offset: Number(split[0]),\n    hem: split[1]\n  };\n  if (split[2]) {\n    obj.dst = split[2];\n  }\n  let names = data[k].split(',');\n  names.forEach(str => {\n    str = str.replace(/(^[0-9]+)\\//, (before, num) => {\n      num = Number(num);\n      return _prefixes[num] + '/'\n    });\n    all[str] = obj;\n  });\n});\n\nall['utc'] = {\n  offset: 0,\n  hem: 'n' //(sorry)\n};\n\n//add etc/gmt+n\nfor (let i = -14; i <= 14; i += 0.5) {\n  let num = i;\n  if (num > 0) {\n    num = '+' + num;\n  }\n  let name = 'etc/gmt' + num;\n  all[name] = {\n    offset: i * -1, //they're negative!\n    hem: 'n' //(sorry)\n  };\n  name = 'utc/gmt' + num; //this one too, why not.\n  all[name] = {\n    offset: i * -1,\n    hem: 'n'\n  };\n}\n// console.log(all)\n\n// console.log(Object.keys(all).length)\nvar unpack = all;\n\n//find the implicit iana code for this machine.\n//safely query the Intl object\n//based on - https://bitbucket.org/pellepim/jstimezonedetect/src\nconst fallbackTZ = 'utc'; //\n\n//this Intl object is not supported often, yet\nconst safeIntl = () => {\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return null\n  }\n  let format = Intl.DateTimeFormat();\n  if (typeof format === 'undefined' || typeof format.resolvedOptions === 'undefined') {\n    return null\n  }\n  let timezone = format.resolvedOptions().timeZone;\n  if (!timezone) {\n    return null\n  }\n  return timezone.toLowerCase()\n};\n\nconst guessTz = () => {\n  let timezone = safeIntl();\n  if (timezone === null) {\n    return fallbackTZ\n  }\n  return timezone\n};\n//do it once per computer\nvar guessTz_1 = guessTz;\n\nconst isOffset = /(\\-?[0-9]+)h(rs)?/i;\nconst isNumber = /(\\-?[0-9]+)/;\nconst utcOffset = /utc([\\-+]?[0-9]+)/i;\nconst gmtOffset = /gmt([\\-+]?[0-9]+)/i;\n\nconst toIana = function(num) {\n  num = Number(num);\n  if (num > -13 && num < 13) {\n    num = num * -1; //it's opposite!\n    num = (num > 0 ? '+' : '') + num; //add plus sign\n    return 'etc/gmt' + num\n  }\n  return null\n};\n\nconst parseOffset = function(tz) {\n  // '+5hrs'\n  let m = tz.match(isOffset);\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'utc+5'\n  m = tz.match(utcOffset);\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'GMT-5' (not opposite)\n  m = tz.match(gmtOffset);\n  if (m !== null) {\n    let num = Number(m[1]) * -1;\n    return toIana(num)\n  }\n  // '+5'\n  m = tz.match(isNumber);\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  return null\n};\nvar parseOffset_1 = parseOffset;\n\nconst local = guessTz_1();\n\n//add all the city names by themselves\nconst cities = Object.keys(unpack).reduce((h, k) => {\n  let city = k.split('/')[1] || '';\n  city = city.replace(/_/g, ' ');\n  h[city] = k;\n  return h\n}, {});\n\n//try to match these against iana form\nconst normalize = tz => {\n  tz = tz.replace(/ time/g, '');\n  tz = tz.replace(/ (standard|daylight|summer)/g, '');\n  tz = tz.replace(/\\b(east|west|north|south)ern/g, '$1');\n  tz = tz.replace(/\\b(africa|america|australia)n/g, '$1');\n  tz = tz.replace(/\\beuropean/g, 'europe');\n  tz = tz.replace(/\\islands/g, 'island');\n  return tz\n};\n\n// try our best to reconcile the timzone to this given string\nconst lookupTz = (str, zones) => {\n  if (!str) {\n    return local\n  }\n  let tz = str.trim();\n  let split = str.split('/');\n  //support long timezones like 'America/Argentina/Rio_Gallegos'\n  if (split.length > 2 && zones.hasOwnProperty(tz) === false) {\n    tz = split[0] + '/' + split[1];\n  }\n  tz = tz.toLowerCase();\n  if (zones.hasOwnProperty(tz) === true) {\n    return tz\n  }\n  //lookup more loosely..\n  tz = normalize(tz);\n  if (zones.hasOwnProperty(tz) === true) {\n    return tz\n  }\n  //try city-names\n  if (cities.hasOwnProperty(tz) === true) {\n    return cities[tz]\n  }\n  // //try to parse '-5h'\n  if (/[0-9]/.test(tz) === true) {\n    let id = parseOffset_1(tz);\n    if (id) {\n      return id\n    }\n  }\n\n  throw new Error(\n    \"Spacetime: Cannot find timezone named: '\" + str + \"'. Please enter an IANA timezone id.\"\n  )\n};\nvar find = lookupTz;\n\nlet o = {\n  millisecond: 1\n};\no.second = 1000;\no.minute = 60000;\no.hour = 3.6e6; // dst is supported post-hoc\no.day = 8.64e7; //\no.date = o.day;\no.month = 8.64e7 * 29.5; //(average)\no.week = 6.048e8;\no.year = 3.154e10; // leap-years are supported post-hoc\n//add plurals\nObject.keys(o).forEach(k => {\n  o[k + 's'] = o[k];\n});\nvar milliseconds = o;\n\n//basically, step-forward/backward until js Date object says we're there.\nconst walk = (s, n, fn, unit, previous) => {\n  let current = s.d[fn]();\n  if (current === n) {\n    return //already there\n  }\n  let startUnit = previous === null ? null : s.d[previous]();\n  let original = s.epoch;\n  //try to get it as close as we can\n  let diff = n - current;\n  s.epoch += milliseconds[unit] * diff;\n\n  //DST edge-case: if we are going many days, be a little conservative\n  if (unit === 'day' && Math.abs(diff) > 28) {\n    //but don't push it over a month\n    if (n < 28) {\n      s.epoch += milliseconds.hour;\n    }\n  }\n  //repair it if we've gone too far or something\n  //(go by half-steps, just in case)\n  const halfStep = milliseconds[unit] / 2;\n  while (s.d[fn]() < n) {\n    s.epoch += halfStep;\n  }\n  while (s.d[fn]() > n) {\n    s.epoch -= halfStep;\n  }\n  //oops, did we change previous unit? revert it.\n  if (previous !== null && startUnit !== s.d[previous]()) {\n    // console.warn('spacetime warning: missed setting ' + unit)\n    s.epoch = original;\n    // i mean, but make it close...\n    s.epoch += milliseconds[unit] * diff * 0.89; // i guess?\n  }\n};\n//find the desired date by a increment/check while loop\nconst units = {\n  year: {\n    valid: n => n > -4000 && n < 4000,\n    walkTo: (s, n) => walk(s, n, 'getFullYear', 'year', null)\n  },\n  month: {\n    valid: n => n >= 0 && n <= 11,\n    walkTo: (s, n) => {\n      let d = s.d;\n      let current = d.getMonth();\n      let original = s.epoch;\n      let startUnit = d.getFullYear();\n      if (current === n) {\n        return\n      }\n      //try to get it as close as we can..\n      let diff = n - current;\n      s.epoch += milliseconds.day * (diff * 28); //special case\n      //oops, did we change the year? revert it.\n      if (startUnit !== s.d.getFullYear()) {\n        s.epoch = original;\n      }\n      //incriment by day\n      while (s.d.getMonth() < n) {\n        s.epoch += milliseconds.day;\n      }\n      while (s.d.getMonth() > n) {\n        s.epoch -= milliseconds.day;\n      }\n    }\n  },\n  date: {\n    valid: n => n > 0 && n <= 31,\n    walkTo: (s, n) => walk(s, n, 'getDate', 'day', 'getMonth')\n  },\n  hour: {\n    valid: n => n >= 0 && n < 24,\n    walkTo: (s, n) => walk(s, n, 'getHours', 'hour', 'getDate')\n  },\n  minute: {\n    valid: n => n >= 0 && n < 60,\n    walkTo: (s, n) => walk(s, n, 'getMinutes', 'minute', 'getHours')\n  },\n  second: {\n    valid: n => n >= 0 && n < 60,\n    walkTo: (s, n) => {\n      //do this one directly\n      s.epoch = s.seconds(n).epoch;\n    }\n  },\n  millisecond: {\n    valid: n => n >= 0 && n < 1000,\n    walkTo: (s, n) => {\n      //do this one directly\n      s.epoch = s.milliseconds(n).epoch;\n    }\n  }\n};\n\nconst walkTo = (s, wants) => {\n  let keys = Object.keys(units);\n  let old = s.clone();\n  for (let i = 0; i < keys.length; i++) {\n    let k = keys[i];\n    let n = wants[k];\n    if (n === undefined) {\n      n = old[k]();\n    }\n    if (typeof n === 'string') {\n      n = parseInt(n, 10);\n    }\n    //make-sure it's valid\n    if (!units[k].valid(n)) {\n      s.epoch = null;\n      if (s.silent === false) {\n        console.warn('invalid ' + k + ': ' + n);\n      }\n      return\n    }\n    // console.log(k, n)\n    units[k].walkTo(s, n);\n  }\n  return\n};\n\nvar walk_1 = walkTo;\n\nlet shortMonths = [\n  'jan',\n  'feb',\n  'mar',\n  'apr',\n  'may',\n  'jun',\n  'jul',\n  'aug',\n  'sept',\n  'oct',\n  'nov',\n  'dec'\n];\nlet longMonths = [\n  'january',\n  'february',\n  'march',\n  'april',\n  'may',\n  'june',\n  'july',\n  'august',\n  'september',\n  'october',\n  'november',\n  'december'\n];\n\nfunction buildMapping() {\n  const obj = {\n    sep: 8 //support this format\n  };\n  for (let i = 0; i < shortMonths.length; i++) {\n    obj[shortMonths[i]] = i;\n  }\n  for (let i = 0; i < longMonths.length; i++) {\n    obj[longMonths[i]] = i;\n  }\n  return obj\n}\n\nvar months = {\n  short: () => shortMonths,\n  long: () => longMonths,\n  mapping: () => buildMapping(),\n  set: i18n => {\n    shortMonths = i18n.short || shortMonths;\n    longMonths = i18n.long || longMonths;\n  }\n};\n\n//pull-apart ISO offsets, like \"+0100\"\nconst parseOffset$1 = (s, offset) => {\n  if (!offset) {\n    return s\n  }\n  //this is a fancy-move\n  if (offset === 'Z') {\n    offset = '+0000';\n  }\n\n  // according to ISO8601, tz could be hh:mm, hhmm or hh\n  // so need few more steps before the calculation.\n  let num = 0;\n\n  // for (+-)hh:mm\n  if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n    //support \"+01:00\"\n    if (/:00/.test(offset) === true) {\n      offset = offset.replace(/:00/, '');\n    }\n    //support \"+01:30\"\n    if (/:30/.test(offset) === true) {\n      offset = offset.replace(/:30/, '.5');\n    }\n  }\n\n  // for (+-)hhmm\n  if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n    offset = offset.replace(/30$/, '.5');\n  }\n\n  num = parseFloat(offset);\n\n  //divide by 100 or 10 - , \"+0100\", \"+01\"\n  if (Math.abs(num) > 100) {\n    num = num / 100;\n  }\n  //okay, try to match it to a utc timezone\n  //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n  //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n  num *= -1;\n\n  if (num >= 0) {\n    num = '+' + num;\n  }\n  let tz = 'etc/gmt' + num;\n  let zones = s.timezones;\n\n  if (zones[tz]) {\n    // log a warning if we're over-writing a given timezone?\n    // console.log('changing timezone to: ' + tz)\n    s.tz = tz;\n  }\n  return s\n};\nvar parseOffset_1$1 = parseOffset$1;\n\nconst parseTime = (s, str = '') => {\n  str = str.replace(/^\\s+/, '').toLowerCase(); //trim\n  //formal time formats - 04:30.23\n  let arr = str.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\\.]?([0-9]{1,4})?/);\n  if (arr !== null) {\n    //validate it a little\n    let h = Number(arr[1]);\n    if (h < 0 || h > 24) {\n      return s.startOf('day')\n    }\n    let m = Number(arr[2]); //don't accept '5:3pm'\n    if (arr[2].length < 2 || m < 0 || m > 59) {\n      return s.startOf('day')\n    }\n    s = s.hour(h);\n    s = s.minute(m);\n    s = s.seconds(arr[3] || 0);\n    s = s.millisecond(arr[4] || 0);\n    //parse-out am/pm\n    let ampm = str.match(/[\\b0-9](am|pm)\\b/);\n    if (ampm !== null && ampm[1]) {\n      s = s.ampm(ampm[1]);\n    }\n    return s\n  }\n  //try an informal form - 5pm (no minutes)\n  arr = str.match(/([0-9]+) ?(am|pm)/);\n  if (arr !== null && arr[1]) {\n    let h = Number(arr[1]);\n    //validate it a little..\n    if (h > 12 || h < 1) {\n      return s.startOf('day')\n    }\n    s = s.hour(arr[1] || 0);\n    s = s.ampm(arr[2]);\n    s = s.startOf('hour');\n    return s\n  }\n  //no time info found, use start-of-day\n  s = s.startOf('day');\n  return s\n};\nvar parseTime_1 = parseTime;\n\nconst monthLengths = [\n  31, // January - 31 days\n  28, // February - 28 days in a common year and 29 days in leap years\n  31, // March - 31 days\n  30, // April - 30 days\n  31, // May - 31 days\n  30, // June - 30 days\n  31, // July - 31 days\n  31, // August - 31 days\n  30, // September - 30 days\n  31, // October - 31 days\n  30, // November - 30 days\n  31 // December - 31 days\n];\nvar monthLengths_1 = monthLengths;\n\nconst isLeapYear = fns.isLeapYear;\n\n//given a month, return whether day number exists in it\nconst hasDate = obj => {\n  //invalid values\n  if (monthLengths_1.hasOwnProperty(obj.month) !== true) {\n    return false\n  }\n  //support leap-year in february\n  if (obj.month === 1) {\n    if (isLeapYear(obj.year) && obj.date <= 29) {\n      return true\n    } else {\n      return obj.date <= 28\n    }\n  }\n  //is this date too-big for this month?\n  let max = monthLengths_1[obj.month] || 0;\n  if (obj.date <= max) {\n    return true\n  }\n  return false\n};\nvar hasDate_1 = hasDate;\n\nconst months$1 = months.mapping();\n\n\n\n\n\nconst parseYear = (str = '') => {\n  //support '18 -> 2018\n  // str = str.replace(/^'([0-9]{2})/, '20$1')\n  // str = str.replace('([0-9]+) ?b\\.?c\\.?$', '-$1')\n  let year = parseInt(str.trim(), 10);\n  year = year || new Date().getFullYear();\n  return year\n};\n\nconst strFmt = [\n  //iso-this 1998-05-30T22:00:00:000Z, iso-that 2017-04-03T08:00:00-0700\n  {\n    reg: /^(\\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\\-\\+:]+)?$/,\n    parse: (s, arr, givenTz, options) => {\n      let month = parseInt(arr[2], 10) - 1;\n      let obj = {\n        year: arr[1],\n        month,\n        date: arr[3]\n      };\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      parseOffset_1$1(s, arr[5]);\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s\n    }\n  },\n  //iso \"2015-03-25\" or \"2015/03/25\" or \"2015/03/25 12:26:14 PM\"\n  {\n    reg: /^([0-9]{4})[\\-\\/]([0-9]{1,2})[\\-\\/]([0-9]{1,2}),?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: (s, arr) => {\n      let obj = {\n        year: arr[1],\n        month: parseInt(arr[2], 10) - 1,\n        date: parseInt(arr[3], 10)\n      };\n      if (obj.month >= 12) {\n        //support yyyy/dd/mm (weird, but ok)\n        obj.date = parseInt(arr[2], 10);\n        obj.month = parseInt(arr[3], 10) - 1;\n      }\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s\n    }\n  },\n  //mm/dd/yyyy - uk/canada \"6/28/2019, 12:26:14 PM\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/]([0-9]{1,2})[\\-\\/]?([0-9]{4})?,?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: (s, arr) => {\n      let month = parseInt(arr[1], 10) - 1;\n      let date = parseInt(arr[2], 10);\n      //support dd/mm/yyy\n      if (s.british || month >= 12) {\n        date = parseInt(arr[1], 10);\n        month = parseInt(arr[2], 10) - 1;\n      }\n      let year = arr[3] || new Date().getFullYear();\n      let obj = {\n        year,\n        month,\n        date\n      };\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s\n    }\n  },\n  //common british format - \"25-feb-2015\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/]([a-z]+)[\\-\\/]?([0-9]{4})?$/i,\n    parse: (s, arr) => {\n      let month = months$1[arr[2].toLowerCase()];\n      let year = parseYear(arr[3]);\n      let obj = {\n        year,\n        month,\n        date: fns.toCardinal(arr[1] || '')\n      };\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s\n    }\n  },\n\n  //Long \"Mar 25 2015\"\n  //February 22, 2017 15:30:00\n  {\n    reg: /^([a-z]+) ([0-9]{1,2}(?:st|nd|rd|th)?),?( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,\n    parse: (s, arr) => {\n      let month = months$1[arr[1].toLowerCase()];\n      let year = parseYear(arr[3]);\n      let obj = {\n        year,\n        month,\n        date: fns.toCardinal(arr[2] || '')\n      };\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s\n    }\n  },\n  //February 2017 (implied date)\n  {\n    reg: /^([a-z]+) ([0-9]{4})$/i,\n    parse: (s, arr) => {\n      let month = months$1[arr[1].toLowerCase()];\n      let year = parseYear(arr[2]);\n      let obj = {\n        year,\n        month,\n        date: 1\n      };\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s\n    }\n  },\n  //Long \"25 Mar 2015\"\n  {\n    reg: /^([0-9]{1,2}(?:st|nd|rd|th)?) ([a-z]+),?( [0-9]{4})?,? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: (s, arr) => {\n      let month = months$1[arr[2].toLowerCase()];\n      if (!month) {\n        return null\n      }\n      let year = parseYear(arr[3]);\n      let obj = {\n        year,\n        month,\n        date: fns.toCardinal(arr[1])\n      };\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s\n    }\n  },\n  {\n    // '200bc'\n    reg: /^[0-9,]+ ?b\\.?c\\.?$/i,\n    parse: (s, arr) => {\n      let str = arr[0] || '';\n      //make negative-year\n      str = str.replace(/^([0-9,]+) ?b\\.?c\\.?$/i, '-$1');\n      //remove commas\n      str = str.replace(/,/g, '');\n      let year = parseInt(str.trim(), 10);\n      let d = new Date();\n      let obj = {\n        year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s\n    }\n  },\n  {\n    // '200ad'\n    reg: /^[0-9,]+ ?(a\\.?d\\.?|c\\.?e\\.?)$/i,\n    parse: (s, arr) => {\n      let str = arr[0] || '';\n      //remove commas\n      str = str.replace(/,/g, '');\n      let year = parseInt(str.trim(), 10);\n      let d = new Date();\n      let obj = {\n        year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s\n    }\n  },\n  {\n    // '1992'\n    reg: /^[0-9]{4}( ?a\\.?d\\.?)?$/i,\n    parse: (s, arr) => {\n      let year = parseYear(arr[0]);\n      let d = new Date();\n      let obj = {\n        year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s\n      }\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s\n    }\n  }\n];\n\nvar strParse = strFmt;\n\nconst dates = {\n  now: s => {\n    s.epoch = Date.now();\n    return s\n  },\n  tonight: s => {\n    s.epoch = Date.now();\n    s = s.hour(18);\n    return s\n  },\n  today: s => {\n    s.epoch = Date.now();\n    return s\n  },\n  tomorrow: s => {\n    s.epoch = Date.now();\n    s = s.add(1, 'day');\n    s = s.startOf('day');\n    return s\n  },\n  yesterday: s => {\n    s.epoch = Date.now();\n    s = s.subtract(1, 'day');\n    s = s.startOf('day');\n    return s\n  },\n  christmas: s => {\n    let year = new Date().getFullYear();\n    s = s.set([year, 11, 25, 18, 0, 0]); // Dec 25\n    return s\n  },\n  'new years': s => {\n    let year = new Date().getFullYear();\n    s = s.set([year, 11, 31, 18, 0, 0]); // Dec 31\n    return s\n  }\n};\ndates['new years eve'] = dates['new years'];\nvar namedDates = dates;\n\n//we have to actually parse these inputs ourselves\n//  -  can't use built-in js parser ;(\n//=========================================\n// ISO Date\t  \"2015-03-25\"\n// Short Date\t\"03/25/2015\" or \"2015/03/25\"\n// Long Date\t\"Mar 25 2015\" or \"25 Mar 2015\"\n// Full Date\t\"Wednesday March 25 2015\"\n//=========================================\n\n//-- also -\n// if the given epoch is really small, they've probably given seconds and not milliseconds\n// anything below this number is likely (but not necessarily) a mistaken input.\n// this may seem like an arbitrary number, but it's 'within jan 1970'\n// this is only really ambiguous until 2054 or so\nconst minimumEpoch = 2500000000;\n\nconst defaults = {\n  year: new Date().getFullYear(),\n  month: 0,\n  date: 1\n};\n\n//support [2016, 03, 01] format\nconst handleArray = (s, arr) => {\n  let order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond'];\n  for (let i = 0; i < order.length; i++) {\n    let num = arr[i] || defaults[order[i]] || 0;\n    s = s[order[i]](num);\n  }\n  return s\n};\n//support {year:2016, month:3} format\nconst handleObject = (s, obj) => {\n  obj = Object.assign({}, defaults, obj);\n  let keys = Object.keys(obj);\n  for (let i = 0; i < keys.length; i++) {\n    let unit = keys[i];\n    //make sure we have this method\n    if (s[unit] === undefined || typeof s[unit] !== 'function') {\n      continue\n    }\n    //make sure the value is a number\n    if (obj[unit] === null || obj[unit] === undefined || obj[unit] === '') {\n      continue\n    }\n    let num = obj[unit] || defaults[unit] || 0;\n    s = s[unit](num);\n  }\n  return s\n};\n\n//find the epoch from different input styles\nconst parseInput = (s, input, givenTz) => {\n  //if we've been given a epoch number, it's easy\n  if (typeof input === 'number') {\n    if (input > 0 && input < minimumEpoch && s.silent === false) {\n      console.warn('  - Warning: You are setting the date to January 1970.');\n      console.warn('       -   did input seconds instead of milliseconds?');\n    }\n    s.epoch = input;\n    return s\n  }\n  //set tmp time\n  s.epoch = Date.now();\n  if (input === null || input === undefined) {\n    return s //k, we're good.\n  }\n  //support input of Date() object\n  if (fns.isDate(input) === true) {\n    s.epoch = input.getTime();\n    return s\n  }\n  //support [2016, 03, 01] format\n  if (fns.isArray(input) === true) {\n    s = handleArray(s, input);\n    return s\n  }\n  //support {year:2016, month:3} format\n  if (fns.isObject(input) === true) {\n    //support spacetime object as input\n    if (input.epoch) {\n      s.epoch = input.epoch;\n      s.tz = input.tz;\n      return s\n    }\n    s = handleObject(s, input);\n    return s\n  }\n  //input as a string..\n  if (typeof input !== 'string') {\n    return s\n  }\n  //little cleanup..\n  input = input.replace(/\\b(mon|tues|wed|wednes|thu|thurs|fri|sat|satur|sun)(day)?\\b/i, '');\n  input = input.replace(/,/g, '');\n  input = input.replace(/ +/g, ' ').trim();\n  //try some known-words, like 'now'\n  if (namedDates.hasOwnProperty(input) === true) {\n    s = namedDates[input](s);\n    return s\n  }\n  //try each text-parse template, use the first good result\n  for (let i = 0; i < strParse.length; i++) {\n    let m = input.match(strParse[i].reg);\n    if (m) {\n      let res = strParse[i].parse(s, m, givenTz);\n      if (res !== null) {\n        return res\n      }\n    }\n  }\n  if (s.silent === false) {\n    console.warn(\"Warning: couldn't parse date-string: '\" + input + \"'\");\n  }\n  s.epoch = null;\n  return s\n};\nvar input = parseInput;\n\nlet shortDays = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nlet longDays = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n\nvar days = {\n  short: () => shortDays,\n  long: () => longDays,\n  set: i18n => {\n    shortDays = i18n.short || shortDays;\n    longDays = i18n.long || longDays;\n  }\n};\n\n// create the timezone offset part of an iso timestamp\n// it's kind of nuts how involved this is\n// \"+01:00\", \"+0100\", or simply \"+01\"\nconst isoOffset = s => {\n  let offset = s.timezone().current.offset;\n  const isNegative = offset < 0;\n  let minute = '00';\n  //handle 5.5 → '5:30'\n  if (Math.abs(offset % 1) === 0.5) {\n    minute = '30';\n    if (offset >= 0) {\n      offset = Math.floor(offset);\n    } else {\n      offset = Math.ceil(offset);\n    }\n  }\n  if (isNegative) {\n    //handle negative sign\n    offset *= -1;\n    offset = fns.zeroPad(offset, 2);\n    offset = '-' + offset;\n  } else {\n    offset = fns.zeroPad(offset, 2);\n    offset = '+' + offset;\n  }\n  offset = offset + ':' + minute;\n  //'Z' means 00\n  if (offset === '+00:00') {\n    offset = 'Z';\n  }\n  return offset\n};\n\nvar _offset = isoOffset;\n\nconst format = {\n  day: s => fns.titleCase(s.dayName()),\n  'day-short': s => fns.titleCase(days.short()[s.day()]),\n  'day-number': s => s.day(),\n  'day-ordinal': s => fns.ordinal(s.day()),\n  'day-pad': s => fns.zeroPad(s.day()),\n\n  date: s => s.date(),\n  'date-ordinal': s => fns.ordinal(s.date()),\n  'date-pad': s => fns.zeroPad(s.date()),\n\n  month: s => fns.titleCase(s.monthName()),\n  'month-short': s => fns.titleCase(months.short()[s.month()]),\n  'month-number': s => s.month(),\n  'month-ordinal': s => fns.ordinal(s.month()),\n  'month-pad': s => fns.zeroPad(s.month()),\n  'iso-month': s => fns.zeroPad(s.month() + 1), //1-based months\n\n  year: s => {\n    let year = s.year();\n    if (year > 0) {\n      return year\n    }\n    year = Math.abs(year);\n    return year + ' BC'\n  },\n  'year-short': s => {\n    let year = s.year();\n    if (year > 0) {\n      return `'${String(s.year()).substr(2, 4)}`\n    }\n    year = Math.abs(year);\n    return year + ' BC'\n  },\n  'iso-year': s => {\n    let year = s.year();\n    let isNegative = year < 0;\n    let str = fns.zeroPad(Math.abs(year), 4); //0-padded\n    if (isNegative) {\n      //negative years are for some reason 6-digits ('-00008')\n      str = fns.zeroPad(str, 6);\n      str = '-' + str;\n    }\n    return str\n  },\n\n  time: s => s.time(),\n  'time-24': s => `${s.hour24()}:${fns.zeroPad(s.minute())}`,\n  hour: s => s.hour12(),\n  'hour-pad': s => fns.zeroPad(s.hour12()),\n  'hour-24': s => s.hour24(),\n  'hour-24-pad': s => fns.zeroPad(s.hour24()),\n\n  minute: s => s.minute(),\n  'minute-pad': s => fns.zeroPad(s.minute()),\n  second: s => s.second(),\n  'second-pad': s => fns.zeroPad(s.second()),\n\n  ampm: s => s.ampm(),\n  quarter: s => 'Q' + s.quarter(),\n  season: s => s.season(),\n  era: s => s.era(),\n  json: s => s.json(),\n  timezone: s => s.timezone().name,\n  offset: s => _offset(s),\n\n  numeric: s => `${s.year()}/${fns.zeroPad(s.month() + 1)}/${fns.zeroPad(s.date())}`, // yyyy/mm/dd\n  'numeric-us': s => `${fns.zeroPad(s.month() + 1)}/${fns.zeroPad(s.date())}/${s.year()}`, // mm/dd/yyyy\n  'numeric-uk': s => `${fns.zeroPad(s.date())}/${fns.zeroPad(s.month() + 1)}/${s.year()}`, //dd/mm/yyyy\n  'mm/dd': s => `${fns.zeroPad(s.month() + 1)}/${fns.zeroPad(s.date())}`, //mm/dd\n\n  // ... https://en.wikipedia.org/wiki/ISO_8601 ;(((\n  iso: s => {\n    let year = s.format('iso-year');\n    let month = fns.zeroPad(s.month() + 1); //1-based months\n    let date = fns.zeroPad(s.date());\n    let hour = fns.zeroPad(s.h24());\n    let minute = fns.zeroPad(s.minute());\n    let second = fns.zeroPad(s.second());\n    let ms = fns.zeroPad(s.millisecond(), 3);\n    let offset = _offset(s);\n    return `${year}-${month}-${date}T${hour}:${minute}:${second}.${ms}${offset}` //2018-03-09T08:50:00.000-05:00\n  },\n  'iso-short': s => {\n    let month = fns.zeroPad(s.month() + 1); //1-based months\n    let date = fns.zeroPad(s.date());\n    return `${s.year()}-${month}-${date}` //2017-02-15\n  },\n  'iso-utc': s => {\n    return new Date(s.epoch).toISOString() //2017-03-08T19:45:28.367Z\n  },\n\n  //i made these up\n  nice: s => `${months.short()[s.month()]} ${fns.ordinal(s.date())}, ${s.time()}`,\n  'nice-year': s => `${months.short()[s.month()]} ${fns.ordinal(s.date())}, ${s.year()}`,\n  'nice-day': s =>\n    `${days.short()[s.day()]} ${fns.titleCase(months.short()[s.month()])} ${fns.ordinal(s.date())}`,\n  'nice-full': s =>\n    `${s.dayName()} ${fns.titleCase(s.monthName())} ${fns.ordinal(s.date())}, ${s.time()}`\n};\n//aliases\nconst aliases = {\n  'day-name': 'day',\n  'month-name': 'month',\n  'iso 8601': 'iso',\n  'time-h24': 'time-24',\n  'time-12': 'time',\n  'time-h12': 'time',\n  tz: 'timezone',\n  'day-num': 'day-number',\n  'month-num': 'month-number',\n  'month-iso': 'iso-month',\n  'year-iso': 'iso-year',\n  'nice-short': 'nice',\n  mdy: 'numeric-us',\n  dmy: 'numeric-uk',\n  ymd: 'numeric',\n  'yyyy/mm/dd': 'numeric',\n  'mm/dd/yyyy': 'numeric-us',\n  'dd/mm/yyyy': 'numeric-us',\n  'little-endian': 'numeric-uk',\n  'big-endian': 'numeric',\n  'day-nice': 'nice-day'\n};\nObject.keys(aliases).forEach(k => (format[k] = format[aliases[k]]));\n\nconst printFormat = (s, str = '') => {\n  //don't print anything if it's an invalid date\n  if (s.isValid() !== true) {\n    return ''\n  }\n  //support .format('month')\n  if (format.hasOwnProperty(str)) {\n    let out = format[str](s) || '';\n    if (str !== 'json') {\n      out = String(out);\n      if (str !== 'ampm') {\n        out = fns.titleCase(out);\n      }\n    }\n    return out\n  }\n  //support '{hour}:{minute}' notation\n  if (str.indexOf('{') !== -1) {\n    let sections = /\\{(.+?)\\}/g;\n    str = str.replace(sections, (_, fmt) => {\n      fmt = fmt.toLowerCase().trim();\n      if (format.hasOwnProperty(fmt)) {\n        return String(format[fmt](s) || '')\n      }\n      return ''\n    });\n    return str\n  }\n\n  return s.format('iso-short')\n};\nvar format_1 = printFormat;\n\nconst pad = fns.zeroPad;\nconst formatTimezone = fns.formatTimezone;\n//parse this insane unix-time-templating thing, from the 19th century\n//http://unicode.org/reports/tr35/tr35-25.html#Date_Format_Patterns\n\n//time-symbols we support\nconst mapping = {\n  G: s => s.era(),\n  GG: s => s.era(),\n  GGG: s => s.era(),\n  GGGG: s => (s.era() === 'AD' ? 'Anno Domini' : 'Before Christ'),\n  //year\n  y: s => s.year(),\n  yy: s => {\n    //last two chars\n    return parseInt(String(s.year()).substr(2, 4), 10)\n  },\n  yyy: s => s.year(),\n  yyyy: s => s.year(),\n  yyyyy: s => '0' + s.year(),\n  // u: (s) => {},//extended non-gregorian years\n\n  //quarter\n  Q: s => s.quarter(),\n  QQ: s => s.quarter(),\n  QQQ: s => s.quarter(),\n  QQQQ: s => s.quarter(),\n\n  //month\n  M: s => s.month() + 1,\n  MM: s => pad(s.month() + 1),\n  MMM: s => s.format('month-short'),\n  MMMM: s => s.format('month'),\n\n  //week\n  w: s => s.week(),\n  ww: s => pad(s.week()),\n  //week of month\n  // W: (s) => s.week(),\n\n  //date of month\n  d: s => s.date(),\n  dd: s => pad(s.date()),\n  //date of year\n  D: s => s.dayOfYear(),\n  DD: s => pad(s.dayOfYear()),\n  DDD: s => pad(s.dayOfYear(), 3),\n\n  // F: (s) => {},//date of week in month\n  // g: (s) => {},//modified julian day\n\n  //day\n  E: s => s.format('day-short'),\n  EE: s => s.format('day-short'),\n  EEE: s => s.format('day-short'),\n  EEEE: s => s.format('day'),\n  EEEEE: s => s.format('day')[0],\n  e: s => s.day(),\n  ee: s => s.day(),\n  eee: s => s.format('day-short'),\n  eeee: s => s.format('day'),\n  eeeee: s => s.format('day')[0],\n\n  //am/pm\n  a: s => s.ampm().toUpperCase(),\n  aa: s => s.ampm().toUpperCase(),\n  aaa: s => s.ampm().toUpperCase(),\n  aaaa: s => s.ampm().toUpperCase(),\n\n  //hour\n  h: s => s.h12(),\n  hh: s => pad(s.h12()),\n  H: s => s.hour(),\n  HH: s => pad(s.hour()),\n  // j: (s) => {},//weird hour format\n\n  m: s => s.minute(),\n  mm: s => pad(s.minute()),\n  s: s => s.second(),\n  ss: s => pad(s.second()),\n  //milliseconds in the day\n  A: s => s.epoch - s.startOf('day').epoch,\n  //timezone\n  z: s => s.timezone().name,\n  zz: s => s.timezone().name,\n  zzz: s => s.timezone().name,\n  zzzz: s => s.timezone().name,\n  Z: s => formatTimezone(s.timezone().current.offset),\n  ZZ: s => formatTimezone(s.timezone().current.offset),\n  ZZZ: s => formatTimezone(s.timezone().current.offset),\n  ZZZZ: s => formatTimezone(s.timezone().current.offset, ':')\n};\n\nconst addAlias = (char, to, n) => {\n  let name = char;\n  let toName = to;\n  for (let i = 0; i < n; i += 1) {\n    mapping[name] = mapping[toName];\n    name += char;\n    toName += to;\n  }\n};\naddAlias('q', 'Q', 4);\naddAlias('L', 'M', 4);\naddAlias('Y', 'y', 4);\naddAlias('c', 'e', 4);\naddAlias('k', 'H', 2);\naddAlias('K', 'h', 2);\naddAlias('S', 's', 2);\naddAlias('v', 'z', 4);\naddAlias('V', 'Z', 4);\n\nconst unixFmt = (s, str) => {\n  let chars = str.split('');\n  //combine consecutive chars, like 'yyyy' as one.\n  let arr = [chars[0]];\n  let quoteOn = false;\n  for (let i = 1; i < chars.length; i += 1) {\n    //support quoted substrings\n    if (chars[i] === `'`) {\n      quoteOn = !quoteOn;\n      //support '', meaning one tick\n      if (quoteOn === true && chars[i + 1] && chars[i + 1] === \"'\") {\n        quoteOn = true;\n      } else {\n        continue\n      }\n    }\n    //merge it with the last one\n    if (quoteOn === true || chars[i] === arr[arr.length - 1][0]) {\n      arr[arr.length - 1] += chars[i];\n    } else {\n      arr.push(chars[i]);\n    }\n  }\n  return arr.reduce((txt, c) => {\n    if (mapping[c] !== undefined) {\n      txt += mapping[c](s) || '';\n    } else {\n      txt += c;\n    }\n    return txt\n  }, '')\n};\nvar unixFmt_1 = unixFmt;\n\nconst units$1 = ['year', 'season', 'quarter', 'month', 'week', 'day', 'quarterHour', 'hour', 'minute'];\n\nconst doUnit = function(s, k) {\n  let start = s.clone().startOf(k);\n  let end = s.clone().endOf(k);\n  let duration = end.epoch - start.epoch;\n  let percent = (s.epoch - start.epoch) / duration;\n  return parseFloat(percent.toFixed(2))\n};\n\n//how far it is along, from 0-1\nconst progress = (s, unit) => {\n  if (unit) {\n    unit = fns.normalize(unit);\n    return doUnit(s, unit)\n  }\n  let obj = {};\n  units$1.forEach(k => {\n    obj[k] = doUnit(s, k);\n  });\n  return obj\n};\n\nvar progress_1 = progress;\n\n//round to either current, or +1 of this unit\nconst nearest = (s, unit) => {\n  //how far have we gone?\n  let prog = s.progress();\n  unit = fns.normalize(unit);\n  //fix camel-case for this one\n  if (unit === 'quarterhour') {\n    unit = 'quarterHour';\n  }\n  if (prog[unit] !== undefined) {\n    // go forward one?\n    if (prog[unit] > 0.5) {\n      s = s.add(1, unit);\n    }\n    // go to start\n    s = s.startOf(unit);\n  } else if (s.silent === false) {\n    console.warn(\"no known unit '\" + unit + \"'\");\n  }\n  return s\n};\nvar nearest_1 = nearest;\n\n//increment until dates are the same\nconst climb = (a, b, unit) => {\n  let i = 0;\n  a = a.clone();\n  while (a.isBefore(b)) {\n    //do proper, expensive increment to catch all-the-tricks\n    a = a.add(1, unit);\n    i += 1;\n  }\n  //oops, we went too-far..\n  if (a.isAfter(b, unit)) {\n    i -= 1;\n  }\n  return i\n};\n\n// do a thurough +=1 on the unit, until they match\n// for speed-reasons, only used on day, month, week.\nconst diffOne = (a, b, unit) => {\n  if (a.isBefore(b)) {\n    return climb(a, b, unit)\n  } else {\n    return climb(b, a, unit) * -1 //reverse it\n  }\n};\n\nvar one = diffOne;\n\n// don't do anything too fancy here.\n// 2020 - 2019 may be 1 year, or 0 years\n// - '1 year difference' means 366 days during a leap year\nconst fastYear = (a, b) => {\n  let years = b.year() - a.year();\n  // should we decrement it by 1?\n  a = a.year(b.year());\n  if (a.isAfter(b)) {\n    years -= 1;\n  }\n  return years\n};\n\n// use a waterfall-method for computing a diff of any 'pre-knowable' units\n// compute years, then compute months, etc..\n// ... then ms-math for any very-small units\nconst diff = function(a, b) {\n  // an hour is always the same # of milliseconds\n  // so these units can be 'pre-calculated'\n  let msDiff = b.epoch - a.epoch;\n  let obj = {\n    milliseconds: msDiff,\n    seconds: parseInt(msDiff / 1000, 10)\n  };\n  obj.minutes = parseInt(obj.seconds / 60, 10);\n  obj.hours = parseInt(obj.minutes / 60, 10);\n\n  //do the year\n  let tmp = a.clone();\n  obj.years = fastYear(tmp, b);\n  tmp = a.add(obj.years, 'year');\n\n  //there's always 12 months in a year...\n  obj.months = obj.years * 12;\n  tmp = a.add(obj.months, 'month');\n  obj.months += one(tmp, b, 'month');\n\n  // there's always atleast 52 weeks in a year..\n  // (month * 4) isn't as close\n  obj.weeks = obj.years * 52;\n  tmp = a.add(obj.weeks, 'week');\n  obj.weeks += one(tmp, b, 'week');\n\n  // there's always atleast 7 days in a week\n  obj.days = obj.weeks * 7;\n  tmp = a.add(obj.days, 'day');\n  obj.days += one(tmp, b, 'day');\n\n  return obj\n};\nvar waterfall = diff;\n\nconst reverseDiff = function(obj) {\n  Object.keys(obj).forEach(k => {\n    obj[k] *= -1;\n  });\n  return obj\n};\n\n// this method counts a total # of each unit, between a, b.\n// '1 month' means 28 days in february\n// '1 year' means 366 days in a leap year\nconst main = function(a, b, unit) {\n  b = fns.beADate(b, a);\n  //reverse values, if necessary\n  let reversed = false;\n  if (a.isAfter(b)) {\n    let tmp = a;\n    a = b;\n    b = tmp;\n    reversed = true;\n  }\n  //compute them all (i know!)\n  let obj = waterfall(a, b);\n  if (reversed) {\n    obj = reverseDiff(obj);\n  }\n  //return just the requested unit\n  if (unit) {\n    //make sure it's plural-form\n    unit = fns.normalize(unit);\n    if (/s$/.test(unit) !== true) {\n      unit += 's';\n    }\n    if (unit === 'dates') {\n      unit = 'days';\n    }\n    return obj[unit]\n  }\n  return obj\n};\n\nvar diff$1 = main;\n\n//by spencermountain + Shaun Grady\n\n//our conceptual 'break-points' for each unit\nconst qualifiers = {\n  months: {\n    almost: 10,\n    over: 4\n  },\n  days: {\n    almost: 25,\n    over: 10\n  },\n  hours: {\n    almost: 20,\n    over: 8\n  },\n  minutes: {\n    almost: 50,\n    over: 20\n  },\n  seconds: {\n    almost: 50,\n    over: 20\n  }\n};\n\n//get number of hours/minutes... between the two dates\nfunction getDiff(a, b) {\n  const isBefore = a.isBefore(b);\n  const later = isBefore ? b : a;\n  let earlier = isBefore ? a : b;\n  earlier = earlier.clone();\n  const diff = {\n    years: 0,\n    months: 0,\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0\n  };\n  Object.keys(diff).forEach(unit => {\n    if (earlier.isSame(later, unit)) {\n      return\n    }\n    let max = earlier.diff(later, unit);\n    earlier = earlier.add(max, unit);\n    diff[unit] = max;\n  });\n\n  //reverse it, if necessary\n  if (isBefore) {\n    Object.keys(diff).forEach(u => {\n      if (diff[u] !== 0) {\n        diff[u] *= -1;\n      }\n    });\n  }\n  return diff\n}\n\n// Expects a plural unit arg\nfunction pluralize(value, unit) {\n  if (value === 1) {\n    unit = unit.slice(0, -1);\n  }\n  return value + ' ' + unit\n}\n\n//create the human-readable diff between the two dates\nconst since = (start, end) => {\n  end = fns.beADate(end, start);\n  const diff = getDiff(start, end);\n  const isNow = Object.keys(diff).every(u => !diff[u]);\n  if (isNow === true) {\n    return {\n      diff,\n      rounded: 'now',\n      qualified: 'now',\n      precise: 'now'\n    }\n  }\n  let rounded;\n  let qualified;\n  let precise;\n  let englishValues = [];\n\n  //go through each value and create its text-representation\n  Object.keys(diff).forEach((unit, i, units) => {\n    const value = Math.abs(diff[unit]);\n    if (value === 0) {\n      return\n    }\n    const englishValue = pluralize(value, unit);\n    englishValues.push(englishValue);\n    if (!rounded) {\n      rounded = qualified = englishValue;\n      if (i > 4) {\n        return\n      }\n      //is it a 'almost' something, etc?\n      const nextUnit = units[i + 1];\n      const nextValue = Math.abs(diff[nextUnit]);\n      if (nextValue > qualifiers[nextUnit].almost) {\n        rounded = pluralize(value + 1, unit);\n        qualified = 'almost ' + rounded;\n      } else if (nextValue > qualifiers[nextUnit].over) qualified = 'over ' + englishValue;\n    }\n  });\n  //make them into a string\n  precise = englishValues.splice(0, 2).join(', ');\n  //handle before/after logic\n  if (start.isAfter(end) === true) {\n    rounded += ' ago';\n    qualified += ' ago';\n    precise += ' ago';\n  } else {\n    rounded = 'in ' + rounded;\n    qualified = 'in ' + qualified;\n    precise = 'in ' + precise;\n  }\n  return {\n    diff,\n    rounded,\n    qualified,\n    precise\n  }\n};\n\nvar since_1 = since;\n\n//https://www.timeanddate.com/calendar/aboutseasons.html\n// Spring - from March 1 to May 31;\n// Summer - from June 1 to August 31;\n// Fall (autumn) - from September 1 to November 30; and,\n// Winter - from December 1 to February 28 (February 29 in a leap year).\nvar seasons = {\n  north: [\n    ['spring', 2, 1], //spring march 1\n    ['summer', 5, 1], //june 1\n    ['fall', 8, 1], //sept 1\n    ['autumn', 8, 1], //sept 1\n    ['winter', 11, 1] //dec 1\n  ],\n  south: [\n    ['fall', 2, 1], //march 1\n    ['autumn', 2, 1], //march 1\n    ['winter', 5, 1], //june 1\n    ['spring', 8, 1], //sept 1\n    ['summer', 11, 1] //dec 1\n  ]\n};\n\nvar quarters = [\n  null,\n  [0, 1], //jan 1\n  [3, 1], //apr 1\n  [6, 1], //july 1\n  [9, 1] //oct 1\n];\n\nconst units$2 = {\n  minute: s => {\n    walk_1(s, {\n      second: 0,\n      millisecond: 0\n    });\n    return s\n  },\n  quarterhour: s => {\n    let minute = s.minutes();\n    if (minute >= 45) {\n      s = s.minutes(45);\n    } else if (minute >= 30) {\n      s = s.minutes(30);\n    } else if (minute >= 15) {\n      s = s.minutes(15);\n    } else {\n      s = s.minutes(0);\n    }\n    walk_1(s, {\n      second: 0,\n      millisecond: 0\n    });\n    return s\n  },\n  hour: s => {\n    walk_1(s, {\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s\n  },\n  day: s => {\n    walk_1(s, {\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s\n  },\n  week: s => {\n    let original = s.clone();\n    s = s.day(s._weekStart); //monday\n    if (s.isAfter(original)) {\n      s = s.subtract(1, 'week');\n    }\n    walk_1(s, {\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s\n  },\n  month: s => {\n    walk_1(s, {\n      date: 1,\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s\n  },\n  quarter: s => {\n    let q = s.quarter();\n    if (quarters[q]) {\n      walk_1(s, {\n        month: quarters[q][0],\n        date: quarters[q][1],\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n    }\n    return s\n  },\n  season: s => {\n    let current = s.season();\n    let hem = 'north';\n    if (s.hemisphere() === 'South') {\n      hem = 'south';\n    }\n    for (let i = 0; i < seasons[hem].length; i++) {\n      if (seasons[hem][i][0] === current) {\n        //winter goes between years\n        let year = s.year();\n        if (current === 'winter' && s.month() < 3) {\n          year -= 1;\n        }\n        walk_1(s, {\n          year,\n          month: seasons[hem][i][1],\n          date: seasons[hem][i][2],\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        });\n        return s\n      }\n    }\n    return s\n  },\n  year: s => {\n    walk_1(s, {\n      month: 0,\n      date: 1,\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    });\n    return s\n  },\n  decade: s => {\n    s = s.startOf('year');\n    let year = s.year();\n    let decade = parseInt(year / 10, 10) * 10;\n    s = s.year(decade);\n    return s\n  },\n  century: s => {\n    s = s.startOf('year');\n    let year = s.year();\n    // near 0AD goes '-1 | +1'\n    let decade = parseInt(year / 100, 10) * 100;\n    s = s.year(decade);\n    return s\n  }\n};\nunits$2.date = units$2.day;\n\nconst startOf = (a, unit) => {\n  let s = a.clone();\n  unit = fns.normalize(unit);\n  if (units$2[unit]) {\n    return units$2[unit](s)\n  }\n  if (unit === 'summer' || unit === 'winter') {\n    s = s.season(unit);\n    return units$2.season(s)\n  }\n  return s\n};\n\n//piggy-backs off startOf\nconst endOf = (a, unit) => {\n  let s = a.clone();\n  unit = fns.normalize(unit);\n  if (units$2[unit]) {\n    s = units$2[unit](s);\n    s = s.add(1, unit);\n    s = s.subtract(1, 'milliseconds');\n    return s\n  }\n  return s\n};\nvar startOf_1 = {\n  startOf,\n  endOf\n};\n\n//is it 'wednesday'?\nconst isDay = function(unit) {\n  if (days.short().find(s => s === unit)) {\n    return true\n  }\n  if (days.long().find(s => s === unit)) {\n    return true\n  }\n  return false\n};\n\n// return a list of the weeks/months/days between a -> b\n// returns spacetime objects in the timezone of the input\nconst every = function(start, unit = '', end) {\n  if (!unit || !end) {\n    return []\n  }\n  //cleanup unit param\n  unit = fns.normalize(unit);\n  //cleanup to param\n  end = start.clone().set(end);\n  //swap them, if they're backwards\n  if (start.isAfter(end)) {\n    let tmp = start;\n    start = end;\n    end = tmp;\n  }\n\n  //support 'every wednesday'\n  let d = start.clone();\n  if (isDay(unit)) {\n    d = d.next(unit);\n    unit = 'week';\n  } else {\n    d = d.next(unit);\n  }\n  //okay, actually start doing it\n  let result = [];\n  while (d.isBefore(end)) {\n    result.push(d);\n    d = d.add(1, unit);\n  }\n  return result\n};\nvar every_1 = every;\n\nconst parseDst = dst => {\n  if (!dst) {\n    return []\n  }\n  return dst.split('->')\n};\n\nconst titleCase = str => {\n  str = str[0].toUpperCase() + str.substr(1);\n  str = str.replace(/\\/gmt/, '/GMT');\n  str = str.replace(/[\\/_]([a-z])/gi, s => {\n    return s.toUpperCase()\n  });\n  return str\n};\n\n//get metadata about this timezone\nconst timezone = s => {\n  let zones = s.timezones;\n  let tz = s.tz;\n  if (zones.hasOwnProperty(tz) === false) {\n    tz = find(s.tz, zones);\n  }\n  if (tz === null) {\n    if (s.silent === false) {\n      console.warn(\"Warn: could not find given or local timezone - '\" + s.tz + \"'\");\n    }\n    return {\n      current: {\n        epochShift: 0\n      }\n    }\n  }\n  let found = zones[tz];\n  let result = {\n    name: titleCase(tz),\n    hasDst: Boolean(found.dst),\n    default_offset: found.offset,\n    //do north-hemisphere version as default (sorry!)\n    hemisphere: found.hem === 's' ? 'South' : 'North',\n    current: {}\n  };\n\n  if (result.hasDst) {\n    let arr = parseDst(found.dst);\n    result.change = {\n      start: arr[0],\n      back: arr[1]\n    };\n  }\n  //find the offsets for summer/winter times\n  //(these variable names are north-centric)\n  let summer = found.offset; // (july)\n  let winter = summer; // (january) assume it's the same for now\n  if (result.hasDst === true) {\n    if (result.hemisphere === 'North') {\n      winter = summer - 1;\n    } else {\n      //southern hemisphere\n      winter = found.offset + 1;\n    }\n  }\n\n  //find out which offset to use right now\n  //use 'summer' time july-time\n  if (result.hasDst === false) {\n    result.current.offset = summer;\n    result.current.isDST = false;\n  } else if (summerTime(s.epoch, result.change.start, result.change.back, summer) === true) {\n    result.current.offset = summer;\n    result.current.isDST = result.hemisphere === 'North'; //dst 'on' in winter in north\n  } else {\n    //use 'winter' january-time\n    result.current.offset = winter;\n    result.current.isDST = result.hemisphere === 'South'; //dst 'on' in summer in south\n  }\n  return result\n};\nvar timezone_1 = timezone;\n\nconst units$3 = [\n  'century',\n  'decade',\n  'year',\n  'month',\n  'date',\n  'day',\n  'hour',\n  'minute',\n  'second',\n  'millisecond'\n];\n\n//the spacetime instance methods (also, the API)\nconst methods = {\n  set: function(input$1, tz) {\n    let s = this.clone();\n    s = input(s, input$1);\n    if (tz) {\n      this.tz = find(tz);\n    }\n    return s\n  },\n  timezone: function() {\n    return timezone_1(this)\n  },\n  isDST: function() {\n    return timezone_1(this).current.isDST\n  },\n  hasDST: function() {\n    return timezone_1(this).hasDst\n  },\n  offset: function() {\n    return timezone_1(this).current.offset * 60\n  },\n  hemisphere: function() {\n    return timezone_1(this).hemisphere\n  },\n  format: function(fmt) {\n    return format_1(this, fmt)\n  },\n  unixFmt: function(fmt) {\n    return unixFmt_1(this, fmt)\n  },\n  startOf: function(unit) {\n    return startOf_1.startOf(this, unit)\n  },\n  endOf: function(unit) {\n    return startOf_1.endOf(this, unit)\n  },\n  leapYear: function() {\n    let year = this.year();\n    return fns.isLeapYear(year)\n  },\n  progress: function(unit) {\n    return progress_1(this, unit)\n  },\n  nearest: function(unit) {\n    return nearest_1(this, unit)\n  },\n  diff: function(d, unit) {\n    return diff$1(this, d, unit)\n  },\n  since: function(d) {\n    if (!d) {\n      d = this.clone().set();\n    }\n    return since_1(this, d)\n  },\n  next: function(unit) {\n    let s = this.add(1, unit);\n    return s.startOf(unit)\n  },\n  //the start of the previous year/week/century\n  last: function(unit) {\n    let s = this.subtract(1, unit);\n    return s.startOf(unit)\n  },\n  isValid: function() {\n    //null/undefined epochs\n    if (!this.epoch && this.epoch !== 0) {\n      return false\n    }\n    return !isNaN(this.d.getTime())\n  },\n  //travel to this timezone\n  goto: function(tz) {\n    let s = this.clone();\n    s.tz = find(tz, s.timezones); //science!\n    return s\n  },\n  //get each week/month/day between a -> b\n  every: function(unit, to) {\n    return every_1(this, unit, to)\n  },\n  isAwake: function() {\n    let hour = this.hour();\n    //10pm -> 8am\n    if (hour < 8 || hour > 22) {\n      return false\n    }\n    return true\n  },\n  isAsleep: function() {\n    return !this.isAwake()\n  },\n  //pretty-printing\n  log: function() {\n    console.log('');\n    console.log(format_1(this, 'nice-short'));\n    return this\n  },\n  logYear: function() {\n    console.log('');\n    console.log(format_1(this, 'full-short'));\n    return this\n  },\n  json: function() {\n    return units$3.reduce((h, unit) => {\n      h[unit] = this[unit]();\n      return h\n    }, {})\n  },\n  debug: function() {\n    let tz = this.timezone();\n    let date = this.format('MM') + ' ' + this.format('date-ordinal') + ' ' + this.year();\n    date += '\\n     - ' + this.format('time');\n    console.log('\\n\\n', date + '\\n     - ' + tz.name + ' (' + tz.current.offset + ')');\n    return this\n  },\n  //alias of 'since' but opposite - like moment.js\n  from: function(d) {\n    d = this.clone().set(d);\n    return d.since(this)\n  },\n  fromNow: function() {\n    let d = this.clone().set(Date.now());\n    return d.since(this)\n  },\n  weekStart: function(input) {\n    //accept a number directly\n    if (typeof input === 'number') {\n      this._weekStart = input;\n      return this\n    }\n    if (typeof input === 'string') {\n      // accept 'wednesday'\n      input = input.toLowerCase().trim();\n      let num = days.short().indexOf(input);\n      if (num === -1) {\n        num = days.long().indexOf(input);\n      }\n      if (num === -1) {\n        num = 1; //go back to default\n      }\n      this._weekStart = num;\n    } else {\n      console.warn('Spacetime Error: Cannot understand .weekStart() input:', input);\n    }\n    return this\n  }\n};\n// aliases\nmethods.inDST = methods.isDST;\nmethods.round = methods.nearest;\nmethods.each = methods.every;\nvar methods_1 = methods;\n\n// javascript setX methods like setDate() can't be used because of the local bias\n//these methods wrap around them.\n\n\n\n\n\nconst validate = n => {\n  //handle number as a string\n  if (typeof n === 'string') {\n    n = parseInt(n, 10);\n  }\n  return n\n};\n\nconst order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond'];\n\n//reduce hostile micro-changes when moving dates by millisecond\nconst confirm = (s, tmp, unit) => {\n  let n = order.indexOf(unit);\n  let arr = order.slice(n, order.length);\n  for (let i = 0; i < arr.length; i++) {\n    let want = tmp[arr[i]]();\n    s[arr[i]](want);\n  }\n  return s\n};\n\nvar set = {\n  milliseconds: (s, n) => {\n    n = validate(n);\n    let current = s.millisecond();\n    let diff = current - n; //milliseconds to shift by\n    return s.epoch - diff\n  },\n\n  seconds: (s, n) => {\n    n = validate(n);\n    let diff = s.second() - n;\n    let shift = diff * milliseconds.second;\n    return s.epoch - shift\n  },\n\n  minutes: (s, n) => {\n    n = validate(n);\n    let old = s.clone();\n    let diff = s.minute() - n;\n    let shift = diff * milliseconds.minute;\n    s.epoch -= shift;\n    confirm(s, old, 'second');\n    return s.epoch\n  },\n\n  hours: (s, n) => {\n    n = validate(n);\n    if (n >= 24) {\n      n = 24;\n    } else if (n < 0) {\n      n = 0;\n    }\n    let old = s.clone();\n    let diff = s.hour() - n;\n    let shift = diff * milliseconds.hour;\n    s.epoch -= shift;\n    walk_1(s, {\n      hour: n\n    });\n    confirm(s, old, 'minute');\n    return s.epoch\n  },\n\n  //support setting time by '4:25pm' - this isn't very-well developed..\n  time: (s, str) => {\n    let m = str.match(/([0-9]{1,2}):([0-9]{1,2})(am|pm)?/);\n    if (!m) {\n      //fallback to support just '2am'\n      m = str.match(/([0-9]{1,2})(am|pm)/);\n      if (!m) {\n        return s.epoch\n      }\n      m.splice(2, 0, '0'); //add implicit 0 minutes\n    }\n    let h24 = false;\n    let hour = parseInt(m[1], 10);\n    let minute = parseInt(m[2], 10);\n    if (hour > 12) {\n      h24 = true;\n    }\n    //make the hour into proper 24h time\n    if (h24 === false) {\n      if (m[3] === 'am' && hour === 12) {\n        //12am is midnight\n        hour = 0;\n      }\n      if (m[3] === 'pm' && hour < 12) {\n        //12pm is noon\n        hour += 12;\n      }\n    }\n    s = s.hour(hour);\n    s = s.minute(minute);\n    s = s.second(0);\n    s = s.millisecond(0);\n    return s.epoch\n  },\n\n  date: (s, n) => {\n    n = validate(n);\n    //avoid setting february 31st\n    if (n > 28) {\n      const max = monthLengths_1[s.month()];\n      if (n > max) {\n        n = max;\n      }\n    }\n    //avoid setting < 0\n    if (n <= 0) {\n      n = 1;\n    }\n    walk_1(s, {\n      date: n\n    });\n    return s.epoch\n  },\n\n  //this one's tricky\n  month: (s, n) => {\n    if (typeof n === 'string') {\n      n = months.mapping()[n.toLowerCase()];\n    }\n    n = validate(n);\n    //don't go past december\n    if (n >= 12) {\n      n = 11;\n    }\n    if (n <= 0) {\n      n = 0;\n    }\n\n    let date = s.date();\n    //there's no 30th of february, etc.\n    if (date > monthLengths_1[n]) {\n      //make it as close as we can..\n      date = monthLengths_1[n];\n    }\n    walk_1(s, {\n      month: n,\n      date\n    });\n    return s.epoch\n  },\n\n  year: (s, n) => {\n    n = validate(n);\n    walk_1(s, {\n      year: n\n    });\n    return s.epoch\n  },\n\n  dayOfYear: (s, n) => {\n    n = validate(n);\n    let old = s.clone();\n    n -= 1; //days are 1-based\n    if (n <= 0) {\n      n = 0;\n    } else if (n >= 365) {\n      n = 364;\n    }\n    s = s.startOf('year');\n    s = s.add(n, 'day');\n    confirm(s, old, 'hour');\n    return s.epoch\n  }\n};\n\nconst methods$1 = {\n  millisecond: function(num) {\n    if (num !== undefined) {\n      let s = this.clone();\n      s.epoch = set.milliseconds(s, num);\n      return s\n    }\n    return this.d.getMilliseconds()\n  },\n  second: function(num) {\n    if (num !== undefined) {\n      let s = this.clone();\n      s.epoch = set.seconds(s, num);\n      return s\n    }\n    return this.d.getSeconds()\n  },\n  minute: function(num) {\n    if (num !== undefined) {\n      let s = this.clone();\n      s.epoch = set.minutes(s, num);\n      return s\n    }\n    return this.d.getMinutes()\n  },\n  hour: function(num) {\n    let d = this.d;\n    if (num !== undefined) {\n      let s = this.clone();\n      s.epoch = set.hours(s, num);\n      return s\n    }\n    return d.getHours()\n  },\n\n  //'3:30' is 3.5\n  hourFloat: function(num) {\n    if (num !== undefined) {\n      let s = this.clone();\n      let minute = num % 1;\n      minute = minute * 60;\n      let hour = parseInt(num, 10);\n      s.epoch = set.hours(s, hour);\n      s.epoch = set.minutes(s, minute);\n      return s\n    }\n    let d = this.d;\n    let hour = d.getHours();\n    let minute = d.getMinutes();\n    minute = minute / 60;\n    return hour + minute\n  },\n\n  // hour in 12h format\n  hour12: function(str) {\n    let d = this.d;\n    if (str !== undefined) {\n      let s = this.clone();\n      str = '' + str;\n      let m = str.match(/^([0-9]+)(am|pm)$/);\n      if (m) {\n        let hour = parseInt(m[1], 10);\n        if (m[2] === 'pm') {\n          hour += 12;\n        }\n        s.epoch = set.hours(s, hour);\n      }\n      return s\n    }\n    //get the hour\n    let hour12 = d.getHours();\n    if (hour12 > 12) {\n      hour12 = hour12 - 12;\n    }\n    if (hour12 === 0) {\n      hour12 = 12;\n    }\n    return hour12\n  },\n\n  //some ambiguity here with 12/24h\n  time: function(str) {\n    if (str !== undefined) {\n      let s = this.clone();\n      s.epoch = set.time(s, str);\n      return s\n    }\n    return `${this.h12()}:${fns.zeroPad(this.minute())}${this.ampm()}`\n  },\n\n  // either 'am' or 'pm'\n  ampm: function(input) {\n    let which = 'am';\n    let hour = this.hour();\n    if (hour >= 12) {\n      which = 'pm';\n    }\n    if (typeof input !== 'string') {\n      return which\n    }\n    //okay, we're doing a setter\n    let s = this.clone();\n    input = input.toLowerCase().trim();\n    //ampm should never change the day\n    // - so use `.hour(n)` instead of `.minus(12,'hour')`\n    if (hour >= 12 && input === 'am') {\n      //noon is 12pm\n      hour -= 12;\n      return s.hour(hour)\n    }\n    if (hour < 12 && input === 'pm') {\n      hour += 12;\n      return s.hour(hour)\n    }\n    return s\n  },\n\n  //some hard-coded times of day, like 'noon'\n  dayTime: function(str) {\n    if (str !== undefined) {\n      const times = {\n        morning: '7:00am',\n        breakfast: '7:00am',\n        noon: '12:00am',\n        lunch: '12:00pm',\n        afternoon: '2:00pm',\n        evening: '6:00pm',\n        dinner: '6:00pm',\n        night: '11:00pm',\n        midnight: '23:59pm'\n      };\n      let s = this.clone();\n      str = str || '';\n      str = str.toLowerCase();\n      if (times.hasOwnProperty(str) === true) {\n        s = s.time(times[str]);\n      }\n      return s\n    }\n    let h = this.hour();\n    if (h < 6) {\n      return 'night'\n    }\n    if (h < 12) {\n      //until noon\n      return 'morning'\n    }\n    if (h < 17) {\n      //until 5pm\n      return 'afternoon'\n    }\n    if (h < 22) {\n      //until 10pm\n      return 'evening'\n    }\n    return 'night'\n  },\n\n  //parse a proper iso string\n  iso: function(num) {\n    if (num !== undefined) {\n      return this.set(num)\n    }\n    return this.format('iso')\n  }\n};\nvar _01Time = methods$1;\n\nconst methods$2 = {\n  // # day in the month\n  date: function(num) {\n    if (num !== undefined) {\n      let s = this.clone();\n      s.epoch = set.date(s, num);\n      return s\n    }\n    return this.d.getDate()\n  },\n\n  //like 'wednesday' (hard!)\n  day: function(input) {\n    if (input === undefined) {\n      return this.d.getDay()\n    }\n    let original = this.clone();\n    let want = input;\n    // accept 'wednesday'\n    if (typeof input === 'string') {\n      input = input.toLowerCase();\n      want = days.short().indexOf(input);\n      if (want === -1) {\n        want = days.long().indexOf(input);\n      }\n    }\n    //move approx\n    let day = this.d.getDay();\n    let diff = day - want;\n    let s = this.subtract(diff * 24, 'hours');\n    //tighten it back up\n    walk_1(s, {\n      hour: original.hour(),\n      minute: original.minute(),\n      second: original.second()\n    });\n    return s\n  },\n\n  //these are helpful name-wrappers\n  dayName: function(input) {\n    if (input === undefined) {\n      return days.long()[this.day()]\n    }\n    let s = this.clone();\n    s = s.day(input);\n    return s\n  },\n\n  //either name or number\n  month: function(input) {\n    if (input !== undefined) {\n      let s = this.clone();\n      s.epoch = set.month(s, input);\n      return s\n    }\n    return this.d.getMonth()\n  }\n};\nvar _02Date = methods$2;\n\nconst clearMinutes = s => {\n  s = s.minute(0);\n  s = s.second(0);\n  s = s.millisecond(1);\n  return s\n};\n\nconst methods$3 = {\n  // day 0-366\n  dayOfYear: function(num) {\n    if (num !== undefined) {\n      let s = this.clone();\n      s.epoch = set.dayOfYear(s, num);\n      return s\n    }\n    //days since newyears - jan 1st is 1, jan 2nd is 2...\n    let sum = 0;\n    let month = this.d.getMonth();\n    let tmp;\n    //count the num days in each month\n    for (let i = 1; i <= month; i++) {\n      tmp = new Date();\n      tmp.setDate(1);\n      tmp.setFullYear(this.d.getFullYear()); //the year matters, because leap-years\n      tmp.setHours(1);\n      tmp.setMinutes(1);\n      tmp.setMonth(i);\n      tmp.setHours(-2); //the last day of the month\n      sum += tmp.getDate();\n    }\n    return sum + this.d.getDate()\n  },\n\n  //since the start of the year\n  week: function(num) {\n    // week-setter\n    if (num !== undefined) {\n      let s = this.clone();\n      s = s.month(0);\n      s = s.date(1);\n      s = s.day('monday');\n      s = clearMinutes(s);\n      //don't go into last-year\n      if (s.monthName() === 'december') {\n        s = s.add(1, 'week');\n      }\n      num -= 1; //1-based\n      s = s.add(num, 'weeks');\n      return s\n    }\n    //find-out which week it is\n    let tmp = this.clone();\n    tmp = tmp.month(0);\n    tmp = tmp.date(1);\n    tmp = clearMinutes(tmp);\n    tmp = tmp.day('monday');\n    //don't go into last-year\n    if (tmp.monthName() === 'december') {\n      tmp = tmp.add(1, 'week');\n    }\n    // is first monday the 1st?\n    let toAdd = 1;\n    if (tmp.date() === 1) {\n      toAdd = 0;\n    }\n    tmp = tmp.minus(1, 'second');\n    const thisOne = this.epoch;\n    //if the week technically hasn't started yet\n    if (tmp.epoch > thisOne) {\n      return 1\n    }\n    //speed it up, if we can\n    let i = 0;\n    let skipWeeks = this.month() * 4;\n    tmp.epoch += milliseconds.week * skipWeeks;\n    i += skipWeeks;\n    for (; i < 52; i++) {\n      if (tmp.epoch > thisOne) {\n        return i + toAdd\n      }\n      tmp = tmp.add(1, 'week');\n    }\n    return 52\n  },\n\n  //'january'\n  monthName: function(input) {\n    if (input === undefined) {\n      return months.long()[this.month()]\n    }\n    let s = this.clone();\n    s = s.month(input);\n    return s\n  },\n\n  //q1, q2, q3, q4\n  quarter: function(num) {\n    if (num !== undefined) {\n      if (typeof num === 'string') {\n        num = num.replace(/^q/i, '');\n        num = parseInt(num, 10);\n      }\n      if (quarters[num]) {\n        let s = this.clone();\n        let month = quarters[num][0];\n        s = s.month(month);\n        s = s.date(1);\n        s = s.startOf('day');\n        return s\n      }\n    }\n    let month = this.d.getMonth();\n    for (let i = 1; i < quarters.length; i++) {\n      if (month < quarters[i][0]) {\n        return i - 1\n      }\n    }\n    return 4\n  },\n\n  //spring, summer, winter, fall\n  season: function(input) {\n    let hem = 'north';\n    if (this.hemisphere() === 'South') {\n      hem = 'south';\n    }\n    if (input !== undefined) {\n      let s = this.clone();\n      for (let i = 0; i < seasons[hem].length; i++) {\n        if (input === seasons[hem][i][0]) {\n          s = s.month(seasons[hem][i][1]);\n          s = s.date(1);\n          s = s.startOf('day');\n        }\n      }\n      return s\n    }\n    let month = this.d.getMonth();\n    for (let i = 0; i < seasons[hem].length - 1; i++) {\n      if (month >= seasons[hem][i][1] && month < seasons[hem][i + 1][1]) {\n        return seasons[hem][i][0]\n      }\n    }\n    return 'winter'\n  },\n\n  //the year number\n  year: function(num) {\n    if (num !== undefined) {\n      let s = this.clone();\n      s.epoch = set.year(s, num);\n      return s\n    }\n    return this.d.getFullYear()\n  },\n\n  //bc/ad years\n  era: function(str) {\n    if (str !== undefined) {\n      let s = this.clone();\n      str = str.toLowerCase();\n      //TODO: there is no year-0AD i think. may have off-by-1 error here\n      let year = s.d.getFullYear();\n      //make '1992' into 1992bc..\n      if (str === 'bc' && year > 0) {\n        s.epoch = set.year(s, year * -1);\n      }\n      //make '1992bc' into '1992'\n      if (str === 'ad' && year < 0) {\n        s.epoch = set.year(s, year * -1);\n      }\n      return s\n    }\n    if (this.d.getFullYear() < 0) {\n      return 'BC'\n    }\n    return 'AD'\n  },\n\n  // 2019 -> 2010\n  decade: function(input) {\n    if (input !== undefined) {\n      input = String(input);\n      input = input.replace(/([0-9])'?s$/, '$1'); //1950's\n      input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n      if (!input) {\n        console.warn('Spacetime: Invalid decade input');\n        return this\n      }\n      // assume 20th century?? for '70s'.\n      if (input.length === 2 && /[0-9][0-9]/.test(input)) {\n        input = '19' + input;\n      }\n      let year = Number(input);\n      if (isNaN(year)) {\n        return this\n      }\n      // round it down to the decade\n      year = Math.floor(year / 10) * 10;\n      return this.year(year) //.startOf('decade')\n    }\n    return this.startOf('decade').year()\n  },\n  // 1950 -> 19+1\n  century: function(input) {\n    if (input !== undefined) {\n      if (typeof input === 'string') {\n        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n        input = input.replace(/([0-9]+) ?(b\\.?c\\.?|a\\.?d\\.?)/i, (a, b, c) => {\n          if (c.match(/b\\.?c\\.?/i)) {\n            b = '-' + b;\n          }\n          return b\n        });\n        input = input.replace(/c$/, ''); //20thC\n      }\n      let year = Number(input);\n      if (isNaN(input)) {\n        console.warn('Spacetime: Invalid century input');\n        return this\n      }\n      // there is no century 0\n      if (year === 0) {\n        year = 1;\n      }\n      if (year >= 0) {\n        year = (year - 1) * 100;\n      } else {\n        year = (year + 1) * 100;\n      }\n      return this.year(year)\n    }\n    // century getter\n    let num = this.startOf('century').year();\n    num = Math.floor(num / 100);\n    if (num < 0) {\n      return num - 1\n    }\n    return num + 1\n  },\n  // 2019 -> 2+1\n  millenium: function(input) {\n    if (input !== undefined) {\n      if (typeof input === 'string') {\n        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n        input = Number(input);\n        if (isNaN(input)) {\n          console.warn('Spacetime: Invalid millenium input');\n          return this\n        }\n      }\n      if (input > 0) {\n        input -= 1;\n      }\n      let year = input * 1000;\n      // there is no year 0\n      if (year === 0) {\n        year = 1;\n      }\n      return this.year(year)\n    }\n    // get the current millenium\n    let num = Math.floor(this.year() / 1000);\n    if (num >= 0) {\n      num += 1;\n    }\n    return num\n  }\n};\nvar _03Year = methods$3;\n\nconst methods$4 = Object.assign({}, _01Time, _02Date, _03Year);\n\n//aliases\nmethods$4.milliseconds = methods$4.millisecond;\nmethods$4.seconds = methods$4.second;\nmethods$4.minutes = methods$4.minute;\nmethods$4.hours = methods$4.hour;\nmethods$4.hour24 = methods$4.hour;\nmethods$4.h12 = methods$4.hour12;\nmethods$4.h24 = methods$4.hour24;\nmethods$4.days = methods$4.day;\n\nconst addMethods = Space => {\n  //hook the methods into prototype\n  Object.keys(methods$4).forEach(k => {\n    Space.prototype[k] = methods$4[k];\n  });\n};\n\nvar query = addMethods;\n\nconst order$1 = ['millisecond', 'second', 'minute', 'hour', 'date', 'month'];\nlet keep = {\n  second: order$1.slice(0, 1),\n  minute: order$1.slice(0, 2),\n  quarterhour: order$1.slice(0, 2),\n  hour: order$1.slice(0, 3),\n  date: order$1.slice(0, 4),\n  month: order$1.slice(0, 4),\n  quarter: order$1.slice(0, 4),\n  season: order$1.slice(0, 4),\n  year: order$1,\n  decade: order$1,\n  century: order$1\n};\nkeep.week = keep.hour;\nkeep.season = keep.date;\nkeep.quarter = keep.date;\n\n// Units need to be dst adjuested\nconst dstAwareUnits = {\n  year: true,\n  quarter: true,\n  season: true,\n  month: true,\n  week: true,\n  day: true\n};\n\nconst keepDate = {\n  month: true,\n  quarter: true,\n  season: true,\n  year: true\n};\n//month is the only thing we 'model/compute'\n//- because ms-shifting can be off by enough\nconst rollMonth = (want, old) => {\n  //increment year\n  if (want.month > 0) {\n    let years = parseInt(want.month / 12, 10);\n    want.year = old.year() + years;\n    want.month = want.month % 12;\n  } else if (want.month < 0) {\n    //decrement year\n    let years = Math.floor(Math.abs(want.month) / 13, 10);\n    years = Math.abs(years) + 1;\n    want.year = old.year() - years;\n    //ignore extras\n    want.month = want.month % 12;\n    want.month = want.month + 12;\n    if (want.month === 12) {\n      want.month = 0;\n    }\n  }\n  return want\n};\n\nconst addMethods$1 = SpaceTime => {\n  SpaceTime.prototype.add = function(num, unit) {\n    let s = this.clone();\n    if (!unit || num === 0) {\n      return s //don't bother\n    }\n    let old = this.clone();\n    unit = fns.normalize(unit);\n    //move forward by the estimated milliseconds (rough)\n    if (milliseconds[unit]) {\n      s.epoch += milliseconds[unit] * num;\n    } else if (unit === 'week') {\n      s.epoch += milliseconds.day * (num * 7);\n    } else if (unit === 'quarter' || unit === 'season') {\n      s.epoch += milliseconds.month * (num * 4);\n    } else if (unit === 'season') {\n      s.epoch += milliseconds.month * (num * 4);\n    } else if (unit === 'quarterhour') {\n      s.epoch += milliseconds.minute * 15 * num;\n    }\n    //now ensure our milliseconds/etc are in-line\n    let want = {};\n    if (keep[unit]) {\n      keep[unit].forEach(u => {\n        want[u] = old[u]();\n      });\n    }\n\n    if (dstAwareUnits[unit]) {\n      const diff = old.timezone().current.offset - s.timezone().current.offset;\n      s.epoch += diff * 3600 * 1000;\n    }\n\n    //ensure month/year has ticked-over\n    if (unit === 'month') {\n      want.month = old.month() + num;\n      //month is the one unit we 'model' directly\n      want = rollMonth(want, old);\n    }\n    //support coercing a week, too\n    if (unit === 'week') {\n      let sum = old.date() + num * 7;\n      if (sum <= 28 && sum > 1) {\n        want.date = sum;\n      }\n    }\n    //support 25-hour day-changes on dst-changes\n    else if (unit === 'date') {\n      //specify a naive date number, if it's easy to do...\n      let sum = old.date() + num;\n      if (sum <= 28 && sum > 1) {\n        want.date = sum;\n      }\n      //or if we haven't moved at all..\n      else if (num !== 0 && old.isSame(s, 'day')) {\n        want.date = old.date() + num;\n      }\n    }\n    //ensure year has changed (leap-years)\n    else if (unit === 'year' && s.year() === old.year()) {\n      s.epoch += milliseconds.week;\n    }\n    //these are easier\n    else if (unit === 'decade') {\n      want.year = s.year() + 10;\n    } else if (unit === 'century') {\n      want.year = s.year() + 100;\n    }\n    //keep current date, unless the month doesn't have it.\n    if (keepDate[unit]) {\n      let max = monthLengths_1[want.month];\n      want.date = old.date();\n      if (want.date > max) {\n        want.date = max;\n      }\n    }\n    walk_1(s, want);\n    return s\n  };\n\n  //subtract is only add *-1\n  SpaceTime.prototype.subtract = function(num, unit) {\n    let s = this.clone();\n    return s.add(num * -1, unit)\n  };\n  //add aliases\n  SpaceTime.prototype.minus = SpaceTime.prototype.subtract;\n  SpaceTime.prototype.plus = SpaceTime.prototype.add;\n};\n\nvar add = addMethods$1;\n\n//make a string, for easy comparison between dates\nconst print = {\n  millisecond: s => {\n    return s.epoch\n  },\n  second: s => {\n    return [s.year(), s.month(), s.date(), s.hour(), s.minute(), s.second()].join('-')\n  },\n  minute: s => {\n    return [s.year(), s.month(), s.date(), s.hour(), s.minute()].join('-')\n  },\n  hour: s => {\n    return [s.year(), s.month(), s.date(), s.hour()].join('-')\n  },\n  day: s => {\n    return [s.year(), s.month(), s.date()].join('-')\n  },\n  week: s => {\n    return [s.year(), s.week()].join('-')\n  },\n  month: s => {\n    return [s.year(), s.month()].join('-')\n  },\n  quarter: s => {\n    return [s.year(), s.quarter()].join('-')\n  },\n  year: s => {\n    return s.year()\n  }\n};\nprint.date = print.day;\n\nconst addMethods$2 = SpaceTime => {\n  SpaceTime.prototype.isSame = function(b, unit) {\n    let a = this;\n    if (!unit) {\n      return null\n    }\n    if (typeof b === 'string' || typeof b === 'number') {\n      b = new SpaceTime(b, this.timezone.name);\n    }\n    //support 'seconds' aswell as 'second'\n    unit = unit.replace(/s$/, '');\n\n    if (print[unit]) {\n      return print[unit](a) === print[unit](b)\n    }\n    return null\n  };\n};\n\nvar same = addMethods$2;\n\nconst addMethods$3 = SpaceTime => {\n  const methods = {\n    isAfter: function(d) {\n      d = fns.beADate(d, this);\n      let epoch = fns.getEpoch(d);\n      if (epoch === null) {\n        return null\n      }\n      return this.epoch > epoch\n    },\n    isBefore: function(d) {\n      d = fns.beADate(d, this);\n      let epoch = fns.getEpoch(d);\n      if (epoch === null) {\n        return null\n      }\n      return this.epoch < epoch\n    },\n    isEqual: function(d) {\n      d = fns.beADate(d, this);\n      let epoch = fns.getEpoch(d);\n      if (epoch === null) {\n        return null\n      }\n      return this.epoch === epoch\n    },\n    isBetween: function(start, end) {\n      start = fns.beADate(start, this);\n      end = fns.beADate(end, this);\n      let startEpoch = fns.getEpoch(start);\n      if (startEpoch === null) {\n        return null\n      }\n      let endEpoch = fns.getEpoch(end);\n      if (endEpoch === null) {\n        return null\n      }\n      return startEpoch < this.epoch && this.epoch < endEpoch\n    }\n  };\n\n  //hook them into proto\n  Object.keys(methods).forEach(k => {\n    SpaceTime.prototype[k] = methods[k];\n  });\n};\n\nvar compare = addMethods$3;\n\nconst addMethods$4 = SpaceTime => {\n  const methods = {\n    i18n: data => {\n      //change the day names\n      if (fns.isObject(data.days)) {\n        days.set(data.days);\n      }\n      //change the month names\n      if (fns.isObject(data.months)) {\n        months.set(data.months);\n      }\n    }\n  };\n\n  //hook them into proto\n  Object.keys(methods).forEach(k => {\n    SpaceTime.prototype[k] = methods[k];\n  });\n};\n\nvar i18n = addMethods$4;\n\nlet timezones = unpack;\n\n//fake timezone-support, for fakers (es5 class)\nconst SpaceTime = function(input$1, tz, options = {}) {\n  //the holy moment\n  this.epoch = null;\n  //the shift for the given timezone\n  this.tz = find(tz, timezones);\n  //whether to output warnings to console\n  this.silent = options.silent || true;\n  // favour british interpretation of 02/02/2018, etc\n  this.british = options.dmy || options.british;\n\n  //does the week start on sunday, or monday:\n  this._weekStart = 1; //default to monday\n  if (options.weekStart !== undefined) {\n    this._weekStart = options.weekStart;\n  }\n  //add getter/setters\n  Object.defineProperty(this, 'd', {\n    //return a js date object\n    get: function() {\n      let offset = quick(this);\n      //every computer is somewhere- get this computer's built-in offset\n      let bias = new Date(this.epoch).getTimezoneOffset() || 0;\n      //movement\n      let shift = bias + offset * 60; //in minutes\n      shift = shift * 60 * 1000; //in ms\n      //remove this computer's offset\n      let epoch = this.epoch + shift;\n      let d = new Date(epoch);\n      return d\n    }\n  });\n  //add this data on the object, to allow adding new timezones\n  Object.defineProperty(this, 'timezones', {\n    get: () => timezones,\n    set: obj => {\n      timezones = obj;\n      return obj\n    }\n  });\n  //parse the various formats\n  if (input$1 !== undefined || input$1 === null) {\n    let tmp = input(this, input$1, tz);\n    this.epoch = tmp.epoch;\n  }\n};\n\n//(add instance methods to prototype)\nObject.keys(methods_1).forEach(k => {\n  SpaceTime.prototype[k] = methods_1[k];\n});\n\n// ¯\\_(ツ)_/¯\nSpaceTime.prototype.clone = function() {\n  return new SpaceTime(this.epoch, this.tz, {\n    silent: this.silent,\n    weekStart: this._weekStart\n  })\n};\n\n//append more methods\nquery(SpaceTime);\nadd(SpaceTime);\nsame(SpaceTime);\ncompare(SpaceTime);\ni18n(SpaceTime);\n\nvar spacetime = SpaceTime;\n\n// const timezones = require('../data');\n\nconst whereIts = (a, b) => {\n  let start = new spacetime(null);\n  let end = new spacetime(null);\n  start = start.time(a);\n  //if b is undefined, use as 'within one hour'\n  if (b) {\n    end = end.time(b);\n  } else {\n    end = start.add(59, 'minutes');\n  }\n\n  let startHour = start.hour();\n  let endHour = end.hour();\n  let tzs = Object.keys(start.timezones).filter(tz => {\n    if (tz.indexOf('/') === -1) {\n      return false\n    }\n    let m = new spacetime(null, tz);\n    let hour = m.hour();\n    //do 'calendar-compare' not real-time-compare\n    if (hour >= startHour && hour <= endHour) {\n      //test minutes too, if applicable\n      if (hour === startHour && m.minute() < start.minute()) {\n        return false\n      }\n      if (hour === endHour && m.minute() > end.minute()) {\n        return false\n      }\n      return true\n    }\n    return false\n  });\n  return tzs\n};\nvar whereIts_1 = whereIts;\n\nvar _version = '6.3.0';\n\nconst main$1 = (input, tz, options) => new spacetime(input, tz, options);\n\n//some helper functions on the main method\nmain$1.now = (tz, options) => new spacetime(new Date().getTime(), tz, options);\nmain$1.today = (tz, options) => {\n  let s = new spacetime(new Date().getTime(), tz, options);\n  return s.startOf('day')\n};\nmain$1.tomorrow = (tz, options) => {\n  let s = new spacetime(new Date().getTime(), tz, options);\n  return s.add(1, 'day').startOf('day')\n};\nmain$1.yesterday = (tz, options) => {\n  let s = new spacetime(new Date().getTime(), tz, options);\n  return s.subtract(1, 'day').startOf('day')\n};\nmain$1.extend = function(obj) {\n  Object.keys(obj).forEach(k => {\n    spacetime.prototype[k] = obj[k];\n  });\n  return this\n};\n//find tz by time\nmain$1.whereIts = whereIts_1;\nmain$1.version = _version;\n\n//aliases:\nmain$1.plugin = main$1.extend;\nvar src = main$1;\n\nexport default src;\n","// some opinionated-but-common-sense timezone abbreviations\n// these timezone abbreviations are wholly made-up by me, Spencer Kelly, with no expertise in geography\n// generated humbly from https://github.com/spencermountain/spacetime-informal\nconst spacetime = require('spacetime')\n\nconst america = 'America/'\nconst asia = 'Asia/'\nconst europe = 'Europe/'\nconst africa = 'Africa/'\nconst aus = 'Australia/'\nconst pac = 'Pacific/'\n\nconst informal = {\n  //europe\n  'british summer time': europe + 'London',\n  bst: europe + 'London',\n  'british time': europe + 'London',\n  'britain time': europe + 'London',\n  'irish summer time': europe + 'Dublin',\n  'irish time': europe + 'Dublin',\n  ireland: europe + 'Dublin',\n  'central european time': europe + 'Berlin',\n  cet: europe + 'Berlin',\n  'central european summer time': europe + 'Berlin',\n  cest: europe + 'Berlin',\n  'central europe': europe + 'Berlin',\n  'eastern european time': europe + 'Riga',\n  eet: europe + 'Riga',\n  'eastern european summer time': europe + 'Riga',\n  eest: europe + 'Riga',\n  'eastern europe time': europe + 'Riga',\n  'western european time': europe + 'Lisbon',\n  // wet: europe+'Lisbon',\n  'western european summer time': europe + 'Lisbon',\n  // west: europe+'Lisbon',\n  'western europe': europe + 'Lisbon',\n  'turkey standard time': europe + 'Istanbul',\n  trt: europe + 'Istanbul',\n  'turkish time': europe + 'Istanbul',\n\n  //africa\n  etc: africa + 'Freetown',\n  utc: africa + 'Freetown',\n  'greenwich standard time': africa + 'Freetown',\n  gmt: africa + 'Freetown',\n  'east africa time': africa + 'Nairobi',\n  // eat: africa+'Nairobi',\n  'east african time': africa + 'Nairobi',\n  'eastern africa time': africa + 'Nairobi',\n  'central africa time': africa + 'Khartoum',\n  // cat: africa+'Khartoum',\n  'central african time': africa + 'Khartoum',\n  'south africa standard time': africa + 'Johannesburg',\n  sast: africa + 'Johannesburg',\n  'southern africa': africa + 'Johannesburg',\n  'south african': africa + 'Johannesburg',\n  'west africa standard time': africa + 'Lagos',\n  // wat: africa+'Lagos',\n  'western africa time': africa + 'Lagos',\n  'west african time': africa + 'Lagos',\n\n  'australian central standard time': aus + 'Adelaide',\n  acst: aus + 'Adelaide',\n  'australian central daylight time': aus + 'Adelaide',\n  acdt: aus + 'Adelaide',\n  'australia central': aus + 'Adelaide',\n  'australian eastern standard time': aus + 'Brisbane',\n  aest: aus + 'Brisbane',\n  'australian eastern daylight time': aus + 'Brisbane',\n  aedt: aus + 'Brisbane',\n  'australia east': aus + 'Brisbane',\n  'australian western standard time': aus + 'Perth',\n  awst: aus + 'Perth',\n  'australian western daylight time': aus + 'Perth',\n  awdt: aus + 'Perth',\n  'australia west': aus + 'Perth',\n  'australian central western standard time': aus + 'Eucla',\n  acwst: aus + 'Eucla',\n  'australia central west': aus + 'Eucla',\n  'lord howe standard time': aus + 'Lord_Howe',\n  lhst: aus + 'Lord_Howe',\n  'lord howe daylight time': aus + 'Lord_Howe',\n  lhdt: aus + 'Lord_Howe',\n  'russian standard time': europe + 'Moscow',\n  msk: europe + 'Moscow',\n  russian: europe + 'Moscow',\n\n  //america\n  'central standard time': america + 'Chicago',\n  'central time': america + 'Chicago',\n  cst: america + 'Havana',\n  'central daylight time': america + 'Chicago',\n  cdt: america + 'Havana',\n  'mountain standard time': america + 'Denver',\n  'mountain time': america + 'Denver',\n  mst: america + 'Denver',\n  'mountain daylight time': america + 'Denver',\n  mdt: america + 'Denver',\n  'atlantic standard time': america + 'Halifax',\n  'atlantic time': america + 'Halifax',\n  ast: asia + 'Baghdad',\n  'atlantic daylight time': america + 'Halifax',\n  adt: america + 'Halifax',\n  'eastern standard time': america + 'New_York',\n  'eastern time': america + 'New_York',\n  est: america + 'New_York',\n  'eastern daylight time': america + 'New_York',\n  edt: america + 'New_York',\n  'pacific time': america + 'Los_Angeles',\n  'pacific standard time': america + 'Los_Angeles',\n  pst: america + 'Los_Angeles',\n  'pacific daylight time': america + 'Los_Angeles',\n  pdt: america + 'Los_Angeles',\n  'alaskan standard time': america + 'Anchorage',\n  'alaskan time': america + 'Anchorage',\n  ahst: america + 'Anchorage',\n  'alaskan daylight time': america + 'Anchorage',\n  ahdt: america + 'Anchorage',\n  'hawaiian standard time': pac + 'Honolulu',\n  'hawaiian time': pac + 'Honolulu',\n  hst: pac + 'Honolulu',\n  'aleutian time': pac + 'Honolulu',\n  'hawaii time': pac + 'Honolulu',\n  'newfoundland standard time': america + 'St_Johns',\n  'newfoundland time': america + 'St_Johns',\n  nst: america + 'St_Johns',\n  'newfoundland daylight time': america + 'St_Johns',\n  ndt: america + 'St_Johns',\n  'brazil time': america + 'Sao_Paulo',\n  brt: america + 'Sao_Paulo',\n  brasília: america + 'Sao_Paulo',\n  brasilia: america + 'Sao_Paulo',\n  'brazilian time': america + 'Sao_Paulo',\n  'argentina time': america + 'Buenos_Aires',\n  // art: a+'Buenos_Aires',\n  'argentinian time': america + 'Buenos_Aires',\n  'amazon time': america + 'Manaus',\n  amt: america + 'Manaus',\n  'amazonian time': america + 'Manaus',\n  'easter island standard time': 'Chile/Easterisland',\n  east: 'Chile/Easterisland',\n  'easter island summer time': 'Chile/Easterisland',\n  easst: 'Chile/Easterisland',\n  'venezuelan standard time': america + 'Caracas',\n  'venezuelan time': america + 'Caracas',\n  vet: america + 'Caracas',\n  'venezuela time': america + 'Caracas',\n  'paraguay time': america + 'Asuncion',\n  pyt: america + 'Asuncion',\n  'paraguay summer time': america + 'Asuncion',\n  pyst: america + 'Asuncion',\n  'cuba standard time': america + 'Havana',\n  'cuba time': america + 'Havana',\n  'cuba daylight time': america + 'Havana',\n  'cuban time': america + 'Havana',\n  'bolivia time': america + 'La_Paz',\n  // bot: a+'La_Paz',\n  'bolivian time': america + 'La_Paz',\n  'colombia time': america + 'Bogota',\n  cot: america + 'Bogota',\n  'colombian time': america + 'Bogota',\n  'acre time': america + 'Eirunepe',\n  // act: a+'Eirunepe',\n  'peru time': america + 'Lima',\n  // pet: a+'Lima',\n  'chile standard time': america + 'Punta_Arenas',\n  'chile time': america + 'Punta_Arenas',\n  clst: america + 'Punta_Arenas',\n  'chile summer time': america + 'Punta_Arenas',\n  cldt: america + 'Punta_Arenas',\n  'uruguay time': america + 'Montevideo',\n  uyt: america + 'Montevideo',\n\n  //asia\n  ist: asia + 'Jerusalem',\n  'arabic standard time': asia + 'Baghdad',\n  'arabic time': asia + 'Baghdad',\n  'arab time': asia + 'Baghdad',\n  'iran standard time': asia + 'Tehran',\n  'iran time': asia + 'Tehran',\n  irst: asia + 'Tehran',\n  'iran daylight time': asia + 'Tehran',\n  irdt: asia + 'Tehran',\n  iranian: asia + 'Tehran',\n  'pakistan standard time': asia + 'Karachi',\n  'pakistan time': asia + 'Karachi',\n  pkt: asia + 'Karachi',\n  'india standard time': asia + 'Kolkata',\n  'indian time': asia + 'Kolkata',\n  'indochina time': asia + 'Bangkok',\n  ict: asia + 'Bangkok',\n  'south east asia': asia + 'Bangkok',\n  'china standard time': asia + 'Shanghai',\n  ct: asia + 'Shanghai',\n  'chinese time': asia + 'Shanghai',\n  'alma-ata time': asia + 'Almaty',\n  almt: asia + 'Almaty',\n  'oral time': asia + 'Oral',\n  'orat time': asia + 'Oral',\n  'yakutsk time': asia + 'Yakutsk',\n  yakt: asia + 'Yakutsk',\n  'gulf standard time': asia + 'Dubai',\n  'gulf time': asia + 'Dubai',\n  gst: asia + 'Dubai',\n  uae: asia + 'Dubai',\n  'hong kong time': asia + 'Hong_Kong',\n  hkt: asia + 'Hong_Kong',\n  'western indonesian time': asia + 'Jakarta',\n  wib: asia + 'Jakarta',\n  'indonesia time': asia + 'Jakarta',\n  'central indonesian time': asia + 'Makassar',\n  wita: asia + 'Makassar',\n  'israel daylight time': asia + 'Jerusalem',\n  idt: asia + 'Jerusalem',\n  'israel standard time': asia + 'Jerusalem',\n  'israel time': asia + 'Jerusalem',\n  israeli: asia + 'Jerusalem',\n  'krasnoyarsk time': asia + 'Krasnoyarsk',\n  krat: asia + 'Krasnoyarsk',\n  'malaysia time': asia + 'Kuala_Lumpur',\n  myt: asia + 'Kuala_Lumpur',\n  'singapore time': asia + 'Singapore',\n  sgt: asia + 'Singapore',\n  'korea standard time': asia + 'Seoul',\n  'korea time': asia + 'Seoul',\n  kst: asia + 'Seoul',\n  'korean time': asia + 'Seoul',\n  'uzbekistan time': asia + 'Samarkand',\n  uzt: asia + 'Samarkand',\n  'vladivostok time': asia + 'Vladivostok',\n  vlat: asia + 'Vladivostok',\n\n  //indian\n  'maldives time': 'Indian/Maldives',\n  mvt: 'Indian/Maldives',\n  'mauritius time': 'Indian/Mauritius',\n  mut: 'Indian/Mauritius',\n\n  // pacific\n  'marshall islands time': pac + 'Kwajalein',\n  mht: pac + 'Kwajalein',\n  'samoa standard time': pac + 'Midway',\n  sst: pac + 'Midway',\n  'somoan time': pac + 'Midway',\n  'chamorro standard time': pac + 'Guam',\n  chst: pac + 'Guam',\n  'papua new guinea time': pac + 'Bougainville',\n  pgt: pac + 'Bougainville',\n}\n\n//add the official iana zonefile names\nlet iana = spacetime().timezones\nlet formal = Object.keys(iana).reduce((h, k) => {\n  h[k] = k\n  return h\n}, {})\nmodule.exports = Object.assign({}, informal, formal)\n","module.exports = [\n  'weekday',\n\n  'summer',\n  'winter',\n  'autumn',\n\n  'some day',\n  'one day',\n  'all day',\n  'some point',\n\n  'eod',\n  'eom',\n  'standard time',\n  'daylight time',\n]\n","module.exports = [\n  'centuries',\n  'century',\n  'day',\n  'days',\n  'decade',\n  'decades',\n  'hour',\n  'hours',\n  'millisecond',\n  'milliseconds',\n  'minute',\n  'minutes',\n  'month',\n  'months',\n  'seconds',\n  'week',\n  'weeks',\n  'year',\n  'years',\n]\n","module.exports = [\n  'all hallows eve',\n  'all saints day',\n  'all sts day',\n  'april fools',\n  'armistice day',\n  'australia day',\n  'bastille day',\n  'boxing day',\n  'canada day',\n  'christmas eve',\n  'christmas',\n  'cinco de mayo',\n  'day of the dead',\n  'dia de muertos',\n  'dieciseis de septiembre',\n  'emancipation day',\n  'grito de dolores',\n  'groundhog day',\n  'halloween',\n  'harvey milk day',\n  'inauguration day',\n  'independence day',\n  'independents day',\n  'juneteenth',\n  'labour day',\n  'national freedom day',\n  'national nurses day',\n  'new years eve',\n  'new years',\n  'purple heart day',\n  'rememberance day',\n  'rosa parks day',\n  'saint andrews day',\n  'saint patricks day',\n  'saint stephens day',\n  'saint valentines day',\n  'st andrews day',\n  'st patricks day',\n  'st stephens day',\n  'st valentines day ',\n  'valentines day',\n  'valentines',\n  'veterans day',\n  'victoria day',\n  'womens equality day',\n  'xmas',\n  // Fixed religious and cultural holidays\n  // Catholic + Christian\n  'epiphany',\n  'orthodox christmas day',\n  'orthodox new year',\n  'assumption of mary',\n  'all souls day',\n  'feast of the immaculate conception',\n  'feast of our lady of guadalupe',\n\n  // Kwanzaa\n  'kwanzaa',\n  // Pagan / metal 🤘\n  'imbolc',\n  'beltaine',\n  'lughnassadh',\n  'samhain',\n  'martin luther king day',\n  'mlk day',\n  'presidents day',\n  'mardi gras',\n  'tax day',\n  'commonwealth day',\n  'mothers day',\n  'memorial day',\n  'fathers day',\n  'columbus day',\n  'indigenous peoples day',\n  'canadian thanksgiving',\n  'election day',\n  'thanksgiving',\n  't-day',\n  'turkey day',\n  'black friday',\n  'cyber monday',\n  // Astronomical religious and cultural holidays\n  'ash wednesday',\n  'palm sunday',\n  'maundy thursday',\n  'good friday',\n  'holy saturday',\n  'easter',\n  'easter sunday',\n  'easter monday',\n  'orthodox good friday',\n  'orthodox holy saturday',\n  'orthodox easter',\n  'orthodox easter monday',\n  'ascension day',\n  'pentecost',\n  'whitsunday',\n  'whit sunday',\n  'whit monday',\n  'trinity sunday',\n  'corpus christi',\n  'advent',\n  // Jewish\n  'tu bishvat',\n  'tu bshevat',\n  'purim',\n  'passover',\n  'yom hashoah',\n  'lag baomer',\n  'shavuot',\n  'tisha bav',\n  'rosh hashana',\n  'yom kippur',\n  'sukkot',\n  'shmini atzeret',\n  'simchat torah',\n  'chanukah',\n  'hanukkah',\n  // Muslim\n  'isra and miraj',\n  'lailat al-qadr',\n  'eid al-fitr',\n  'id al-Fitr',\n  'eid ul-Fitr',\n  'ramadan',\n  'eid al-adha',\n  'muharram',\n  'the prophets birthday',\n  'ostara',\n  'march equinox',\n  'vernal equinox',\n  'litha',\n  'june solistice',\n  'summer solistice',\n  'mabon',\n  'september equinox',\n  'fall equinox',\n  'autumnal equinox',\n  'yule',\n  'december solstice',\n  'winter solstice',\n  // Additional important holidays\n  'chinese new year',\n  'diwali',\n]\n","module.exports = [\n  'noon',\n  'midnight',\n  'now',\n  'morning',\n  'tonight',\n  'evening',\n  'afternoon',\n  'night',\n  'breakfast time',\n  'lunchtime',\n  'dinnertime',\n  'ago',\n  'sometime',\n  'eod',\n  'oclock',\n  'oclock',\n  'all day',\n  'at night',\n]\n","let lex = {}\nconst timezones = require('../_timezones')\n\nconst data = [\n  [require('./dates'), '#Date'],\n  [require('./durations'), '#Duration'],\n  [require('./holidays'), '#Holiday'],\n  [require('./times'), '#Time'],\n  [Object.keys(timezones), '#Timezone'],\n]\ndata.forEach(a => {\n  for (let i = 0; i < a[0].length; i++) {\n    lex[a[0][i]] = a[1]\n  }\n})\n\nmodule.exports = lex\n","const normalize = function(doc) {\n  doc = doc.clone()\n\n  if (!doc.numbers) {\n    console.warn(\"Compromise: compromise-dates cannot find plugin dependency 'compromise-number'\")\n  } else {\n    // convert 'two' to 2\n    let num = doc.numbers()\n    num.toNumber()\n    num.toCardinal()\n  }\n  // remove adverbs\n  doc.adverbs().remove()\n  return doc\n}\nmodule.exports = normalize\n","const knownUnits = {\n  second: true,\n  minute: true,\n  hour: true,\n  day: true,\n  week: true,\n  month: true,\n  season: true,\n  quarter: true,\n  year: true,\n}\n\n//turn '5 weeks before' to {weeks:5}\nconst parseShift = function(doc) {\n  let result = {}\n  let m = doc.match('#DateShift+')\n  if (m.found === false) {\n    return result\n  }\n  m.match('#Cardinal #Duration').forEach(ts => {\n    let num = ts.match('#Cardinal').text('normal')\n    num = parseFloat(num)\n    if (num && typeof num === 'number') {\n      let unit = ts.match('#Duration').text('normal')\n      unit = unit.replace(/s$/, '')\n      if (unit && knownUnits.hasOwnProperty(unit)) {\n        result[unit] = num\n      }\n    }\n  })\n  //is it 2 weeks before?  → -2\n  if (m.has('before$') === true) {\n    Object.keys(result).forEach(k => (result[k] *= -1))\n  }\n  // finally, remove it from our text\n  doc.remove('#DateShift')\n  return result\n}\nmodule.exports = parseShift\n","const spacetime = require('spacetime')\n//hmmm: 'june 5th between 9 and 10am'\n\nconst halfPast = function(m, s) {\n  let hour = m.match('#Cardinal$').text('reduced')\n\n  let term = m.match('(half|quarter|25|15|10|5)')\n  let mins = term.text('reduced')\n  if (term.has('half')) {\n    mins = '30'\n  }\n  if (term.has('quarter')) {\n    mins = '15'\n  }\n  let behind = m.has('to')\n  // apply it\n  s = s.hour(hour)\n  s = s.startOf('hour')\n  if (behind) {\n    s = s.subtract(mins, 'minutes')\n  } else {\n    s = s.add(mins, 'minutes')\n  }\n  return s\n}\n\nconst parseTime = function(doc, context) {\n  let time = doc.match('(at|by|for|before)? #Time+')\n  if (time.found) {\n    doc.remove(time)\n  }\n  // get the main part of the time\n  time = time.not('(at|by|for|before|sharp)')\n  time = time.not('on the dot')\n  let s = spacetime.now(context.timezone)\n  let now = s.clone()\n\n  // '5 oclock'\n  let m = time.match('^#Cardinal oclock (am|pm)?')\n  if (m.found) {\n    m = m.not('oclock')\n    s = s.hour(m.text('reduced'))\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n\n  // 'quarter to two'\n  m = time.match('(half|quarter|25|15|10|5) (past|after|to) #Cardinal')\n  if (m.found) {\n    s = halfPast(m, s)\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n  // parse random a time like '4:54pm'\n  let str = time.text('reduced')\n  s = s.time(str)\n  if (s.isValid() && !s.isEqual(now)) {\n    return s.time()\n  }\n  return null\n}\nmodule.exports = parseTime\n","// interpret 'this halloween' or 'next june'\nconst parseRelative = function(doc) {\n  let rel = null\n  if (doc.has('^this? (next|upcoming)')) {\n    rel = 'next'\n  }\n  if (doc.has('^this? (last|previous)')) {\n    rel = 'last'\n  }\n  if (doc.has('^(this|current)')) {\n    rel = 'this'\n  }\n  // finally, remove it from our text\n  doc.remove('^(this|current|next|upcoming|last|previous)')\n  return rel\n}\nmodule.exports = parseRelative\n","const informal = require('../../data/_timezones')\n\nconst isOffset = /(\\-?[0-9]+)h(rs)?/i\nconst isNumber = /(\\-?[0-9]+)/\nconst utcOffset = /utc([\\-+]?[0-9]+)/i\nconst gmtOffset = /gmt([\\-+]?[0-9]+)/i\n\nconst toIana = function(num) {\n  num = Number(num)\n  if (num > -13 && num < 13) {\n    num = num * -1 //it's opposite!\n    num = (num > 0 ? '+' : '') + num //add plus sign\n    return 'Etc/GMT' + num\n  }\n  return null\n}\n\nconst parseOffset = function(tz) {\n  // '+5hrs'\n  let m = tz.match(isOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'utc+5'\n  m = tz.match(utcOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'GMT-5' (not opposite)\n  m = tz.match(gmtOffset)\n  if (m !== null) {\n    let num = Number(m[1]) * -1\n    return toIana(num)\n  }\n  // '+5'\n  m = tz.match(isNumber)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  return null\n}\n\nconst parseTimezone = function(doc) {\n  let m = doc.match('#Timezone+')\n  //remove prepositions\n  m = m.remove('(in|for|by|near|at)')\n  let str = m.text('reduced')\n\n  // remove it from our doc, either way\n  doc.remove('#Timezone+')\n\n  // check our list of informal tz names\n  if (informal.hasOwnProperty(str)) {\n    return informal[str]\n  }\n  let tz = parseOffset(str)\n  if (tz) {\n    return tz\n  }\n\n  return null\n}\nmodule.exports = parseTimezone\n","const spacetime = require('spacetime')\n\nclass Unit {\n  constructor(input, unit, context) {\n    this.unit = unit || 'day'\n    context = context || {}\n    // set it to the beginning of the given unit\n    let d = spacetime(input, context.timezone)\n\n    // set to beginning\n    if (d.isValid()) {\n      d = d.startOf(this.unit)\n    }\n    Object.defineProperty(this, 'd', {\n      enumerable: false,\n      writable: true,\n      value: d,\n    })\n    Object.defineProperty(this, 'context', {\n      enumerable: false,\n      writable: true,\n      value: context,\n    })\n  }\n  // make a new one\n  clone() {\n    let d = new Unit(this.d, this.unit, this.context)\n    return d\n  }\n  log() {\n    console.log('--')\n    this.d.log()\n    console.log('\\n')\n    return this\n  }\n  applyShift(obj) {\n    Object.keys(obj).forEach(k => {\n      this.d = this.d.add(obj[k], k)\n    })\n    return this\n  }\n  applyTime(str) {\n    if (str) {\n      this.d = this.d.time(str)\n    } else {\n      this.d = this.d.startOf('day') //zero-out time\n    }\n    return this\n  }\n  format(fmt) {\n    return this.d.format(fmt)\n  }\n  start() {\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  end() {\n    this.d = this.d.endOf(this.unit)\n    return this\n  }\n  // 'before 2019'\n  before() {\n    this.d = spacetime.now(this.context.timezone) // ???\n    return this\n  }\n  // 'after 2019'\n  after() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'next june' 'next tuesday'\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'last june' 'last tuesday'\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nmodule.exports = Unit\n","const spacetime = require('spacetime')\nconst Unit = require('./Unit')\n\nclass Day extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n  }\n}\nclass Month extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n  }\n}\nclass Quarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n  }\n}\nclass Year extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'year'\n  }\n}\nclass WeekDay extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    this.d = this.d.day(input)\n    this.weekDay = this.d.dayName()\n    //assume a wednesday in the future\n    if (this.d.date() < spacetime.now(context.timezone).date()) {\n      this.d = this.d.add(7, 'days')\n    }\n  }\n  next() {\n    this.d = this.d.add(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n}\n// like 'feb 2'\nclass CalendarDate extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    return this\n  }\n}\n\nmodule.exports = {\n  Unit: Unit,\n  Day: Day,\n  Month: Month,\n  Quarter: Quarter,\n  Year: Year,\n  WeekDay: WeekDay,\n  CalendarDate: CalendarDate,\n}\n","const { Unit } = require('../_units')\n\nconst onlySection = function(doc, context, section) {\n  let d = null\n  if (doc.found === false) {\n    // do we have just a time?\n    if (section.time !== null) {\n      d = new Unit(context.today, null, context) // choose today\n    }\n    //do we just have a shift?\n    if (Object.keys(section.shift).length > 0) {\n      d = new Unit(context.today, null, context) // choose today\n    }\n  }\n  return d\n}\nmodule.exports = onlySection\n","const units = require('../_units')\nconst mapping = {\n  week: units.Week,\n  month: units.Month,\n  quarter: units.Quarter,\n  year: units.Year,\n  season: units.Season,\n}\n\n// when a unit of time is spoken of as 'this month' - instead of 'february'\nconst namedUnit = function(doc, context) {\n  //this month, last quarter, next year\n  let m = doc.match('(weekday|week|month|quarter|season|year)')\n  if (m.found === true) {\n    let str = m.lastTerm().text('reduced')\n    if (mapping.hasOwnProperty(str)) {\n      let Model = mapping[str]\n      if (!Model) {\n        return null\n      }\n      let unit = new Model(null, str, context)\n      return unit\n    }\n  }\n\n  //try this version - 'next friday, last thursday'\n  m = doc.match('(monday|tuesday|wednesday|thursday|friday|saturday|sunday)')\n  if (m.found === true) {\n    let str = m.lastTerm().text('reduced')\n    let unit = new units.WeekDay(str, null, context)\n    return unit\n  }\n  return null\n}\nmodule.exports = namedUnit\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('spacetime')) :\n  typeof define === 'function' && define.amd ? define(['spacetime'], factory) :\n  (global = global || self, global.spacetimeHoliday = factory(global.spacetime));\n}(this, function (spacetime) { 'use strict';\n\n  spacetime = spacetime && spacetime.hasOwnProperty('default') ? spacetime['default'] : spacetime;\n\n  //yep,\n  var jan = 'january';\n  var feb = 'february';\n  var mar = 'march';\n  var apr = 'april';\n  var may = 'may';\n  var jun = 'june';\n  var jul = 'july';\n  var aug = 'august';\n  var sep = 'september';\n  var oct = 'october';\n  var nov = 'november';\n  var dec = 'december';\n  var fixedHolidays = {\n    'new years eve': [dec, 31],\n    'new years': [jan, 1],\n    'new years day': [jan, 1],\n    'inauguration day': [jan, 20],\n    'australia day': [jan, 26],\n    'national freedom day': [feb, 1],\n    'groundhog day': [feb, 2],\n    'rosa parks day': [feb, 4],\n    'valentines day': [feb, 14],\n    'saint valentines day': [feb, 14],\n    'st valentines day ': [feb, 14],\n    'saint patricks day': [mar, 17],\n    'st patricks day': [mar, 17],\n    'april fools': [apr, 1],\n    'april fools day': [apr, 1],\n    'emancipation day': [apr, 16],\n    'tax day': [apr, 15],\n    //US\n    'labour day': [may, 1],\n    'cinco de mayo': [may, 5],\n    'national nurses day': [may, 6],\n    'harvey milk day': [may, 22],\n    'victoria day': [may, 24],\n    juneteenth: [jun, 19],\n    'canada day': [jul, 1],\n    'independence day': [jul, 4],\n    'independents day': [jul, 4],\n    'bastille day': [jul, 14],\n    'purple heart day': [aug, 7],\n    'womens equality day': [aug, 26],\n    '16 de septiembre': [sep, 16],\n    'dieciseis de septiembre': [sep, 16],\n    'grito de dolores': [sep, 16],\n    halloween: [oct, 31],\n    'all hallows eve': [oct, 31],\n    'day of the dead': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'dia de muertos': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'veterans day': [nov, 11],\n    'st andrews day': [nov, 30],\n    'saint andrews day': [nov, 30],\n    'all saints day': [nov, 1],\n    'all sts day': [nov, 1],\n    'armistice day': [nov, 11],\n    'rememberance day': [nov, 11],\n    'christmas eve': [dec, 24],\n    christmas: [dec, 25],\n    xmas: [dec, 25],\n    'boxing day': [dec, 26],\n    'st stephens day': [dec, 26],\n    'saint stephens day': [dec, 26],\n    // Fixed religious and cultural holidays\n    // Catholic + Christian\n    epiphany: [jan, 6],\n    'orthodox christmas day': [jan, 7],\n    'orthodox new year': [jan, 14],\n    'assumption of mary': [aug, 15],\n    'all souls day': [nov, 2],\n    'feast of the immaculate conception': [dec, 8],\n    'feast of our lady of guadalupe': [dec, 12],\n    // Kwanzaa\n    kwanzaa: [dec, 26],\n    // Ranged holiday [jan, 1],\n    // Pagan / metal 🤘\n    imbolc: [feb, 2],\n    beltaine: [may, 1],\n    lughnassadh: [aug, 1],\n    samhain: [oct, 31]\n  };\n\n  var fixedDates = function fixedDates(str, normal, year) {\n    if (fixedHolidays.hasOwnProperty(str) || fixedHolidays.hasOwnProperty(normal)) {\n      var arr = fixedHolidays[str] || fixedHolidays[normal] || [];\n      var s = spacetime.now();\n      s = s.year(year);\n      s = s.startOf('year');\n      s = s.month(arr[0]);\n      s = s.date(arr[1]);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _01FixedDates = fixedDates;\n\n  //these are holidays on the 'nth weekday of month'\n  var jan$1 = 'january';\n  var feb$1 = 'february';\n  var mar$1 = 'march'; // const apr = 'april'\n\n  var may$1 = 'may';\n  var jun$1 = 'june'; // const jul = 'july'\n  // const aug = 'august'\n\n  var sep$1 = 'september';\n  var oct$1 = 'october';\n  var nov$1 = 'november'; // const dec = 'december'\n\n  var mon = 'monday'; // const tues = 'tuesday'\n  // const wed = 'wednesday'\n\n  var thurs = 'thursday';\n  var fri = 'friday'; // const sat = 'saturday'\n\n  var sun = 'sunday';\n  var holidays = {\n    'martin luther king day': [3, mon, jan$1],\n    //[third monday in january],\n    'presidents day': [3, mon, feb$1],\n    //[third monday in february],\n    'commonwealth day': [2, mon, mar$1],\n    //[second monday in march],\n    'mothers day': [2, sun, may$1],\n    //[second Sunday in May],\n    'fathers day': [3, sun, jun$1],\n    //[third Sunday in June],\n    'labor day': [1, mon, sep$1],\n    //[first monday in september],\n    'columbus day': [2, mon, oct$1],\n    //[second monday in october],\n    'canadian thanksgiving': [2, mon, oct$1],\n    //[second monday in october],\n    thanksgiving: [4, thurs, nov$1],\n    // [fourth Thursday in November],\n    'black friday': [4, fri, nov$1] //[fourth friday in november],\n    // 'memorial day': [may], //[last monday in may],\n    // 'us election': [nov], // [Tuesday following the first Monday in November],\n    // 'cyber monday': [nov]\n    // 'advent': [] // fourth Sunday before Christmas\n\n  }; // add aliases\n\n  holidays['turday day'] = holidays.thanksgiving;\n  holidays['indigenous peoples day'] = holidays['columbus day'];\n  holidays['mlk day'] = holidays['martin luther king day'];\n  var calendarHolidays = holidays;\n\n  var fixedDates$1 = function fixedDates(str, normal, year) {\n    if (calendarHolidays.hasOwnProperty(str) || calendarHolidays.hasOwnProperty(normal)) {\n      var arr = calendarHolidays[str] || calendarHolidays[normal] || [];\n      var s = spacetime.now();\n      s = s.year(year); // [3rd, 'monday', 'january']\n\n      s = s.month(arr[2]);\n      s = s.startOf('month'); // make it january\n\n      var month = s.month(); // make it the 1st monday\n\n      s = s.day(arr[1]);\n\n      if (s.month() !== month) {\n        s = s.add(1, 'week');\n      } // make it nth monday\n\n\n      if (arr[0] > 1) {\n        s = s.add(arr[0] - 1, 'week');\n      }\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _02NthWeekday = fixedDates$1;\n\n  // https://www.timeanddate.com/calendar/determining-easter-date.html\n  var dates = {\n    easter: 0,\n    'ash wednesday': -46,\n    // (46 days before easter)\n    'palm sunday': 7,\n    // (1 week before easter)\n    'maundy thursday': -3,\n    // (3 days before easter)\n    'good friday': -2,\n    // (2 days before easter)\n    'holy saturday': -1,\n    // (1 days before easter)\n    'easter saturday': -1,\n    // (1 day before easter)\n    'easter monday': 1,\n    // (1 day after easter)\n    'ascension day': 39,\n    // (39 days after easter)\n    'whit sunday': 49,\n    // / pentecost (49 days after easter)\n    'whit monday': 50,\n    // (50 days after easter)\n    'trinity sunday': 65,\n    // (56 days after easter)\n    'corpus christi': 60,\n    // (60 days after easter)\n    'mardi gras': -47 //(47 days before easter)\n\n  };\n  dates['easter sunday'] = dates.easter;\n  dates['pentecost'] = dates['whit sunday'];\n  dates['whitsun'] = dates['whit sunday'];\n  var easterHolidays = dates;\n\n  // by John Dyer\n  // based on the algorithm by Oudin (1940) from http://www.tondering.dk/claus/cal/easter.php\n  var calcEaster = function calcEaster(year) {\n    var f = Math.floor,\n        // Golden Number - 1\n    G = year % 19,\n        C = f(year / 100),\n        // related to Epact\n    H = (C - f(C / 4) - f((8 * C + 13) / 25) + 19 * G + 15) % 30,\n        // number of days from 21 March to the Paschal full moon\n    I = H - f(H / 28) * (1 - f(29 / (H + 1)) * f((21 - G) / 11)),\n        // weekday for the Paschal full moon\n    J = (year + f(year / 4) + I + 2 - C + f(C / 4)) % 7,\n        // number of days from 21 March to the Sunday on or before the Paschal full moon\n    L = I - J,\n        month = 3 + f((L + 40) / 44),\n        date = L + 28 - 31 * f(month / 4);\n    month = month === 4 ? 'April' : 'March';\n    return month + ' ' + date;\n  };\n\n  var calcEaster_1 = calcEaster;\n\n  var easterDates = function easterDates(str, normal, year) {\n    if (easterHolidays.hasOwnProperty(str) || easterHolidays.hasOwnProperty(normal)) {\n      var days = easterHolidays[str] || easterHolidays[normal] || [];\n      var date = calcEaster_1(year);\n\n      if (!date) {\n        return null; //no easter for this year\n      }\n\n      var e = spacetime(date);\n      e = e.year(year);\n      var s = e.add(days, 'day');\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _03EasterDates = easterDates;\n\n  // http://www.astropixels.com/ephemeris/soleq2001.html\n  // years 2000-2100\n  var exceptions = {\n    spring: [2003, 2007, 2044, 2048, 2052, 2056, 2060, 2064, 2068, 2072, 2076, 2077, 2080, 2081, 2084, 2085, 2088, 2089, 2092, 2093, 2096, 2097],\n    summer: [2021, 2016, 2020, 2024, 2028, 2032, 2036, 2040, 2041, 2044, 2045, 2048, 2049, 2052, 2053, 2056, 2057, 2060, 2061, 2064, 2065, 2068, 2069, 2070, 2072, 2073, 2074, 2076, 2077, 2078, 2080, 2081, 2082, 2084, 2085, 2086, 2088, 2089, 2090, 2092, 2093, 2094, 2096, 2097, 2098, 2099],\n    fall: [2002, 2003, 2004, 2006, 2007, 2010, 2011, 2014, 2015, 2018, 2019, 2022, 2023, 2026, 2027, 2031, 2035, 2039, 2043, 2047, 2051, 2055, 2059, 2092, 2096],\n    winter: [2002, 2003, 2006, 2007, 2011, 2015, 2019, 2023, 2027, 2031, 2035, 2039, 2043, 2080, 2084, 2088, 2092, 2096]\n  };\n  var winter20th = [2080, 2084, 2088, 2092, 2096];\n\n  var calcSeasons = function calcSeasons(year) {\n    // most common defaults\n    var res = {\n      spring: 'March 20 ' + year,\n      summer: 'June 21 ' + year,\n      fall: 'Sept 22 ' + year,\n      winter: 'Dec 21 ' + year\n    };\n\n    if (exceptions.spring.indexOf(year) !== -1) {\n      res.spring = 'March 19 ' + year;\n    }\n\n    if (exceptions.summer.indexOf(year) !== -1) {\n      res.summer = 'June 20 ' + year;\n    }\n\n    if (exceptions.fall.indexOf(year) !== -1) {\n      res.fall = 'Sept 21 ' + year;\n    } // winter can be 20th, 21st, or 22nd\n\n\n    if (exceptions.winter.indexOf(year) !== -1) {\n      res.winter = 'Dec 22 ' + year;\n    }\n\n    if (winter20th.indexOf(year) !== -1) {\n      res.winter = 'Dec 20 ' + year;\n    }\n\n    return res;\n  };\n\n  var seasons = calcSeasons;\n\n  // these are properly calculated in ./lib/seasons\n  var dates$1 = {\n    'spring equinox': 'spring',\n    'summer solistice': 'summer',\n    'fall equinox': 'fall',\n    'winter solstice': 'winter'\n  }; // aliases\n\n  dates$1['march equinox'] = dates$1['spring equinox'];\n  dates$1['vernal equinox'] = dates$1['spring equinox'];\n  dates$1['ostara'] = dates$1['spring equinox'];\n  dates$1['june solstice'] = dates$1['summer solistice'];\n  dates$1['litha'] = dates$1['summer solistice'];\n  dates$1['autumn equinox'] = dates$1['fall equinox'];\n  dates$1['autumnal equinox'] = dates$1['fall equinox'];\n  dates$1['september equinox'] = dates$1['fall equinox'];\n  dates$1['sept equinox'] = dates$1['fall equinox'];\n  dates$1['mabon'] = dates$1['fall equinox'];\n  dates$1['december solstice'] = dates$1['winter solistice'];\n  dates$1['dec solstice'] = dates$1['winter solistice'];\n  dates$1['yule'] = dates$1['winter solistice'];\n  var astroHolidays = dates$1;\n\n  var astroDates = function astroDates(str, normal, year) {\n    if (astroHolidays.hasOwnProperty(str) || astroHolidays.hasOwnProperty(normal)) {\n      var season = astroHolidays[str] || astroHolidays[normal];\n      var seasons$1 = seasons(year);\n\n      if (!season || !seasons$1 || !seasons$1[season]) {\n        return null; // couldn't figure it out\n      }\n\n      var s = spacetime(seasons$1[season]);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _04Astronomical = astroDates;\n\n  var dates$2 = {\n    // Muslim holidays\n    'isra and miraj': 'april 13',\n    'lailat al-qadr': 'june 10',\n    'eid al-fitr': 'june 15',\n    'id al-Fitr': 'june 15',\n    'eid ul-Fitr': 'june 15',\n    ramadan: 'may 16',\n    // Range holiday\n    'eid al-adha': 'sep 22',\n    muharram: 'sep 12',\n    'prophets birthday': 'nov 21'\n  };\n  var lunarHolidays = dates$2;\n\n  var dayDiff = -10.64;\n\n  var lunarDates = function lunarDates(str, normal, year) {\n    if (lunarHolidays.hasOwnProperty(str) || lunarHolidays.hasOwnProperty(normal)) {\n      var date = lunarHolidays[str] || lunarHolidays[normal] || [];\n\n      if (!date) {\n        return null;\n      } // start at 2018\n\n\n      var s = spacetime(date + ' 2018');\n      var diff = year - 2018;\n      var toAdd = diff * dayDiff;\n      s = s.add(toAdd, 'day');\n      s = s.startOf('day'); // now set the correct year\n\n      s = s.year(year);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _05LunarDates = lunarDates;\n\n  var nowYear = spacetime.now().year();\n\n  var spacetimeHoliday = function spacetimeHoliday(str, year) {\n    year = year || nowYear;\n    str = str || '';\n    str = String(str);\n    str = str.trim().toLowerCase();\n    str = str.replace(/'s/, 's'); // 'mother's day'\n\n    var normal = str.replace(/ day$/, '');\n    normal = normal.replace(/^the /, '');\n    normal = normal.replace(/^orthodox /, ''); //orthodox good friday\n    // try easier, unmoving holidays\n\n    var s = _01FixedDates(str, normal, year);\n\n    if (s !== null) {\n      return s;\n    } // try 'nth monday' holidays\n\n\n    s = _02NthWeekday(str, normal, year);\n\n    if (s !== null) {\n      return s;\n    } // easter-based holidays\n\n\n    s = _03EasterDates(str, normal, year);\n\n    if (s !== null) {\n      return s;\n    } // solar-based holidays\n\n\n    s = _04Astronomical(str, normal, year);\n\n    if (s !== null) {\n      return s;\n    } // mostly muslim holidays\n\n\n    s = _05LunarDates(str, normal, year);\n\n    if (s !== null) {\n      return s;\n    }\n\n    return null;\n  };\n\n  var src = spacetimeHoliday;\n\n  return src;\n\n}));\n//# sourceMappingURL=spacetime-holiday.js.map\n","const { CalendarDate } = require('../_units')\nconst spacetimeHoliday = require('spacetime-holiday')\n\nconst parseHoliday = function(doc, context) {\n  let d = null\n  let str = doc.match('#Holiday+').text('reduced')\n  let year = 2020 //change me!\n  let s = spacetimeHoliday(str, year)\n  if (s !== null) {\n    d = new CalendarDate(s, null, context)\n  }\n  return d\n}\nmodule.exports = parseHoliday\n","const { Unit, Day, CalendarDate } = require('../_units')\n\nconst knownWord = {\n  today: context => new Day(context.today, null, context),\n  yesterday: context => {\n    new Day(context.today.minus(1, 'day'), null, context)\n  },\n  tomorrow: context => {\n    new Day(context.today.plus(1, 'day'), null, context)\n  },\n}\n\n// parse things like 'june 5th 2019'\nconst parseExplicit = function(doc, context) {\n  // 'fifth of june'\n  let m = doc.match('[<date>#Value] of [<month>#Month]')\n  if (!m.found) {\n    // 'june the fifth'\n    m = doc.match('[<month>#Month] the [<date>#Value]')\n    // console.log(m.byName('date').text())\n  }\n  if (m.found) {\n    let obj = {\n      month: m.byName('month').text(),\n      date: m.byName('date').text(),\n      year: context.today.year(),\n    }\n    // console.log(obj)\n    let d = new CalendarDate(obj, null, context)\n    if (d.d.isValid() === true) {\n      return d\n    }\n  }\n\n  if (m.found) {\n    let obj = {\n      month: m.byName('month').text(),\n      date: m.byName('date').text(),\n      year: context.today.year(),\n    }\n    let d = new CalendarDate(obj, null, context)\n    if (d.d.isValid() === true) {\n      return d\n    }\n  }\n\n  let str = doc.text('reduced')\n  // today, yesterday, tomorrow\n  if (knownWord.hasOwnProperty(str) === true) {\n    let d = knownWord[str](context)\n    return d\n  }\n\n  // punt it to spacetime, for the heavy-lifting\n  let d = new Unit(str, null, context)\n  // console.log(context.d.format('nice-year'))\n  // did we find a date?\n  if (d.d.isValid() === false) {\n    return null\n  }\n  return d\n}\nmodule.exports = parseExplicit\n","const section = {\n  shift: require('./sections/01-shift'),\n  time: require('./sections/02-time'),\n  relative: require('./sections/03-relative'),\n  timezone: require('./sections/04-timezone'),\n}\n\nconst steps = {\n  implied: require('./steps/00-implied'),\n  duration: require('./steps/01-duration'),\n  holiday: require('./steps/02-holidays'),\n  explicit: require('./steps/03-explicit'),\n}\n\nconst parseDate = function(doc, context) {\n  //parse-out any sections\n  let shift = section.shift(doc)\n  let tz = section.timezone(doc)\n  let time = section.time(doc, context)\n  let rel = section.relative(doc)\n  //set our new timezone\n  if (tz) {\n    context = Object.assign({}, context, { timezone: tz })\n    let iso = context.today.format('iso-short')\n    context.today = context.today.goto(context.timezone).set(iso)\n  }\n  let d = null\n\n  //'in two days'\n  d = d || steps.implied(doc, context, { shift, time, rel })\n  // 'this month'\n  d = d || steps.duration(doc, context)\n  // 'this haloween'\n  d = d || steps.holiday(doc, context)\n  // 'this june 2nd'\n  d = d || steps.explicit(doc, context)\n  if (!d) {\n    return null\n  }\n\n  // // apply relative\n  if (rel === 'last') {\n    d.last()\n  }\n  if (rel === 'next') {\n    d.next()\n  }\n  // apply shift\n  if (shift) {\n    d.applyShift(shift)\n  }\n\n  // apply time\n  d.applyTime(time)\n\n  return d\n}\nmodule.exports = parseDate\n","const parseDate = require('../03-parseDate')\n\n//\nconst logic = function(doc, context) {\n  // two explicit dates - 'between friday and sunday'\n  let m = doc.match('between * and *')\n  if (m.found) {\n    let start = m\n      .match('between [.*] and')\n      .not('^between')\n      .not('and$')\n    start = parseDate(start, context)\n    let end = m.match('and *').not('^and')\n    end = parseDate(end, context)\n    if (start) {\n      return {\n        start: start,\n        end: end,\n      }\n    }\n  }\n  // two months, one year - 'june 5 to june 7 1998'\n  m = doc.match('#Month #Value to #Month #Value of? #Year')\n  if (m.found) {\n  }\n  // two months, no year - 'june 5 to june 7'\n  m = doc.match('#Month #Value to #Month #Value')\n  if (m.found) {\n  }\n  // one month, one year, first form - 'january 5 to 7 1998'\n  m = doc.match('#Month #Value to #Value of? #Year')\n  if (m.found) {\n  }\n  // one month, one year, second form - '5 to 7 of january 1998'\n  m = doc.match('#Value to #Value of? #Month of? #Year')\n  if (m.found) {\n  }\n  // one month, no year - '5 to 7 of january'\n  m = doc.match('#Value to #Value of? #Month')\n  if (m.found) {\n  }\n  // one month, no year - 'january 5 to 7'\n  m = doc.match('#Month #Value to #Value')\n  if (m.found) {\n  }\n  // 'from A to B'\n  m = doc.match('from? * (to|@hasHyphen|until|upto) [*]')\n  if (m.found) {\n  }\n  // 'before june'\n  m = doc.match('^due (by|before|on|in)? [*]')\n  if (m.found) {\n  }\n  // 'after june'\n  m = doc.match('^(after|following|from) [*]')\n  if (m.found) {\n  }\n  // 'in june'\n  m = doc.match('^(on|during|in) [*]')\n  if (m.found) {\n    let d = parseDate(m, context)\n    if (d) {\n      return {\n        start: d,\n        end: d.clone().end(),\n      }\n    }\n  }\n  //else, try whole thing\n  let d = parseDate(doc, context)\n  return {\n    start: d,\n    end: null,\n  }\n}\nmodule.exports = logic\n","const spacetime = require('spacetime')\nconst normalize = require('./00-normalize')\nconst parseRanges = require('./01-parse-range')\n\nconst getDate = function(doc, context) {\n  // validate context a bit\n  context = context || {}\n\n  context.timezone = context.timezone || 'ETC/UTC'\n  context.today = spacetime(context.today, context.timezone)\n  //turn 'five' into 5..\n  doc = normalize(doc)\n  //interpret 'between [A] and [B]'...\n  return parseRanges(doc, context)\n}\nmodule.exports = getDate\n","let arr = [\n  ['mon', 'monday'],\n  ['tue', 'tuesday'],\n  ['tues', 'tuesday'],\n  ['wed', 'wednesday'],\n  ['thu', 'thursday'],\n  ['thurs', 'thursday'],\n  ['fri', 'friday'],\n  ['sat', 'saturday'],\n  ['sun', 'sunday'],\n\n  ['jan', 'january'],\n  ['feb', 'february'],\n  ['mar', 'march'],\n  ['apr', 'april'],\n  ['jun', 'june'],\n  ['jul', 'july'],\n  ['aug', 'august'],\n  ['sep', 'september'],\n  ['sept', 'september'],\n  ['oct', 'october'],\n  ['nov', 'november'],\n  ['dec', 'december'],\n]\n\narr = arr.map(a => {\n  return { short: a[0], long: a[1] }\n})\n\nmodule.exports = arr\n","const parse = require('./02-getDate')\nconst abbrevs = require('./data/_abbrevs')\n\nmodule.exports = {\n  /** overload the original json with noun information */\n  json: function(options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    let format = options.format || 'iso'\n    this.forEach(doc => {\n      let json = doc.json(options)[0]\n      let obj = parse(doc, this.context)\n      let start = obj.start ? obj.start.format(format) : null\n      let end = obj.end ? obj.end.format(format) : null\n      // set iso strings to json result\n      json.date = {\n        start: start,\n        end: end,\n      }\n      // add duration\n      if (start && end) {\n        json.date.duration = obj.start.d.diff(obj.end.d)\n        // we don't need these\n        delete json.date.duration.milliseconds\n        delete json.date.duration.seconds\n      }\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n\n  /** render all dates according to a specific format */\n  format: function(fmt) {\n    this.forEach(doc => {\n      let obj = parse(doc, this.context)\n      let str = ''\n      if (obj.start) {\n        str = obj.start.format(fmt)\n        if (obj.end) {\n          str += ' to ' + obj.start.format(fmt)\n        }\n        doc.replaceWith(str, { keepTags: true, keepCase: false })\n      }\n    })\n    return this\n  },\n  /** replace 'Fri' with 'Friday', etc*/\n  toLongForm: function() {\n    abbrevs.forEach(a => {\n      this.replace(a.short, a.long, true)\n    })\n    return this\n  },\n  /** replace 'Friday' with 'Fri', etc*/\n  toShortForm: function() {\n    abbrevs.forEach(a => {\n      this.replace(a.long, a.short, true)\n    })\n    return this\n  },\n}\n","const tagger = require('./01-tag')\nconst tags = require('./data/_tags')\nconst words = require('./data/words')\nconst methods = require('./methods')\n\nconst addMethods = function(Doc, world) {\n  // our new tags\n  world.addTags(tags)\n  // add info for the date plugin\n  world.addWords(words)\n  // run our tagger\n  world.postProcess(tagger)\n\n  /**  */\n  class Dates extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = {}\n    }\n  }\n  //add-in methods\n  Object.assign(Dates.prototype, methods)\n\n  Doc.prototype.dates = function(n) {\n    let context = {}\n    if (n && typeof n === 'object') {\n      context = n\n      n = null\n    }\n    let r = this.clauses()\n    let dates = r.match('#Date+')\n    if (typeof n === 'number') {\n      dates = dates.get(n)\n    }\n    if (typeof n === 'number') {\n      dates = dates.get(n)\n    }\n    let d = new Dates(dates.list, this, this.world)\n    d.context = context\n    return d\n  }\n}\n\nmodule.exports = addMethods\n"],"names":["preps","thisNext","sections","seasons","tagYear","m","reason","found","term","termList","num","parseInt","clean","tag","tagYearSafe","fixDates","doc","match","month","val","ifNo","duration","unTag","season","date","not","cardinal","v","time","here","values","has","dateTagger","sectionTagger","timeTagger","shiftTagger","fixUp","oops","d","knownDate","lastTerm","terms","methods","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","tagDate","forEach","fn","FinancialQuarter","isA","Season","Year","notA","Duration","Holiday","Timezone","DateShift","createCommonjsModule","module","exports","getCjsExportFromNamespace","n","fns","isLeapYear","year","isDate","Object","prototype","toString","call","isNaN","valueOf","isArray","input","isObject","zeroPad","str","len","pad","length","Array","join","titleCase","toUpperCase","substr","ordinal","i","j","k","toCardinal","String","replace","normalize","toLowerCase","trim","getEpoch","tmp","getTime","epoch","beADate","s","clone","set","formatTimezone","offset","delimiter","absOffset","Math","abs","sign","fns_1","fns_2","fns_3","fns_4","fns_5","fns_6","fns_7","fns_8","fns_9","fns_10","fns_11","fns_12","getMonth","getDate","getHours","shouldChange","start","end","defaultOffset","Date","bias","getTimezoneOffset","shift","current","summerTime","quickOffset","zones","timezones","obj","tz","undefined","console","warn","dst","jul","dec","hem","split","inSummer","quick","_build","_build$1","freeze","_prefixes","data","all","keys","Number","names","before","name","unpack","fallbackTZ","safeIntl","Intl","DateTimeFormat","format","resolvedOptions","timezone","timeZone","guessTz","guessTz_1","isOffset","isNumber","utcOffset","gmtOffset","toIana","parseOffset","parseOffset_1","local","cities","reduce","h","city","lookupTz","hasOwnProperty","test","id","Error","find","o","millisecond","second","minute","hour","day","week","milliseconds","walk","unit","previous","startUnit","original","diff","halfStep","units","valid","walkTo","getFullYear","seconds","wants","old","silent","walk_1","shortMonths","longMonths","buildMapping","sep","months","mapping","i18n","parseOffset$1","parseFloat","parseOffset_1$1","parseTime","arr","startOf","ampm","parseTime_1","monthLengths","monthLengths_1","hasDate","max","hasDate_1","months$1","parseYear","strFmt","reg","parse","givenTz","options","british","strParse","dates","now","tonight","today","tomorrow","add","yesterday","subtract","christmas","namedDates","minimumEpoch","defaults","handleArray","order","handleObject","assign","parseInput","res","shortDays","longDays","days","isoOffset","isNegative","floor","ceil","_offset","dayName","monthName","hour24","hour12","quarter","era","json","numeric","iso","h24","ms","toISOString","nice","aliases","mdy","dmy","ymd","printFormat","isValid","out","indexOf","_","fmt","format_1","G","GG","GGG","GGGG","y","yy","yyy","yyyy","yyyyy","Q","QQ","QQQ","QQQQ","M","MM","MMM","MMMM","w","ww","dd","D","dayOfYear","DD","DDD","E","EE","EEE","EEEE","EEEEE","e","ee","eee","eeee","eeeee","a","aa","aaa","aaaa","h12","hh","H","HH","mm","ss","A","z","zz","zzz","zzzz","Z","ZZ","ZZZ","ZZZZ","addAlias","char","to","toName","unixFmt","chars","quoteOn","push","txt","c","unixFmt_1","units$1","doUnit","endOf","percent","toFixed","progress","progress_1","nearest","prog","nearest_1","climb","b","isBefore","isAfter","diffOne","one","fastYear","years","msDiff","minutes","hours","weeks","waterfall","reverseDiff","main","reversed","diff$1","qualifiers","almost","over","getDiff","later","earlier","isSame","u","pluralize","value","slice","since","isNow","every","rounded","qualified","precise","englishValues","englishValue","nextUnit","nextValue","splice","since_1","north","south","quarters","units$2","quarterhour","_weekStart","q","hemisphere","decade","century","startOf_1","isDay","next","result","every_1","parseDst","epochShift","hasDst","Boolean","default_offset","change","back","summer","winter","isDST","timezone_1","units$3","input$1","hasDST","leapYear","last","isAwake","isAsleep","log","logYear","debug","from","fromNow","weekStart","inDST","round","each","methods_1","validate","confirm","want","methods$1","getMilliseconds","getSeconds","getMinutes","hourFloat","which","dayTime","times","morning","breakfast","noon","lunch","afternoon","evening","dinner","night","midnight","_01Time","methods$2","getDay","_02Date","clearMinutes","methods$3","sum","setDate","setFullYear","setHours","setMinutes","setMonth","toAdd","minus","thisOne","skipWeeks","millenium","_03Year","methods$4","addMethods","Space","query","order$1","keep","dstAwareUnits","keepDate","rollMonth","addMethods$1","SpaceTime","plus","print","addMethods$2","same","addMethods$3","isEqual","isBetween","startEpoch","endEpoch","compare","addMethods$4","defineProperty","get","spacetime","whereIts","startHour","endHour","tzs","filter","whereIts_1","_version","main$1","extend","version","plugin","src","america","asia","europe","africa","aus","pac","informal","bst","ireland","cet","cest","eet","eest","trt","etc","utc","gmt","sast","acst","acdt","aest","aedt","awst","awdt","acwst","lhst","lhdt","msk","russian","cst","cdt","mst","mdt","ast","adt","est","edt","pst","pdt","ahst","ahdt","hst","nst","ndt","brt","brasília","brasilia","amt","east","easst","vet","pyt","pyst","cot","clst","cldt","uyt","ist","irst","irdt","iranian","pkt","ict","ct","almt","yakt","gst","uae","hkt","wib","wita","idt","israeli","krat","myt","sgt","kst","uzt","vlat","mvt","mut","mht","sst","chst","pgt","iana","formal","lex","numbers","toNumber","adverbs","remove","knownUnits","parseShift","ts","text","halfPast","mins","behind","context","parseRelative","rel","parseTimezone","Unit","enumerable","writable","Day","Month","Quarter","WeekDay","weekDay","CalendarDate","onlySection","section","Week","namedUnit","Model","define","feb","apr","nov","parseHoliday","spacetimeHoliday","knownWord","parseExplicit","byName","relative","steps","implied","holiday","explicit","require$$7","parseDate","applyShift","applyTime","logic","parseRanges","map","replaceWith","keepTags","keepCase","toLongForm","abbrevs","toShortForm","Doc","world","addTags","tags","addWords","words","postProcess","tagger","Dates","list","r","clauses"],"mappings":"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"}
{"version":3,"file":"compromise-dates.js","sources":["../src/01-tagger/00-basic.js","../src/01-tagger/01-values.js","../src/01-tagger/02-dates.js","../src/01-tagger/03-sections.js","../src/01-tagger/04-time.js","../src/01-tagger/05-shifts.js","../src/01-tagger/06-intervals.js","../src/01-tagger/07-fixup.js","../src/01-tagger/index.js","../src/data/_tags.js","../node_modules/spacetime/builds/spacetime.js","../src/data/_timezones.js","../src/data/words/dates.js","../src/data/words/durations.js","../src/data/words/holidays.js","../src/data/words/times.js","../src/data/words/index.js","../src/parseDate/01-tokenize/01-shift.js","../src/parseDate/01-tokenize/02-counter.js","../src/parseDate/01-tokenize/03-time.js","../src/parseDate/01-tokenize/04-relative.js","../src/parseDate/01-tokenize/05-section.js","../src/parseDate/01-tokenize/06-timezone.js","../src/parseDate/units/Unit.js","../src/parseDate/units/_day.js","../src/parseDate/units/_year.js","../src/parseDate/units/_week.js","../src/parseDate/units/_time.js","../src/parseDate/units/index.js","../src/parseDate/02-parse/01-today.js","../node_modules/spacetime-holiday/builds/spacetime-holiday.js","../src/parseDate/02-parse/02-holidays.js","../src/parseDate/02-parse/03-next-last.js","../src/parseDate/02-parse/04-yearly.js","../src/parseDate/02-parse/05-explicit.js","../src/parseDate/03-transform/addCounter.js","../src/parseDate/parse.js","../src/02-ranges/intervals.js","../src/02-ranges/ranges.js","../src/02-ranges/index.js","../src/normalize.js","../src/generate.js","../src/find.js","../src/data/_abbrevs.js","../src/methods.js","../src/durations/parse.js","../src/durations/index.js","../src/times/parse.js","../src/times/index.js","../src/index.js"],"sourcesContent":["//ambiguous 'may' and 'march'\nconst preps = '(in|by|before|during|on|until|after|of|within|all)' //6\nconst thisNext = '(last|next|this|previous|current|upcoming|coming)' //2\nconst sections = '(start|end|middle|starting|ending|midpoint|beginning)' //2\nconst seasons = '(spring|summer|winter|fall|autumn)'\n\n//ensure a year is approximately typical for common years\n//please change in one thousand years\nconst tagYear = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1000 && num < 3000) {\n      p.tag('Year', reason)\n    }\n  })\n}\n//same, but for less-confident values\nconst tagYearSafe = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1900 && num < 2030) {\n      p.tag('Year', reason)\n    }\n  })\n}\n\nconst tagDates = function (doc) {\n  // in the evening\n  doc.match('in the (night|evening|morning|afternoon|day|daytime)').tag('Time', 'in-the-night')\n  // 8 pm\n  doc.match('(#Value|#Time) (am|pm)').tag('Time', 'value-ampm')\n  // 22-aug\n  // doc.match('/^[0-9]{2}-(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov)/').tag('Date', '20-jan')\n  // 2012-06\n  doc.match('/^[0-9]{4}-[0-9]{2}$/').tag('Date', '2012-06')\n\n  // misc weekday words\n  doc.match('(tue|thu)').tag('WeekDay', 'misc-weekday')\n\n  //months:\n  let month = doc.if('#Month')\n  if (month.found === true) {\n    //June 5-7th\n    month.match(`#Month #Date+`).tag('Date', 'correction-numberRange')\n    //5th of March\n    month.match('#Value of #Month').tag('Date', 'value-of-month')\n    //5 March\n    month.match('#Cardinal #Month').tag('Date', 'cardinal-month')\n    //march 5 to 7\n    month.match('#Month #Value to #Value').tag('Date', 'value-to-value')\n    //march the 12th\n    month.match('#Month the #Value').tag('Date', 'month-the-value')\n  }\n\n  //months:\n  let val = doc.if('#Value')\n  if (val.found === true) {\n    //june 7\n    val.match('(#WeekDay|#Month) #Value').ifNo('#Money').tag('Date', 'date-value')\n\n    //7 june\n    val.match('#Value (#WeekDay|#Month)').ifNo('#Money').tag('Date', 'value-date')\n\n    //may twenty five\n    val.match('#TextValue #TextValue').if('#Date').tag('#Date', 'textvalue-date')\n\n    //two thursdays back\n    val.match('#Value (#WeekDay|#Duration) back').tag('#Date', '3-back')\n\n    //eg 'year'\n    let duration = val.if('#Duration')\n    if (duration.found === true) {\n      //for 4 months\n      duration.match('for #Value #Duration').tag('Date', 'for-x-duration')\n      //two days before\n      duration.match('#Value #Duration #Conjunction').tag('Date', 'val-duration-conjunction')\n      //for four days\n      duration.match(`${preps}? #Value #Duration`).tag('Date', 'value-duration')\n      //two years old\n      duration.match('#Value #Duration old').unTag('Date', 'val-years-old')\n    }\n  }\n\n  //seasons\n  let season = doc.if(seasons)\n  if (season.found === true) {\n    season.match(`${preps}? ${thisNext} ${seasons}`).tag('Date', 'thisNext-season')\n    season.match(`the? ${sections} of ${seasons}`).tag('Date', 'section-season')\n    season.match(`${seasons} ${preps}? #Cardinal`).tag('Date', 'season-year')\n  }\n\n  //rest-dates\n  let date = doc.if('#Date')\n  if (date.found === true) {\n    //june the 5th\n    date.match('#Date the? #Ordinal').tag('Date', 'correction')\n    //last month\n    date.match(`${thisNext} #Date`).tag('Date', 'thisNext')\n    //by 5 March\n    date.match('due? (by|before|after|until) #Date').tag('Date', 'by')\n    //next feb\n    date.match('(last|next|this|previous|current|upcoming|coming|the) #Date').tag('Date', 'next-feb')\n    //start of june\n    date.match(`the? ${sections} of #Date`).tag('Date', 'section-of')\n    //fifth week in 1998\n    date.match('#Ordinal #Duration in #Date').tag('Date', 'duration-in')\n    //early in june\n    date.match('(early|late) (at|in)? the? #Date').tag('Time', 'early-evening')\n    //tomorrow before 3\n    date.match('#Date (by|before|after|at|@|about) #Cardinal').not('^#Date').tag('Time', 'date-before-Cardinal')\n    //saturday am\n    date.match('#Date [(am|pm)]', 0).unTag('Verb').unTag('Copula').tag('Time', 'date-am')\n    //feb to june\n    date.match('#Date (#Preposition|to) #Date').ifNo('#Duration').tag('Date', 'date-prep-date')\n    //2nd quarter of 2019\n    // date.match('#Date of #Date').tag('Date', 'date-of-date')\n  }\n\n  //year/cardinal tagging\n  let cardinal = doc.if('#Cardinal')\n  if (cardinal.found === true) {\n    let v = cardinal.match(`#Date #Value [#Cardinal]`, 0)\n    tagYear(v, 'date-value-year')\n    //scoops up a bunch\n    v = cardinal.match(`#Date [#Cardinal]`, 0)\n    tagYearSafe(v, 'date-year')\n    //middle of 1999\n    v = cardinal.match(`${sections} of [#Cardinal]`)\n    tagYearSafe(v, 'section-year')\n    //feb 8 2018\n    v = cardinal.match(`#Month #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-value-year')\n    //feb 8 to 10th 2018\n    v = cardinal.match(`#Month #Value to #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-range-year')\n    //in 1998\n    v = cardinal.match(`(in|of|by|during|before|starting|ending|for|year|since) [#Cardinal]`, 0)\n    tagYear(v, 'in-year-1')\n    //q2 2009\n    v = cardinal.match('(q1|q2|q3|q4) [#Cardinal]', 0)\n    tagYear(v, 'in-year-2')\n    //2nd quarter 2009\n    v = cardinal.match('#Ordinal quarter of? [#Cardinal]', 0)\n    tagYear(v, 'in-year-3')\n    //in the year 1998\n    v = cardinal.match('the year [#Cardinal]', 0)\n    tagYear(v, 'in-year-4')\n    //it was 1998\n    v = cardinal.match('it (is|was) [#Cardinal]', 0)\n    tagYearSafe(v, 'in-year-5')\n    // re-tag this part\n    cardinal.match(`${sections} of #Year`).tag('Date')\n    //between 1999 and 1998\n    let m = cardinal.match('between [#Cardinal] and [#Cardinal]')\n    tagYear(m.groups('0'), 'between-year-and-year-1')\n    tagYear(m.groups('1'), 'between-year-and-year-2')\n  }\n\n  let time = doc.if('#Time')\n  if (time.found === true) {\n    //by 6pm\n    time.match('(by|before|after|at|@|about) #Time').tag('Time', 'preposition-time')\n    //7 7pm\n    // time.match('#Cardinal #Time').not('#Year').tag('Time', 'value-time')\n    //2pm est\n    time.match('#Time [(eastern|pacific|central|mountain)]', 0).tag('Date', 'timezone')\n    //6pm est\n    time.match('#Time [(est|pst|gmt)]', 0).tag('Date', 'timezone abbr')\n  }\n  //'2020' bare input\n  let m = doc.match('^/^20[012][0-9]$/$')\n  tagYearSafe(m, '2020-ish')\n\n  // in 20mins\n  doc.match('(in|after) /^[0-9]+(min|sec|wk)s?/').tag('Date', 'shift-units')\n  return doc\n}\nmodule.exports = tagDates\n","const here = 'date-values'\n//\nconst values = function (doc) {\n  // a year ago\n  if (!doc.has('once [a] #Duration')) {\n    doc.match('[a] #Duration', 0).replaceWith('1').tag('Cardinal', here)\n  }\n  if (doc.has('#Value')) {\n    //june 5 to 7th\n    doc.match('#Month #Value to #Value of? #Year?').tag('Date', here)\n    //5 to 7th june\n    doc.match('#Value to #Value of? #Month #Year?').tag('Date', here)\n    //third week of may\n    doc.match('#Value #Duration of #Date').tag('Date', here)\n    //two days after\n    doc.match('#Value+ #Duration (after|before|into|later|afterwards|ago)?').tag('Date', here)\n    //two days\n    doc.match('#Value #Date').tag('Date', here)\n    //june 5th\n    doc.match('#Date #Value').tag('Date', here)\n    //tuesday at 5\n    doc.match('#Date #Preposition #Value').tag('Date', here)\n    //tomorrow before 3\n    doc.match('#Date (after|before|during|on|in) #Value').tag('Date', here)\n    //a year and a half\n    doc.match('#Value (year|month|week|day) and a half').tag('Date', here)\n    //5 and a half years\n    doc.match('#Value and a half (years|months|weeks|days)').tag('Date', here)\n    //on the fifth\n    doc.match('on the #Ordinal').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = values\n","const here = 'date-tagger'\n//\nconst dateTagger = function (doc) {\n  doc.match('(spring|summer|winter|fall|autumn|springtime|wintertime|summertime)').match('#Noun').tag('Season', here)\n  doc.match('(q1|q2|q3|q4)').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) quarter').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) season').tag('Season', here)\n\n  if (doc.has('#Date')) {\n    //friday to sunday\n    doc.match('#Date #Preposition #Date').tag('Date', here)\n    //once a day..\n    doc.match('(once|twice) (a|an|each) #Date').tag('Date', here)\n    //TODO:fixme\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', here)\n    //tuesday\n    doc.match('#Date+').tag('Date', here)\n    //by June\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', here)\n    //a year after..\n    doc.match('a #Duration').tag('Date', here)\n    //between x and y\n    doc.match('(between|from) #Date').tag('Date', here)\n    doc.match('(to|until|upto) #Date').tag('Date', here)\n    doc.match('#Date and #Date').tag('Date', here)\n    //during this june\n    doc.match('(by|until|after|before|during|on|in|following|since) (next|this|last)? (#Date|#Date)').tag('Date', here)\n    //day after next\n    doc.match('the? #Date after next one?').tag('Date', here)\n    //approximately...\n    doc.match('(about|approx|approximately|around) #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = dateTagger\n","const here = 'section-tagger'\n//\nconst sectionTagger = function (doc) {\n  if (doc.has('#Date')) {\n    // //next september\n    doc.match('this? (last|next|past|this|previous|current|upcoming|coming|the) #Date').tag('Date', here)\n    //starting this june\n    doc.match('(starting|beginning|ending) #Date').tag('Date', here)\n    //start of june\n    doc.match('the? (start|end|middle|beginning) of (last|next|this|the) (#Date|#Date)').tag('Date', here)\n    //this coming june\n    doc.match('(the|this) #Date').tag('Date', here)\n    //january up to june\n    doc.match('#Date up to #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = sectionTagger\n","const here = 'time-tagger'\n\n//\nconst timeTagger = function (doc) {\n  // 2 oclock\n  doc.match('#Cardinal oclock').tag('Time', here)\n  // 13h30\n  doc.match('/^[0-9]{2}h[0-9]{2}$/').tag('Time', here)\n  // 03/02\n  doc.match('/^[0-9]{2}/[0-9]{2}/').tag('Date', here).unTag('Value')\n  // 3 in the morning\n  doc.match('[#Value] (in|at) the? (morning|evening|night|nighttime)').tag('Time', here)\n  if (doc.has('#Cardinal') && !doc.has('#Month')) {\n    // quarter to seven (not march 5 to 7)\n    doc.match('1? (half|quarter|25|15|10|5) (past|after|to) #Cardinal').tag('Time', here)\n    // ten to seven\n    doc.match('(5|10|15|20|five|ten|fifteen|20) (to|after|past) [<hour>#Cardinal]').tag('Time', here) //add check for 1 to 1 etc.\n  }\n  //timezone\n  if (doc.has('#Date')) {\n    // iso  (2020-03-02T00:00:00.000Z)\n    doc.match('/^[0-9]{4}[:-][0-9]{2}[:-][0-9]{2}T[0-9]/').tag('Time', here)\n    // tuesday at 4\n    doc.match('#Date [at #Cardinal]', 0).notIf('#Year').tag('Time', here)\n    // half an hour\n    doc.match('half an (hour|minute|second)').tag('Date', here)\n    //eastern daylight time\n    doc.match('#Noun (standard|daylight|central|mountain)? time').tag('Timezone', here)\n    //utc+5\n    doc.match('/^utc[+-][0-9]/').tag('Timezone', here)\n    doc.match('/^gmt[+-][0-9]/').tag('Timezone', here)\n\n    doc.match('(in|for|by|near|at) #Timezone').tag('Timezone', here)\n    // 2pm eastern\n    doc.match('#Time [(eastern|mountain|pacific|central)]', 0).tag('Timezone', here)\n  }\n  // around four thirty\n  doc.match('(at|around|near) [#Cardinal (thirty|fifteen) (am|pm)?]', 0).tag('Time', here)\n  return doc\n}\nmodule.exports = timeTagger\n","const here = 'shift-tagger'\n//\nconst shiftTagger = function (doc) {\n  if (doc.has('#Date')) {\n    //'two days before'/ 'nine weeks frow now'\n    doc.match('#Cardinal #Duration (before|after|ago|from|hence|back)').tag('DateShift', here)\n    // in two weeks\n    doc.match('in #Cardinal #Duration').tag('DateShift', here)\n    // in a few weeks\n    doc.match('in a (few|couple) of? #Duration').tag('DateShift', here)\n    //two weeks and three days before\n    doc.match('#Cardinal #Duration and? #DateShift').tag('DateShift', here)\n    doc.match('#DateShift and #Cardinal #Duration').tag('DateShift', here)\n    // 'day after tomorrow'\n    doc.match('[#Duration (after|before)] #Date', 0).tag('DateShift', here)\n    // in half an hour\n    doc.match('in half (a|an) #Duration').tag('DateShift', here)\n  }\n  return doc\n}\nmodule.exports = shiftTagger\n","const tagIntervals = function (doc) {\n  // every other week\n  doc.match('every other #Duration').tag('Date', 'every-other')\n  // every weekend\n  doc.match('(every|any|each|a) (day|weekday|week day|weekend|weekend day)').tag('Date', 'any-weekday')\n  // any-wednesday\n  doc.match('(every|any|each|a) (#WeekDay)').tag('Date', 'any-wednesday')\n  // any week\n  doc.match('(every|any|each|a) (#Duration)').tag('Date', 'any-week')\n}\nmodule.exports = tagIntervals\n","const here = 'fix-tagger'\n//\nconst fixUp = function (doc) {\n  //fixups\n  if (doc.has('#Date')) {\n    //first day by monday\n    let oops = doc.match('#Date+ by #Date+')\n    if (oops.found && !oops.has('^due')) {\n      oops.match('^#Date+').unTag('Date', 'by-monday')\n    }\n\n    let d = doc.match('#Date+')\n    //'spa day'\n    d.match('^day$').unTag('Date', 'spa-day')\n    // tomorrow's meeting\n    d.match('(in|of|by|for)? (#Possessive && #Date)').unTag('Date', 'tomorrows meeting')\n\n    let knownDate = '(yesterday|today|tomorrow)'\n    if (d.has(knownDate)) {\n      //yesterday 7\n      d.match(`${knownDate} [#Value]$`).unTag('Date', 'yesterday-7')\n      //7 yesterday\n      d.match(`^[#Value] ${knownDate}$`, 0).unTag('Date', '7 yesterday')\n      //friday yesterday\n      d.match(`#WeekDay+ ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'fri-yesterday')\n\n      // yesterday yesterday\n      // d.match(`${knownDate}+ ${knownDate}$`)\n      //   .unTag('Date')\n      //   .lastTerm()\n      //   .tag('Date', here)\n      d.match(`(this|last|next) #Date ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'this month yesterday')\n    }\n    //tomorrow on 5\n    d.match(`on #Cardinal$`).unTag('Date', here)\n    //this tomorrow\n    d.match(`this tomorrow`).terms(0).unTag('Date', 'this-tomorrow')\n    //q2 2019\n    d.match(`(q1|q2|q3|q4) #Year`).tag('Date', here)\n    //5 tuesday\n    // d.match(`^#Value #WeekDay`).terms(0).unTag('Date');\n    //5 next week\n    d.match(`^#Value (this|next|last)`).terms(0).unTag('Date', here)\n\n    if (d.has('(last|this|next)')) {\n      //this month 7\n      d.match(`(last|this|next) #Duration #Value`).terms(2).unTag('Date', here)\n      //7 this month\n      d.match(`!#Month #Value (last|this|next) #Date`).terms(0).unTag('Date', here)\n    }\n    //january 5 5\n    if (d.has('(#Year|#Time|#TextValue|#NumberRange)') === false) {\n      d.match('(#Month|#WeekDay) #Value #Value').terms(2).unTag('Date', here)\n    }\n    //between june\n    if (d.has('^between') && !d.has('and .')) {\n      d.unTag('Date', here)\n    }\n    //june june\n    if (d.has('#Month #Month') && !d.has('@hasHyphen') && !d.has('@hasComma')) {\n      d.match('#Month').lastTerm().unTag('Date', 'month-month')\n    }\n    // log the hours\n    if (d.has('(minutes|seconds|weeks|hours|days|months)') && !d.has('#Value #Duration')) {\n      d.match('(minutes|seconds|weeks|hours|days|months)').unTag('Date', 'log-hours')\n    }\n    // about thanksgiving\n    if (d.has('about #Holiday')) {\n      d.match('about').unTag('#Date', 'about-thanksgiving')\n    }\n\n    // second quarter of 2020\n    d.match('#Ordinal quarter of? #Year').unTag('Fraction')\n\n    // a month from now\n    d.match('(from|by|before) now').unTag('Time')\n    // dangling date-chunks\n    // if (d.has('!#Date (in|of|by|for) !#Date')) {\n    //   d.unTag('Date', 'dangling-date')\n    // }\n    // the day after next\n    d.match('#Date+').match('^the').unTag('Date')\n  }\n  return doc\n}\nmodule.exports = fixUp\n","const methods = [\n  require('./00-basic'),\n  require('./01-values'),\n  require('./02-dates'),\n  require('./03-sections'),\n  require('./04-time'),\n  require('./05-shifts'),\n  require('./06-intervals'),\n  require('./07-fixup'),\n]\n\n// normalizations to run before tagger\nconst normalize = function (doc) {\n  // turn '20mins' into '20 mins'\n  doc.numbers().normalize() // this is sorta problematic\n  return doc\n}\n\n// run each of the taggers\nconst tagDate = function (doc) {\n  doc = normalize(doc)\n  // run taggers\n  methods.forEach((fn) => fn(doc))\n  return doc\n}\nmodule.exports = tagDate\n","module.exports = {\n  FinancialQuarter: {\n    isA: 'Date',\n    notA: 'Fraction',\n  },\n  // 'summer'\n  Season: {\n    isA: 'Date',\n  },\n  // '1982'\n  Year: {\n    isA: ['Date'],\n    notA: 'RomanNumeral',\n  },\n  // 'months'\n  Duration: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'easter'\n  Holiday: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'PST'\n  Timezone: {\n    isA: ['Date', 'Noun'],\n    notA: ['Adjective', 'DateShift'],\n  },\n  // 'two weeks before'\n  DateShift: {\n    isA: ['Date'],\n    notA: ['TimeZone', 'Holiday'],\n  },\n}\n","/* spencermountain/spacetime 6.12.5 Apache 2.0 */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.spacetime = factory());\n}(this, (function () { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var MSEC_IN_HOUR = 60 * 60 * 1000; //convert our local date syntax a javascript UTC date\n\n  var toUtc = function toUtc(dstChange, offset, year) {\n    var _dstChange$split = dstChange.split('/'),\n        _dstChange$split2 = _slicedToArray(_dstChange$split, 2),\n        month = _dstChange$split2[0],\n        rest = _dstChange$split2[1];\n\n    var _rest$split = rest.split(':'),\n        _rest$split2 = _slicedToArray(_rest$split, 2),\n        day = _rest$split2[0],\n        hour = _rest$split2[1];\n\n    return Date.UTC(year, month - 1, day, hour) - offset * MSEC_IN_HOUR;\n  }; // compare epoch with dst change events (in utc)\n\n\n  var inSummerTime = function inSummerTime(epoch, start, end, summerOffset, winterOffset) {\n    var year = new Date(epoch).getUTCFullYear();\n    var startUtc = toUtc(start, winterOffset, year);\n    var endUtc = toUtc(end, summerOffset, year); // simple number comparison now\n\n    return epoch >= startUtc && epoch < endUtc;\n  };\n\n  var summerTime = inSummerTime;\n\n  // it reproduces some things in ./index.js, but speeds up spacetime considerably\n\n  var quickOffset = function quickOffset(s) {\n    var zones = s.timezones;\n    var obj = zones[s.tz];\n\n    if (obj === undefined) {\n      console.warn(\"Warning: couldn't find timezone \" + s.tz);\n      return 0;\n    }\n\n    if (obj.dst === undefined) {\n      return obj.offset;\n    } //get our two possible offsets\n\n\n    var jul = obj.offset;\n    var dec = obj.offset + 1; // assume it's the same for now\n\n    if (obj.hem === 'n') {\n      dec = jul - 1;\n    }\n\n    var split = obj.dst.split('->');\n    var inSummer = summerTime(s.epoch, split[0], split[1], jul, dec);\n\n    if (inSummer === true) {\n      return jul;\n    }\n\n    return dec;\n  };\n\n  var quick = quickOffset;\n\n  var _build = {\n  \t\"9|s\": \"2/dili,2/jayapura\",\n  \t\"9|n\": \"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau\",\n  \t\"9.5|s|04/04:03->10/03:02\": \"4/adelaide,4/broken_hill,4/south,4/yancowinna\",\n  \t\"9.5|s\": \"4/darwin,4/north\",\n  \t\"8|s|03/08:01->10/04:00\": \"12/casey\",\n  \t\"8|s\": \"2/kuala_lumpur,2/makassar,2/singapore,4/perth,4/west\",\n  \t\"8|n|03/25:03->09/29:23\": \"2/ulan_bator\",\n  \t\"8|n\": \"2/brunei,2/choibalsan,2/chongqing,2/chungking,2/harbin,2/hong_kong,2/irkutsk,2/kuching,2/macao,2/macau,2/manila,2/shanghai,2/taipei,2/ujung_pandang,2/ulaanbaatar\",\n  \t\"8.75|s\": \"4/eucla\",\n  \t\"7|s\": \"12/davis,2/jakarta,9/christmas\",\n  \t\"7|n\": \"2/bangkok,2/barnaul,2/ho_chi_minh,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/saigon,2/tomsk,2/vientiane\",\n  \t\"6|s\": \"12/vostok\",\n  \t\"6|n\": \"2/almaty,2/bishkek,2/dacca,2/dhaka,2/kashgar,2/omsk,2/qyzylorda,2/qostanay,2/thimbu,2/thimphu,2/urumqi,9/chagos\",\n  \t\"6.5|n\": \"2/rangoon,2/yangon,9/cocos\",\n  \t\"5|s\": \"12/mawson,9/kerguelen\",\n  \t\"5|n\": \"2/aqtau,2/aqtobe,2/ashgabat,2/ashkhabad,2/atyrau,2/baku,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives\",\n  \t\"5.75|n\": \"2/kathmandu,2/katmandu\",\n  \t\"5.5|n\": \"2/calcutta,2/colombo,2/kolkata\",\n  \t\"4|s\": \"9/reunion\",\n  \t\"4|n\": \"2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius\",\n  \t\"4.5|n|03/22:00->09/21:24\": \"2/tehran\",\n  \t\"4.5|n\": \"2/kabul\",\n  \t\"3|s\": \"12/syowa,9/antananarivo\",\n  \t\"3|n|03/28:03->10/31:04\": \"2/famagusta,2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/nicosia,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye\",\n  \t\"3|n|03/28:02->10/31:03\": \"8/chisinau,8/tiraspol\",\n  \t\"3|n|03/28:00->10/30:24\": \"2/beirut\",\n  \t\"3|n|03/27:00->10/30:01\": \"2/gaza,2/hebron\",\n  \t\"3|n|03/26:02->10/31:02\": \"2/jerusalem,2/tel_aviv\",\n  \t\"3|n|03/26:00->10/29:01\": \"2/amman\",\n  \t\"3|n|03/26:00->10/28:24\": \"2/damascus\",\n  \t\"3|n\": \"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/istanbul,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte\",\n  \t\"2|s|03/28:02->10/31:02\": \"12/troll\",\n  \t\"2|s\": \"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane\",\n  \t\"2|n|03/28:02->10/31:03\": \"0/ceuta,arctic/longyearbyen,3/jan_mayen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich\",\n  \t\"2|n\": \"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad\",\n  \t\"1|s|04/02:01->09/03:03\": \"0/windhoek\",\n  \t\"1|s\": \"0/kinshasa,0/luanda\",\n  \t\"1|n|04/11:03->05/16:02\": \"0/casablanca,0/el_aaiun\",\n  \t\"1|n|03/28:01->10/31:02\": \"3/canary,3/faeroe,3/faroe,3/madeira,8/belfast,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london\",\n  \t\"1|n\": \"0/algiers,0/bangui,0/brazzaville,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis\",\n  \t\"14|n\": \"11/kiritimati\",\n  \t\"13|s|04/04:04->09/26:03\": \"11/apia\",\n  \t\"13|s|01/15:02->11/05:03\": \"11/tongatapu\",\n  \t\"13|n\": \"11/enderbury,11/fakaofo\",\n  \t\"12|s|04/04:03->09/26:02\": \"12/mcmurdo,12/south_pole,11/auckland\",\n  \t\"12|s|01/17:03->11/14:02\": \"11/fiji\",\n  \t\"12|n\": \"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis\",\n  \t\"12.75|s|04/04:03->04/04:02\": \"11/chatham\",\n  \t\"11|s|04/04:03->10/03:02\": \"12/macquarie\",\n  \t\"11|s\": \"11/bougainville\",\n  \t\"11|n\": \"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape\",\n  \t\"11.5|n|04/04:03->10/03:02\": \"11/norfolk\",\n  \t\"10|s|04/04:03->10/03:02\": \"4/act,4/canberra,4/currie,4/hobart,4/melbourne,4/nsw,4/sydney,4/tasmania,4/victoria\",\n  \t\"10|s\": \"12/dumontdurville,4/brisbane,4/lindeman,4/queensland\",\n  \t\"10|n\": \"2/ust-nera,2/vladivostok,2/yakutsk,11/chuuk,11/guam,11/port_moresby,11/saipan,11/truk,11/yap\",\n  \t\"10.5|s|04/04:01->10/03:02\": \"4/lhi,4/lord_howe\",\n  \t\"0|n|03/28:00->10/31:01\": \"1/scoresbysund,3/azores\",\n  \t\"0|n\": \"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,0/timbuktu,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/gmt+0,13/gmt-0,13/gmt0,13/greenwich,13/utc,13/universal,13/zulu\",\n  \t\"-9|n|03/14:02->11/07:02\": \"1/adak,1/atka\",\n  \t\"-9|n\": \"11/gambier\",\n  \t\"-9.5|n\": \"11/marquesas\",\n  \t\"-8|n|03/14:02->11/07:02\": \"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat\",\n  \t\"-8|n\": \"11/pitcairn\",\n  \t\"-7|n|03/14:02->11/07:02\": \"1/ensenada,1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,6/pacific,10/bajanorte\",\n  \t\"-7|n|03/08:02->11/01:01\": \"1/dawson,1/whitehorse,6/yukon\",\n  \t\"-7|n\": \"1/creston,1/dawson_creek,1/fort_nelson,1/hermosillo,1/phoenix\",\n  \t\"-6|s|04/03:22->09/04:22\": \"7/easterisland,11/easter\",\n  \t\"-6|n|04/04:02->10/31:02\": \"1/chihuahua,1/mazatlan,10/bajasur\",\n  \t\"-6|n|03/14:02->11/07:02\": \"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/shiprock,1/yellowknife,6/mountain\",\n  \t\"-6|n\": \"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,6/east-saskatchewan,6/saskatchewan,11/galapagos\",\n  \t\"-5|s\": \"1/lima,1/rio_branco,5/acre\",\n  \t\"-5|n|04/04:02->10/31:02\": \"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general\",\n  \t\"-5|n|03/14:02->11/07:02\": \"1/chicago,1/knox_in,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,6/central\",\n  \t\"-5|n|03/12:03->11/05:01\": \"1/north_dakota\",\n  \t\"-5|n\": \"1/atikokan,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/porto_acre\",\n  \t\"-4|s|05/13:23->08/13:01\": \"12/palmer\",\n  \t\"-4|s|04/03:24->09/05:00\": \"1/santiago,7/continental\",\n  \t\"-4|s|03/27:24->10/03:00\": \"1/asuncion\",\n  \t\"-4|s|02/16:24->11/03:00\": \"1/campo_grande,1/cuiaba\",\n  \t\"-4|s\": \"1/la_paz,1/manaus,5/west\",\n  \t\"-4|n|03/14:02->11/07:02\": \"1/detroit,1/fort_wayne,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,6/eastern\",\n  \t\"-4|n|03/14:00->11/07:01\": \"1/havana\",\n  \t\"-4|n|03/12:03->11/05:01\": \"1/indiana,1/kentucky\",\n  \t\"-4|n\": \"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin\",\n  \t\"-3|s\": \"1/argentina,1/buenos_aires,1/cordoba,1/fortaleza,1/montevideo,1/punta_arenas,1/sao_paulo,12/rothera,3/stanley,5/east\",\n  \t\"-3|n|03/27:22->10/30:23\": \"1/nuuk\",\n  \t\"-3|n|03/14:02->11/07:02\": \"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic\",\n  \t\"-3|n\": \"1/araguaina,1/bahia,1/belem,1/catamarca,1/cayenne,1/jujuy,1/maceio,1/mendoza,1/paramaribo,1/recife,1/rosario,1/santarem\",\n  \t\"-2|s\": \"5/denoronha\",\n  \t\"-2|n|03/27:22->10/30:23\": \"1/godthab\",\n  \t\"-2|n|03/14:02->11/07:02\": \"1/miquelon\",\n  \t\"-2|n\": \"1/noronha,3/south_georgia\",\n  \t\"-2.5|n|03/14:02->11/07:02\": \"1/st_johns,6/newfoundland\",\n  \t\"-1|n\": \"3/cape_verde\",\n  \t\"-11|n\": \"11/midway,11/niue,11/pago_pago,11/samoa\",\n  \t\"-10|n\": \"11/honolulu,11/johnston,11/rarotonga,11/tahiti\"\n  };\n\n  var _build$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': _build\n  });\n\n  //prefixes for iana names..\n  var _prefixes = ['africa', 'america', 'asia', 'atlantic', 'australia', 'brazil', 'canada', 'chile', 'europe', 'indian', 'mexico', 'pacific', 'antarctica', 'etc'];\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  function getCjsExportFromNamespace (n) {\n  \treturn n && n['default'] || n;\n  }\n\n  var data = getCjsExportFromNamespace(_build$1);\n\n  var all = {};\n  Object.keys(data).forEach(function (k) {\n    var split = k.split('|');\n    var obj = {\n      offset: Number(split[0]),\n      hem: split[1]\n    };\n\n    if (split[2]) {\n      obj.dst = split[2];\n    }\n\n    var names = data[k].split(',');\n    names.forEach(function (str) {\n      str = str.replace(/(^[0-9]+)\\//, function (before, num) {\n        num = Number(num);\n        return _prefixes[num] + '/';\n      });\n      all[str] = obj;\n    });\n  });\n  all['utc'] = {\n    offset: 0,\n    hem: 'n' //default to northern hemisphere - (sorry!)\n\n  }; //add etc/gmt+n\n\n  for (var i = -14; i <= 14; i += 0.5) {\n    var num = i;\n\n    if (num > 0) {\n      num = '+' + num;\n    }\n\n    var name = 'etc/gmt' + num;\n    all[name] = {\n      offset: i * -1,\n      //they're negative!\n      hem: 'n' //(sorry)\n\n    };\n    name = 'utc/gmt' + num; //this one too, why not.\n\n    all[name] = {\n      offset: i * -1,\n      hem: 'n'\n    };\n  }\n\n  var unpack = all;\n\n  //find the implicit iana code for this machine.\n  //safely query the Intl object\n  //based on - https://bitbucket.org/pellepim/jstimezonedetect/src\n  var fallbackTZ = 'utc'; //\n  //this Intl object is not supported often, yet\n\n  var safeIntl = function safeIntl() {\n    if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n      return null;\n    }\n\n    var format = Intl.DateTimeFormat();\n\n    if (typeof format === 'undefined' || typeof format.resolvedOptions === 'undefined') {\n      return null;\n    }\n\n    var timezone = format.resolvedOptions().timeZone;\n\n    if (!timezone) {\n      return null;\n    }\n\n    return timezone.toLowerCase();\n  };\n\n  var guessTz = function guessTz() {\n    var timezone = safeIntl();\n\n    if (timezone === null) {\n      return fallbackTZ;\n    }\n\n    return timezone;\n  }; //do it once per computer\n\n\n  var guessTz_1 = guessTz;\n\n  var isOffset = /(\\-?[0-9]+)h(rs)?/i;\n  var isNumber = /(\\-?[0-9]+)/;\n  var utcOffset = /utc([\\-+]?[0-9]+)/i;\n  var gmtOffset = /gmt([\\-+]?[0-9]+)/i;\n\n  var toIana = function toIana(num) {\n    num = Number(num);\n\n    if (num >= -13 && num <= 13) {\n      num = num * -1; //it's opposite!\n\n      num = (num > 0 ? '+' : '') + num; //add plus sign\n\n      return 'etc/gmt' + num;\n    }\n\n    return null;\n  };\n\n  var parseOffset = function parseOffset(tz) {\n    // '+5hrs'\n    var m = tz.match(isOffset);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    } // 'utc+5'\n\n\n    m = tz.match(utcOffset);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    } // 'GMT-5' (not opposite)\n\n\n    m = tz.match(gmtOffset);\n\n    if (m !== null) {\n      var num = Number(m[1]) * -1;\n      return toIana(num);\n    } // '+5'\n\n\n    m = tz.match(isNumber);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    }\n\n    return null;\n  };\n\n  var parseOffset_1 = parseOffset;\n\n  var local = guessTz_1(); //add all the city names by themselves\n\n  var cities = Object.keys(unpack).reduce(function (h, k) {\n    var city = k.split('/')[1] || '';\n    city = city.replace(/_/g, ' ');\n    h[city] = k;\n    return h;\n  }, {}); //try to match these against iana form\n\n  var normalize = function normalize(tz) {\n    tz = tz.replace(/ time/g, '');\n    tz = tz.replace(/ (standard|daylight|summer)/g, '');\n    tz = tz.replace(/\\b(east|west|north|south)ern/g, '$1');\n    tz = tz.replace(/\\b(africa|america|australia)n/g, '$1');\n    tz = tz.replace(/\\beuropean/g, 'europe');\n    tz = tz.replace(/\\islands/g, 'island');\n    return tz;\n  }; // try our best to reconcile the timzone to this given string\n\n\n  var lookupTz = function lookupTz(str, zones) {\n    if (!str) {\n      return local;\n    }\n\n    if (typeof str !== 'string') {\n      console.error(\"Timezone must be a string - recieved: '\", str, \"'\\n\");\n    }\n\n    var tz = str.trim();\n    var split = str.split('/'); //support long timezones like 'America/Argentina/Rio_Gallegos'\n\n    if (split.length > 2 && zones.hasOwnProperty(tz) === false) {\n      tz = split[0] + '/' + split[1];\n    }\n\n    tz = tz.toLowerCase();\n\n    if (zones.hasOwnProperty(tz) === true) {\n      return tz;\n    } //lookup more loosely..\n\n\n    tz = normalize(tz);\n\n    if (zones.hasOwnProperty(tz) === true) {\n      return tz;\n    } //try city-names\n\n\n    if (cities.hasOwnProperty(tz) === true) {\n      return cities[tz];\n    } // //try to parse '-5h'\n\n\n    if (/[0-9]/.test(tz) === true) {\n      var id = parseOffset_1(tz);\n\n      if (id) {\n        return id;\n      }\n    }\n\n    throw new Error(\"Spacetime: Cannot find timezone named: '\" + str + \"'. Please enter an IANA timezone id.\");\n  };\n\n  var find = lookupTz;\n\n  var o = {\n    millisecond: 1\n  };\n  o.second = 1000;\n  o.minute = 60000;\n  o.hour = 3.6e6; // dst is supported post-hoc\n\n  o.day = 8.64e7; //\n\n  o.date = o.day;\n  o.month = 8.64e7 * 29.5; //(average)\n\n  o.week = 6.048e8;\n  o.year = 3.154e10; // leap-years are supported post-hoc\n  //add plurals\n\n  Object.keys(o).forEach(function (k) {\n    o[k + 's'] = o[k];\n  });\n  var milliseconds = o;\n\n  var walk = function walk(s, n, fn, unit, previous) {\n    var current = s.d[fn]();\n\n    if (current === n) {\n      return; //already there\n    }\n\n    var startUnit = previous === null ? null : s.d[previous]();\n    var original = s.epoch; //try to get it as close as we can\n\n    var diff = n - current;\n    s.epoch += milliseconds[unit] * diff; //DST edge-case: if we are going many days, be a little conservative\n    // console.log(unit, diff)\n\n    if (unit === 'day') {\n      // s.epoch -= ms.minute\n      //but don't push it over a month\n      if (Math.abs(diff) > 28 && n < 28) {\n        s.epoch += milliseconds.hour;\n      }\n    } // 1st time: oops, did we change previous unit? revert it.\n\n\n    if (previous !== null && startUnit !== s.d[previous]()) {\n      // console.warn('spacetime warning: missed setting ' + unit)\n      s.epoch = original; // s.epoch += ms[unit] * diff * 0.89 // maybe try and make it close...?\n    } //repair it if we've gone too far or something\n    //(go by half-steps, just in case)\n\n\n    var halfStep = milliseconds[unit] / 2;\n\n    while (s.d[fn]() < n) {\n      s.epoch += halfStep;\n    }\n\n    while (s.d[fn]() > n) {\n      s.epoch -= halfStep;\n    } // 2nd time: did we change previous unit? revert it.\n\n\n    if (previous !== null && startUnit !== s.d[previous]()) {\n      // console.warn('spacetime warning: missed setting ' + unit)\n      s.epoch = original;\n    }\n  }; //find the desired date by a increment/check while loop\n\n\n  var units = {\n    year: {\n      valid: function valid(n) {\n        return n > -4000 && n < 4000;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getFullYear', 'year', null);\n      }\n    },\n    month: {\n      valid: function valid(n) {\n        return n >= 0 && n <= 11;\n      },\n      walkTo: function walkTo(s, n) {\n        var d = s.d;\n        var current = d.getMonth();\n        var original = s.epoch;\n        var startUnit = d.getFullYear();\n\n        if (current === n) {\n          return;\n        } //try to get it as close as we can..\n\n\n        var diff = n - current;\n        s.epoch += milliseconds.day * (diff * 28); //special case\n        //oops, did we change the year? revert it.\n\n        if (startUnit !== s.d.getFullYear()) {\n          s.epoch = original;\n        } //increment by day\n\n\n        while (s.d.getMonth() < n) {\n          s.epoch += milliseconds.day;\n        }\n\n        while (s.d.getMonth() > n) {\n          s.epoch -= milliseconds.day;\n        }\n      }\n    },\n    date: {\n      valid: function valid(n) {\n        return n > 0 && n <= 31;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getDate', 'day', 'getMonth');\n      }\n    },\n    hour: {\n      valid: function valid(n) {\n        return n >= 0 && n < 24;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getHours', 'hour', 'getDate');\n      }\n    },\n    minute: {\n      valid: function valid(n) {\n        return n >= 0 && n < 60;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getMinutes', 'minute', 'getHours');\n      }\n    },\n    second: {\n      valid: function valid(n) {\n        return n >= 0 && n < 60;\n      },\n      walkTo: function walkTo(s, n) {\n        //do this one directly\n        s.epoch = s.seconds(n).epoch;\n      }\n    },\n    millisecond: {\n      valid: function valid(n) {\n        return n >= 0 && n < 1000;\n      },\n      walkTo: function walkTo(s, n) {\n        //do this one directly\n        s.epoch = s.milliseconds(n).epoch;\n      }\n    }\n  };\n\n  var walkTo = function walkTo(s, wants) {\n    var keys = Object.keys(units);\n    var old = s.clone();\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n      var n = wants[k];\n\n      if (n === undefined) {\n        n = old[k]();\n      }\n\n      if (typeof n === 'string') {\n        n = parseInt(n, 10);\n      } //make-sure it's valid\n\n\n      if (!units[k].valid(n)) {\n        s.epoch = null;\n\n        if (s.silent === false) {\n          console.warn('invalid ' + k + ': ' + n);\n        }\n\n        return;\n      }\n\n      units[k].walkTo(s, n);\n    }\n\n    return;\n  };\n\n  var walk_1 = walkTo;\n\n  var shortMonths = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sept', 'oct', 'nov', 'dec'];\n  var longMonths = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n\n  function buildMapping() {\n    var obj = {\n      sep: 8 //support this format\n\n    };\n\n    for (var i = 0; i < shortMonths.length; i++) {\n      obj[shortMonths[i]] = i;\n    }\n\n    for (var _i = 0; _i < longMonths.length; _i++) {\n      obj[longMonths[_i]] = _i;\n    }\n\n    return obj;\n  }\n\n  var months = {\n    \"short\": function short() {\n      return shortMonths;\n    },\n    \"long\": function long() {\n      return longMonths;\n    },\n    mapping: function mapping() {\n      return buildMapping();\n    },\n    set: function set(i18n) {\n      shortMonths = i18n[\"short\"] || shortMonths;\n      longMonths = i18n[\"long\"] || longMonths;\n    }\n  };\n\n  //pull-apart ISO offsets, like \"+0100\"\n  var parseOffset$1 = function parseOffset(s, offset) {\n    if (!offset) {\n      return s;\n    } //this is a fancy-move\n\n\n    if (offset === 'Z' || offset === 'z') {\n      offset = '+0000';\n    } // according to ISO8601, tz could be hh:mm, hhmm or hh\n    // so need few more steps before the calculation.\n\n\n    var num = 0; // for (+-)hh:mm\n\n    if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n      //support \"+01:00\"\n      if (/:00/.test(offset) === true) {\n        offset = offset.replace(/:00/, '');\n      } //support \"+01:30\"\n\n\n      if (/:30/.test(offset) === true) {\n        offset = offset.replace(/:30/, '.5');\n      }\n    } // for (+-)hhmm\n\n\n    if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n      offset = offset.replace(/30$/, '.5');\n    }\n\n    num = parseFloat(offset); //divide by 100 or 10 - , \"+0100\", \"+01\"\n\n    if (Math.abs(num) > 100) {\n      num = num / 100;\n    } //okay, try to match it to a utc timezone\n    //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n    //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n\n\n    num *= -1;\n\n    if (num >= 0) {\n      num = '+' + num;\n    }\n\n    var tz = 'etc/gmt' + num;\n    var zones = s.timezones;\n\n    if (zones[tz]) {\n      // log a warning if we're over-writing a given timezone?\n      // console.log('changing timezone to: ' + tz)\n      s.tz = tz;\n    }\n\n    return s;\n  };\n\n  var parseOffset_1$1 = parseOffset$1;\n\n  var parseTime = function parseTime(s) {\n    var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    str = str.replace(/^\\s+/, '').toLowerCase(); //trim\n    //formal time formats - 04:30.23\n\n    var arr = str.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\\.]?([0-9]{1,4})?/);\n\n    if (arr !== null) {\n      //validate it a little\n      var h = Number(arr[1]);\n\n      if (h < 0 || h > 24) {\n        return s.startOf('day');\n      }\n\n      var m = Number(arr[2]); //don't accept '5:3pm'\n\n      if (arr[2].length < 2 || m < 0 || m > 59) {\n        return s.startOf('day');\n      }\n\n      if (arr[4] > 999) {\n        // fix overflow issue with milliseconds, if input is longer than standard (e.g. 2017-08-06T09:00:00.123456Z)\n        arr[4] = parseInt(\"\".concat(arr[4]).substring(0, 3), 10);\n      }\n\n      s = s.hour(h);\n      s = s.minute(m);\n      s = s.seconds(arr[3] || 0);\n      s = s.millisecond(arr[4] || 0); //parse-out am/pm\n\n      var ampm = str.match(/[\\b0-9](am|pm)\\b/);\n\n      if (ampm !== null && ampm[1]) {\n        s = s.ampm(ampm[1]);\n      }\n\n      return s;\n    } //try an informal form - 5pm (no minutes)\n\n\n    arr = str.match(/([0-9]+) ?(am|pm)/);\n\n    if (arr !== null && arr[1]) {\n      var _h = Number(arr[1]); //validate it a little..\n\n\n      if (_h > 12 || _h < 1) {\n        return s.startOf('day');\n      }\n\n      s = s.hour(arr[1] || 0);\n      s = s.ampm(arr[2]);\n      s = s.startOf('hour');\n      return s;\n    } //no time info found, use start-of-day\n\n\n    s = s.startOf('day');\n    return s;\n  };\n\n  var parseTime_1 = parseTime;\n\n  var monthLengths = [31, // January - 31 days\n  28, // February - 28 days in a common year and 29 days in leap years\n  31, // March - 31 days\n  30, // April - 30 days\n  31, // May - 31 days\n  30, // June - 30 days\n  31, // July - 31 days\n  31, // August - 31 days\n  30, // September - 30 days\n  31, // October - 31 days\n  30, // November - 30 days\n  31 // December - 31 days\n  ];\n  var monthLengths_1 = monthLengths; // 28 - feb\n\n  var fns = createCommonjsModule(function (module, exports) {\n    //git:blame @JuliasCaesar https://www.timeanddate.com/date/leapyear.html\n    exports.isLeapYear = function (year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    }; // unsurprisingly-nasty `typeof date` call\n\n\n    exports.isDate = function (d) {\n      return Object.prototype.toString.call(d) === '[object Date]' && !isNaN(d.valueOf());\n    };\n\n    exports.isArray = function (input) {\n      return Object.prototype.toString.call(input) === '[object Array]';\n    };\n\n    exports.isObject = function (input) {\n      return Object.prototype.toString.call(input) === '[object Object]';\n    };\n\n    exports.isBoolean = function (input) {\n      return Object.prototype.toString.call(input) === '[object Boolean]';\n    };\n\n    exports.zeroPad = function (str) {\n      var len = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var pad = '0';\n      str = str + '';\n      return str.length >= len ? str : new Array(len - str.length + 1).join(pad) + str;\n    };\n\n    exports.titleCase = function (str) {\n      if (!str) {\n        return '';\n      }\n\n      return str[0].toUpperCase() + str.substr(1);\n    };\n\n    exports.ordinal = function (i) {\n      var j = i % 10;\n      var k = i % 100;\n\n      if (j === 1 && k !== 11) {\n        return i + 'st';\n      }\n\n      if (j === 2 && k !== 12) {\n        return i + 'nd';\n      }\n\n      if (j === 3 && k !== 13) {\n        return i + 'rd';\n      }\n\n      return i + 'th';\n    }; //strip 'st' off '1st'..\n\n\n    exports.toCardinal = function (str) {\n      str = String(str);\n      str = str.replace(/([0-9])(st|nd|rd|th)$/i, '$1');\n      return parseInt(str, 10);\n    }; //used mostly for cleanup of unit names, like 'months'\n\n\n    exports.normalize = function () {\n      var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      str = str.toLowerCase().trim();\n      str = str.replace(/ies$/, 'y'); //'centuries'\n\n      str = str.replace(/s$/, '');\n      str = str.replace(/-/g, '');\n\n      if (str === 'day' || str === 'days') {\n        return 'date';\n      }\n\n      if (str === 'min' || str === 'mins') {\n        return 'minute';\n      }\n\n      return str;\n    };\n\n    exports.getEpoch = function (tmp) {\n      //support epoch\n      if (typeof tmp === 'number') {\n        return tmp;\n      } //suport date objects\n\n\n      if (exports.isDate(tmp)) {\n        return tmp.getTime();\n      }\n\n      if (tmp.epoch) {\n        return tmp.epoch;\n      }\n\n      return null;\n    }; //make sure this input is a spacetime obj\n\n\n    exports.beADate = function (d, s) {\n      if (exports.isObject(d) === false) {\n        return s.clone().set(d);\n      }\n\n      return d;\n    };\n\n    exports.formatTimezone = function (offset) {\n      var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var sign = offset > 0 ? '+' : '-';\n      var absOffset = Math.abs(offset);\n      var hours = exports.zeroPad(parseInt('' + absOffset, 10));\n      var minutes = exports.zeroPad(absOffset % 1 * 60);\n      return \"\".concat(sign).concat(hours).concat(delimiter).concat(minutes);\n    };\n  });\n  fns.isLeapYear;\n  fns.isDate;\n  fns.isArray;\n  fns.isObject;\n  fns.isBoolean;\n  fns.zeroPad;\n  fns.titleCase;\n  fns.ordinal;\n  fns.toCardinal;\n  fns.normalize;\n  fns.getEpoch;\n  fns.beADate;\n  fns.formatTimezone;\n\n  var isLeapYear = fns.isLeapYear; //given a month, return whether day number exists in it\n\n  var hasDate = function hasDate(obj) {\n    //invalid values\n    if (monthLengths_1.hasOwnProperty(obj.month) !== true) {\n      return false;\n    } //support leap-year in february\n\n\n    if (obj.month === 1) {\n      if (isLeapYear(obj.year) && obj.date <= 29) {\n        return true;\n      } else {\n        return obj.date <= 28;\n      }\n    } //is this date too-big for this month?\n\n\n    var max = monthLengths_1[obj.month] || 0;\n\n    if (obj.date <= max) {\n      return true;\n    }\n\n    return false;\n  };\n\n  var hasDate_1 = hasDate;\n\n  var months$1 = months.mapping();\n\n  var parseYear = function parseYear() {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var today = arguments.length > 1 ? arguments[1] : undefined;\n    var year = parseInt(str.trim(), 10); // use a given year from options.today\n\n    if (!year && today) {\n      year = today.year;\n    } // fallback to this year\n\n\n    year = year || new Date().getFullYear();\n    return year;\n  };\n\n  var strFmt = [//iso-this 1998-05-30T22:00:00:000Z, iso-that 2017-04-03T08:00:00-0700\n  {\n    reg: /^(\\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\\-\\+:]+)?$/i,\n    parse: function parse(s, arr, givenTz, options) {\n      var month = parseInt(arr[2], 10) - 1;\n      var obj = {\n        year: arr[1],\n        month: month,\n        date: arr[3]\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      parseOffset_1$1(s, arr[5]);\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //iso \"2015-03-25\" or \"2015/03/25\" or \"2015/03/25 12:26:14 PM\"\n  {\n    reg: /^([0-9]{4})[\\-\\/.]([0-9]{1,2})[\\-\\/.]([0-9]{1,2}),?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var obj = {\n        year: arr[1],\n        month: parseInt(arr[2], 10) - 1,\n        date: parseInt(arr[3], 10)\n      };\n\n      if (obj.month >= 12) {\n        //support yyyy/dd/mm (weird, but ok)\n        obj.date = parseInt(arr[2], 10);\n        obj.month = parseInt(arr[3], 10) - 1;\n      }\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //mm/dd/yyyy - uk/canada \"6/28/2019, 12:26:14 PM\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/.]([0-9]{1,2})[\\-\\/.]?([0-9]{4})?,?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var month = parseInt(arr[1], 10) - 1;\n      var date = parseInt(arr[2], 10); //support dd/mm/yyy\n\n      if (s.british || month >= 12) {\n        date = parseInt(arr[1], 10);\n        month = parseInt(arr[2], 10) - 1;\n      }\n\n      var year = parseYear(arr[3], s._today) || new Date().getFullYear();\n      var obj = {\n        year: year,\n        month: month,\n        date: date\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, // '2012-06' last attempt at iso-like format\n  {\n    reg: /^([0-9]{4})[\\-\\/]([0-9]{2})$/i,\n    parse: function parse(s, arr, givenTz, options) {\n      var month = parseInt(arr[2], 10) - 1;\n      var obj = {\n        year: arr[1],\n        month: month,\n        date: 1\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      parseOffset_1$1(s, arr[5]);\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //common british format - \"25-feb-2015\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/]([a-z]+)[\\-\\/]?([0-9]{4})?$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[2].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[1] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //alt short format - \"feb-25-2015\"\n  {\n    reg: /^([a-z]+)[\\-\\/]([0-9]{1,2})[\\-\\/]?([0-9]{4})?$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[1].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[2] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //Long \"Mar 25 2015\"\n  //February 22, 2017 15:30:00\n  {\n    reg: /^([a-z]+) ([0-9]{1,2}(?:st|nd|rd|th)?),?( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[1].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[2] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //February 2017 (implied date)\n  {\n    reg: /^([a-z]+) ([0-9]{4})$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[1].toLowerCase()];\n      var year = parseYear(arr[2], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: s._today.date || 1\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //Long \"25 Mar 2015\"\n  {\n    reg: /^([0-9]{1,2}(?:st|nd|rd|th)?) ([a-z]+),?( [0-9]{4})?,? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[2].toLowerCase()];\n\n      if (!month) {\n        return null;\n      }\n\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[1])\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, {\n    // 'q2 2002'\n    reg: /^(q[0-9])( of)?( [0-9]{4})?/i,\n    parse: function parse(s, arr) {\n      var quarter = arr[1] || '';\n      s = s.quarter(quarter);\n      var year = arr[3] || '';\n\n      if (year) {\n        year = year.trim();\n        s = s.year(year);\n      }\n\n      return s;\n    }\n  }, {\n    // 'summer 2002'\n    reg: /^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,\n    parse: function parse(s, arr) {\n      var season = arr[1] || '';\n      s = s.season(season);\n      var year = arr[3] || '';\n\n      if (year) {\n        year = year.trim();\n        s = s.year(year);\n      }\n\n      return s;\n    }\n  }, {\n    // '200bc'\n    reg: /^[0-9,]+ ?b\\.?c\\.?$/i,\n    parse: function parse(s, arr) {\n      var str = arr[0] || ''; //make negative-year\n\n      str = str.replace(/^([0-9,]+) ?b\\.?c\\.?$/i, '-$1'); //remove commas\n\n      str = str.replace(/,/g, '');\n      var year = parseInt(str.trim(), 10);\n      var d = new Date();\n      var obj = {\n        year: year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }, {\n    // '200ad'\n    reg: /^[0-9,]+ ?(a\\.?d\\.?|c\\.?e\\.?)$/i,\n    parse: function parse(s, arr) {\n      var str = arr[0] || ''; //remove commas\n\n      str = str.replace(/,/g, '');\n      var year = parseInt(str.trim(), 10);\n      var d = new Date();\n      var obj = {\n        year: year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }, {\n    // '1992'\n    reg: /^[0-9]{4}( ?a\\.?d\\.?)?$/i,\n    parse: function parse(s, arr) {\n      var today = s._today;\n      var year = parseYear(arr[0], today);\n      var d = new Date(); // using today's date, but a new month is awkward.\n\n      if (today.month && !today.date) {\n        today.date = 1;\n      }\n\n      var obj = {\n        year: year,\n        month: today.month || d.getMonth(),\n        date: today.date || d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }];\n  var strParse = strFmt;\n\n  // pull in 'today' data for the baseline moment\n  var getNow = function getNow(s) {\n    s.epoch = Date.now();\n    Object.keys(s._today || {}).forEach(function (k) {\n      if (typeof s[k] === 'function') {\n        s = s[k](s._today[k]);\n      }\n    });\n    return s;\n  };\n\n  var dates = {\n    now: function now(s) {\n      return getNow(s);\n    },\n    today: function today(s) {\n      return getNow(s);\n    },\n    tonight: function tonight(s) {\n      s = getNow(s);\n      s = s.hour(18); //6pm\n\n      return s;\n    },\n    tomorrow: function tomorrow(s) {\n      s = getNow(s);\n      s = s.add(1, 'day');\n      s = s.startOf('day');\n      return s;\n    },\n    yesterday: function yesterday(s) {\n      s = getNow(s);\n      s = s.subtract(1, 'day');\n      s = s.startOf('day');\n      return s;\n    },\n    christmas: function christmas(s) {\n      var year = getNow(s).year();\n      s = s.set([year, 11, 25, 18, 0, 0]); // Dec 25\n\n      return s;\n    },\n    'new years': function newYears(s) {\n      var year = getNow(s).year();\n      s = s.set([year, 11, 31, 18, 0, 0]); // Dec 31\n\n      return s;\n    }\n  };\n  dates['new years eve'] = dates['new years'];\n  var namedDates = dates;\n\n  //  -  can't use built-in js parser ;(\n  //=========================================\n  // ISO Date\t  \"2015-03-25\"\n  // Short Date\t\"03/25/2015\" or \"2015/03/25\"\n  // Long Date\t\"Mar 25 2015\" or \"25 Mar 2015\"\n  // Full Date\t\"Wednesday March 25 2015\"\n  //=========================================\n  //-- also -\n  // if the given epoch is really small, they've probably given seconds and not milliseconds\n  // anything below this number is likely (but not necessarily) a mistaken input.\n  // this may seem like an arbitrary number, but it's 'within jan 1970'\n  // this is only really ambiguous until 2054 or so\n\n  var minimumEpoch = 2500000000;\n  var defaults = {\n    year: new Date().getFullYear(),\n    month: 0,\n    date: 1\n  }; //support [2016, 03, 01] format\n\n  var handleArray = function handleArray(s, arr, today) {\n    if (arr.length === 0) {\n      return s;\n    }\n\n    var order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond'];\n\n    for (var i = 0; i < order.length; i++) {\n      var num = arr[i] || today[order[i]] || defaults[order[i]] || 0;\n      s = s[order[i]](num);\n    }\n\n    return s;\n  }; //support {year:2016, month:3} format\n\n\n  var handleObject = function handleObject(s, obj, today) {\n    // if obj is empty, do nothing\n    if (Object.keys(obj).length === 0) {\n      return s;\n    }\n\n    obj = Object.assign({}, defaults, today, obj);\n    var keys = Object.keys(obj);\n\n    for (var i = 0; i < keys.length; i++) {\n      var unit = keys[i]; //make sure we have this method\n\n      if (s[unit] === undefined || typeof s[unit] !== 'function') {\n        continue;\n      } //make sure the value is a number\n\n\n      if (obj[unit] === null || obj[unit] === undefined || obj[unit] === '') {\n        continue;\n      }\n\n      var num = obj[unit] || today[unit] || defaults[unit] || 0;\n      s = s[unit](num);\n    }\n\n    return s;\n  }; //find the epoch from different input styles\n\n\n  var parseInput = function parseInput(s, input, givenTz) {\n    var today = s._today || defaults; //if we've been given a epoch number, it's easy\n\n    if (typeof input === 'number') {\n      if (input > 0 && input < minimumEpoch && s.silent === false) {\n        console.warn('  - Warning: You are setting the date to January 1970.');\n        console.warn('       -   did input seconds instead of milliseconds?');\n      }\n\n      s.epoch = input;\n      return s;\n    } //set tmp time\n\n\n    s.epoch = Date.now(); // overwrite tmp time with 'today' value, if exists\n\n    if (s._today && fns.isObject(s._today) && Object.keys(s._today).length > 0) {\n      var res = handleObject(s, today, defaults);\n\n      if (res.isValid()) {\n        s.epoch = res.epoch;\n      }\n    } // null input means 'now'\n\n\n    if (input === null || input === undefined || input === '') {\n      return s; //k, we're good.\n    } //support input of Date() object\n\n\n    if (fns.isDate(input) === true) {\n      s.epoch = input.getTime();\n      return s;\n    } //support [2016, 03, 01] format\n\n\n    if (fns.isArray(input) === true) {\n      s = handleArray(s, input, today);\n      return s;\n    } //support {year:2016, month:3} format\n\n\n    if (fns.isObject(input) === true) {\n      //support spacetime object as input\n      if (input.epoch) {\n        s.epoch = input.epoch;\n        s.tz = input.tz;\n        return s;\n      }\n\n      s = handleObject(s, input, today);\n      return s;\n    } //input as a string..\n\n\n    if (typeof input !== 'string') {\n      return s;\n    } //little cleanup..\n\n\n    input = input.replace(/\\b(mon|tues|wed|wednes|thu|thurs|fri|sat|satur|sun)(day)?\\b/i, '');\n    input = input.replace(/,/g, '');\n    input = input.replace(/ +/g, ' ').trim(); //try some known-words, like 'now'\n\n    if (namedDates.hasOwnProperty(input) === true) {\n      s = namedDates[input](s);\n      return s;\n    } //try each text-parse template, use the first good result\n\n\n    for (var i = 0; i < strParse.length; i++) {\n      var m = input.match(strParse[i].reg);\n\n      if (m) {\n        // console.log(strFmt[i].reg)\n        var _res = strParse[i].parse(s, m, givenTz);\n\n        if (_res !== null && _res.isValid()) {\n          return _res;\n        }\n      }\n    }\n\n    if (s.silent === false) {\n      console.warn(\"Warning: couldn't parse date-string: '\" + input + \"'\");\n    }\n\n    s.epoch = null;\n    return s;\n  };\n\n  var input = parseInput;\n\n  var shortDays = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n  var longDays = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n  var days = {\n    \"short\": function short() {\n      return shortDays;\n    },\n    \"long\": function long() {\n      return longDays;\n    },\n    set: function set(i18n) {\n      shortDays = i18n[\"short\"] || shortDays;\n      longDays = i18n[\"long\"] || longDays;\n    },\n    aliases: {\n      tues: 2,\n      thur: 4,\n      thurs: 4\n    }\n  };\n\n  var titleCaseEnabled = true;\n  var caseFormat = {\n    useTitleCase: function useTitleCase() {\n      return titleCaseEnabled;\n    },\n    set: function set(useTitleCase) {\n      titleCaseEnabled = useTitleCase;\n    }\n  };\n\n  // it's kind of nuts how involved this is\n  // \"+01:00\", \"+0100\", or simply \"+01\"\n\n  var isoOffset = function isoOffset(s) {\n    var offset = s.timezone().current.offset;\n    return !offset ? 'Z' : fns.formatTimezone(offset, ':');\n  };\n\n  var _offset = isoOffset;\n\n  var applyCaseFormat = function applyCaseFormat(str) {\n    if (caseFormat.useTitleCase()) {\n      return fns.titleCase(str);\n    }\n\n    return str;\n  };\n\n  var format = {\n    day: function day(s) {\n      return applyCaseFormat(s.dayName());\n    },\n    'day-short': function dayShort(s) {\n      return applyCaseFormat(days[\"short\"]()[s.day()]);\n    },\n    'day-number': function dayNumber(s) {\n      return s.day();\n    },\n    'day-ordinal': function dayOrdinal(s) {\n      return fns.ordinal(s.day());\n    },\n    'day-pad': function dayPad(s) {\n      return fns.zeroPad(s.day());\n    },\n    date: function date(s) {\n      return s.date();\n    },\n    'date-ordinal': function dateOrdinal(s) {\n      return fns.ordinal(s.date());\n    },\n    'date-pad': function datePad(s) {\n      return fns.zeroPad(s.date());\n    },\n    month: function month(s) {\n      return applyCaseFormat(s.monthName());\n    },\n    'month-short': function monthShort(s) {\n      return applyCaseFormat(months[\"short\"]()[s.month()]);\n    },\n    'month-number': function monthNumber(s) {\n      return s.month();\n    },\n    'month-ordinal': function monthOrdinal(s) {\n      return fns.ordinal(s.month());\n    },\n    'month-pad': function monthPad(s) {\n      return fns.zeroPad(s.month());\n    },\n    'iso-month': function isoMonth(s) {\n      return fns.zeroPad(s.month() + 1);\n    },\n    //1-based months\n    year: function year(s) {\n      var year = s.year();\n\n      if (year > 0) {\n        return year;\n      }\n\n      year = Math.abs(year);\n      return year + ' BC';\n    },\n    'year-short': function yearShort(s) {\n      var year = s.year();\n\n      if (year > 0) {\n        return \"'\".concat(String(s.year()).substr(2, 4));\n      }\n\n      year = Math.abs(year);\n      return year + ' BC';\n    },\n    'iso-year': function isoYear(s) {\n      var year = s.year();\n      var isNegative = year < 0;\n      var str = fns.zeroPad(Math.abs(year), 4); //0-padded\n\n      if (isNegative) {\n        //negative years are for some reason 6-digits ('-00008')\n        str = fns.zeroPad(str, 6);\n        str = '-' + str;\n      }\n\n      return str;\n    },\n    time: function time(s) {\n      return s.time();\n    },\n    'time-24': function time24(s) {\n      return \"\".concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    },\n    hour: function hour(s) {\n      return s.hour12();\n    },\n    'hour-pad': function hourPad(s) {\n      return fns.zeroPad(s.hour12());\n    },\n    'hour-24': function hour24(s) {\n      return s.hour24();\n    },\n    'hour-24-pad': function hour24Pad(s) {\n      return fns.zeroPad(s.hour24());\n    },\n    minute: function minute(s) {\n      return s.minute();\n    },\n    'minute-pad': function minutePad(s) {\n      return fns.zeroPad(s.minute());\n    },\n    second: function second(s) {\n      return s.second();\n    },\n    'second-pad': function secondPad(s) {\n      return fns.zeroPad(s.second());\n    },\n    ampm: function ampm(s) {\n      return s.ampm();\n    },\n    quarter: function quarter(s) {\n      return 'Q' + s.quarter();\n    },\n    season: function season(s) {\n      return s.season();\n    },\n    era: function era(s) {\n      return s.era();\n    },\n    json: function json(s) {\n      return s.json();\n    },\n    timezone: function timezone(s) {\n      return s.timezone().name;\n    },\n    offset: function offset(s) {\n      return _offset(s);\n    },\n    numeric: function numeric(s) {\n      return \"\".concat(s.year(), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n    },\n    // yyyy/mm/dd\n    'numeric-us': function numericUs(s) {\n      return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()), \"/\").concat(s.year());\n    },\n    // mm/dd/yyyy\n    'numeric-uk': function numericUk(s) {\n      return \"\".concat(fns.zeroPad(s.date()), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(s.year());\n    },\n    //dd/mm/yyyy\n    'mm/dd': function mmDd(s) {\n      return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n    },\n    //mm/dd\n    // ... https://en.wikipedia.org/wiki/ISO_8601 ;(((\n    iso: function iso(s) {\n      var year = s.format('iso-year');\n      var month = fns.zeroPad(s.month() + 1); //1-based months\n\n      var date = fns.zeroPad(s.date());\n      var hour = fns.zeroPad(s.h24());\n      var minute = fns.zeroPad(s.minute());\n      var second = fns.zeroPad(s.second());\n      var ms = fns.zeroPad(s.millisecond(), 3);\n      var offset = _offset(s);\n      return \"\".concat(year, \"-\").concat(month, \"-\").concat(date, \"T\").concat(hour, \":\").concat(minute, \":\").concat(second, \".\").concat(ms).concat(offset); //2018-03-09T08:50:00.000-05:00\n    },\n    'iso-short': function isoShort(s) {\n      var month = fns.zeroPad(s.month() + 1); //1-based months\n\n      var date = fns.zeroPad(s.date());\n      return \"\".concat(s.year(), \"-\").concat(month, \"-\").concat(date); //2017-02-15\n    },\n    'iso-utc': function isoUtc(s) {\n      return new Date(s.epoch).toISOString(); //2017-03-08T19:45:28.367Z\n    },\n    //i made these up\n    nice: function nice(s) {\n      return \"\".concat(months[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n    },\n    'nice-24': function nice24(s) {\n      return \"\".concat(months[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    },\n    'nice-year': function niceYear(s) {\n      return \"\".concat(months[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.year());\n    },\n    'nice-day': function niceDay(s) {\n      return \"\".concat(days[\"short\"]()[s.day()], \" \").concat(applyCaseFormat(months[\"short\"]()[s.month()]), \" \").concat(fns.ordinal(s.date()));\n    },\n    'nice-full': function niceFull(s) {\n      return \"\".concat(s.dayName(), \" \").concat(applyCaseFormat(s.monthName()), \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n    },\n    'nice-full-24': function niceFull24(s) {\n      return \"\".concat(s.dayName(), \" \").concat(applyCaseFormat(s.monthName()), \" \").concat(fns.ordinal(s.date()), \", \").concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    }\n  }; //aliases\n\n  var aliases = {\n    'day-name': 'day',\n    'month-name': 'month',\n    'iso 8601': 'iso',\n    'time-h24': 'time-24',\n    'time-12': 'time',\n    'time-h12': 'time',\n    tz: 'timezone',\n    'day-num': 'day-number',\n    'month-num': 'month-number',\n    'month-iso': 'iso-month',\n    'year-iso': 'iso-year',\n    'nice-short': 'nice',\n    'nice-short-24': 'nice-24',\n    mdy: 'numeric-us',\n    dmy: 'numeric-uk',\n    ymd: 'numeric',\n    'yyyy/mm/dd': 'numeric',\n    'mm/dd/yyyy': 'numeric-us',\n    'dd/mm/yyyy': 'numeric-us',\n    'little-endian': 'numeric-uk',\n    'big-endian': 'numeric',\n    'day-nice': 'nice-day'\n  };\n  Object.keys(aliases).forEach(function (k) {\n    return format[k] = format[aliases[k]];\n  });\n\n  var printFormat = function printFormat(s) {\n    var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    //don't print anything if it's an invalid date\n    if (s.isValid() !== true) {\n      return '';\n    } //support .format('month')\n\n\n    if (format.hasOwnProperty(str)) {\n      var out = format[str](s) || '';\n\n      if (str !== 'json') {\n        out = String(out);\n\n        if (str !== 'ampm') {\n          out = applyCaseFormat(out);\n        }\n      }\n\n      return out;\n    } //support '{hour}:{minute}' notation\n\n\n    if (str.indexOf('{') !== -1) {\n      var sections = /\\{(.+?)\\}/g;\n      str = str.replace(sections, function (_, fmt) {\n        fmt = fmt.toLowerCase().trim();\n\n        if (format.hasOwnProperty(fmt)) {\n          var _out = String(format[fmt](s));\n\n          if (fmt !== 'ampm') {\n            return applyCaseFormat(_out);\n          }\n\n          return _out;\n        }\n\n        return '';\n      });\n      return str;\n    }\n\n    return s.format('iso-short');\n  };\n\n  var format_1 = printFormat;\n\n  var pad = fns.zeroPad;\n  var formatTimezone = fns.formatTimezone; //parse this insane unix-time-templating thing, from the 19th century\n  //http://unicode.org/reports/tr35/tr35-25.html#Date_Format_Patterns\n  //time-symbols we support\n\n  var mapping = {\n    G: function G(s) {\n      return s.era();\n    },\n    GG: function GG(s) {\n      return s.era();\n    },\n    GGG: function GGG(s) {\n      return s.era();\n    },\n    GGGG: function GGGG(s) {\n      return s.era() === 'AD' ? 'Anno Domini' : 'Before Christ';\n    },\n    //year\n    y: function y(s) {\n      return s.year();\n    },\n    yy: function yy(s) {\n      //last two chars\n      return parseInt(String(s.year()).substr(2, 4), 10);\n    },\n    yyy: function yyy(s) {\n      return s.year();\n    },\n    yyyy: function yyyy(s) {\n      return s.year();\n    },\n    yyyyy: function yyyyy(s) {\n      return '0' + s.year();\n    },\n    // u: (s) => {},//extended non-gregorian years\n    //quarter\n    Q: function Q(s) {\n      return s.quarter();\n    },\n    QQ: function QQ(s) {\n      return s.quarter();\n    },\n    QQQ: function QQQ(s) {\n      return s.quarter();\n    },\n    QQQQ: function QQQQ(s) {\n      return s.quarter();\n    },\n    //month\n    M: function M(s) {\n      return s.month() + 1;\n    },\n    MM: function MM(s) {\n      return pad(s.month() + 1);\n    },\n    MMM: function MMM(s) {\n      return s.format('month-short');\n    },\n    MMMM: function MMMM(s) {\n      return s.format('month');\n    },\n    //week\n    w: function w(s) {\n      return s.week();\n    },\n    ww: function ww(s) {\n      return pad(s.week());\n    },\n    //week of month\n    // W: (s) => s.week(),\n    //date of month\n    d: function d(s) {\n      return s.date();\n    },\n    dd: function dd(s) {\n      return pad(s.date());\n    },\n    //date of year\n    D: function D(s) {\n      return s.dayOfYear();\n    },\n    DD: function DD(s) {\n      return pad(s.dayOfYear());\n    },\n    DDD: function DDD(s) {\n      return pad(s.dayOfYear(), 3);\n    },\n    // F: (s) => {},//date of week in month\n    // g: (s) => {},//modified julian day\n    //day\n    E: function E(s) {\n      return s.format('day-short');\n    },\n    EE: function EE(s) {\n      return s.format('day-short');\n    },\n    EEE: function EEE(s) {\n      return s.format('day-short');\n    },\n    EEEE: function EEEE(s) {\n      return s.format('day');\n    },\n    EEEEE: function EEEEE(s) {\n      return s.format('day')[0];\n    },\n    e: function e(s) {\n      return s.day();\n    },\n    ee: function ee(s) {\n      return s.day();\n    },\n    eee: function eee(s) {\n      return s.format('day-short');\n    },\n    eeee: function eeee(s) {\n      return s.format('day');\n    },\n    eeeee: function eeeee(s) {\n      return s.format('day')[0];\n    },\n    //am/pm\n    a: function a(s) {\n      return s.ampm().toUpperCase();\n    },\n    aa: function aa(s) {\n      return s.ampm().toUpperCase();\n    },\n    aaa: function aaa(s) {\n      return s.ampm().toUpperCase();\n    },\n    aaaa: function aaaa(s) {\n      return s.ampm().toUpperCase();\n    },\n    //hour\n    h: function h(s) {\n      return s.h12();\n    },\n    hh: function hh(s) {\n      return pad(s.h12());\n    },\n    H: function H(s) {\n      return s.hour();\n    },\n    HH: function HH(s) {\n      return pad(s.hour());\n    },\n    // j: (s) => {},//weird hour format\n    m: function m(s) {\n      return s.minute();\n    },\n    mm: function mm(s) {\n      return pad(s.minute());\n    },\n    s: function s(_s) {\n      return _s.second();\n    },\n    ss: function ss(s) {\n      return pad(s.second());\n    },\n    //milliseconds in the day\n    A: function A(s) {\n      return s.epoch - s.startOf('day').epoch;\n    },\n    //timezone\n    z: function z(s) {\n      return s.timezone().name;\n    },\n    zz: function zz(s) {\n      return s.timezone().name;\n    },\n    zzz: function zzz(s) {\n      return s.timezone().name;\n    },\n    zzzz: function zzzz(s) {\n      return s.timezone().name;\n    },\n    Z: function Z(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZ: function ZZ(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZZ: function ZZZ(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZZZ: function ZZZZ(s) {\n      return formatTimezone(s.timezone().current.offset, ':');\n    }\n  };\n\n  var addAlias = function addAlias(_char, to, n) {\n    var name = _char;\n    var toName = to;\n\n    for (var i = 0; i < n; i += 1) {\n      mapping[name] = mapping[toName];\n      name += _char;\n      toName += to;\n    }\n  };\n\n  addAlias('q', 'Q', 4);\n  addAlias('L', 'M', 4);\n  addAlias('Y', 'y', 4);\n  addAlias('c', 'e', 4);\n  addAlias('k', 'H', 2);\n  addAlias('K', 'h', 2);\n  addAlias('S', 's', 2);\n  addAlias('v', 'z', 4);\n  addAlias('V', 'Z', 4); // support unix-style escaping with ' character\n\n  var escapeChars = function escapeChars(arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (arr[i] === \"'\") {\n        // greedy-search for next apostrophe\n        for (var o = i + 1; o < arr.length; o += 1) {\n          if (arr[o]) {\n            arr[i] += arr[o];\n          }\n\n          if (arr[o] === \"'\") {\n            arr[o] = null;\n            break;\n          }\n\n          arr[o] = null;\n        }\n      }\n    }\n\n    return arr.filter(function (ch) {\n      return ch;\n    });\n  }; //combine consecutive chars, like 'yyyy' as one.\n\n\n  var combineRepeated = function combineRepeated(arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n      var c = arr[i]; // greedy-forward\n\n      for (var o = i + 1; o < arr.length; o += 1) {\n        if (arr[o] === c) {\n          arr[i] += arr[o];\n          arr[o] = null;\n        } else {\n          break;\n        }\n      }\n    } // '' means one apostrophe\n\n\n    arr = arr.filter(function (ch) {\n      return ch;\n    });\n    arr = arr.map(function (str) {\n      if (str === \"''\") {\n        str = \"'\";\n      }\n\n      return str;\n    });\n    return arr;\n  };\n\n  var unixFmt = function unixFmt(s, str) {\n    var arr = str.split(''); // support character escaping\n\n    arr = escapeChars(arr); //combine 'yyyy' as string.\n\n    arr = combineRepeated(arr);\n    return arr.reduce(function (txt, c) {\n      if (mapping[c] !== undefined) {\n        txt += mapping[c](s) || '';\n      } else {\n        // 'unescape'\n        if (/^'.{1,}'$/.test(c)) {\n          c = c.replace(/'/g, '');\n        }\n\n        txt += c;\n      }\n\n      return txt;\n    }, '');\n  };\n\n  var unixFmt_1 = unixFmt;\n\n  var units$1 = ['year', 'season', 'quarter', 'month', 'week', 'day', 'quarterHour', 'hour', 'minute'];\n\n  var doUnit = function doUnit(s, k) {\n    var start = s.clone().startOf(k);\n    var end = s.clone().endOf(k);\n    var duration = end.epoch - start.epoch;\n    var percent = (s.epoch - start.epoch) / duration;\n    return parseFloat(percent.toFixed(2));\n  }; //how far it is along, from 0-1\n\n\n  var progress = function progress(s, unit) {\n    if (unit) {\n      unit = fns.normalize(unit);\n      return doUnit(s, unit);\n    }\n\n    var obj = {};\n    units$1.forEach(function (k) {\n      obj[k] = doUnit(s, k);\n    });\n    return obj;\n  };\n\n  var progress_1 = progress;\n\n  var nearest = function nearest(s, unit) {\n    //how far have we gone?\n    var prog = s.progress();\n    unit = fns.normalize(unit); //fix camel-case for this one\n\n    if (unit === 'quarterhour') {\n      unit = 'quarterHour';\n    }\n\n    if (prog[unit] !== undefined) {\n      // go forward one?\n      if (prog[unit] > 0.5) {\n        s = s.add(1, unit);\n      } // go to start\n\n\n      s = s.startOf(unit);\n    } else if (s.silent === false) {\n      console.warn(\"no known unit '\" + unit + \"'\");\n    }\n\n    return s;\n  };\n\n  var nearest_1 = nearest;\n\n  //increment until dates are the same\n  var climb = function climb(a, b, unit) {\n    var i = 0;\n    a = a.clone();\n\n    while (a.isBefore(b)) {\n      //do proper, expensive increment to catch all-the-tricks\n      a = a.add(1, unit);\n      i += 1;\n    } //oops, we went too-far..\n\n\n    if (a.isAfter(b, unit)) {\n      i -= 1;\n    }\n\n    return i;\n  }; // do a thurough +=1 on the unit, until they match\n  // for speed-reasons, only used on day, month, week.\n\n\n  var diffOne = function diffOne(a, b, unit) {\n    if (a.isBefore(b)) {\n      return climb(a, b, unit);\n    } else {\n      return climb(b, a, unit) * -1; //reverse it\n    }\n  };\n\n  var one = diffOne;\n\n  // 2020 - 2019 may be 1 year, or 0 years\n  // - '1 year difference' means 366 days during a leap year\n\n  var fastYear = function fastYear(a, b) {\n    var years = b.year() - a.year(); // should we decrement it by 1?\n\n    a = a.year(b.year());\n\n    if (a.isAfter(b)) {\n      years -= 1;\n    }\n\n    return years;\n  }; // use a waterfall-method for computing a diff of any 'pre-knowable' units\n  // compute years, then compute months, etc..\n  // ... then ms-math for any very-small units\n\n\n  var diff = function diff(a, b) {\n    // an hour is always the same # of milliseconds\n    // so these units can be 'pre-calculated'\n    var msDiff = b.epoch - a.epoch;\n    var obj = {\n      milliseconds: msDiff,\n      seconds: parseInt(msDiff / 1000, 10)\n    };\n    obj.minutes = parseInt(obj.seconds / 60, 10);\n    obj.hours = parseInt(obj.minutes / 60, 10); //do the year\n\n    var tmp = a.clone();\n    obj.years = fastYear(tmp, b);\n    tmp = a.add(obj.years, 'year'); //there's always 12 months in a year...\n\n    obj.months = obj.years * 12;\n    tmp = a.add(obj.months, 'month');\n    obj.months += one(tmp, b, 'month'); // there's always atleast 52 weeks in a year..\n    // (month * 4) isn't as close\n\n    obj.weeks = obj.years * 52;\n    tmp = a.add(obj.weeks, 'week');\n    obj.weeks += one(tmp, b, 'week'); // there's always atleast 7 days in a week\n\n    obj.days = obj.weeks * 7;\n    tmp = a.add(obj.days, 'day');\n    obj.days += one(tmp, b, 'day');\n    return obj;\n  };\n\n  var waterfall = diff;\n\n  var reverseDiff = function reverseDiff(obj) {\n    Object.keys(obj).forEach(function (k) {\n      obj[k] *= -1;\n    });\n    return obj;\n  }; // this method counts a total # of each unit, between a, b.\n  // '1 month' means 28 days in february\n  // '1 year' means 366 days in a leap year\n\n\n  var main = function main(a, b, unit) {\n    b = fns.beADate(b, a); //reverse values, if necessary\n\n    var reversed = false;\n\n    if (a.isAfter(b)) {\n      var tmp = a;\n      a = b;\n      b = tmp;\n      reversed = true;\n    } //compute them all (i know!)\n\n\n    var obj = waterfall(a, b);\n\n    if (reversed) {\n      obj = reverseDiff(obj);\n    } //return just the requested unit\n\n\n    if (unit) {\n      //make sure it's plural-form\n      unit = fns.normalize(unit);\n\n      if (/s$/.test(unit) !== true) {\n        unit += 's';\n      }\n\n      if (unit === 'dates') {\n        unit = 'days';\n      }\n\n      return obj[unit];\n    }\n\n    return obj;\n  };\n\n  var diff$1 = main;\n\n  //our conceptual 'break-points' for each unit\n\n  var qualifiers = {\n    months: {\n      almost: 10,\n      over: 4\n    },\n    days: {\n      almost: 25,\n      over: 10\n    },\n    hours: {\n      almost: 20,\n      over: 8\n    },\n    minutes: {\n      almost: 50,\n      over: 20\n    },\n    seconds: {\n      almost: 50,\n      over: 20\n    }\n  }; //get number of hours/minutes... between the two dates\n\n  function getDiff(a, b) {\n    var isBefore = a.isBefore(b);\n    var later = isBefore ? b : a;\n    var earlier = isBefore ? a : b;\n    earlier = earlier.clone();\n    var diff = {\n      years: 0,\n      months: 0,\n      days: 0,\n      hours: 0,\n      minutes: 0,\n      seconds: 0\n    };\n    Object.keys(diff).forEach(function (unit) {\n      if (earlier.isSame(later, unit)) {\n        return;\n      }\n\n      var max = earlier.diff(later, unit);\n      earlier = earlier.add(max, unit);\n      diff[unit] = max;\n    }); //reverse it, if necessary\n\n    if (isBefore) {\n      Object.keys(diff).forEach(function (u) {\n        if (diff[u] !== 0) {\n          diff[u] *= -1;\n        }\n      });\n    }\n\n    return diff;\n  } // Expects a plural unit arg\n\n\n  function pluralize(value, unit) {\n    if (value === 1) {\n      unit = unit.slice(0, -1);\n    }\n\n    return value + ' ' + unit;\n  } //create the human-readable diff between the two dates\n\n\n  var since = function since(start, end) {\n    end = fns.beADate(end, start);\n    var diff = getDiff(start, end);\n    var isNow = Object.keys(diff).every(function (u) {\n      return !diff[u];\n    });\n\n    if (isNow === true) {\n      return {\n        diff: diff,\n        rounded: 'now',\n        qualified: 'now',\n        precise: 'now'\n      };\n    }\n\n    var rounded;\n    var qualified;\n    var precise;\n    var englishValues = []; //go through each value and create its text-representation\n\n    Object.keys(diff).forEach(function (unit, i, units) {\n      var value = Math.abs(diff[unit]);\n\n      if (value === 0) {\n        return;\n      }\n\n      var englishValue = pluralize(value, unit);\n      englishValues.push(englishValue);\n\n      if (!rounded) {\n        rounded = qualified = englishValue;\n\n        if (i > 4) {\n          return;\n        } //is it a 'almost' something, etc?\n\n\n        var nextUnit = units[i + 1];\n        var nextValue = Math.abs(diff[nextUnit]);\n\n        if (nextValue > qualifiers[nextUnit].almost) {\n          rounded = pluralize(value + 1, unit);\n          qualified = 'almost ' + rounded;\n        } else if (nextValue > qualifiers[nextUnit].over) qualified = 'over ' + englishValue;\n      }\n    }); //make them into a string\n\n    precise = englishValues.splice(0, 2).join(', '); //handle before/after logic\n\n    if (start.isAfter(end) === true) {\n      rounded += ' ago';\n      qualified += ' ago';\n      precise += ' ago';\n    } else {\n      rounded = 'in ' + rounded;\n      qualified = 'in ' + qualified;\n      precise = 'in ' + precise;\n    }\n\n    return {\n      diff: diff,\n      rounded: rounded,\n      qualified: qualified,\n      precise: precise\n    };\n  };\n\n  var since_1 = since;\n\n  //https://www.timeanddate.com/calendar/aboutseasons.html\n  // Spring - from March 1 to May 31;\n  // Summer - from June 1 to August 31;\n  // Fall (autumn) - from September 1 to November 30; and,\n  // Winter - from December 1 to February 28 (February 29 in a leap year).\n  var seasons = {\n    north: [['spring', 2, 1], //spring march 1\n    ['summer', 5, 1], //june 1\n    ['fall', 8, 1], //sept 1\n    ['autumn', 8, 1], //sept 1\n    ['winter', 11, 1] //dec 1\n    ],\n    south: [['fall', 2, 1], //march 1\n    ['autumn', 2, 1], //march 1\n    ['winter', 5, 1], //june 1\n    ['spring', 8, 1], //sept 1\n    ['summer', 11, 1] //dec 1\n    ]\n  };\n\n  var quarters = [null, [0, 1], //jan 1\n  [3, 1], //apr 1\n  [6, 1], //july 1\n  [9, 1] //oct 1\n  ];\n\n  var units$2 = {\n    minute: function minute(s) {\n      walk_1(s, {\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    quarterhour: function quarterhour(s) {\n      var minute = s.minutes();\n\n      if (minute >= 45) {\n        s = s.minutes(45);\n      } else if (minute >= 30) {\n        s = s.minutes(30);\n      } else if (minute >= 15) {\n        s = s.minutes(15);\n      } else {\n        s = s.minutes(0);\n      }\n\n      walk_1(s, {\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    hour: function hour(s) {\n      walk_1(s, {\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    day: function day(s) {\n      walk_1(s, {\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    week: function week(s) {\n      var original = s.clone();\n      s = s.day(s._weekStart); //monday\n\n      if (s.isAfter(original)) {\n        s = s.subtract(1, 'week');\n      }\n\n      walk_1(s, {\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    month: function month(s) {\n      walk_1(s, {\n        date: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    quarter: function quarter(s) {\n      var q = s.quarter();\n\n      if (quarters[q]) {\n        walk_1(s, {\n          month: quarters[q][0],\n          date: quarters[q][1],\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        });\n      }\n\n      return s;\n    },\n    season: function season(s) {\n      var current = s.season();\n      var hem = 'north';\n\n      if (s.hemisphere() === 'South') {\n        hem = 'south';\n      }\n\n      for (var i = 0; i < seasons[hem].length; i++) {\n        if (seasons[hem][i][0] === current) {\n          //winter goes between years\n          var year = s.year();\n\n          if (current === 'winter' && s.month() < 3) {\n            year -= 1;\n          }\n\n          walk_1(s, {\n            year: year,\n            month: seasons[hem][i][1],\n            date: seasons[hem][i][2],\n            hour: 0,\n            minute: 0,\n            second: 0,\n            millisecond: 0\n          });\n          return s;\n        }\n      }\n\n      return s;\n    },\n    year: function year(s) {\n      walk_1(s, {\n        month: 0,\n        date: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    decade: function decade(s) {\n      s = s.startOf('year');\n      var year = s.year();\n      var decade = parseInt(year / 10, 10) * 10;\n      s = s.year(decade);\n      return s;\n    },\n    century: function century(s) {\n      s = s.startOf('year');\n      var year = s.year(); // near 0AD goes '-1 | +1'\n\n      var decade = parseInt(year / 100, 10) * 100;\n      s = s.year(decade);\n      return s;\n    }\n  };\n  units$2.date = units$2.day;\n\n  var startOf = function startOf(a, unit) {\n    var s = a.clone();\n    unit = fns.normalize(unit);\n\n    if (units$2[unit]) {\n      return units$2[unit](s);\n    }\n\n    if (unit === 'summer' || unit === 'winter') {\n      s = s.season(unit);\n      return units$2.season(s);\n    }\n\n    return s;\n  }; //piggy-backs off startOf\n\n\n  var endOf = function endOf(a, unit) {\n    var s = a.clone();\n    unit = fns.normalize(unit);\n\n    if (units$2[unit]) {\n      // go to beginning, go to next one, step back 1ms\n      s = units$2[unit](s); // startof\n\n      s = s.add(1, unit);\n      s = s.subtract(1, 'millisecond');\n      return s;\n    }\n\n    return s;\n  };\n\n  var startOf_1 = {\n    startOf: startOf,\n    endOf: endOf\n  };\n\n  var isDay = function isDay(unit) {\n    if (days[\"short\"]().find(function (s) {\n      return s === unit;\n    })) {\n      return true;\n    }\n\n    if (days[\"long\"]().find(function (s) {\n      return s === unit;\n    })) {\n      return true;\n    }\n\n    return false;\n  }; // return a list of the weeks/months/days between a -> b\n  // returns spacetime objects in the timezone of the input\n\n\n  var every = function every(start) {\n    var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var end = arguments.length > 2 ? arguments[2] : undefined;\n\n    if (!unit || !end) {\n      return [];\n    } //cleanup unit param\n\n\n    unit = fns.normalize(unit); //cleanup to param\n\n    end = start.clone().set(end); //swap them, if they're backwards\n\n    if (start.isAfter(end)) {\n      var tmp = start;\n      start = end;\n      end = tmp;\n    } //support 'every wednesday'\n\n\n    var d = start.clone();\n\n    if (isDay(unit)) {\n      d = d.next(unit);\n      unit = 'week';\n    } else {\n      d = d.next(unit);\n    } //okay, actually start doing it\n\n\n    var result = [];\n\n    while (d.isBefore(end)) {\n      result.push(d);\n      d = d.add(1, unit);\n    }\n\n    return result;\n  };\n\n  var every_1 = every;\n\n  var parseDst = function parseDst(dst) {\n    if (!dst) {\n      return [];\n    }\n\n    return dst.split('->');\n  };\n\n  var titleCase = function titleCase(str) {\n    str = str[0].toUpperCase() + str.substr(1);\n    str = str.replace(/\\/gmt/, '/GMT');\n    str = str.replace(/[\\/_]([a-z])/gi, function (s) {\n      return s.toUpperCase();\n    });\n    return str;\n  }; //get metadata about this timezone\n\n\n  var timezone = function timezone(s) {\n    var zones = s.timezones;\n    var tz = s.tz;\n\n    if (zones.hasOwnProperty(tz) === false) {\n      tz = find(s.tz, zones);\n    }\n\n    if (tz === null) {\n      if (s.silent === false) {\n        console.warn(\"Warn: could not find given or local timezone - '\" + s.tz + \"'\");\n      }\n\n      return {\n        current: {\n          epochShift: 0\n        }\n      };\n    }\n\n    var found = zones[tz];\n    var result = {\n      name: titleCase(tz),\n      hasDst: Boolean(found.dst),\n      default_offset: found.offset,\n      //do north-hemisphere version as default (sorry!)\n      hemisphere: found.hem === 's' ? 'South' : 'North',\n      current: {}\n    };\n\n    if (result.hasDst) {\n      var arr = parseDst(found.dst);\n      result.change = {\n        start: arr[0],\n        back: arr[1]\n      };\n    } //find the offsets for summer/winter times\n    //(these variable names are north-centric)\n\n\n    var summer = found.offset; // (july)\n\n    var winter = summer; // (january) assume it's the same for now\n\n    if (result.hasDst === true) {\n      if (result.hemisphere === 'North') {\n        winter = summer - 1;\n      } else {\n        //southern hemisphere\n        winter = found.offset + 1;\n      }\n    } //find out which offset to use right now\n    //use 'summer' time july-time\n\n\n    if (result.hasDst === false) {\n      result.current.offset = summer;\n      result.current.isDST = false;\n    } else if (summerTime(s.epoch, result.change.start, result.change.back, summer, winter) === true) {\n      result.current.offset = summer;\n      result.current.isDST = result.hemisphere === 'North'; //dst 'on' in winter in north\n    } else {\n      //use 'winter' january-time\n      result.current.offset = winter;\n      result.current.isDST = result.hemisphere === 'South'; //dst 'on' in summer in south\n    }\n\n    return result;\n  };\n\n  var timezone_1 = timezone;\n\n  var units$3 = ['century', 'decade', 'year', 'month', 'date', 'day', 'hour', 'minute', 'second', 'millisecond']; //the spacetime instance methods (also, the API)\n\n  var methods = {\n    set: function set(input$1, tz) {\n      var s = this.clone();\n      s = input(s, input$1, null);\n\n      if (tz) {\n        this.tz = find(tz);\n      }\n\n      return s;\n    },\n    timezone: function timezone() {\n      return timezone_1(this);\n    },\n    isDST: function isDST() {\n      return timezone_1(this).current.isDST;\n    },\n    hasDST: function hasDST() {\n      return timezone_1(this).hasDst;\n    },\n    offset: function offset() {\n      return timezone_1(this).current.offset * 60;\n    },\n    hemisphere: function hemisphere() {\n      return timezone_1(this).hemisphere;\n    },\n    format: function format(fmt) {\n      return format_1(this, fmt);\n    },\n    unixFmt: function unixFmt(fmt) {\n      return unixFmt_1(this, fmt);\n    },\n    startOf: function startOf(unit) {\n      return startOf_1.startOf(this, unit);\n    },\n    endOf: function endOf(unit) {\n      return startOf_1.endOf(this, unit);\n    },\n    leapYear: function leapYear() {\n      var year = this.year();\n      return fns.isLeapYear(year);\n    },\n    progress: function progress(unit) {\n      return progress_1(this, unit);\n    },\n    nearest: function nearest(unit) {\n      return nearest_1(this, unit);\n    },\n    diff: function diff(d, unit) {\n      return diff$1(this, d, unit);\n    },\n    since: function since(d) {\n      if (!d) {\n        d = this.clone().set();\n      }\n\n      return since_1(this, d);\n    },\n    next: function next(unit) {\n      var s = this.add(1, unit);\n      return s.startOf(unit);\n    },\n    //the start of the previous year/week/century\n    last: function last(unit) {\n      var s = this.subtract(1, unit);\n      return s.startOf(unit);\n    },\n    isValid: function isValid() {\n      //null/undefined epochs\n      if (!this.epoch && this.epoch !== 0) {\n        return false;\n      }\n\n      return !isNaN(this.d.getTime());\n    },\n    //travel to this timezone\n    \"goto\": function goto(tz) {\n      var s = this.clone();\n      s.tz = find(tz, s.timezones); //science!\n\n      return s;\n    },\n    //get each week/month/day between a -> b\n    every: function every(unit, to) {\n      return every_1(this, unit, to);\n    },\n    isAwake: function isAwake() {\n      var hour = this.hour(); //10pm -> 8am\n\n      if (hour < 8 || hour > 22) {\n        return false;\n      }\n\n      return true;\n    },\n    isAsleep: function isAsleep() {\n      return !this.isAwake();\n    },\n    //pretty-printing\n    log: function log() {\n      console.log('');\n      console.log(format_1(this, 'nice-short'));\n      return this;\n    },\n    logYear: function logYear() {\n      console.log('');\n      console.log(format_1(this, 'full-short'));\n      return this;\n    },\n    json: function json() {\n      var _this = this;\n\n      return units$3.reduce(function (h, unit) {\n        h[unit] = _this[unit]();\n        return h;\n      }, {});\n    },\n    debug: function debug() {\n      var tz = this.timezone();\n      var date = this.format('MM') + ' ' + this.format('date-ordinal') + ' ' + this.year();\n      date += '\\n     - ' + this.format('time');\n      console.log('\\n\\n', date + '\\n     - ' + tz.name + ' (' + tz.current.offset + ')');\n      return this;\n    },\n    //alias of 'since' but opposite - like moment.js\n    from: function from(d) {\n      d = this.clone().set(d);\n      return d.since(this);\n    },\n    fromNow: function fromNow() {\n      var d = this.clone().set(Date.now());\n      return d.since(this);\n    },\n    weekStart: function weekStart(input) {\n      //accept a number directly\n      if (typeof input === 'number') {\n        this._weekStart = input;\n        return this;\n      }\n\n      if (typeof input === 'string') {\n        // accept 'wednesday'\n        input = input.toLowerCase().trim();\n        var num = days[\"short\"]().indexOf(input);\n\n        if (num === -1) {\n          num = days[\"long\"]().indexOf(input);\n        }\n\n        if (num === -1) {\n          num = 1; //go back to default\n        }\n\n        this._weekStart = num;\n      } else {\n        console.warn('Spacetime Error: Cannot understand .weekStart() input:', input);\n      }\n\n      return this;\n    }\n  }; // aliases\n\n  methods.inDST = methods.isDST;\n  methods.round = methods.nearest;\n  methods.each = methods.every;\n  var methods_1 = methods;\n\n  //these methods wrap around them.\n\n  var isLeapYear$1 = fns.isLeapYear;\n\n  var validate = function validate(n) {\n    //handle number as a string\n    if (typeof n === 'string') {\n      n = parseInt(n, 10);\n    }\n\n    return n;\n  };\n\n  var order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond']; //reduce hostile micro-changes when moving dates by millisecond\n\n  var confirm = function confirm(s, tmp, unit) {\n    var n = order.indexOf(unit);\n    var arr = order.slice(n, order.length);\n\n    for (var i = 0; i < arr.length; i++) {\n      var want = tmp[arr[i]]();\n      s[arr[i]](want);\n    }\n\n    return s;\n  };\n\n  var set = {\n    milliseconds: function milliseconds(s, n) {\n      n = validate(n);\n      var current = s.millisecond();\n      var diff = current - n; //milliseconds to shift by\n\n      return s.epoch - diff;\n    },\n    seconds: function seconds(s, n) {\n      n = validate(n);\n      var diff = s.second() - n;\n      var shift = diff * milliseconds.second;\n      return s.epoch - shift;\n    },\n    minutes: function minutes(s, n) {\n      n = validate(n);\n      var old = s.clone();\n      var diff = s.minute() - n;\n      var shift = diff * milliseconds.minute;\n      s.epoch -= shift; // check against a screw-up\n      // if (old.hour() != s.hour()) {\n      //   walkTo(old, {\n      //     minute: n\n      //   })\n      //   return old.epoch\n      // }\n\n      confirm(s, old, 'second');\n      return s.epoch;\n    },\n    hours: function hours(s, n) {\n      n = validate(n);\n\n      if (n >= 24) {\n        n = 24;\n      } else if (n < 0) {\n        n = 0;\n      }\n\n      var old = s.clone();\n      var diff = s.hour() - n;\n      var shift = diff * milliseconds.hour;\n      s.epoch -= shift; // oops, did we change the day?\n\n      if (s.date() !== old.date()) {\n        s = old.clone();\n\n        if (diff > 1) {\n          diff -= 1;\n        }\n\n        if (diff < 1) {\n          diff += 1;\n        }\n\n        shift = diff * milliseconds.hour;\n        s.epoch -= shift;\n      }\n\n      walk_1(s, {\n        hour: n\n      });\n      confirm(s, old, 'minute');\n      return s.epoch;\n    },\n    //support setting time by '4:25pm' - this isn't very-well developed..\n    time: function time(s, str) {\n      var m = str.match(/([0-9]{1,2})[:h]([0-9]{1,2})(:[0-9]{1,2})? ?(am|pm)?/);\n\n      if (!m) {\n        //fallback to support just '2am'\n        m = str.match(/([0-9]{1,2}) ?(am|pm)/);\n\n        if (!m) {\n          return s.epoch;\n        }\n\n        m.splice(2, 0, '0'); //add implicit 0 minutes\n\n        m.splice(3, 0, ''); //add implicit seconds\n      }\n\n      var h24 = false;\n      var hour = parseInt(m[1], 10);\n      var minute = parseInt(m[2], 10);\n\n      if (hour > 12) {\n        h24 = true;\n      } //make the hour into proper 24h time\n\n\n      if (h24 === false) {\n        if (m[4] === 'am' && hour === 12) {\n          //12am is midnight\n          hour = 0;\n        }\n\n        if (m[4] === 'pm' && hour < 12) {\n          //12pm is noon\n          hour += 12;\n        }\n      } // handle seconds\n\n\n      m[3] = m[3] || '';\n      m[3] = m[3].replace(/:/, '');\n      var sec = parseInt(m[3], 10) || 0;\n      s = s.hour(hour);\n      s = s.minute(minute);\n      s = s.second(sec);\n      s = s.millisecond(0);\n      return s.epoch;\n    },\n    date: function date(s, n) {\n      n = validate(n); //avoid setting february 31st\n\n      if (n > 28) {\n        var month = s.month();\n        var max = monthLengths_1[month]; // support leap day in february\n\n        if (month === 1 && n === 29 && isLeapYear$1(s.year())) {\n          max = 29;\n        }\n\n        if (n > max) {\n          n = max;\n        }\n      } //avoid setting < 0\n\n\n      if (n <= 0) {\n        n = 1;\n      }\n\n      walk_1(s, {\n        date: n\n      });\n      return s.epoch;\n    },\n    //this one's tricky\n    month: function month(s, n) {\n      if (typeof n === 'string') {\n        n = months.mapping()[n.toLowerCase()];\n      }\n\n      n = validate(n); //don't go past december\n\n      if (n >= 12) {\n        n = 11;\n      }\n\n      if (n <= 0) {\n        n = 0;\n      }\n\n      var date = s.date(); //there's no 30th of february, etc.\n\n      if (date > monthLengths_1[n]) {\n        //make it as close as we can..\n        date = monthLengths_1[n];\n      }\n\n      walk_1(s, {\n        month: n,\n        date: date\n      });\n      return s.epoch;\n    },\n    year: function year(s, n) {\n      // support '97\n      if (typeof n === 'string' && /^'[0-9]{2}$/.test(n)) {\n        n = n.replace(/'/, '').trim();\n        n = Number(n); // '89 is 1989\n\n        if (n > 30) {\n          //change this in 10y\n          n = 1900 + n;\n        } else {\n          // '12 is 2012\n          n = 2000 + n;\n        }\n      }\n\n      n = validate(n);\n      walk_1(s, {\n        year: n\n      });\n      return s.epoch;\n    },\n    dayOfYear: function dayOfYear(s, n) {\n      n = validate(n);\n      var old = s.clone();\n      n -= 1; //days are 1-based\n\n      if (n <= 0) {\n        n = 0;\n      } else if (n >= 365) {\n        n = 364;\n      }\n\n      s = s.startOf('year');\n      s = s.add(n, 'day');\n      confirm(s, old, 'hour');\n      return s.epoch;\n    }\n  };\n\n  var methods$1 = {\n    millisecond: function millisecond(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.milliseconds(s, num);\n        return s;\n      }\n\n      return this.d.getMilliseconds();\n    },\n    second: function second(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.seconds(s, num);\n        return s;\n      }\n\n      return this.d.getSeconds();\n    },\n    minute: function minute(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.minutes(s, num);\n        return s;\n      }\n\n      return this.d.getMinutes();\n    },\n    hour: function hour(num) {\n      var d = this.d;\n\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.hours(s, num);\n        return s;\n      }\n\n      return d.getHours();\n    },\n    //'3:30' is 3.5\n    hourFloat: function hourFloat(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n\n        var _minute = num % 1;\n\n        _minute = _minute * 60;\n\n        var _hour = parseInt(num, 10);\n\n        s.epoch = set.hours(s, _hour);\n        s.epoch = set.minutes(s, _minute);\n        return s;\n      }\n\n      var d = this.d;\n      var hour = d.getHours();\n      var minute = d.getMinutes();\n      minute = minute / 60;\n      return hour + minute;\n    },\n    // hour in 12h format\n    hour12: function hour12(str) {\n      var d = this.d;\n\n      if (str !== undefined) {\n        var s = this.clone();\n        str = '' + str;\n        var m = str.match(/^([0-9]+)(am|pm)$/);\n\n        if (m) {\n          var hour = parseInt(m[1], 10);\n\n          if (m[2] === 'pm') {\n            hour += 12;\n          }\n\n          s.epoch = set.hours(s, hour);\n        }\n\n        return s;\n      } //get the hour\n\n\n      var hour12 = d.getHours();\n\n      if (hour12 > 12) {\n        hour12 = hour12 - 12;\n      }\n\n      if (hour12 === 0) {\n        hour12 = 12;\n      }\n\n      return hour12;\n    },\n    //some ambiguity here with 12/24h\n    time: function time(str) {\n      if (str !== undefined) {\n        var s = this.clone();\n        str = str.toLowerCase().trim();\n        s.epoch = set.time(s, str);\n        return s;\n      }\n\n      return \"\".concat(this.h12(), \":\").concat(fns.zeroPad(this.minute())).concat(this.ampm());\n    },\n    // either 'am' or 'pm'\n    ampm: function ampm(input) {\n      var which = 'am';\n      var hour = this.hour();\n\n      if (hour >= 12) {\n        which = 'pm';\n      }\n\n      if (typeof input !== 'string') {\n        return which;\n      } //okay, we're doing a setter\n\n\n      var s = this.clone();\n      input = input.toLowerCase().trim(); //ampm should never change the day\n      // - so use `.hour(n)` instead of `.minus(12,'hour')`\n\n      if (hour >= 12 && input === 'am') {\n        //noon is 12pm\n        hour -= 12;\n        return s.hour(hour);\n      }\n\n      if (hour < 12 && input === 'pm') {\n        hour += 12;\n        return s.hour(hour);\n      }\n\n      return s;\n    },\n    //some hard-coded times of day, like 'noon'\n    dayTime: function dayTime(str) {\n      if (str !== undefined) {\n        var times = {\n          morning: '7:00am',\n          breakfast: '7:00am',\n          noon: '12:00am',\n          lunch: '12:00pm',\n          afternoon: '2:00pm',\n          evening: '6:00pm',\n          dinner: '6:00pm',\n          night: '11:00pm',\n          midnight: '23:59pm'\n        };\n        var s = this.clone();\n        str = str || '';\n        str = str.toLowerCase();\n\n        if (times.hasOwnProperty(str) === true) {\n          s = s.time(times[str]);\n        }\n\n        return s;\n      }\n\n      var h = this.hour();\n\n      if (h < 6) {\n        return 'night';\n      }\n\n      if (h < 12) {\n        //until noon\n        return 'morning';\n      }\n\n      if (h < 17) {\n        //until 5pm\n        return 'afternoon';\n      }\n\n      if (h < 22) {\n        //until 10pm\n        return 'evening';\n      }\n\n      return 'night';\n    },\n    //parse a proper iso string\n    iso: function iso(num) {\n      if (num !== undefined) {\n        return this.set(num);\n      }\n\n      return this.format('iso');\n    }\n  };\n  var _01Time = methods$1;\n\n  var methods$2 = {\n    // # day in the month\n    date: function date(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.date(s, num);\n        return s;\n      }\n\n      return this.d.getDate();\n    },\n    //like 'wednesday' (hard!)\n    day: function day(input) {\n      if (input === undefined) {\n        return this.d.getDay();\n      }\n\n      var original = this.clone();\n      var want = input; // accept 'wednesday'\n\n      if (typeof input === 'string') {\n        input = input.toLowerCase();\n\n        if (days.aliases.hasOwnProperty(input)) {\n          want = days.aliases[input];\n        } else {\n          want = days[\"short\"]().indexOf(input);\n\n          if (want === -1) {\n            want = days[\"long\"]().indexOf(input);\n          }\n        }\n      } //move approx\n\n\n      var day = this.d.getDay();\n      var diff = day - want;\n      var s = this.subtract(diff, 'days'); //tighten it back up\n\n      walk_1(s, {\n        hour: original.hour(),\n        minute: original.minute(),\n        second: original.second()\n      });\n      return s;\n    },\n    //these are helpful name-wrappers\n    dayName: function dayName(input) {\n      if (input === undefined) {\n        return days[\"long\"]()[this.day()];\n      }\n\n      var s = this.clone();\n      s = s.day(input);\n      return s;\n    },\n    //either name or number\n    month: function month(input) {\n      if (input !== undefined) {\n        var s = this.clone();\n        s.epoch = set.month(s, input);\n        return s;\n      }\n\n      return this.d.getMonth();\n    }\n  };\n  var _02Date = methods$2;\n\n  var clearMinutes = function clearMinutes(s) {\n    s = s.minute(0);\n    s = s.second(0);\n    s = s.millisecond(1);\n    return s;\n  };\n\n  var methods$3 = {\n    // day 0-366\n    dayOfYear: function dayOfYear(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.dayOfYear(s, num);\n        return s;\n      } //days since newyears - jan 1st is 1, jan 2nd is 2...\n\n\n      var sum = 0;\n      var month = this.d.getMonth();\n      var tmp; //count the num days in each month\n\n      for (var i = 1; i <= month; i++) {\n        tmp = new Date();\n        tmp.setDate(1);\n        tmp.setFullYear(this.d.getFullYear()); //the year matters, because leap-years\n\n        tmp.setHours(1);\n        tmp.setMinutes(1);\n        tmp.setMonth(i);\n        tmp.setHours(-2); //the last day of the month\n\n        sum += tmp.getDate();\n      }\n\n      return sum + this.d.getDate();\n    },\n    //since the start of the year\n    week: function week(num) {\n      // week-setter\n      if (num !== undefined) {\n        var s = this.clone();\n        s = s.month(0);\n        s = s.date(1);\n        s = s.day('monday');\n        s = clearMinutes(s); //first week starts first Thurs in Jan\n        // so mon dec 28th is 1st week\n        // so mon dec 29th is not the week\n\n        if (s.monthName() === 'december' && s.date() >= 28) {\n          s = s.add(1, 'week');\n        }\n\n        num -= 1; //1-based\n\n        s = s.add(num, 'weeks');\n        return s;\n      } //find-out which week it is\n\n\n      var tmp = this.clone();\n      tmp = tmp.month(0);\n      tmp = tmp.date(1);\n      tmp = clearMinutes(tmp);\n      tmp = tmp.day('monday'); //don't go into last-year\n\n      if (tmp.monthName() === 'december' && tmp.date() >= 28) {\n        tmp = tmp.add(1, 'week');\n      } // is first monday the 1st?\n\n\n      var toAdd = 1;\n\n      if (tmp.date() === 1) {\n        toAdd = 0;\n      }\n\n      tmp = tmp.minus(1, 'second');\n      var thisOne = this.epoch; //if the week technically hasn't started yet\n\n      if (tmp.epoch > thisOne) {\n        return 1;\n      } //speed it up, if we can\n\n\n      var i = 0;\n      var skipWeeks = this.month() * 4;\n      tmp.epoch += milliseconds.week * skipWeeks;\n      i += skipWeeks;\n\n      for (; i < 52; i++) {\n        if (tmp.epoch > thisOne) {\n          return i + toAdd;\n        }\n\n        tmp = tmp.add(1, 'week');\n      }\n\n      return 52;\n    },\n    //'january'\n    monthName: function monthName(input) {\n      if (input === undefined) {\n        return months[\"long\"]()[this.month()];\n      }\n\n      var s = this.clone();\n      s = s.month(input);\n      return s;\n    },\n    //q1, q2, q3, q4\n    quarter: function quarter(num) {\n      if (num !== undefined) {\n        if (typeof num === 'string') {\n          num = num.replace(/^q/i, '');\n          num = parseInt(num, 10);\n        }\n\n        if (quarters[num]) {\n          var s = this.clone();\n          var _month = quarters[num][0];\n          s = s.month(_month);\n          s = s.date(1);\n          s = s.startOf('day');\n          return s;\n        }\n      }\n\n      var month = this.d.getMonth();\n\n      for (var i = 1; i < quarters.length; i++) {\n        if (month < quarters[i][0]) {\n          return i - 1;\n        }\n      }\n\n      return 4;\n    },\n    //spring, summer, winter, fall\n    season: function season(input) {\n      var hem = 'north';\n\n      if (this.hemisphere() === 'South') {\n        hem = 'south';\n      }\n\n      if (input !== undefined) {\n        var s = this.clone();\n\n        for (var i = 0; i < seasons[hem].length; i++) {\n          if (input === seasons[hem][i][0]) {\n            s = s.month(seasons[hem][i][1]);\n            s = s.date(1);\n            s = s.startOf('day');\n          }\n        }\n\n        return s;\n      }\n\n      var month = this.d.getMonth();\n\n      for (var _i = 0; _i < seasons[hem].length - 1; _i++) {\n        if (month >= seasons[hem][_i][1] && month < seasons[hem][_i + 1][1]) {\n          return seasons[hem][_i][0];\n        }\n      }\n\n      return 'winter';\n    },\n    //the year number\n    year: function year(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.year(s, num);\n        return s;\n      }\n\n      return this.d.getFullYear();\n    },\n    //bc/ad years\n    era: function era(str) {\n      if (str !== undefined) {\n        var s = this.clone();\n        str = str.toLowerCase(); //TODO: there is no year-0AD i think. may have off-by-1 error here\n\n        var year = s.d.getFullYear(); //make '1992' into 1992bc..\n\n        if (str === 'bc' && year > 0) {\n          s.epoch = set.year(s, year * -1);\n        } //make '1992bc' into '1992'\n\n\n        if (str === 'ad' && year < 0) {\n          s.epoch = set.year(s, year * -1);\n        }\n\n        return s;\n      }\n\n      if (this.d.getFullYear() < 0) {\n        return 'BC';\n      }\n\n      return 'AD';\n    },\n    // 2019 -> 2010\n    decade: function decade(input) {\n      if (input !== undefined) {\n        input = String(input);\n        input = input.replace(/([0-9])'?s$/, '$1'); //1950's\n\n        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n        if (!input) {\n          console.warn('Spacetime: Invalid decade input');\n          return this;\n        } // assume 20th century?? for '70s'.\n\n\n        if (input.length === 2 && /[0-9][0-9]/.test(input)) {\n          input = '19' + input;\n        }\n\n        var year = Number(input);\n\n        if (isNaN(year)) {\n          return this;\n        } // round it down to the decade\n\n\n        year = Math.floor(year / 10) * 10;\n        return this.year(year); //.startOf('decade')\n      }\n\n      return this.startOf('decade').year();\n    },\n    // 1950 -> 19+1\n    century: function century(input) {\n      if (input !== undefined) {\n        if (typeof input === 'string') {\n          input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n          input = input.replace(/([0-9]+) ?(b\\.?c\\.?|a\\.?d\\.?)/i, function (a, b, c) {\n            if (c.match(/b\\.?c\\.?/i)) {\n              b = '-' + b;\n            }\n\n            return b;\n          });\n          input = input.replace(/c$/, ''); //20thC\n        }\n\n        var year = Number(input);\n\n        if (isNaN(input)) {\n          console.warn('Spacetime: Invalid century input');\n          return this;\n        } // there is no century 0\n\n\n        if (year === 0) {\n          year = 1;\n        }\n\n        if (year >= 0) {\n          year = (year - 1) * 100;\n        } else {\n          year = (year + 1) * 100;\n        }\n\n        return this.year(year);\n      } // century getter\n\n\n      var num = this.startOf('century').year();\n      num = Math.floor(num / 100);\n\n      if (num < 0) {\n        return num - 1;\n      }\n\n      return num + 1;\n    },\n    // 2019 -> 2+1\n    millenium: function millenium(input) {\n      if (input !== undefined) {\n        if (typeof input === 'string') {\n          input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n          input = Number(input);\n\n          if (isNaN(input)) {\n            console.warn('Spacetime: Invalid millenium input');\n            return this;\n          }\n        }\n\n        if (input > 0) {\n          input -= 1;\n        }\n\n        var year = input * 1000; // there is no year 0\n\n        if (year === 0) {\n          year = 1;\n        }\n\n        return this.year(year);\n      } // get the current millenium\n\n\n      var num = Math.floor(this.year() / 1000);\n\n      if (num >= 0) {\n        num += 1;\n      }\n\n      return num;\n    }\n  };\n  var _03Year = methods$3;\n\n  var methods$4 = Object.assign({}, _01Time, _02Date, _03Year); //aliases\n\n  methods$4.milliseconds = methods$4.millisecond;\n  methods$4.seconds = methods$4.second;\n  methods$4.minutes = methods$4.minute;\n  methods$4.hours = methods$4.hour;\n  methods$4.hour24 = methods$4.hour;\n  methods$4.h12 = methods$4.hour12;\n  methods$4.h24 = methods$4.hour24;\n  methods$4.days = methods$4.day;\n\n  var addMethods = function addMethods(Space) {\n    //hook the methods into prototype\n    Object.keys(methods$4).forEach(function (k) {\n      Space.prototype[k] = methods$4[k];\n    });\n  };\n\n  var query = addMethods;\n\n  var isLeapYear$2 = fns.isLeapYear;\n\n  var getMonthLength = function getMonthLength(month, year) {\n    if (month === 1 && isLeapYear$2(year)) {\n      return 29;\n    }\n\n    return monthLengths_1[month];\n  }; //month is the one thing we 'model/compute'\n  //- because ms-shifting can be off by enough\n\n\n  var rollMonth = function rollMonth(want, old) {\n    //increment year\n    if (want.month > 0) {\n      var years = parseInt(want.month / 12, 10);\n      want.year = old.year() + years;\n      want.month = want.month % 12;\n    } else if (want.month < 0) {\n      //decrement year\n      var _years = Math.floor(Math.abs(want.month) / 13, 10);\n\n      _years = Math.abs(_years) + 1;\n      want.year = old.year() - _years; //ignore extras\n\n      want.month = want.month % 12;\n      want.month = want.month + 12;\n\n      if (want.month === 12) {\n        want.month = 0;\n      }\n    }\n\n    return want;\n  }; // briefly support day=-2 (this does not need to be perfect.)\n\n\n  var rollDaysDown = function rollDaysDown(want, old, sum) {\n    want.year = old.year();\n    want.month = old.month();\n    var date = old.date();\n    want.date = date - Math.abs(sum);\n\n    while (want.date < 1) {\n      want.month -= 1;\n\n      if (want.month < 0) {\n        want.month = 11;\n        want.year -= 1;\n      }\n\n      var max = getMonthLength(want.month, want.year);\n      want.date += max;\n    }\n\n    return want;\n  }; // briefly support day=33 (this does not need to be perfect.)\n\n\n  var rollDaysUp = function rollDaysUp(want, old, sum) {\n    var year = old.year();\n    var month = old.month();\n    var max = getMonthLength(month, year);\n\n    while (sum > max) {\n      sum -= max;\n      month += 1;\n\n      if (month >= 12) {\n        month -= 12;\n        year += 1;\n      }\n\n      max = getMonthLength(month, year);\n    }\n\n    want.month = month;\n    want.date = sum;\n    return want;\n  };\n\n  var _model = {\n    months: rollMonth,\n    days: rollDaysUp,\n    daysBack: rollDaysDown\n  };\n\n  // but briefly:\n  // millisecond-math, and some post-processing covers most-things\n  // we 'model' the calendar here only a little bit\n  // and that usually works-out...\n\n  var order$1 = ['millisecond', 'second', 'minute', 'hour', 'date', 'month'];\n  var keep = {\n    second: order$1.slice(0, 1),\n    minute: order$1.slice(0, 2),\n    quarterhour: order$1.slice(0, 2),\n    hour: order$1.slice(0, 3),\n    date: order$1.slice(0, 4),\n    month: order$1.slice(0, 4),\n    quarter: order$1.slice(0, 4),\n    season: order$1.slice(0, 4),\n    year: order$1,\n    decade: order$1,\n    century: order$1\n  };\n  keep.week = keep.hour;\n  keep.season = keep.date;\n  keep.quarter = keep.date; // Units need to be dst adjuested\n\n  var dstAwareUnits = {\n    year: true,\n    quarter: true,\n    season: true,\n    month: true,\n    week: true,\n    day: true\n  };\n  var keepDate = {\n    month: true,\n    quarter: true,\n    season: true,\n    year: true\n  };\n\n  var addMethods$1 = function addMethods(SpaceTime) {\n    SpaceTime.prototype.add = function (num, unit) {\n      var s = this.clone();\n\n      if (!unit || num === 0) {\n        return s; //don't bother\n      }\n\n      var old = this.clone();\n      unit = fns.normalize(unit);\n\n      if (unit === 'millisecond') {\n        s.epoch += num;\n        return s;\n      } // support 'fortnight' alias\n\n\n      if (unit === 'fortnight') {\n        num *= 2;\n        unit = 'week';\n      } //move forward by the estimated milliseconds (rough)\n\n\n      if (milliseconds[unit]) {\n        s.epoch += milliseconds[unit] * num;\n      } else if (unit === 'week') {\n        s.epoch += milliseconds.day * (num * 7);\n      } else if (unit === 'quarter' || unit === 'season') {\n        s.epoch += milliseconds.month * (num * 3);\n      } else if (unit === 'quarterhour') {\n        s.epoch += milliseconds.minute * 15 * num;\n      } //now ensure our milliseconds/etc are in-line\n\n\n      var want = {};\n\n      if (keep[unit]) {\n        keep[unit].forEach(function (u) {\n          want[u] = old[u]();\n        });\n      }\n\n      if (dstAwareUnits[unit]) {\n        var diff = old.timezone().current.offset - s.timezone().current.offset;\n        s.epoch += diff * 3600 * 1000;\n      } //ensure month/year has ticked-over\n\n\n      if (unit === 'month') {\n        want.month = old.month() + num; //month is the one unit we 'model' directly\n\n        want = _model.months(want, old);\n      } //support coercing a week, too\n\n\n      if (unit === 'week') {\n        var sum = old.date() + num * 7;\n\n        if (sum <= 28 && sum > 1) {\n          want.date = sum;\n        }\n      } //support 25-hour day-changes on dst-changes\n      else if (unit === 'date') {\n          if (num < 0) {\n            want = _model.daysBack(want, old, num);\n          } else {\n            //specify a naive date number, if it's easy to do...\n            var _sum = old.date() + num; // ok, model this one too\n\n\n            want = _model.days(want, old, _sum);\n          } //manually punt it if we haven't moved at all..\n\n\n          if (num !== 0 && old.isSame(s, 'day')) {\n            want.date = old.date() + num;\n          }\n        } // ensure a quarter is 3 months over\n        else if (unit === 'quarter') {\n            want.month = old.month() + num * 3;\n            want.year = old.year(); // handle rollover\n\n            if (want.month < 0) {\n              var years = Math.floor(want.month / 12);\n              var remainder = want.month + Math.abs(years) * 12;\n              want.month = remainder;\n              want.year += years;\n            } else if (want.month >= 12) {\n              var _years = Math.floor(want.month / 12);\n\n              want.month = want.month % 12;\n              want.year += _years;\n            }\n\n            want.date = old.date();\n          } //ensure year has changed (leap-years)\n          else if (unit === 'year') {\n              var wantYear = old.year() + num;\n              var haveYear = s.year();\n\n              if (haveYear < wantYear) {\n                s.epoch += milliseconds.day;\n              } else if (haveYear > wantYear) {\n                s.epoch += milliseconds.day;\n              }\n            } //these are easier\n            else if (unit === 'decade') {\n                want.year = s.year() + 10;\n              } else if (unit === 'century') {\n                want.year = s.year() + 100;\n              } //keep current date, unless the month doesn't have it.\n\n\n      if (keepDate[unit]) {\n        var max = monthLengths_1[want.month];\n        want.date = old.date();\n\n        if (want.date > max) {\n          want.date = max;\n        }\n      }\n\n      if (Object.keys(want).length > 1) {\n        walk_1(s, want);\n      }\n\n      return s;\n    }; //subtract is only add *-1\n\n\n    SpaceTime.prototype.subtract = function (num, unit) {\n      var s = this.clone();\n      return s.add(num * -1, unit);\n    }; //add aliases\n\n\n    SpaceTime.prototype.minus = SpaceTime.prototype.subtract;\n    SpaceTime.prototype.plus = SpaceTime.prototype.add;\n  };\n\n  var add = addMethods$1;\n\n  //make a string, for easy comparison between dates\n  var print = {\n    millisecond: function millisecond(s) {\n      return s.epoch;\n    },\n    second: function second(s) {\n      return [s.year(), s.month(), s.date(), s.hour(), s.minute(), s.second()].join('-');\n    },\n    minute: function minute(s) {\n      return [s.year(), s.month(), s.date(), s.hour(), s.minute()].join('-');\n    },\n    hour: function hour(s) {\n      return [s.year(), s.month(), s.date(), s.hour()].join('-');\n    },\n    day: function day(s) {\n      return [s.year(), s.month(), s.date()].join('-');\n    },\n    week: function week(s) {\n      return [s.year(), s.week()].join('-');\n    },\n    month: function month(s) {\n      return [s.year(), s.month()].join('-');\n    },\n    quarter: function quarter(s) {\n      return [s.year(), s.quarter()].join('-');\n    },\n    year: function year(s) {\n      return s.year();\n    }\n  };\n  print.date = print.day;\n\n  var addMethods$2 = function addMethods(SpaceTime) {\n    SpaceTime.prototype.isSame = function (b, unit) {\n      var tzAware = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var a = this;\n\n      if (!unit) {\n        return null;\n      }\n\n      if (typeof b === 'string' || typeof b === 'number') {\n        b = new SpaceTime(b, this.timezone.name);\n      } //support 'seconds' aswell as 'second'\n\n\n      unit = unit.replace(/s$/, ''); // make them the same timezone for proper comparison\n\n      if (tzAware === true && a.tz !== b.tz) {\n        b = b.clone();\n        b.tz = a.tz;\n      }\n\n      if (print[unit]) {\n        return print[unit](a) === print[unit](b);\n      }\n\n      return null;\n    };\n  };\n\n  var same = addMethods$2;\n\n  var addMethods$3 = function addMethods(SpaceTime) {\n    var methods = {\n      isAfter: function isAfter(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch > epoch;\n      },\n      isBefore: function isBefore(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch < epoch;\n      },\n      isEqual: function isEqual(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch === epoch;\n      },\n      isBetween: function isBetween(start, end) {\n        var isInclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        start = fns.beADate(start, this);\n        end = fns.beADate(end, this);\n        var startEpoch = fns.getEpoch(start);\n\n        if (startEpoch === null) {\n          return null;\n        }\n\n        var endEpoch = fns.getEpoch(end);\n\n        if (endEpoch === null) {\n          return null;\n        }\n\n        if (isInclusive) {\n          return this.isBetween(start, end) || this.isEqual(start) || this.isEqual(end);\n        }\n\n        return startEpoch < this.epoch && this.epoch < endEpoch;\n      }\n    }; //hook them into proto\n\n    Object.keys(methods).forEach(function (k) {\n      SpaceTime.prototype[k] = methods[k];\n    });\n  };\n\n  var compare = addMethods$3;\n\n  var addMethods$4 = function addMethods(SpaceTime) {\n    var methods = {\n      i18n: function i18n(data) {\n        //change the day names\n        if (fns.isObject(data.days)) {\n          days.set(data.days);\n        } //change the month names\n\n\n        if (fns.isObject(data.months)) {\n          months.set(data.months);\n        } // change the the display style of the month / day names\n\n\n        if (fns.isBoolean(data.useTitleCase)) {\n          caseFormat.set(data.useTitleCase);\n        }\n      }\n    }; //hook them into proto\n\n    Object.keys(methods).forEach(function (k) {\n      SpaceTime.prototype[k] = methods[k];\n    });\n  };\n\n  var i18n = addMethods$4;\n\n  var timezones = unpack; //fake timezone-support, for fakers (es5 class)\n\n  var SpaceTime = function SpaceTime(input$1, tz) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    //the holy moment\n    this.epoch = null; //the shift for the given timezone\n\n    this.tz = find(tz, timezones); //whether to output warnings to console\n\n    this.silent = options.silent || true; // favour british interpretation of 02/02/2018, etc\n\n    this.british = options.dmy || options.british; //does the week start on sunday, or monday:\n\n    this._weekStart = 1; //default to monday\n\n    if (options.weekStart !== undefined) {\n      this._weekStart = options.weekStart;\n    } // the reference today date object, (for testing)\n\n\n    this._today = {};\n\n    if (options.today !== undefined) {\n      this._today = options.today;\n    } //add getter/setters\n\n\n    Object.defineProperty(this, 'd', {\n      //return a js date object\n      get: function get() {\n        var offset = quick(this); //every computer is somewhere- get this computer's built-in offset\n\n        var bias = new Date(this.epoch).getTimezoneOffset() || 0; //movement\n\n        var shift = bias + offset * 60; //in minutes\n\n        shift = shift * 60 * 1000; //in ms\n        //remove this computer's offset\n\n        var epoch = this.epoch + shift;\n        var d = new Date(epoch);\n        return d;\n      }\n    }); //add this data on the object, to allow adding new timezones\n\n    Object.defineProperty(this, 'timezones', {\n      get: function get() {\n        return timezones;\n      },\n      set: function set(obj) {\n        timezones = obj;\n        return obj;\n      }\n    }); //parse the various formats\n\n    var tmp = input(this, input$1, tz);\n    this.epoch = tmp.epoch;\n  }; //(add instance methods to prototype)\n\n\n  Object.keys(methods_1).forEach(function (k) {\n    SpaceTime.prototype[k] = methods_1[k];\n  }); // ¯\\_(ツ)_/¯\n\n  SpaceTime.prototype.clone = function () {\n    return new SpaceTime(this.epoch, this.tz, {\n      silent: this.silent,\n      weekStart: this._weekStart,\n      today: this._today\n    });\n  }; //return native date object at the same epoch\n\n\n  SpaceTime.prototype.toLocalDate = function () {\n    return new Date(this.epoch);\n  }; //append more methods\n\n\n  query(SpaceTime);\n  add(SpaceTime);\n  same(SpaceTime);\n  compare(SpaceTime);\n  i18n(SpaceTime);\n  var spacetime = SpaceTime;\n\n  var whereIts = function whereIts(a, b) {\n    var start = new spacetime(null);\n    var end = new spacetime(null);\n    start = start.time(a); //if b is undefined, use as 'within one hour'\n\n    if (b) {\n      end = end.time(b);\n    } else {\n      end = start.add(59, 'minutes');\n    }\n\n    var startHour = start.hour();\n    var endHour = end.hour();\n    var tzs = Object.keys(start.timezones).filter(function (tz) {\n      if (tz.indexOf('/') === -1) {\n        return false;\n      }\n\n      var m = new spacetime(null, tz);\n      var hour = m.hour(); //do 'calendar-compare' not real-time-compare\n\n      if (hour >= startHour && hour <= endHour) {\n        //test minutes too, if applicable\n        if (hour === startHour && m.minute() < start.minute()) {\n          return false;\n        }\n\n        if (hour === endHour && m.minute() > end.minute()) {\n          return false;\n        }\n\n        return true;\n      }\n\n      return false;\n    });\n    return tzs;\n  };\n\n  var whereIts_1 = whereIts;\n\n  var _version = '6.12.5';\n\n  var main$1 = function main(input, tz, options) {\n    return new spacetime(input, tz, options);\n  }; // set all properties of a given 'today' object\n\n\n  var setToday = function setToday(s) {\n    var today = s._today || {};\n    Object.keys(today).forEach(function (k) {\n      s = s[k](today[k]);\n    });\n    return s;\n  }; //some helper functions on the main method\n\n\n  main$1.now = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s;\n  };\n\n  main$1.today = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.startOf('day');\n  };\n\n  main$1.tomorrow = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.add(1, 'day').startOf('day');\n  };\n\n  main$1.yesterday = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.subtract(1, 'day').startOf('day');\n  };\n\n  main$1.extend = function (obj) {\n    Object.keys(obj).forEach(function (k) {\n      spacetime.prototype[k] = obj[k];\n    });\n    return this;\n  };\n\n  main$1.timezones = function () {\n    var s = new spacetime();\n    return s.timezones;\n  }; //find tz by time\n\n\n  main$1.whereIts = whereIts_1;\n  main$1.version = _version; //aliases:\n\n  main$1.plugin = main$1.extend;\n  var src = main$1;\n\n  return src;\n\n})));\n","// some opinionated-but-common-sense timezone abbreviations\n// these timezone abbreviations are wholly made-up by me, Spencer Kelly, with no expertise in geography\n// generated humbly from https://github.com/spencermountain/spacetime-informal\nconst spacetime = require('spacetime')\n\nconst america = 'America/'\nconst asia = 'Asia/'\nconst europe = 'Europe/'\nconst africa = 'Africa/'\nconst aus = 'Australia/'\nconst pac = 'Pacific/'\n\nconst informal = {\n  //europe\n  'british summer time': europe + 'London',\n  bst: europe + 'London',\n  'british time': europe + 'London',\n  'britain time': europe + 'London',\n  'irish summer time': europe + 'Dublin',\n  'irish time': europe + 'Dublin',\n  ireland: europe + 'Dublin',\n  'central european time': europe + 'Berlin',\n  cet: europe + 'Berlin',\n  'central european summer time': europe + 'Berlin',\n  cest: europe + 'Berlin',\n  'central europe': europe + 'Berlin',\n  'eastern european time': europe + 'Riga',\n  eet: europe + 'Riga',\n  'eastern european summer time': europe + 'Riga',\n  eest: europe + 'Riga',\n  'eastern europe time': europe + 'Riga',\n  'western european time': europe + 'Lisbon',\n  // wet: europe+'Lisbon',\n  'western european summer time': europe + 'Lisbon',\n  // west: europe+'Lisbon',\n  'western europe': europe + 'Lisbon',\n  'turkey standard time': europe + 'Istanbul',\n  trt: europe + 'Istanbul',\n  'turkish time': europe + 'Istanbul',\n\n  //africa\n  etc: africa + 'Freetown',\n  utc: africa + 'Freetown',\n  'greenwich standard time': africa + 'Freetown',\n  gmt: africa + 'Freetown',\n  'east africa time': africa + 'Nairobi',\n  // eat: africa+'Nairobi',\n  'east african time': africa + 'Nairobi',\n  'eastern africa time': africa + 'Nairobi',\n  'central africa time': africa + 'Khartoum',\n  // cat: africa+'Khartoum',\n  'central african time': africa + 'Khartoum',\n  'south africa standard time': africa + 'Johannesburg',\n  sast: africa + 'Johannesburg',\n  'southern africa': africa + 'Johannesburg',\n  'south african': africa + 'Johannesburg',\n  'west africa standard time': africa + 'Lagos',\n  // wat: africa+'Lagos',\n  'western africa time': africa + 'Lagos',\n  'west african time': africa + 'Lagos',\n\n  'australian central standard time': aus + 'Adelaide',\n  acst: aus + 'Adelaide',\n  'australian central daylight time': aus + 'Adelaide',\n  acdt: aus + 'Adelaide',\n  'australia central': aus + 'Adelaide',\n  'australian eastern standard time': aus + 'Brisbane',\n  aest: aus + 'Brisbane',\n  'australian eastern daylight time': aus + 'Brisbane',\n  aedt: aus + 'Brisbane',\n  'australia east': aus + 'Brisbane',\n  'australian western standard time': aus + 'Perth',\n  awst: aus + 'Perth',\n  'australian western daylight time': aus + 'Perth',\n  awdt: aus + 'Perth',\n  'australia west': aus + 'Perth',\n  'australian central western standard time': aus + 'Eucla',\n  acwst: aus + 'Eucla',\n  'australia central west': aus + 'Eucla',\n  'lord howe standard time': aus + 'Lord_Howe',\n  lhst: aus + 'Lord_Howe',\n  'lord howe daylight time': aus + 'Lord_Howe',\n  lhdt: aus + 'Lord_Howe',\n  'russian standard time': europe + 'Moscow',\n  msk: europe + 'Moscow',\n  russian: europe + 'Moscow',\n\n  //america\n  'central standard time': america + 'Chicago',\n  'central time': america + 'Chicago',\n  cst: america + 'Havana',\n  'central daylight time': america + 'Chicago',\n  cdt: america + 'Havana',\n  'mountain standard time': america + 'Denver',\n  'mountain time': america + 'Denver',\n  mst: america + 'Denver',\n  'mountain daylight time': america + 'Denver',\n  mdt: america + 'Denver',\n  'atlantic standard time': america + 'Halifax',\n  'atlantic time': america + 'Halifax',\n  ast: asia + 'Baghdad',\n  'atlantic daylight time': america + 'Halifax',\n  adt: america + 'Halifax',\n  'eastern standard time': america + 'New_York',\n  'eastern time': america + 'New_York',\n  est: america + 'New_York',\n  'eastern daylight time': america + 'New_York',\n  edt: america + 'New_York',\n  'pacific time': america + 'Los_Angeles',\n  'pacific standard time': america + 'Los_Angeles',\n  pst: america + 'Los_Angeles',\n  'pacific daylight time': america + 'Los_Angeles',\n  pdt: america + 'Los_Angeles',\n  'alaskan standard time': america + 'Anchorage',\n  'alaskan time': america + 'Anchorage',\n  ahst: america + 'Anchorage',\n  'alaskan daylight time': america + 'Anchorage',\n  ahdt: america + 'Anchorage',\n  'hawaiian standard time': pac + 'Honolulu',\n  'hawaiian time': pac + 'Honolulu',\n  hst: pac + 'Honolulu',\n  'aleutian time': pac + 'Honolulu',\n  'hawaii time': pac + 'Honolulu',\n  'newfoundland standard time': america + 'St_Johns',\n  'newfoundland time': america + 'St_Johns',\n  nst: america + 'St_Johns',\n  'newfoundland daylight time': america + 'St_Johns',\n  ndt: america + 'St_Johns',\n  'brazil time': america + 'Sao_Paulo',\n  brt: america + 'Sao_Paulo',\n  brasília: america + 'Sao_Paulo',\n  brasilia: america + 'Sao_Paulo',\n  'brazilian time': america + 'Sao_Paulo',\n  'argentina time': america + 'Buenos_Aires',\n  // art: a+'Buenos_Aires',\n  'argentinian time': america + 'Buenos_Aires',\n  'amazon time': america + 'Manaus',\n  amt: america + 'Manaus',\n  'amazonian time': america + 'Manaus',\n  'easter island standard time': 'Chile/Easterisland',\n  east: 'Chile/Easterisland',\n  'easter island summer time': 'Chile/Easterisland',\n  easst: 'Chile/Easterisland',\n  'venezuelan standard time': america + 'Caracas',\n  'venezuelan time': america + 'Caracas',\n  vet: america + 'Caracas',\n  'venezuela time': america + 'Caracas',\n  'paraguay time': america + 'Asuncion',\n  pyt: america + 'Asuncion',\n  'paraguay summer time': america + 'Asuncion',\n  pyst: america + 'Asuncion',\n  'cuba standard time': america + 'Havana',\n  'cuba time': america + 'Havana',\n  'cuba daylight time': america + 'Havana',\n  'cuban time': america + 'Havana',\n  'bolivia time': america + 'La_Paz',\n  // bot: a+'La_Paz',\n  'bolivian time': america + 'La_Paz',\n  'colombia time': america + 'Bogota',\n  cot: america + 'Bogota',\n  'colombian time': america + 'Bogota',\n  'acre time': america + 'Eirunepe',\n  // act: a+'Eirunepe',\n  'peru time': america + 'Lima',\n  // pet: a+'Lima',\n  'chile standard time': america + 'Punta_Arenas',\n  'chile time': america + 'Punta_Arenas',\n  clst: america + 'Punta_Arenas',\n  'chile summer time': america + 'Punta_Arenas',\n  cldt: america + 'Punta_Arenas',\n  'uruguay time': america + 'Montevideo',\n  uyt: america + 'Montevideo',\n\n  //asia\n  ist: asia + 'Jerusalem',\n  'arabic standard time': asia + 'Baghdad',\n  'arabic time': asia + 'Baghdad',\n  'arab time': asia + 'Baghdad',\n  'iran standard time': asia + 'Tehran',\n  'iran time': asia + 'Tehran',\n  irst: asia + 'Tehran',\n  'iran daylight time': asia + 'Tehran',\n  irdt: asia + 'Tehran',\n  iranian: asia + 'Tehran',\n  'pakistan standard time': asia + 'Karachi',\n  'pakistan time': asia + 'Karachi',\n  pkt: asia + 'Karachi',\n  'india standard time': asia + 'Kolkata',\n  'indian time': asia + 'Kolkata',\n  'indochina time': asia + 'Bangkok',\n  ict: asia + 'Bangkok',\n  'south east asia': asia + 'Bangkok',\n  'china standard time': asia + 'Shanghai',\n  ct: asia + 'Shanghai',\n  'chinese time': asia + 'Shanghai',\n  'alma-ata time': asia + 'Almaty',\n  almt: asia + 'Almaty',\n  'oral time': asia + 'Oral',\n  'orat time': asia + 'Oral',\n  'yakutsk time': asia + 'Yakutsk',\n  yakt: asia + 'Yakutsk',\n  'gulf standard time': asia + 'Dubai',\n  'gulf time': asia + 'Dubai',\n  gst: asia + 'Dubai',\n  uae: asia + 'Dubai',\n  'hong kong time': asia + 'Hong_Kong',\n  hkt: asia + 'Hong_Kong',\n  'western indonesian time': asia + 'Jakarta',\n  wib: asia + 'Jakarta',\n  'indonesia time': asia + 'Jakarta',\n  'central indonesian time': asia + 'Makassar',\n  wita: asia + 'Makassar',\n  'israel daylight time': asia + 'Jerusalem',\n  idt: asia + 'Jerusalem',\n  'israel standard time': asia + 'Jerusalem',\n  'israel time': asia + 'Jerusalem',\n  israeli: asia + 'Jerusalem',\n  'krasnoyarsk time': asia + 'Krasnoyarsk',\n  krat: asia + 'Krasnoyarsk',\n  'malaysia time': asia + 'Kuala_Lumpur',\n  myt: asia + 'Kuala_Lumpur',\n  'singapore time': asia + 'Singapore',\n  sgt: asia + 'Singapore',\n  'korea standard time': asia + 'Seoul',\n  'korea time': asia + 'Seoul',\n  kst: asia + 'Seoul',\n  'korean time': asia + 'Seoul',\n  'uzbekistan time': asia + 'Samarkand',\n  uzt: asia + 'Samarkand',\n  'vladivostok time': asia + 'Vladivostok',\n  vlat: asia + 'Vladivostok',\n\n  //indian\n  'maldives time': 'Indian/Maldives',\n  mvt: 'Indian/Maldives',\n  'mauritius time': 'Indian/Mauritius',\n  mut: 'Indian/Mauritius',\n\n  // pacific\n  'marshall islands time': pac + 'Kwajalein',\n  mht: pac + 'Kwajalein',\n  'samoa standard time': pac + 'Midway',\n  sst: pac + 'Midway',\n  'somoan time': pac + 'Midway',\n  'chamorro standard time': pac + 'Guam',\n  chst: pac + 'Guam',\n  'papua new guinea time': pac + 'Bougainville',\n  pgt: pac + 'Bougainville',\n}\n\n//add the official iana zonefile names\nlet iana = spacetime().timezones\nlet formal = Object.keys(iana).reduce((h, k) => {\n  h[k] = k\n  return h\n}, {})\nmodule.exports = Object.assign({}, informal, formal)\n","module.exports = [\n  'weekday',\n\n  'summer',\n  'winter',\n  'autumn',\n\n  'some day',\n  'one day',\n  'all day',\n  'some point',\n\n  'eod',\n  'eom',\n  'eoy',\n  'standard time',\n  'daylight time',\n  'tommorrow',\n]\n","module.exports = [\n  'centuries',\n  'century',\n  'day',\n  'days',\n  'decade',\n  'decades',\n  'hour',\n  'hours',\n  'hr',\n  'hrs',\n  'millisecond',\n  'milliseconds',\n  'minute',\n  'minutes',\n  'min',\n  'mins',\n  'month',\n  'months',\n  'seconds',\n  'sec',\n  'secs',\n  'week end',\n  'week ends',\n  'weekend',\n  'weekends',\n  'week',\n  'weeks',\n  'wk',\n  'wks',\n  'year',\n  'years',\n  'yr',\n  'yrs',\n  'quarter',\n  'quarters',\n  'qtr',\n  'qtrs',\n  'season',\n  'seasons',\n]\n","module.exports = [\n  'all hallows eve',\n  'all saints day',\n  'all sts day',\n  'april fools',\n  'armistice day',\n  'australia day',\n  'bastille day',\n  'boxing day',\n  'canada day',\n  'christmas eve',\n  'christmas',\n  'cinco de mayo',\n  'day of the dead',\n  'dia de muertos',\n  'dieciseis de septiembre',\n  'emancipation day',\n  'grito de dolores',\n  'groundhog day',\n  'halloween',\n  'harvey milk day',\n  'inauguration day',\n  'independence day',\n  'independents day',\n  'juneteenth',\n  'labour day',\n  'national freedom day',\n  'national nurses day',\n  'new years eve',\n  'new years',\n  'purple heart day',\n  'rememberance day',\n  'rosa parks day',\n  'saint andrews day',\n  'saint patricks day',\n  'saint stephens day',\n  'saint valentines day',\n  'st andrews day',\n  'st patricks day',\n  'st stephens day',\n  'st valentines day ',\n  'valentines day',\n  'valentines',\n  'veterans day',\n  'victoria day',\n  'womens equality day',\n  'xmas',\n  // Fixed religious and cultural holidays\n  // Catholic + Christian\n  'epiphany',\n  'orthodox christmas day',\n  'orthodox new year',\n  'assumption of mary',\n  'all souls day',\n  'feast of the immaculate conception',\n  'feast of our lady of guadalupe',\n\n  // Kwanzaa\n  'kwanzaa',\n  // Pagan / metal 🤘\n  'imbolc',\n  'beltaine',\n  'lughnassadh',\n  'samhain',\n  'martin luther king day',\n  'mlk day',\n  'presidents day',\n  'mardi gras',\n  'tax day',\n  'commonwealth day',\n  'mothers day',\n  'memorial day',\n  'fathers day',\n  'columbus day',\n  'indigenous peoples day',\n  'canadian thanksgiving',\n  'election day',\n  'thanksgiving',\n  't-day',\n  'turkey day',\n  'black friday',\n  'cyber monday',\n  // Astronomical religious and cultural holidays\n  'ash wednesday',\n  'palm sunday',\n  'maundy thursday',\n  'good friday',\n  'holy saturday',\n  'easter',\n  'easter sunday',\n  'easter monday',\n  'orthodox good friday',\n  'orthodox holy saturday',\n  'orthodox easter',\n  'orthodox easter monday',\n  'ascension day',\n  'pentecost',\n  'whitsunday',\n  'whit sunday',\n  'whit monday',\n  'trinity sunday',\n  'corpus christi',\n  'advent',\n  // Jewish\n  'tu bishvat',\n  'tu bshevat',\n  'purim',\n  'passover',\n  'yom hashoah',\n  'lag baomer',\n  'shavuot',\n  'tisha bav',\n  'rosh hashana',\n  'yom kippur',\n  'sukkot',\n  'shmini atzeret',\n  'simchat torah',\n  'chanukah',\n  'hanukkah',\n  // Muslim\n  'isra and miraj',\n  'lailat al-qadr',\n  'eid al-fitr',\n  'id al-Fitr',\n  'eid ul-Fitr',\n  'ramadan',\n  'eid al-adha',\n  'muharram',\n  'the prophets birthday',\n  'ostara',\n  'march equinox',\n  'vernal equinox',\n  'litha',\n  'june solistice',\n  'summer solistice',\n  'mabon',\n  'september equinox',\n  'fall equinox',\n  'autumnal equinox',\n  'yule',\n  'december solstice',\n  'winter solstice',\n  // Additional important holidays\n  'chinese new year',\n  'diwali',\n]\n","module.exports = [\n  'noon',\n  'midnight',\n  'now',\n  'morning',\n  'tonight',\n  'evening',\n  'afternoon',\n  'night',\n  'breakfast time',\n  'lunchtime',\n  'dinnertime',\n  'sometime',\n  'midday',\n  'eod',\n  'oclock',\n  'oclock',\n  'all day',\n  'at night',\n]\n","const timezones = require('../_timezones')\nconst data = [\n  [require('./dates'), '#Date'],\n  [require('./durations'), '#Duration'],\n  [require('./holidays'), '#Holiday'],\n  [require('./times'), '#Time'],\n  [Object.keys(timezones), '#Timezone'],\n]\nlet lex = {\n  'a couple': 'Value',\n}\ndata.forEach((a) => {\n  for (let i = 0; i < a[0].length; i++) {\n    lex[a[0][i]] = a[1]\n  }\n})\n\nmodule.exports = lex\n","const knownUnits = {\n  second: true,\n  minute: true,\n  hour: true,\n  day: true,\n  week: true,\n  weekend: true,\n  month: true,\n  season: true,\n  quarter: true,\n  year: true,\n}\n\nconst aliases = {\n  wk: 'week',\n  min: 'minute',\n  sec: 'second',\n  weekend: 'week', //for now...\n}\n\nconst parseUnit = function (m) {\n  let unit = m.match('#Duration').text('normal')\n  unit = unit.replace(/s$/, '')\n  // support shorthands like 'min'\n  if (aliases.hasOwnProperty(unit)) {\n    unit = aliases[unit]\n  }\n  return unit\n}\n\n//turn '5 weeks before' to {weeks:5}\nconst parseShift = function (doc) {\n  let result = {}\n  let shift = doc.match('#DateShift+')\n  if (shift.found === false) {\n    return result\n  }\n  // '5 weeks'\n  shift.match('#Cardinal #Duration').forEach((ts) => {\n    let num = ts.match('#Cardinal').text('normal')\n    num = parseFloat(num)\n    if (num && typeof num === 'number') {\n      let unit = parseUnit(ts)\n      if (knownUnits[unit] === true) {\n        result[unit] = num\n      }\n    }\n  })\n  //is it 2 weeks ago?  → -2\n  if (shift.has('(before|ago|hence|back)$') === true) {\n    Object.keys(result).forEach((k) => (result[k] *= -1))\n  }\n  shift.remove('#Cardinal #Duration')\n  // supoprt '1 day after tomorrow'\n  let m = shift.match('[<unit>#Duration] [<dir>(after|before)]')\n  if (m.found) {\n    let unit = m.groups('unit').text('reduced')\n    // unit = unit.replace(/s$/, '')\n    let dir = m.groups('dir').text('reduced')\n    if (dir === 'after') {\n      result[unit] = 1\n    } else if (dir === 'before') {\n      result[unit] = -1\n    }\n  }\n  // in half an hour\n  m = shift.match('half (a|an) [#Duration]', 0)\n  if (m.found) {\n    let unit = parseUnit(m)\n    result[unit] = 0.5\n  }\n  // finally, remove it from our text\n  doc.remove('#DateShift')\n  return result\n}\nmodule.exports = parseShift\n","/*\na 'counter' is a Unit determined after a point\n  * first hour of x\n  * 7th week in x\n  * last year in x\n  * \nunlike a shift, like \"2 weeks after x\"\n*/\nconst oneBased = {\n  minute: true,\n}\nconst getCounter = function (doc) {\n  // 7th week of\n  let m = doc.match('[<num>#Value] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let num = obj.num.text('reduced')\n    let unit = obj.unit.text('reduced')\n    let found = {\n      unit: unit,\n      num: Number(num) || 0,\n    }\n    // 0-based or 1-based units\n    if (!oneBased[unit]) {\n      found.num -= 1\n    }\n    doc = doc.remove(m)\n    return found\n  }\n  // first week of\n  m = doc.match('[<dir>(first|initial|last|final)] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let dir = obj.dir.text('reduced')\n    let unit = obj.unit.text('reduced')\n    if (dir === 'initial') {\n      dir = 'first'\n    }\n    if (dir === 'final') {\n      dir = 'last'\n    }\n    let found = {\n      unit: unit,\n      dir: dir,\n    }\n    doc = doc.remove(m)\n    return found\n  }\n\n  return {}\n}\nmodule.exports = getCounter\n","const spacetime = require('spacetime')\n\nconst hardCoded = {\n  daybreak: '7:00am', //ergh\n  breakfast: '8:00am',\n  morning: '9:00am',\n  noon: '12:00pm',\n  midday: '12:00pm',\n  afternoon: '2:00pm',\n  lunchtime: '12:00pm',\n  evening: '6:00pm',\n  dinnertime: '6:00pm',\n  night: '8:00pm',\n  eod: '10:00pm',\n  midnight: '12:00am',\n}\n\nconst halfPast = function (m, s) {\n  let hour = m.match('#Cardinal$').text('reduced')\n\n  let term = m.match('(half|quarter|25|15|10|5)')\n  let mins = term.text('reduced')\n  if (term.has('half')) {\n    mins = '30'\n  }\n  if (term.has('quarter')) {\n    mins = '15'\n  }\n  let behind = m.has('to')\n  // apply it\n  s = s.hour(hour)\n  s = s.startOf('hour')\n  // assume 'half past 5' is 5pm\n  if (hour < 6) {\n    s = s.ampm('pm')\n  }\n  if (behind) {\n    s = s.subtract(mins, 'minutes')\n  } else {\n    s = s.add(mins, 'minutes')\n  }\n  return s\n}\n\nconst parseTime = function (doc, context) {\n  let time = doc.match('(at|by|for|before|this)? #Time+')\n  if (time.found) {\n    doc.remove(time)\n  }\n  // get the main part of the time\n  time = time.not('^(at|by|for|before|this)')\n  time = time.not('sharp')\n  time = time.not('on the dot')\n  let s = spacetime.now(context.timezone)\n  let now = s.clone()\n\n  // check for known-times (like 'today')\n  let timeStr = time.text('reduced')\n  if (hardCoded.hasOwnProperty(timeStr)) {\n    return hardCoded[timeStr]\n  }\n\n  // '5 oclock'\n  let m = time.match('^#Cardinal oclock (am|pm)?')\n  if (m.found) {\n    m = m.not('oclock')\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      let ampm = m.match('(am|pm)').text('reduced')\n      s = s.ampm(ampm)\n      return s.time()\n    }\n  }\n\n  // 'quarter to two'\n  m = time.match('(half|quarter|25|15|10|5) (past|after|to) #Cardinal')\n  if (m.found) {\n    s = halfPast(m, s)\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n  // '4 in the evening'\n  m = time.match('[<time>#Time] (in|at) the? [<desc>(morning|evening|night|nighttime)]')\n  if (m.found) {\n    let str = m.groups('time').text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3 in the morning\n      s = s.startOf('hour')\n    } else {\n      s = s.time(str) // 3:30 in the morning\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = m.groups('desc').text('reduced')\n      if (desc === 'evening' || desc === 'night') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'this morning at 4'\n  m = time.match('this? [<desc>(morning|evening|tonight)] at [<time>(#Cardinal|#Time)]')\n  if (m.found) {\n    let g = m.groups()\n    let str = g.time.text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3\n      s = s.startOf('hour')\n    } else {\n      s = s.time(str) // 3:30\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = g.desc.text('reduced')\n      if (desc === 'morning') {\n        s = s.ampm('am')\n      }\n      if (desc === 'evening' || desc === 'tonight') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'at 4' -> '4'\n  m = time.match('^#Cardinal$')\n  if (m.found) {\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n\n  // parse random a time like '4:54pm'\n  let str = time.text('reduced')\n  s = s.time(str)\n  if (s.isValid() && !s.isEqual(now)) {\n    return s.time()\n  }\n  // should we fallback to a dayStart default?\n  if (context.dayStart) {\n    return context.dayStart\n  }\n  return null\n}\nmodule.exports = parseTime\n","// interpret 'this halloween' or 'next june'\nconst parseRelative = function (doc) {\n  // avoid parsing 'last month of 2019'\n  // if (doc.has('^(this|current|next|upcoming|last|previous) #Duration')) {\n  //   return null\n  // }\n  // parse 'this evening'\n  // let m = doc.match('^(next|last|this)$')\n  // if (m.found) {\n  //   doc.remove(m)\n  //   return doc.text('reduced')\n  // }\n  // but avoid parsing 'day after next'\n  if (doc.has('(next|last|this)$')) {\n    return null\n  }\n  let rel = null\n  let m = doc.match('^this? (next|upcoming|coming)')\n  if (m.found) {\n    rel = 'next'\n    doc.remove(m)\n  }\n  m = doc.match('^this? (last|previous)')\n  if (m.found) {\n    rel = 'last'\n    doc.remove(m)\n  }\n  m = doc.match('^(this|current)')\n  if (m.found) {\n    rel = 'this'\n    doc.remove(m)\n  }\n  // finally, remove it from our text\n  // doc.remove('^(this|current|next|upcoming|last|previous)')\n\n  return rel\n}\nmodule.exports = parseRelative\n","// 'start of october', 'middle of june 1st'\nconst parseSection = function (doc) {\n  // start of 2019\n  let m = doc.match('[(start|beginning) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'start'\n  }\n  // end of 2019\n  m = doc.match('[end of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'end'\n  }\n  // middle of 2019\n  m = doc.match('[(middle|midpoint|center) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'middle'\n  }\n  return null\n}\nmodule.exports = parseSection\n","const informal = require('../../data/_timezones')\n\nconst isOffset = /(\\-?[0-9]+)h(rs)?/i\nconst isNumber = /(\\-?[0-9]+)/\nconst utcOffset = /utc([\\-+]?[0-9]+)/i\nconst gmtOffset = /gmt([\\-+]?[0-9]+)/i\n\nconst toIana = function(num) {\n  num = Number(num)\n  if (num > -13 && num < 13) {\n    num = num * -1 //it's opposite!\n    num = (num > 0 ? '+' : '') + num //add plus sign\n    return 'Etc/GMT' + num\n  }\n  return null\n}\n\nconst parseOffset = function(tz) {\n  // '+5hrs'\n  let m = tz.match(isOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'utc+5'\n  m = tz.match(utcOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'GMT-5' (not opposite)\n  m = tz.match(gmtOffset)\n  if (m !== null) {\n    let num = Number(m[1]) * -1\n    return toIana(num)\n  }\n  // '+5'\n  m = tz.match(isNumber)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  return null\n}\n\nconst parseTimezone = function(doc) {\n  let m = doc.match('#Timezone+')\n  //remove prepositions\n  m = m.remove('(in|for|by|near|at)')\n  let str = m.text('reduced')\n\n  // remove it from our doc, either way\n  doc.remove('#Timezone+')\n\n  // check our list of informal tz names\n  if (informal.hasOwnProperty(str)) {\n    return informal[str]\n  }\n  let tz = parseOffset(str)\n  if (tz) {\n    return tz\n  }\n\n  return null\n}\nmodule.exports = parseTimezone\n","const spacetime = require('spacetime')\n\nclass Unit {\n  constructor(input, unit, context) {\n    this.unit = unit || 'day'\n    context = context || {}\n    let today = {}\n    if (context.today) {\n      today = {\n        date: context.today.date(),\n        month: context.today.month(),\n        year: context.today.year(),\n      }\n    }\n    // set it to the beginning of the given unit\n    let d = spacetime(input, context.timezone, { today: today })\n\n    // set to beginning?\n    // if (d.isValid() && keepTime !== true) {\n    //   d = d.startOf(this.unit)\n    // }\n    Object.defineProperty(this, 'd', {\n      enumerable: false,\n      writable: true,\n      value: d,\n    })\n    Object.defineProperty(this, 'context', {\n      enumerable: false,\n      writable: true,\n      value: context,\n    })\n  }\n  // make a new one\n  clone() {\n    let d = new Unit(this.d, this.unit, this.context)\n    return d\n  }\n  log() {\n    console.log('--')\n    this.d.log()\n    console.log('\\n')\n    return this\n  }\n  applyShift(obj = {}) {\n    Object.keys(obj).forEach((unit) => {\n      this.d = this.d.add(obj[unit], unit)\n    })\n    return this\n  }\n  applyTime(str) {\n    if (str) {\n      this.d = this.d.time(str)\n    } else {\n      this.d = this.d.startOf('day') //zero-out time\n    }\n    return this\n  }\n  applyRel(rel) {\n    if (rel === 'next') {\n      return this.next()\n    }\n    if (rel === 'last') {\n      return this.last()\n    }\n    return this\n  }\n  applySection(section) {\n    if (section === 'start') {\n      return this.start()\n    }\n    if (section === 'end') {\n      return this.end()\n    }\n    if (section === 'middle') {\n      return this.middle()\n    }\n    return this\n  }\n  format(fmt) {\n    return this.d.format(fmt)\n  }\n  start() {\n    this.d = this.d.startOf(this.unit)\n    if (this.context.dayStart) {\n      this.d = this.d.time(this.context.dayStart)\n    }\n    return this\n  }\n  end() {\n    this.d = this.d.endOf(this.unit)\n    if (this.context.dayEnd) {\n      this.d = this.d.time(this.context.dayEnd)\n    }\n    return this\n  }\n  middle() {\n    let diff = this.d.diff(this.d.endOf(this.unit))\n    let minutes = Math.round(diff.minutes / 2)\n    this.d = this.d.add(minutes, 'minutes')\n    return this\n  }\n  // the millescond before\n  before() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.endOf(this.unit)\n    if (this.context.dayEnd) {\n      this.d = this.d.time(this.context.dayEnd)\n    }\n    return this\n  }\n  // 'after 2019'\n  after() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'next june' 'next tuesday'\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'last june' 'last tuesday'\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nmodule.exports = Unit\n","const spacetime = require('spacetime')\nconst Unit = require('./Unit')\n\nclass Day extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n}\n\n// like 'feb 2'\nclass CalendarDate extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    return this\n  }\n}\n\nclass WeekDay extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    // is the input just a weekday?\n    if (typeof input === 'string') {\n      this.d = spacetime(context.today, context.timezone)\n      this.d = this.d.day(input)\n      // assume a wednesday in the future\n      if (this.d.isBefore(context.today)) {\n        this.d = this.d.add(7, 'days')\n      }\n    } else {\n      this.d = input\n    }\n    this.weekDay = this.d.dayName()\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  clone() {\n    //overloaded method\n    return new WeekDay(this.d, this.unit, this.context)\n  }\n  end() {\n    //overloaded method\n    this.d = this.d.endOf('day')\n    if (this.context.dayEnd) {\n      this.d = this.d.time(this.context.dayEnd)\n    }\n    return this\n  }\n  next() {\n    this.d = this.d.add(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n}\n\n// like 'haloween'\nclass Holiday extends CalendarDate {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n}\n\nmodule.exports = {\n  Day: Day,\n  WeekDay: WeekDay,\n  CalendarDate: CalendarDate,\n  Holiday: Holiday,\n}\n","const Unit = require('./Unit')\n\n// a specific month, like 'March'\nclass AnyMonth extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n}\n\n// a specific month, like 'March'\nclass Month extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n}\nclass AnyQuarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  last() {\n    this.d = this.d.minus(1, 'quarter')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\n\nclass Quarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Season extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'season'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Year extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'year'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('year')\n    }\n  }\n}\n\nmodule.exports = {\n  AnyMonth: AnyMonth,\n  Month: Month,\n  Quarter: Quarter,\n  AnyQuarter: AnyQuarter,\n  Season: Season,\n  Year: Year,\n}\n","const Unit = require('./Unit')\n\nclass Week extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('week')\n    }\n  }\n}\n\n//may need some work\nclass WeekEnd extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.day('saturday')\n      this.d = this.d.startOf('day')\n    }\n  }\n  start() {\n    this.d = this.d.day('saturday').startOf('day')\n    return this\n  }\n  // end() {\n  //   this.d = this.d.day('sunday').endOf('day')\n  //   return this\n  // }\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n}\n\nmodule.exports = {\n  Week: Week,\n  WeekEnd: WeekEnd,\n}\n","const Unit = require('./Unit')\n\nclass Hour extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'hour'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('hour')\n    }\n  }\n}\nclass Minute extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'minute'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('minute')\n    }\n  }\n}\nclass Moment extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'millisecond'\n  }\n}\n\nmodule.exports = {\n  Hour: Hour,\n  Minute: Minute,\n  Moment: Moment,\n}\n","module.exports = Object.assign(\n  { Unit: require('./Unit') },\n  require('./_day'),\n  require('./_year'),\n  require('./_week'),\n  require('./_time')\n)\n","const { Day, Moment } = require('../units')\n\nconst knownWord = {\n  today: (context) => {\n    return new Day(context.today, null, context)\n  },\n  yesterday: (context) => {\n    return new Day(context.today.minus(1, 'day'), null, context)\n  },\n  tomorrow: (context) => {\n    return new Day(context.today.plus(1, 'day'), null, context)\n  },\n  eom: (context) => {\n    let d = context.today.endOf('month')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n  // eod: (context) => {\n  //   let d = context.today.endOf('day')\n  //   d = d.startOf('hour').minus(4, 'hours') //rough\n  //   return new Hour(d, null, context)\n  // },\n  eoy: (context) => {\n    let d = context.today.endOf('year')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n}\nknownWord.tommorrow = knownWord.tomorrow\nknownWord.tmrw = knownWord.tomorrow\n\nconst today = function (doc, context, section) {\n  let unit = null\n  // is it empty?\n  if (doc.found === false) {\n    // do we have just a time?\n    if (section.time !== null) {\n      unit = new Moment(context.today, null, context) // choose today\n    }\n    //do we just have a shift?\n    if (Object.keys(section.shift).length > 0) {\n      if (section.shift.hour || section.shift.minute) {\n        unit = new Moment(context.today, null, context) // choose now\n      } else {\n        unit = new Day(context.today, null, context) // choose today\n      }\n    }\n  }\n\n  // today, yesterday, tomorrow\n  let str = doc.text('reduced')\n  if (knownWord.hasOwnProperty(str) === true) {\n    return knownWord[str](context)\n  }\n  // day after next\n  if (str === 'next' && Object.keys(section.shift).length > 0) {\n    return knownWord.tomorrow(context)\n  }\n  return unit\n}\nmodule.exports = today\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('spacetime')) :\n  typeof define === 'function' && define.amd ? define(['spacetime'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.spacetimeHoliday = factory(global.spacetime));\n}(this, (function (spacetime) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var spacetime__default = /*#__PURE__*/_interopDefaultLegacy(spacetime);\n\n  //yep,\n  var jan = 'january';\n  var feb = 'february';\n  var mar = 'march';\n  var apr = 'april';\n  var may = 'may';\n  var jun = 'june';\n  var jul = 'july';\n  var aug = 'august';\n  var sep = 'september';\n  var oct = 'october';\n  var nov = 'november';\n  var dec = 'december';\n  var fixedHolidays = {\n    'new years eve': [dec, 31],\n    'new years': [jan, 1],\n    'new years day': [jan, 1],\n    'inauguration day': [jan, 20],\n    'australia day': [jan, 26],\n    'national freedom day': [feb, 1],\n    'groundhog day': [feb, 2],\n    'rosa parks day': [feb, 4],\n    'valentines day': [feb, 14],\n    'saint valentines day': [feb, 14],\n    'st valentines day ': [feb, 14],\n    'saint patricks day': [mar, 17],\n    'st patricks day': [mar, 17],\n    'april fools': [apr, 1],\n    'april fools day': [apr, 1],\n    'emancipation day': [apr, 16],\n    'tax day': [apr, 15],\n    //US\n    'labour day': [may, 1],\n    'cinco de mayo': [may, 5],\n    'national nurses day': [may, 6],\n    'harvey milk day': [may, 22],\n    'victoria day': [may, 24],\n    juneteenth: [jun, 19],\n    'canada day': [jul, 1],\n    'independence day': [jul, 4],\n    'independents day': [jul, 4],\n    'bastille day': [jul, 14],\n    'purple heart day': [aug, 7],\n    'womens equality day': [aug, 26],\n    '16 de septiembre': [sep, 16],\n    'dieciseis de septiembre': [sep, 16],\n    'grito de dolores': [sep, 16],\n    halloween: [oct, 31],\n    'all hallows eve': [oct, 31],\n    'day of the dead': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'dia de muertos': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'veterans day': [nov, 11],\n    'st andrews day': [nov, 30],\n    'saint andrews day': [nov, 30],\n    'all saints day': [nov, 1],\n    'all sts day': [nov, 1],\n    'armistice day': [nov, 11],\n    'rememberance day': [nov, 11],\n    'christmas eve': [dec, 24],\n    christmas: [dec, 25],\n    xmas: [dec, 25],\n    'boxing day': [dec, 26],\n    'st stephens day': [dec, 26],\n    'saint stephens day': [dec, 26],\n    // Fixed religious and cultural holidays\n    // Catholic + Christian\n    epiphany: [jan, 6],\n    'orthodox christmas day': [jan, 7],\n    'orthodox new year': [jan, 14],\n    'assumption of mary': [aug, 15],\n    'all souls day': [nov, 2],\n    'feast of the immaculate conception': [dec, 8],\n    'feast of our lady of guadalupe': [dec, 12],\n    // Kwanzaa\n    kwanzaa: [dec, 26],\n    // Ranged holiday [jan, 1],\n    // Pagan / metal 🤘\n    imbolc: [feb, 2],\n    beltaine: [may, 1],\n    lughnassadh: [aug, 1],\n    samhain: [oct, 31]\n  };\n\n  var fixedDates = function fixedDates(str, normal, year, tz) {\n    if (fixedHolidays.hasOwnProperty(str) || fixedHolidays.hasOwnProperty(normal)) {\n      var arr = fixedHolidays[str] || fixedHolidays[normal] || [];\n      var s = spacetime__default['default'].now(tz);\n      s = s.year(year);\n      s = s.startOf('year');\n      s = s.month(arr[0]);\n      s = s.date(arr[1]);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _01FixedDates = fixedDates;\n\n  //these are holidays on the 'nth weekday of month'\n  var jan$1 = 'january';\n  var feb$1 = 'february';\n  var mar$1 = 'march'; // const apr = 'april'\n\n  var may$1 = 'may';\n  var jun$1 = 'june'; // const jul = 'july'\n  // const aug = 'august'\n\n  var sep$1 = 'september';\n  var oct$1 = 'october';\n  var nov$1 = 'november'; // const dec = 'december'\n\n  var mon = 'monday'; // const tues = 'tuesday'\n  // const wed = 'wednesday'\n\n  var thurs = 'thursday';\n  var fri = 'friday'; // const sat = 'saturday'\n\n  var sun = 'sunday';\n  var holidays = {\n    'martin luther king day': [3, mon, jan$1],\n    //[third monday in january],\n    'presidents day': [3, mon, feb$1],\n    //[third monday in february],\n    'commonwealth day': [2, mon, mar$1],\n    //[second monday in march],\n    'mothers day': [2, sun, may$1],\n    //[second Sunday in May],\n    'fathers day': [3, sun, jun$1],\n    //[third Sunday in June],\n    'labor day': [1, mon, sep$1],\n    //[first monday in september],\n    'columbus day': [2, mon, oct$1],\n    //[second monday in october],\n    'canadian thanksgiving': [2, mon, oct$1],\n    //[second monday in october],\n    thanksgiving: [4, thurs, nov$1],\n    // [fourth Thursday in November],\n    'black friday': [4, fri, nov$1] //[fourth friday in november],\n    // 'memorial day': [may], //[last monday in may],\n    // 'us election': [nov], // [Tuesday following the first Monday in November],\n    // 'cyber monday': [nov]\n    // 'advent': [] // fourth Sunday before Christmas\n\n  }; // add aliases\n\n  holidays['turday day'] = holidays.thanksgiving;\n  holidays['indigenous peoples day'] = holidays['columbus day'];\n  holidays['mlk day'] = holidays['martin luther king day'];\n  var calendarHolidays = holidays;\n\n  var fixedDates$1 = function fixedDates(str, normal, year, tz) {\n    if (calendarHolidays.hasOwnProperty(str) || calendarHolidays.hasOwnProperty(normal)) {\n      var arr = calendarHolidays[str] || calendarHolidays[normal] || [];\n      var s = spacetime__default['default'].now(tz);\n      s = s.year(year); // [3rd, 'monday', 'january']\n\n      s = s.month(arr[2]);\n      s = s.startOf('month'); // make it january\n\n      var month = s.month(); // make it the 1st monday\n\n      s = s.day(arr[1]);\n\n      if (s.month() !== month) {\n        s = s.add(1, 'week');\n      } // make it nth monday\n\n\n      if (arr[0] > 1) {\n        s = s.add(arr[0] - 1, 'week');\n      }\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _02NthWeekday = fixedDates$1;\n\n  // https://www.timeanddate.com/calendar/determining-easter-date.html\n  var dates = {\n    easter: 0,\n    'ash wednesday': -46,\n    // (46 days before easter)\n    'palm sunday': 7,\n    // (1 week before easter)\n    'maundy thursday': -3,\n    // (3 days before easter)\n    'good friday': -2,\n    // (2 days before easter)\n    'holy saturday': -1,\n    // (1 days before easter)\n    'easter saturday': -1,\n    // (1 day before easter)\n    'easter monday': 1,\n    // (1 day after easter)\n    'ascension day': 39,\n    // (39 days after easter)\n    'whit sunday': 49,\n    // / pentecost (49 days after easter)\n    'whit monday': 50,\n    // (50 days after easter)\n    'trinity sunday': 65,\n    // (56 days after easter)\n    'corpus christi': 60,\n    // (60 days after easter)\n    'mardi gras': -47 //(47 days before easter)\n\n  };\n  dates['easter sunday'] = dates.easter;\n  dates['pentecost'] = dates['whit sunday'];\n  dates['whitsun'] = dates['whit sunday'];\n  var easterHolidays = dates;\n\n  // by John Dyer\n  // based on the algorithm by Oudin (1940) from http://www.tondering.dk/claus/cal/easter.php\n  var calcEaster = function calcEaster(year) {\n    var f = Math.floor,\n        // Golden Number - 1\n    G = year % 19,\n        C = f(year / 100),\n        // related to Epact\n    H = (C - f(C / 4) - f((8 * C + 13) / 25) + 19 * G + 15) % 30,\n        // number of days from 21 March to the Paschal full moon\n    I = H - f(H / 28) * (1 - f(29 / (H + 1)) * f((21 - G) / 11)),\n        // weekday for the Paschal full moon\n    J = (year + f(year / 4) + I + 2 - C + f(C / 4)) % 7,\n        // number of days from 21 March to the Sunday on or before the Paschal full moon\n    L = I - J,\n        month = 3 + f((L + 40) / 44),\n        date = L + 28 - 31 * f(month / 4);\n    month = month === 4 ? 'April' : 'March';\n    return month + ' ' + date;\n  };\n\n  var calcEaster_1 = calcEaster;\n\n  var easterDates = function easterDates(str, normal, year, tz) {\n    if (easterHolidays.hasOwnProperty(str) || easterHolidays.hasOwnProperty(normal)) {\n      var days = easterHolidays[str] || easterHolidays[normal] || [];\n      var date = calcEaster_1(year);\n\n      if (!date) {\n        return null; //no easter for this year\n      }\n\n      var e = spacetime__default['default'](date, tz);\n      e = e.year(year);\n      var s = e.add(days, 'day');\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _03EasterDates = easterDates;\n\n  // http://www.astropixels.com/ephemeris/soleq2001.html\n  // years 2000-2100\n  var exceptions = {\n    spring: [2003, 2007, 2044, 2048, 2052, 2056, 2060, 2064, 2068, 2072, 2076, 2077, 2080, 2081, 2084, 2085, 2088, 2089, 2092, 2093, 2096, 2097],\n    summer: [2021, 2016, 2020, 2024, 2028, 2032, 2036, 2040, 2041, 2044, 2045, 2048, 2049, 2052, 2053, 2056, 2057, 2060, 2061, 2064, 2065, 2068, 2069, 2070, 2072, 2073, 2074, 2076, 2077, 2078, 2080, 2081, 2082, 2084, 2085, 2086, 2088, 2089, 2090, 2092, 2093, 2094, 2096, 2097, 2098, 2099],\n    fall: [2002, 2003, 2004, 2006, 2007, 2010, 2011, 2014, 2015, 2018, 2019, 2022, 2023, 2026, 2027, 2031, 2035, 2039, 2043, 2047, 2051, 2055, 2059, 2092, 2096],\n    winter: [2002, 2003, 2006, 2007, 2011, 2015, 2019, 2023, 2027, 2031, 2035, 2039, 2043, 2080, 2084, 2088, 2092, 2096]\n  };\n  var winter20th = [2080, 2084, 2088, 2092, 2096];\n\n  var calcSeasons = function calcSeasons(year) {\n    // most common defaults\n    var res = {\n      spring: 'March 20 ' + year,\n      summer: 'June 21 ' + year,\n      fall: 'Sept 22 ' + year,\n      winter: 'Dec 21 ' + year\n    };\n\n    if (exceptions.spring.indexOf(year) !== -1) {\n      res.spring = 'March 19 ' + year;\n    }\n\n    if (exceptions.summer.indexOf(year) !== -1) {\n      res.summer = 'June 20 ' + year;\n    }\n\n    if (exceptions.fall.indexOf(year) !== -1) {\n      res.fall = 'Sept 21 ' + year;\n    } // winter can be 20th, 21st, or 22nd\n\n\n    if (exceptions.winter.indexOf(year) !== -1) {\n      res.winter = 'Dec 22 ' + year;\n    }\n\n    if (winter20th.indexOf(year) !== -1) {\n      res.winter = 'Dec 20 ' + year;\n    }\n\n    return res;\n  };\n\n  var seasons = calcSeasons;\n\n  // these are properly calculated in ./lib/seasons\n  var dates$1 = {\n    'spring equinox': 'spring',\n    'summer solistice': 'summer',\n    'fall equinox': 'fall',\n    'winter solstice': 'winter'\n  }; // aliases\n\n  dates$1['march equinox'] = dates$1['spring equinox'];\n  dates$1['vernal equinox'] = dates$1['spring equinox'];\n  dates$1['ostara'] = dates$1['spring equinox'];\n  dates$1['june solstice'] = dates$1['summer solistice'];\n  dates$1['litha'] = dates$1['summer solistice'];\n  dates$1['autumn equinox'] = dates$1['fall equinox'];\n  dates$1['autumnal equinox'] = dates$1['fall equinox'];\n  dates$1['september equinox'] = dates$1['fall equinox'];\n  dates$1['sept equinox'] = dates$1['fall equinox'];\n  dates$1['mabon'] = dates$1['fall equinox'];\n  dates$1['december solstice'] = dates$1['winter solistice'];\n  dates$1['dec solstice'] = dates$1['winter solistice'];\n  dates$1['yule'] = dates$1['winter solistice'];\n  var astroHolidays = dates$1;\n\n  var astroDates = function astroDates(str, normal, year, tz) {\n    if (astroHolidays.hasOwnProperty(str) || astroHolidays.hasOwnProperty(normal)) {\n      var season = astroHolidays[str] || astroHolidays[normal];\n      var seasons$1 = seasons(year);\n\n      if (!season || !seasons$1 || !seasons$1[season]) {\n        return null; // couldn't figure it out\n      }\n\n      var s = spacetime__default['default'](seasons$1[season], tz);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _04Astronomical = astroDates;\n\n  var dates$2 = {\n    // Muslim holidays\n    'isra and miraj': 'april 13',\n    'lailat al-qadr': 'june 10',\n    'eid al-fitr': 'june 15',\n    'id al-Fitr': 'june 15',\n    'eid ul-Fitr': 'june 15',\n    ramadan: 'may 16',\n    // Range holiday\n    'eid al-adha': 'sep 22',\n    muharram: 'sep 12',\n    'prophets birthday': 'nov 21'\n  };\n  var lunarHolidays = dates$2;\n\n  var dayDiff = -10.64;\n\n  var lunarDates = function lunarDates(str, normal, year, tz) {\n    if (lunarHolidays.hasOwnProperty(str) || lunarHolidays.hasOwnProperty(normal)) {\n      var date = lunarHolidays[str] || lunarHolidays[normal] || [];\n\n      if (!date) {\n        return null;\n      } // start at 2018\n\n\n      var s = spacetime__default['default'](date + ' 2018', tz);\n      var diff = year - 2018;\n      var toAdd = diff * dayDiff;\n      s = s.add(toAdd, 'day');\n      s = s.startOf('day'); // now set the correct year\n\n      s = s.year(year);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _05LunarDates = lunarDates;\n\n  var nowYear = spacetime__default['default'].now().year();\n\n  var spacetimeHoliday = function spacetimeHoliday(str, year, tz) {\n    year = year || nowYear;\n    str = str || '';\n    str = String(str);\n    str = str.trim().toLowerCase();\n    str = str.replace(/'s/, 's'); // 'mother's day'\n\n    var normal = str.replace(/ day$/, '');\n    normal = normal.replace(/^the /, '');\n    normal = normal.replace(/^orthodox /, ''); //orthodox good friday\n    // try easier, unmoving holidays\n\n    var s = _01FixedDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // try 'nth monday' holidays\n\n\n    s = _02NthWeekday(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // easter-based holidays\n\n\n    s = _03EasterDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // solar-based holidays\n\n\n    s = _04Astronomical(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // mostly muslim holidays\n\n\n    s = _05LunarDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    }\n\n    return null;\n  };\n\n  var src = spacetimeHoliday;\n\n  return src;\n\n})));\n//# sourceMappingURL=spacetime-holiday.js.map\n","const { Holiday } = require('../units')\nconst spacetimeHoliday = require('spacetime-holiday')\n\nconst parseHoliday = function (doc, context) {\n  let unit = null\n  let m = doc.match('[<holiday>#Holiday+] [<year>#Year?]')\n  let year = context.today.year()\n  if (m.groups('year').found) {\n    year = Number(m.groups('year').text('reduced')) || year\n  }\n  let str = m.groups('holiday').text('reduced')\n  let s = spacetimeHoliday(str, year, context.timezone)\n  if (s !== null) {\n    // assume the year in the future..\n    if (s.isBefore(context.today) && year === context.today.year()) {\n      s = spacetimeHoliday(str, year + 1, context.timezone)\n    }\n    unit = new Holiday(s, null, context)\n  }\n  return unit\n}\nmodule.exports = parseHoliday\n","const { Week, WeekEnd, AnyMonth, AnyQuarter, Year, Season, WeekDay, Day, Hour, Minute, Moment } = require('../units')\nconst mapping = {\n  day: Day,\n  hour: Hour,\n  evening: Hour,\n  second: Moment,\n  milliscond: Moment,\n  instant: Moment,\n  minute: Minute,\n  week: Week,\n  weekend: WeekEnd,\n  month: AnyMonth,\n  quarter: AnyQuarter,\n  year: Year,\n  season: Season,\n  // set aliases\n  yr: Year,\n  qtr: AnyQuarter,\n  wk: Week,\n  sec: Moment,\n  hr: Hour,\n}\n\nlet matchStr = `^(${Object.keys(mapping).join('|')})$`\n\n// when a unit of time is spoken of as 'this month' - instead of 'february'\nconst nextLast = function (doc, context) {\n  //this month, last quarter, next year\n  let m = doc.match(matchStr)\n  if (m.found === true) {\n    let str = m.text('reduced')\n    if (mapping.hasOwnProperty(str)) {\n      let Model = mapping[str]\n      if (!Model) {\n        return null\n      }\n      let unit = new Model(null, str, context)\n      return unit\n    }\n  }\n\n  //try this version - 'next friday, last thursday'\n  m = doc.match('^#WeekDay$')\n  if (m.found === true) {\n    let str = m.text('reduced')\n    let unit = new WeekDay(str, null, context)\n    return unit\n  }\n  return null\n}\nmodule.exports = nextLast\n","const { Quarter, Season, Year } = require('../units')\nconst spacetime = require('spacetime')\n\nconst fmtToday = function (context) {\n  return {\n    date: context.today.date(),\n    month: context.today.month(),\n    year: context.today.year(),\n  }\n}\n\nconst parseYearly = function (doc, context) {\n  // support 'summer 2002'\n  let m = doc.match('(spring|summer|winter|fall|autumn) [<year>#Year?]')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    let unit = new Season(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'q4 2020'\n  m = doc.match('[<q>#FinancialQuarter] [<year>#Year?]')\n  if (m.found) {\n    let str = m.groups('q').text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '4th quarter 2020'\n  m = doc.match('[<q>#Value] quarter (of|in)? [<year>#Year?]')\n  if (m.found) {\n    let q = m.groups('q').text('reduced')\n    let s = spacetime(`q${q}`, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '2020'\n  m = doc.match('^#Year$')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(null, context.timezone, { today: fmtToday(context) })\n    s = s.year(str)\n    let unit = new Year(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  return null\n}\nmodule.exports = parseYearly\n","const { Day, CalendarDate, Month, Moment } = require('../units')\n\n// parse things like 'june 5th 2019'\n// most of this is done in spacetime\nconst parseExplicit = function (doc, context) {\n  let impliedYear = context.today.year()\n  // 'fifth of june 1992'\n  // 'june the fifth 1992'\n  let m = doc.match('[<date>#Value] of? [<month>#Month] [<year>#Year]')\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value] [<year>#Year]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // 'march 1992'\n  m = doc.match('[<month>#Month] of? [<year>#Year]')\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new Month(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  //no-years\n  // 'fifth of june'\n  m = doc.match('[<date>#Value] of? [<month>#Month]')\n  // 'june the fifth'\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new CalendarDate(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support 'december'\n  if (doc.has('#Month')) {\n    let obj = {\n      month: doc.match('#Month').text(),\n      date: 1, //assume 1st\n      year: context.today.year(),\n    }\n    let unit = new Month(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new Month(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'thursday 21st'\n  m = doc.match('#WeekDay [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support date-only 'the 21st'\n  m = doc.match('the [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      // assume it's forward\n      if (unit.d.isBefore(context.today)) {\n        unit.d = unit.d.add(1, 'month')\n      }\n      return unit\n    }\n  }\n  // parse ISO as a Moment\n  m = doc.match('/[0-9]{4}-[0-9]{2}-[0-9]{2}t[0-9]{2}:/')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let unit = new Moment(str, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  let str = doc.text('reduced')\n  // punt it to spacetime, for the heavy-lifting\n  let unit = new Day(str, null, context)\n  // console.log(str, unit, context.today.year())\n  // did we find a date?\n  if (unit.d.isValid() === false) {\n    return null\n  }\n  return unit\n}\nmodule.exports = parseExplicit\n","const { Quarter, Season, Week, Day, Hour, Minute, Month, WeekEnd } = require('../units')\n\nconst units = {\n  day: Day,\n  week: Week,\n  weekend: WeekEnd,\n  month: Month,\n  quarter: Quarter,\n  season: Season,\n  hour: Hour,\n  minute: Minute,\n}\n\nconst applyCounter = function (unit, counter = {}) {\n  let Unit = units[counter.unit]\n  if (!Unit) {\n    return unit\n  }\n  let d = unit.d\n\n  // support 'first' or 0th\n  if (counter.dir === 'first' || counter.num === 0) {\n    d = unit.start().d\n    d = d.startOf(counter.unit)\n  } else if (counter.dir === 'last') {\n    d = d.endOf(unit.unit)\n    d = d.startOf(counter.unit)\n  } else if (counter.num) {\n    // support 'nth week', eg.\n    d = d.add(counter.num, counter.unit)\n  }\n  let u = new Unit(d, null, unit.context)\n  if (u.d.isValid() === true) {\n    return u\n  }\n  return unit //fallback\n}\nmodule.exports = applyCounter\n","// const { Hour, Moment } = require('./units')\nconst tokens = {\n  shift: require('./01-tokenize/01-shift'),\n  counter: require('./01-tokenize/02-counter'),\n  time: require('./01-tokenize/03-time'),\n  relative: require('./01-tokenize/04-relative'),\n  section: require('./01-tokenize/05-section'),\n  timezone: require('./01-tokenize/06-timezone'),\n}\n\nconst parse = {\n  today: require('./02-parse/01-today'),\n  holiday: require('./02-parse/02-holidays'),\n  nextLast: require('./02-parse/03-next-last'),\n  yearly: require('./02-parse/04-yearly'),\n  explicit: require('./02-parse/05-explicit'),\n}\n\nconst transform = {\n  counter: require('./03-transform/addCounter'),\n}\n\nconst parseDate = function (doc, context) {\n  // quick normalization\n  doc.match('[^the] !#Value', 0).remove() // keep 'the 17th'\n  //parse-out any sections\n  let shift = tokens.shift(doc)\n  let counter = tokens.counter(doc)\n  let tz = tokens.timezone(doc)\n  let time = tokens.time(doc, context)\n  let section = tokens.section(doc, context)\n  let rel = tokens.relative(doc)\n  //set our new timezone\n  if (tz) {\n    context = Object.assign({}, context, { timezone: tz })\n    let iso = context.today.format('iso-short')\n    context.today = context.today.goto(context.timezone).set(iso)\n  }\n  let unit = null\n  //'in two days'\n  unit = unit || parse.today(doc, context, { shift, time, rel })\n  // 'this haloween'\n  unit = unit || parse.holiday(doc, context)\n  // 'this month'\n  unit = unit || parse.nextLast(doc, context)\n  // 'q2 2002'\n  unit = unit || parse.yearly(doc, context)\n  // 'this june 2nd'\n  unit = unit || parse.explicit(doc, context)\n  // doc.debug()\n  if (!unit) {\n    return null\n  }\n\n  // 2 days after..\n  if (shift) {\n    unit.applyShift(shift)\n    // if (shift.hour || shift.minute || shift.second) {\n    //   console.log(shift)\n    //   unit = new Hour(unit.d, null, unit.context)\n    // }\n  }\n  // this/next/last\n  if (rel) {\n    unit.applyRel(rel)\n  }\n  // end of\n  if (section) {\n    unit.applySection(section)\n  }\n  // at 5:40pm\n  if (time) {\n    unit.applyTime(time)\n  }\n  // apply counter\n  if (counter && counter.unit) {\n    unit = transform.counter(unit, counter)\n  }\n  // debugging\n  // console.log('\\n\\n=-=-=-=-=-=-=-=-=-=-=-=Date-=-=-=-=-=-=-=-=-=-=-=-=-\\n')\n  // console.log(`  shift:      ${JSON.stringify(shift)}`)\n  // console.log(`  counter:   `, counter)\n  // console.log(`  rel:        ${rel || '-'}`)\n  // console.log(`  section:    ${section || '-'}`)\n  // console.log(`  time:       ${time || '-'}`)\n  // console.log(`  str:       '${doc.text()}'`)\n  // console.log('  unit:     ', unit, '\\n')\n  // doc.debug()\n  // console.log('=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\\n\\n')\n  return unit\n}\nmodule.exports = parseDate\n","const dayNames = {\n  mon: 'monday',\n  tue: 'tuesday',\n  tues: 'wednesday',\n  wed: 'wednesday',\n  thu: 'thursday',\n  fri: 'friday',\n  sat: 'saturday',\n  sun: 'sunday',\n}\n// 'any tuesday' vs 'every tuesday'\nconst parseLogic = function (m) {\n  if (m.match('(every|each)').found) {\n    return 'AND'\n  }\n  if (m.match('(any|a)').found) {\n    return 'OR'\n  }\n  return null\n}\n\n// parse repeating dates, like 'every week'\nconst parseIntervals = function (doc, context) {\n  // 'every week'\n  let m = doc.match('[<logic>(every|any|each)] [<skip>other?] [<unit>#Duration] (starting|beginning|commencing)?')\n  if (m.found) {\n    let repeat = { interval: {} }\n    let unit = m.groups('unit').text('reduced')\n    repeat.interval[unit] = 1\n    repeat.choose = parseLogic(m)\n    // 'every other week'\n    if (m.groups('skip').found) {\n      repeat.interval[unit] = 2\n    }\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n\n  // 'every two weeks'\n  m = doc.match('[<logic>(every|any|each)] [<num>#Value] [<unit>#Duration] (starting|beginning|commencing)?')\n  if (m.found) {\n    let repeat = { interval: {} }\n    let units = m.groups('unit')\n    units.nouns().toSingular()\n    let unit = units.text('reduced')\n    repeat.interval[unit] = m.groups('num').numbers().get(0)\n    repeat.choose = parseLogic(m)\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n\n  // 'every friday'\n  m = doc.match('[<logic>(every|any|each|a)] [<skip>other?] [<day>#WeekDay+] (starting|beginning|commencing)?')\n  if (m.found) {\n    let repeat = { interval: { day: 1 }, filter: { weekDays: {} } }\n    let str = m.groups('day').text('reduced')\n    if (dayNames.hasOwnProperty(str)) {\n      str = dayNames[str]\n    }\n    repeat.filter.weekDays[str] = true\n    repeat.choose = parseLogic(m)\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n\n  // 'every weekday'\n  m = doc.match(\n    '[<logic>(every|any|each|a)] [<day>(weekday|week day|weekend|weekend day)] (starting|beginning|commencing)?'\n  )\n  if (m.found) {\n    let repeat = { interval: { day: 1 }, filter: { weekDays: {} } }\n    let day = m.groups('day')\n    if (day.has('(weekday|week day)')) {\n      repeat.filter.weekDays = {\n        monday: true,\n        tuesday: true,\n        wednesday: true,\n        thursday: true,\n        friday: true,\n      }\n    } else if (day.has('(weekend|weekend day)')) {\n      repeat.filter.weekDays = {\n        saturday: true,\n        sunday: true,\n      }\n    }\n    repeat.choose = parseLogic(m)\n    doc = doc.remove(m)\n    return { repeat: repeat }\n  }\n  return null\n}\nmodule.exports = parseIntervals\n","const parseDate = require('../parseDate/parse')\nconst Unit = require('../parseDate/units/Unit')\n\nconst punt = function (unit, context) {\n  unit = unit.applyShift(context.punt)\n  return unit\n}\n\nmodule.exports = [\n  {\n    // two explicit dates - 'between friday and sunday'\n    match: 'between [<start>*] and [<end>*]',\n    parse: (m, context) => {\n      let start = m.groups('start')\n      start = parseDate(start, context)\n      let end = m.groups('end')\n      end = parseDate(end, context)\n      if (start && end) {\n        return {\n          start: start,\n          end: end.before(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // two months, no year - 'june 5 to june 7'\n    match: '[<from>#Month #Value] (to|through|thru) [<to>#Month #Value] [<year>#Year?]',\n    parse: (m, context) => {\n      let res = m.groups()\n      let start = res.from\n      if (res.year) {\n        start = start.append(res.year)\n      }\n      start = parseDate(start, context)\n      if (start) {\n        let end = res.to\n        if (res.year) {\n          end = end.append(res.year)\n        }\n        end = parseDate(end, context)\n        // reverse the order?\n        if (start.d.isAfter(end.d)) {\n          let tmp = start\n          start = end\n          end = tmp\n        }\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, first form - 'january 5 to 7 1998'\n    match: '[<month>#Month] [<from>#Value] (to|through|thru) [<to>#Value] of? [<year>#Year]',\n    parse: (m, context) => {\n      let { month, from, to, year } = m.groups()\n      let year2 = year.clone()\n      let start = from.prepend(month.text()).append(year.text())\n      start = parseDate(start, context)\n      if (start) {\n        let end = to.prepend(month.text()).append(year2)\n        end = parseDate(end, context)\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, second form - '5 to 7 of january 1998'\n    match: '[<from>#Value] (to|through|thru) [<to>#Value of? #Month of? #Year]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('to')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - '5 to 7 of january'\n    match: '[<from>#Value] (to|through|thru) [<to>#Value of? #Month]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('from')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - 'january 5 to 7'\n    match: '[<from>#Month #Value] (to|through|thru) [<to>#Value]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      from = parseDate(from, context)\n      if (from) {\n        let toDate = m.groups('to')\n        let to = from.clone()\n        to.d = to.d.date(toDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'from A to B'\n    match: 'from? [<from>*] (to|until|upto|through|thru) [<to>*]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      let to = m.groups('to')\n      from = parseDate(from, context)\n      to = parseDate(to, context)\n      if (from && to) {\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  // {\n  //   // 'A through B' (inclusive end)\n  //   match: 'from? [<a>*] (through|thru) [<b>*]',\n  //   parse: (m, context) => {\n  //     let from = m.groups('a')\n  //     let to = m.groups('b')\n  //     from = parseDate(from, context)\n  //     to = parseDate(to, context)\n  //     if (from && to) {\n  //       return {\n  //         start: from,\n  //         end: to.end(),\n  //       }\n  //     }\n  //     return null\n  //   },\n  // },\n\n  // {\n  //   // 'A until B' (not inclusive end)\n  //   match: 'from? [<a>*] (to|until|upto) [<b>*]',\n  //   parse: (m, context) => {\n  //     let from = m.groups('a')\n  //     let to = m.groups('b')\n  //     from = parseDate(from, context)\n  //     to = parseDate(to, context)\n  //     if (from && to) {\n  //       return {\n  //         start: from,\n  //         end: to.end(),\n  //       }\n  //     }\n  //     return null\n  //   },\n  // },\n\n  {\n    // 'before june'\n    match: '^due? (by|before) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        let start = new Unit(context.today, null, context)\n        if (start.d.isAfter(unit.d)) {\n          start = unit.clone().applyShift({ weeks: -2 })\n        }\n        // end the night before\n        let end = unit.clone().applyShift({ day: -1 })\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'in june'\n    match: '^(on|in|at|@) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return { start: unit, end: unit.clone().end() }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'after june'\n    match: '^(after|following) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        unit = unit.after()\n        return {\n          start: unit.clone(),\n          end: punt(unit.clone(), context),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // 'in june'\n    match: '^(on|during|in|during) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return {\n          start: unit,\n          end: unit.clone().end(),\n        }\n      }\n      return null\n    },\n  },\n]\n","const parseDate = require('../parseDate/parse')\nconst parseInterval = require('./intervals')\nconst ranges = require('./ranges')\n\n// loop thru each range template\nconst parseRange = function (doc, context) {\n  // parse-out 'every week ..'\n  let interval = parseInterval(doc, context) || {}\n  // try each template in order\n  for (let i = 0; i < ranges.length; i += 1) {\n    let fmt = ranges[i]\n    let m = doc.match(fmt.match)\n    if (m.found) {\n      if (fmt.group !== undefined) {\n        m = m.groups(fmt.group)\n      }\n      let res = fmt.parse(m, context)\n      if (res !== null) {\n        // console.log(fmt.match)\n        return Object.assign({}, interval, res)\n      }\n    }\n  }\n  //else, try whole thing\n  let res = {\n    start: null,\n    end: null,\n  }\n  let unit = parseDate(doc, context)\n  if (unit) {\n    res = {\n      start: unit,\n      end: unit.clone().end(),\n    }\n  }\n  let combined = Object.assign({}, interval, res)\n  return combined\n}\nmodule.exports = parseRange\n","const normalize = function (doc) {\n  doc = doc.clone()\n\n  // 'four thirty' -> 4:30\n  let m = doc.match('[<hour>#Cardinal] [<min>(thirty|fifteen)]').match('#Time+')\n  if (m.found) {\n    let hour = m.groups('hour')\n    let min = m.groups('min')\n    let num = hour.values().get(0)\n    if (num > 0 && num <= 12) {\n      let mins = min.values().get(0)\n      let str = `${num}:${mins}`\n      m.replaceWith(str)\n    }\n  }\n\n  if (!doc.numbers) {\n    console.warn(\"Compromise: compromise-dates cannot find plugin dependency 'compromise-number'\")\n  } else {\n    // convert 'two' to 2\n    let num = doc.numbers()\n    num.toNumber()\n    num.toCardinal(false)\n  }\n  // // expand 'aug 20-21'\n  doc.contractions().expand()\n  // // remove adverbs\n  doc.adverbs().remove()\n  // // 'week-end'\n  doc.replace('week end', 'weekend').tag('Date')\n  // // 'a up to b'\n  doc.replace('up to', 'upto').tag('Date')\n  // 'in a few years'\n  m = doc.match('in [a few] #Duration')\n  if (m.found) {\n    m.groups('0').replaceWith('2')\n    m.tag('DateShift')\n  }\n\n  return doc\n}\nmodule.exports = normalize\n","const spacetime = require('spacetime')\nconst maxDate = 8640000000000000\n\nconst shouldPick = function (s, byDay, end) {\n  if (byDay && byDay[s.dayName()] !== true) {\n    return false\n  }\n  return true\n}\n\n// list possible dates of a repeating date\nconst generateDates = function (result, context) {\n  let list = []\n  let max_count = context.max_repeat || 12\n  let s = spacetime(result.start || context.today, context.timezone)\n  // should we stop at the end date?\n  let end = spacetime(result.end, context.timezone)\n  let toAdd = Object.keys(result.repeat.interval)\n  if (toAdd[0] && s.isSame(end, toAdd[0]) === true) {\n    // ignore the end date!\n    end = spacetime(maxDate, context.timezone)\n  }\n  // should we only include these days?\n  let byDay = null\n  if (result.repeat.filter) {\n    byDay = result.repeat.filter.weekDays\n  }\n  // start going!\n  while (list.length < max_count && s.epoch < end.epoch) {\n    if (shouldPick(s, byDay, end)) {\n      list.push(s.iso())\n    }\n    toAdd.forEach((unit) => {\n      s = s.add(result.repeat.interval[unit], unit)\n    })\n  }\n  result.repeat.generated = list\n  return result\n}\nmodule.exports = generateDates\n","const spacetime = require('spacetime')\nconst parseRanges = require('./02-ranges')\nconst normalize = require('./normalize')\nconst doInterval = require('./generate')\n\nconst addDuration = function (start, end) {\n  let duration = {}\n  if (start && end) {\n    duration = start.d.diff(end.d)\n    // we don't need these\n    delete duration.milliseconds\n    delete duration.seconds\n  }\n  return duration\n}\n\nconst toISO = function (unit) {\n  if (unit && unit.d) {\n    return unit.d.format('iso')\n  }\n  return null\n}\n\nconst getDate = function (doc, context) {\n  // validate context a bit\n  context = context || {}\n  context.timezone = context.timezone || 'ETC/UTC'\n  context.today = spacetime(context.today || null, context.timezone)\n  //turn 'five' into 5..\n  doc = normalize(doc)\n  //interpret 'between [A] and [B]'...\n  let result = parseRanges(doc, context)\n  // add duration\n  result.duration = addDuration(result.start, result.end)\n  // format as iso\n  result.start = toISO(result.start)\n  result.end = toISO(result.end)\n  // generate interval dates\n  if (result.repeat) {\n    result = doInterval(result, context)\n  }\n\n  return result\n}\nmodule.exports = getDate\n","let arr = [\n  ['mon', 'monday'],\n  ['tue', 'tuesday'],\n  ['tues', 'tuesday'],\n  ['wed', 'wednesday'],\n  ['thu', 'thursday'],\n  ['thurs', 'thursday'],\n  ['fri', 'friday'],\n  ['sat', 'saturday'],\n  ['sun', 'sunday'],\n\n  ['jan', 'january'],\n  ['feb', 'february'],\n  ['mar', 'march'],\n  ['apr', 'april'],\n  ['jun', 'june'],\n  ['jul', 'july'],\n  ['aug', 'august'],\n  ['sep', 'september'],\n  ['sept', 'september'],\n  ['oct', 'october'],\n  ['nov', 'november'],\n  ['dec', 'december'],\n]\n\narr = arr.map(a => {\n  return { short: a[0], long: a[1] }\n})\n\nmodule.exports = arr\n","const parse = require('./find')\nconst spacetime = require('spacetime')\nconst abbrevs = require('./data/_abbrevs')\n\nmodule.exports = {\n  /** easy getter for the start/end dates */\n  get: function (options) {\n    let arr = []\n    this.forEach((doc) => {\n      let found = parse(doc, this.context)\n      arr.push(found)\n    })\n    if (typeof options === 'number') {\n      return arr[options]\n    }\n    return arr\n  },\n  /** overload the original json with date information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    let format = options.format || 'iso'\n    this.forEach((doc) => {\n      let json = doc.json(options)[0]\n      let found = parse(doc, this.context)\n      json.date = found\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n\n  /** render all dates according to a specific format */\n  format: function (fmt) {\n    this.forEach((doc) => {\n      let obj = parse(doc, this.context)\n      if (obj.start) {\n        let start = spacetime(obj.start, this.context.timezone)\n        let str = start.format(fmt)\n        if (obj.end) {\n          let end = spacetime(obj.end, this.context.timezone)\n          if (start.isSame(end, 'day') === false) {\n            str += ' to ' + end.format(fmt)\n          }\n        }\n        doc.replaceWith(str, { keepTags: true, keepCase: false })\n      }\n    })\n    return this\n  },\n  /** replace 'Fri' with 'Friday', etc*/\n  toLongForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.short, a.long, true)\n    })\n    return this\n  },\n  /** replace 'Friday' with 'Fri', etc*/\n  toShortForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.long, a.short, true)\n    })\n    return this\n  },\n}\n","const known = {\n  century: true,\n  day: true,\n  decade: true,\n  hour: true,\n  millisecond: true,\n  minute: true,\n  month: true,\n  second: true,\n  weekend: true,\n  week: true,\n  year: true,\n  quarter: true,\n  season: true,\n}\n\nlet mapping = {\n  hr: 'hour',\n  min: 'minute',\n  sec: 'second',\n  'week end': 'weekend',\n  wk: 'week',\n  yr: 'year',\n  qtr: 'quarter',\n}\n// add plurals\nObject.keys(mapping).forEach((k) => {\n  mapping[k + 's'] = mapping[k]\n})\n\nconst parse = function (doc) {\n  let duration = {}\n  //parse '8 minutes'\n  doc.match('#Value+ #Duration').forEach((m) => {\n    let num = m.numbers().get(0)\n    let unit = m.match('#Duration').nouns().toSingular().text()\n    // turn 'mins' into 'minute'\n    if (mapping.hasOwnProperty(unit)) {\n      unit = mapping[unit]\n    }\n    if (known.hasOwnProperty(unit) && num) {\n      duration[unit] = num\n    }\n  })\n  return duration\n}\nmodule.exports = parse\n","const parse = require('./parse')\n\nconst methods = {\n  /** easy getter for the time */\n  get: function (options) {\n    let arr = []\n    this.forEach((doc) => {\n      let res = parse(doc)\n      arr.push(res)\n    })\n    if (typeof options === 'number') {\n      return arr[options]\n    }\n    return arr\n  },\n  /** overload the original json with duration information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    this.forEach((doc) => {\n      let json = doc.json(options)\n      json.duration = parse(doc)\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n  /** change to a standard duration format */\n  normalize: function () {\n    this.forEach((doc) => {\n      let duration = parse(doc)\n      let list = []\n      Object.keys(duration).forEach((unit) => {\n        let num = duration[unit]\n        let word = unit\n        if (num !== 1) {\n          word += 's'\n        }\n        list.push(`${num} ${word}`)\n      })\n      // splice-in an 'and'\n      if (list.length > 1) {\n        let beforeEnd = list.length - 1\n        list.splice(beforeEnd, 0, 'and')\n      }\n      let text = list.join(' ')\n      doc.replaceWith(text)\n    })\n    return this\n  },\n}\n\nconst addDurations = function (Doc) {\n  /** phrases like '2 months', or '2mins' */\n  class Durations extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = {}\n    }\n  }\n  //add-in methods\n  Object.assign(Durations.prototype, methods)\n\n  /** phrases like '2 months' */\n  Doc.prototype.durations = function (n) {\n    let m = this.match('#Value+ #Duration and? #Value+? #Duration?')\n    if (typeof n === 'number') {\n      m = m.get(n)\n    }\n    return new Durations(m.list, this, this.world)\n  }\n}\nmodule.exports = addDurations\n","const normalize = require('../normalize')\nconst parseTime = require('../parseDate/01-tokenize/03-time')\n\nconst parse = function (m, context) {\n  m = normalize(m)\n  let res = parseTime(m, context)\n  return res\n}\nmodule.exports = parse\n","const parse = require('./parse')\n\nconst methods = {\n  /** easy getter for the time */\n  get: function (options) {\n    let arr = []\n    this.forEach((doc) => {\n      let res = parse(doc, this.context)\n      arr.push(res)\n    })\n    if (typeof options === 'number') {\n      return arr[options]\n    }\n    return arr\n  },\n  /** overload the original json with duration information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    this.forEach((doc) => {\n      let json = doc.json(options)\n      json.time = parse(doc, this.context)\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n\n  /** change to a standard duration format */\n  normalize: function () {\n    this.forEach((doc) => {\n      // let duration = parse(doc)\n      // doc.replaceWith(text)\n    })\n    return this\n  },\n}\n\nconst addTimes = function (Doc) {\n  /** phrases like '2 months', or '2mins' */\n  class Times extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = {}\n    }\n  }\n  //add-in methods\n  Object.assign(Times.prototype, methods)\n\n  /** phrases like '4pm' */\n  Doc.prototype.times = function (n) {\n    let m = this.match('#Time+ (am|pm)?')\n    // m.debug()\n    if (typeof n === 'number') {\n      m = m.get(n)\n    }\n    return new Times(m.list, this, this.world)\n  }\n}\nmodule.exports = addTimes\n","const tagger = require('./01-tagger')\nconst tags = require('./data/_tags')\nconst words = require('./data/words')\nconst methods = require('./methods')\nconst addDurations = require('./durations')\nconst addTimes = require('./times')\nconst spacetime = require('spacetime')\n\nconst opts = {\n  punt: { weeks: 2 },\n}\n\nconst addMethods = function (Doc, world) {\n  // our new tags\n  world.addTags(tags)\n  // add info for the date plugin\n  world.addWords(words)\n  // run our tagger\n  world.postProcess(tagger)\n\n  // add .durations() class + methods\n  addDurations(Doc, world)\n  // add .times() class + methods\n  addTimes(Doc, world)\n\n  /** phraes like 'nov 2nd' or 'on tuesday' */\n  class Dates extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = opts\n    }\n  }\n  //add-in methods\n  Object.assign(Dates.prototype, methods)\n\n  Doc.prototype.dates = function (n) {\n    let context = {}\n    if (n && typeof n === 'object') {\n      context = n\n      n = null\n    }\n    context = Object.assign({}, context, opts)\n    // let r = this.clauses()\n    let dates = this.match('#Date+')\n    if (typeof n === 'number') {\n      dates = dates.get(n)\n    }\n    let d = new Dates(dates.list, this, this.world)\n    if (context.today) {\n      context.today = spacetime(context.today, context.timezone)\n    }\n    d.context = context\n    return d\n  }\n}\n\nmodule.exports = addMethods\n"],"names":["preps","thisNext","sections","seasons","tagYear","m","reason","found","forEach","p","str","text","num","parseInt","tag","tagYearSafe","tagDates","doc","match","month","val","ifNo","duration","unTag","season","date","not","cardinal","v","groups","time","here","values","has","replaceWith","dateTagger","sectionTagger","timeTagger","notIf","shiftTagger","tagIntervals","fixUp","oops","d","knownDate","lastTerm","terms","methods","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","normalize","numbers","tagDate","fn","FinancialQuarter","isA","notA","Season","Year","Duration","Holiday","Timezone","DateShift","global","factory","module","this","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","len","arr2","TypeError","MSEC_IN_HOUR","toUtc","dstChange","offset","year","_dstChange$split","split","_dstChange$split2","rest","_rest$split","_rest$split2","day","hour","Date","UTC","inSummerTime","epoch","start","end","summerOffset","winterOffset","getUTCFullYear","startUtc","endUtc","summerTime","quickOffset","s","zones","timezones","obj","tz","console","warn","dst","jul","dec","hem","inSummer","quick","_build","_build$1","freeze","__proto__","_prefixes","createCommonjsModule","exports","getCjsExportFromNamespace","data","all","keys","k","Number","names","replace","before","unpack","fallbackTZ","safeIntl","Intl","DateTimeFormat","format","resolvedOptions","timezone","timeZone","toLowerCase","guessTz","guessTz_1","isOffset","isNumber","utcOffset","gmtOffset","toIana","parseOffset","parseOffset_1","local","cities","reduce","h","city","lookupTz","error","trim","hasOwnProperty","id","Error","find","millisecond","second","minute","week","milliseconds","walk","unit","previous","current","startUnit","original","diff","Math","abs","halfStep","units","valid","walkTo","getMonth","getFullYear","seconds","wants","old","clone","silent","walk_1","shortMonths","longMonths","buildMapping","sep","months","short","long","mapping","set","i18n","parseOffset$1","parseFloat","parseOffset_1$1","parseTime","arguments","startOf","concat","substring","ampm","_h","parseTime_1","monthLengths","monthLengths_1","fns","isLeapYear","isDate","isNaN","valueOf","input","isObject","isBoolean","zeroPad","pad","join","titleCase","toUpperCase","substr","ordinal","j","toCardinal","String","getEpoch","tmp","getTime","beADate","formatTimezone","delimiter","sign","absOffset","hours","minutes","hasDate","max","hasDate_1","months$1","parseYear","today","strFmt","reg","parse","givenTz","options","british","_today","quarter","getDate","strParse","getNow","now","dates","tonight","tomorrow","add","yesterday","subtract","christmas","newYears","namedDates","minimumEpoch","defaults","handleArray","order","handleObject","assign","parseInput","res","isValid","_res","shortDays","longDays","days","aliases","tues","thur","thurs","titleCaseEnabled","caseFormat","useTitleCase","isoOffset","_offset","applyCaseFormat","dayName","dayShort","dayNumber","dayOrdinal","dayPad","dateOrdinal","datePad","monthName","monthShort","monthNumber","monthOrdinal","monthPad","isoMonth","yearShort","isoYear","isNegative","time24","hour24","hour12","hourPad","hour24Pad","minutePad","secondPad","era","json","numeric","numericUs","numericUk","mmDd","iso","h24","ms","isoShort","isoUtc","toISOString","nice","nice24","niceYear","niceDay","niceFull","niceFull24","mdy","dmy","ymd","printFormat","out","indexOf","_","fmt","_out","format_1","G","GG","GGG","GGGG","y","yy","yyy","yyyy","yyyyy","Q","QQ","QQQ","QQQQ","M","MM","MMM","MMMM","w","ww","dd","D","dayOfYear","DD","DDD","E","EE","EEE","EEEE","EEEEE","e","ee","eee","eeee","eeeee","a","aa","aaa","aaaa","h12","hh","H","HH","mm","ss","A","z","zz","zzz","zzzz","Z","ZZ","ZZZ","ZZZZ","addAlias","_char","to","toName","escapeChars","filter","ch","combineRepeated","c","map","unixFmt","txt","unixFmt_1","units$1","doUnit","endOf","percent","toFixed","progress","progress_1","nearest","prog","nearest_1","climb","b","isBefore","isAfter","diffOne","one","fastYear","years","msDiff","weeks","waterfall","reverseDiff","main","reversed","diff$1","qualifiers","almost","over","getDiff","later","earlier","isSame","u","pluralize","since","isNow","every","rounded","qualified","precise","englishValues","englishValue","nextUnit","nextValue","splice","since_1","north","south","quarters","units$2","quarterhour","_weekStart","q","hemisphere","decade","century","startOf_1","isDay","result","every_1","parseDst","epochShift","hasDst","Boolean","default_offset","change","back","summer","winter","isDST","timezone_1","units$3","input$1","hasDST","leapYear","last","goto","isAwake","isAsleep","log","logYear","_this","debug","fromNow","weekStart","inDST","round","each","methods_1","isLeapYear$1","validate","confirm","want","shift","sec","methods$1","getMilliseconds","getSeconds","getMinutes","getHours","hourFloat","_minute","_hour","which","dayTime","times","morning","breakfast","noon","lunch","afternoon","evening","dinner","night","midnight","_01Time","methods$2","getDay","_02Date","clearMinutes","methods$3","sum","setDate","setFullYear","setHours","setMinutes","setMonth","toAdd","minus","thisOne","skipWeeks","_month","floor","millenium","_03Year","methods$4","addMethods","Space","query","isLeapYear$2","getMonthLength","rollMonth","_years","rollDaysDown","rollDaysUp","_model","daysBack","order$1","keep","dstAwareUnits","keepDate","addMethods$1","SpaceTime","_sum","remainder","wantYear","haveYear","plus","print","addMethods$2","tzAware","same","addMethods$3","isEqual","isBetween","isInclusive","startEpoch","endEpoch","compare","addMethods$4","defineProperty","get","bias","getTimezoneOffset","toLocalDate","spacetime","whereIts","startHour","endHour","tzs","whereIts_1","_version","main$1","setToday","extend","version","plugin","src","america","asia","europe","africa","aus","pac","informal","bst","ireland","cet","cest","eet","eest","trt","etc","utc","gmt","sast","acst","acdt","aest","aedt","awst","awdt","acwst","lhst","lhdt","msk","russian","cst","cdt","mst","mdt","ast","adt","est","edt","pst","pdt","ahst","ahdt","hst","nst","ndt","brt","brasília","brasilia","amt","east","easst","vet","pyt","pyst","cot","clst","cldt","uyt","ist","irst","irdt","iranian","pkt","ict","ct","almt","yakt","gst","uae","hkt","wib","wita","idt","israeli","krat","myt","sgt","kst","uzt","vlat","mvt","mut","mht","sst","chst","pgt","iana","formal","lex","knownUnits","weekend","wk","min","parseUnit","parseShift","ts","remove","dir","oneBased","getCounter","hardCoded","daybreak","midday","lunchtime","dinnertime","eod","halfPast","term","mins","behind","context","timeStr","desc","g","dayStart","parseRelative","rel","parseSection","parseTimezone","Unit","enumerable","writable","section","middle","dayEnd","Day","CalendarDate","WeekDay","weekDay","AnyMonth","Month","AnyQuarter","Quarter","Week","WeekEnd","Hour","Minute","Moment","knownWord","eom","eoy","tommorrow","tmrw","define","feb","apr","oct","parseHoliday","spacetimeHoliday","milliscond","instant","yr","qtr","hr","matchStr","nextLast","Model","fmtToday","parseYearly","parseExplicit","impliedYear","applyCounter","counter","tokens","relative","holiday","require$$8","yearly","require$$9","explicit","require$$10","transform","require$$11","parseDate","applyShift","applyRel","applySection","applyTime","dayNames","mon","tue","wed","thu","fri","sat","sun","parseLogic","parseIntervals","repeat","interval","choose","nouns","toSingular","weekDays","monday","tuesday","wednesday","thursday","friday","saturday","sunday","punt","append","year2","prepend","fromDate","toDate","group","after","parseRange","parseInterval","ranges","combined","toNumber","contractions","expand","adverbs","maxDate","shouldPick","byDay","generateDates","list","max_count","max_repeat","generated","addDuration","toISO","parseRanges","doInterval","keepTags","keepCase","toLongForm","abbrevs","toShortForm","known","word","beforeEnd","addDurations","Doc","Durations","durations","world","addTimes","Times","opts","addTags","tags","addWords","words","postProcess","tagger","Dates"],"mappings":"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"}
var t,e;t=this,e=function(t){const e=4,r=1,o=function(t,e){let r={};return t.forEach(t=>{for(let o=0;o<t.length;o+=1){let n=t.slice(o,o+e);if(n.length===e){let t=n.join(" ");r.hasOwnProperty(t)?r[t].count+=1:r[t]={size:e,count:1}}}}),Object.keys(r).map(t=>(r[t].normal=t,r[t]))},n=function(t,n){n.size&&(n.min=n.size,n.max=n.size);let i=n.max||e,u=[];for(let e=n.min||r;e<=i;e+=1)u=u.concat(o(t,e));return u},i=4,u=1,a=function(t,e){let r={};return t.forEach(t=>{for(let o=0;o<=t.length;o+=1){let n=t.slice(0,o);if(n.length===e){let t=n.join(" ");r.hasOwnProperty(t)?r[t].count+=1:r[t]={size:e,count:1}}}}),Object.keys(r).map(t=>(r[t].normal=t,r[t]))},s=function(t,e){e.size&&(e.min=e.size,e.max=e.size);let r=e.max||i,o=[];for(let n=e.min||u;n<=r;n++)o=o.concat(a(t,n));return o},l=4,m=1,c=function(t,e){let r={};return t.forEach(t=>{let o=t.length;for(let n=0;n<=t.length;n+=1){let i=t.slice(o-n,o);if(i.length===e){let t=i.join(" ");r.hasOwnProperty(t)?r[t].count+=1:r[t]={size:e,count:1}}}}),Object.keys(r).map(t=>(r[t].normal=t,r[t]))},p=function(t,e){e.size&&(e.min=e.size,e.max=e.size);let r=e.max||l,o=[];for(let n=e.min||m;n<=r;n++)o=o.concat(c(t,n));return o},f=function(t){return t.json({text:!1}).map(t=>t.terms.map(t=>t.normal))},h=function(t){return t=t.sort((t,e)=>t.count>e.count?-1:t.count<e.count?1:t.size>e.size?-1:t.size<e.size?1:0)},y=/[0-9,;!:|¦]/,d=function(t,e={}){let r={},o=0,n=e.use||"normal";if(t.docs.forEach(t=>{t.forEach(t=>{let e=t[n];e&&(r[e]=r[e]||0,r[e]+=1,o+=1)})}),0===o)return{};let i=Object.keys(r).map(t=>{let e=r[t]/o;return e=Math.round(1e3*e)/1e3,[t,e]});return i=i.sort((t,e)=>t[1]>e[1]?-1:t[1]<e[1]?1:0),i=i.filter(t=>t[1]>0&&!1===y.test(t[0])),i.reduce((t,e)=>(t[e[0]]=e[1],t),{})},g=function(e){let r={};return Object.keys(e).forEach(o=>{e[o]=t.unpack(e[o]);let n=Number(o);Object.keys(e[o]).forEach(t=>{r[t]=n})}),r}({.052:"true¦the",.027:"true¦to",.026:"true¦and",.023:"true¦a,of",.018:"true¦in",.015:"true¦i",.011:"true¦you",.01:"true¦for,that",.009:"true¦i0;s,t",.008:"true¦this,was",.007:"true¦on,with",.006:"true¦he",.005:"true¦a1b0have,my,not,we;e,ut;s,t",.004:"true¦a0by,his,me,so,they,your;ll,re",.003:"true¦an,can,do,from,h4if,just,o2she,up,w0;h0ill;at,en;ne,r,u0;r,t;ad,er",.002:"true¦about,been,don't,first,gChBi9know,like,mo8n6people,s4t2w0;e7h0ould;ich,o;he0i2oron7;ir,m,n,re;aid,o0;me;ew,o0;!w;re;'m,n0t's;to;as,im;et,o",.001:"true¦&,a0Vb0Qc0Jd0Ge0Cf0Ag07h04i03k02lWmTnQoOpMrLsItAu7ve0Mw2y0;ea0ou'0S;h,rE;a3e2h1ithout,or0;k,ld;e0OiUy;ll,nt;nt,y;!nd0Ss0;!e0;!d;ake,e8h1o0wo;ld,o,p;a4e0Hin2o1r0;ee,ough;se,uC;g0k;!s;n,t's;a1ee,hould,omethi09ti0uW;ll;me,y;eally,i5;la0rin0ut;ce;ff,h,ld,n0th0Bv0Bwn;ce,ly;ame,e1i0;ght;ed,v07xt;a1o7u0;ch,st;de,ke,nIy;a4e3i1o0;ng,ok,ve;fe,tt0;le;ft,t;st;eep,iP;'5ts;e1o0;me,uOw;lp,re;i1o0reat;iJod,t;ve;iLo0;od,uK;a2ve0;n,r0;!y;ch;ay,id1o0;es,wn;!n5;a3ity,o0;me,u0;ld,nt0rt;ry;ll1me,n0;'t;!ed;ack,e0oth;cau2fo1i0st,tt8;ng;re;se;ft4gain,l3m2n1rou0sk,way;nd;oth2y;!erican;so,ways;er"});return{api:function(t){!function(t){t.prototype.ngrams=function(t){let e=f(this),r=n(e,t||{});return r=h(r),r},t.prototype.nGrams=t.prototype.ngrams,t.prototype.ngram=t.prototype.ngrams,t.prototype.unigrams=function(t){let e=n(f(this),{max:1,min:1});return e=h(e),"number"==typeof t&&(e=e[t]),e},t.prototype.uniGrams=t.prototype.unigrams,t.prototype.bigrams=function(t){let e=n(f(this),{max:2,min:2});return e=h(e),"number"==typeof t&&(e=e[t]),e},t.prototype.biGrams=t.prototype.bigrams,t.prototype.trigrams=function(t){let e=n(f(this),{max:3,min:3});return e=h(e),"number"==typeof t&&(e=e[t]),e},t.prototype.triGrams=t.prototype.trigrams,t.prototype.startgrams=function(t){let e=f(this),r=s(e,t||{});return r=h(r),r},t.prototype.startGrams=t.prototype.startgrams,t.prototype.endgrams=function(t){let e=f(this),r=p(e,t||{});return r=h(r),r},t.prototype.endGrams=t.prototype.endgrams,t.prototype.edgegrams=function(t){let e=f(this),r=s(e,t||{}),o=p(e,t||{}),n=r.concat(o).reduce((t,e)=>(t[e.normal]?t[e.normal].count+=e.count:t[e.normal]=e,t),{}),i=Object.keys(n).map(t=>n[t]);return i=h(i),i},t.prototype.edgeGrams=t.prototype.edgegrams}(t),function(t){t.prototype.tfidf=function(t){t||(t=g);let e=Object.entries(d(this));return o=t,(r=e).forEach(t=>{let e=o[t[0]]||0;t[2]=t[1]-e}),r.sort((t,e)=>t[2]>e[2]?-1:t[2]<e[2]?1:0);var r,o},t.prototype.freq=function(){return d(this)}}(t)}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("efrt")):"function"==typeof define&&define.amd?define(["efrt"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).compromiseStats=e(t.efrt);

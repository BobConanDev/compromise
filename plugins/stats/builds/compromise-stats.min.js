var t,e;t=this,e=function(){const t=4,e=1,n=function(t,e){let n={};return t.forEach(t=>{for(let o=0;o<t.length;o+=1){let r=t.slice(o,o+e);if(r.length===e){let t=r.join(" ");n.hasOwnProperty(t)?n[t].count+=1:n[t]={size:e,count:1}}}}),Object.keys(n).map(t=>(n[t].normal=t,n[t]))},o=function(o,r){r.size&&(r.min=r.size,r.max=r.size);let i=r.max||t,s=[];for(let t=r.min||e;t<=i;t+=1)s=s.concat(n(o,t));return s},r=4,i=1,s=function(t,e){let n={};return t.forEach(t=>{for(let o=0;o<=t.length;o+=1){let r=t.slice(0,o);if(r.length===e){let t=r.join(" ");n.hasOwnProperty(t)?n[t].count+=1:n[t]={size:e,count:1}}}}),Object.keys(n).map(t=>(n[t].normal=t,n[t]))},p=function(t,e){e.size&&(e.min=e.size,e.max=e.size);let n=e.max||r,o=[];for(let r=e.min||i;r<=n;r++)o=o.concat(s(t,r));return o},a=4,m=1,u=function(t,e){let n={};return t.forEach(t=>{let o=t.length;for(let r=0;r<=t.length;r+=1){let i=t.slice(o-r,o);if(i.length===e){let t=i.join(" ");n.hasOwnProperty(t)?n[t].count+=1:n[t]={size:e,count:1}}}}),Object.keys(n).map(t=>(n[t].normal=t,n[t]))},c=function(t,e){e.size&&(e.min=e.size,e.max=e.size);let n=e.max||a,o=[];for(let r=e.min||m;r<=n;r++)o=o.concat(u(t,r));return o},l=function(t){return t.json({text:!1}).map(t=>t.terms.map(t=>t.normal))},f=function(t){return t=t.sort((t,e)=>t.count>e.count?-1:t.count<e.count?1:t.size>e.size?-1:t.size<e.size?1:0)};return{api:function(t){!function(t){t.prototype.ngrams=function(t){let e=l(this),n=o(e,t||{});return n=f(n),n},t.prototype.nGrams=t.prototype.ngrams,t.prototype.ngram=t.prototype.ngrams,t.prototype.unigrams=function(t){let e=o(l(this),{max:1,min:1});return e=f(e),"number"==typeof t&&(e=e[t]),e},t.prototype.uniGrams=t.prototype.unigrams,t.prototype.bigrams=function(t){let e=o(l(this),{max:2,min:2});return e=f(e),"number"==typeof t&&(e=e[t]),e},t.prototype.biGrams=t.prototype.bigrams,t.prototype.trigrams=function(t){let e=o(l(this),{max:3,min:3});return e=f(e),"number"==typeof t&&(e=e[t]),e},t.prototype.triGrams=t.prototype.trigrams,t.prototype.startgrams=function(t){let e=l(this),n=p(e,t||{});return n=f(n),n},t.prototype.startGrams=t.prototype.startgrams,t.prototype.endgrams=function(t){let e=l(this),n=c(e,t||{});return n=f(n),n},t.prototype.endGrams=t.prototype.endgrams,t.prototype.edgegrams=function(t){let e=l(this),n=p(e,t||{}),o=c(e,t||{}),r=n.concat(o).reduce((t,e)=>(t[e.normal]?t[e.normal].count+=e.count:t[e.normal]=e,t),{}),i=Object.keys(r).map(t=>r[t]);return i=f(i),i},t.prototype.edgeGrams=t.prototype.edgegrams}(t),function(t){t.prototype.tfidf=function(t){return[]}}(t)}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).compromiseStats=e();

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).compromiseTypeahead=t()}(this,(function(){"use strict";var e=function(e,t){var o=e.world,r=e.last().terms().last(),n=r.json({terms:{normal:!0}})[0].terms[0];if(!n.post&&o.prefixes.hasOwnProperty(n.normal)){var a=o.prefixes[n.normal];r.termList()[0].implicit=a,t.hasOwnProperty(a)&&r.tag(t[a],"typeahead")}},t=function(e,t,o){var r={},n=[];return e.forEach((function(e){var a=(e=e.toLowerCase().trim()).length;t.max&&a>t.max&&(a=t.max);for(var s=t.min;s<a;s+=1){var i=e.substr(0,s);t.safe&&o.words.hasOwnProperty(i)||(!0===r.hasOwnProperty(i)&&n.push(i),r[i]=e)}})),n.forEach((function(e){delete r[e]})),r},o=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},r={safe:!0,min:3};return function(n,a,s){s.typeahead=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};s=Object.assign({},r,s),o(n)&&(i=n,n=Object.keys(i)),a.prefixes=t(n,s,a),a.postProcess((function(t){e(t,i)}))},s.typeAhead=n.prototype.typeahead}}));
